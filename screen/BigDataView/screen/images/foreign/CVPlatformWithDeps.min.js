function RGBColor(e) {
    this.ok = !1, "#" == e.charAt(0) && (e = e.substr(1, 6)), e = e.replace(/ /g, ""), e = e.toLowerCase();
    var t = {
        aliceblue: "f0f8ff",
        antiquewhite: "faebd7",
        aqua: "00ffff",
        aquamarine: "7fffd4",
        azure: "f0ffff",
        beige: "f5f5dc",
        bisque: "ffe4c4",
        black: "000000",
        blanchedalmond: "ffebcd",
        blue: "0000ff",
        blueviolet: "8a2be2",
        brown: "a52a2a",
        burlywood: "deb887",
        cadetblue: "5f9ea0",
        chartreuse: "7fff00",
        chocolate: "d2691e",
        coral: "ff7f50",
        cornflowerblue: "6495ed",
        cornsilk: "fff8dc",
        crimson: "dc143c",
        cyan: "00ffff",
        darkblue: "00008b",
        darkcyan: "008b8b",
        darkgoldenrod: "b8860b",
        darkgray: "a9a9a9",
        darkgreen: "006400",
        darkkhaki: "bdb76b",
        darkmagenta: "8b008b",
        darkolivegreen: "556b2f",
        darkorange: "ff8c00",
        darkorchid: "9932cc",
        darkred: "8b0000",
        darksalmon: "e9967a",
        darkseagreen: "8fbc8f",
        darkslateblue: "483d8b",
        darkslategray: "2f4f4f",
        darkturquoise: "00ced1",
        darkviolet: "9400d3",
        deeppink: "ff1493",
        deepskyblue: "00bfff",
        dimgray: "696969",
        dodgerblue: "1e90ff",
        feldspar: "d19275",
        firebrick: "b22222",
        floralwhite: "fffaf0",
        forestgreen: "228b22",
        fuchsia: "ff00ff",
        gainsboro: "dcdcdc",
        ghostwhite: "f8f8ff",
        gold: "ffd700",
        goldenrod: "daa520",
        gray: "808080",
        green: "008000",
        greenyellow: "adff2f",
        honeydew: "f0fff0",
        hotpink: "ff69b4",
        indianred: "cd5c5c",
        indigo: "4b0082",
        ivory: "fffff0",
        khaki: "f0e68c",
        lavender: "e6e6fa",
        lavenderblush: "fff0f5",
        lawngreen: "7cfc00",
        lemonchiffon: "fffacd",
        lightblue: "add8e6",
        lightcoral: "f08080",
        lightcyan: "e0ffff",
        lightgoldenrodyellow: "fafad2",
        lightgrey: "d3d3d3",
        lightgreen: "90ee90",
        lightpink: "ffb6c1",
        lightsalmon: "ffa07a",
        lightseagreen: "20b2aa",
        lightskyblue: "87cefa",
        lightslateblue: "8470ff",
        lightslategray: "778899",
        lightsteelblue: "b0c4de",
        lightyellow: "ffffe0",
        lime: "00ff00",
        limegreen: "32cd32",
        linen: "faf0e6",
        magenta: "ff00ff",
        maroon: "800000",
        mediumaquamarine: "66cdaa",
        mediumblue: "0000cd",
        mediumorchid: "ba55d3",
        mediumpurple: "9370d8",
        mediumseagreen: "3cb371",
        mediumslateblue: "7b68ee",
        mediumspringgreen: "00fa9a",
        mediumturquoise: "48d1cc",
        mediumvioletred: "c71585",
        midnightblue: "191970",
        mintcream: "f5fffa",
        mistyrose: "ffe4e1",
        moccasin: "ffe4b5",
        navajowhite: "ffdead",
        navy: "000080",
        oldlace: "fdf5e6",
        olive: "808000",
        olivedrab: "6b8e23",
        orange: "ffa500",
        orangered: "ff4500",
        orchid: "da70d6",
        palegoldenrod: "eee8aa",
        palegreen: "98fb98",
        paleturquoise: "afeeee",
        palevioletred: "d87093",
        papayawhip: "ffefd5",
        peachpuff: "ffdab9",
        peru: "cd853f",
        pink: "ffc0cb",
        plum: "dda0dd",
        powderblue: "b0e0e6",
        purple: "800080",
        red: "ff0000",
        rosybrown: "bc8f8f",
        royalblue: "4169e1",
        saddlebrown: "8b4513",
        salmon: "fa8072",
        sandybrown: "f4a460",
        seagreen: "2e8b57",
        seashell: "fff5ee",
        sienna: "a0522d",
        silver: "c0c0c0",
        skyblue: "87ceeb",
        slateblue: "6a5acd",
        slategray: "708090",
        snow: "fffafa",
        springgreen: "00ff7f",
        steelblue: "4682b4",
        tan: "d2b48c",
        teal: "008080",
        thistle: "d8bfd8",
        tomato: "ff6347",
        turquoise: "40e0d0",
        violet: "ee82ee",
        violetred: "d02090",
        wheat: "f5deb3",
        white: "ffffff",
        whitesmoke: "f5f5f5",
        yellow: "ffff00",
        yellowgreen: "9acd32"
    };
    for (var n in t)e == n && (e = t[n]);
    for (var r = [{
        re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
        example: ["rgb(123, 234, 45)", "rgb(255,234,245)"],
        process: function (e) {
            return [parseInt(e[1]), parseInt(e[2]), parseInt(e[3])]
        }
    }, {
        re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (e) {
            return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
        }
    }, {
        re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (e) {
            return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
        }
    }], i = 0; i < r.length; i++) {
        var a = r[i].re, o = r[i].process, s = a.exec(e);
        s && (channels = o(s), this.r = channels[0], this.g = channels[1], this.b = channels[2], this.ok = !0)
    }
    this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () {
        return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")"
    }, this.toHex = function () {
        var e = this.r.toString(16), t = this.g.toString(16), n = this.b.toString(16);
        return 1 == e.length && (e = "0" + e), 1 == t.length && (t = "0" + t), 1 == n.length && (n = "0" + n), "#" + e + t + n
    }, this.getHelpXML = function () {
        for (var e = new Array, n = 0; n < r.length; n++)for (var i = r[n].example, a = 0; a < i.length; a++)e[e.length] = i[a];
        for (var o in t)e[e.length] = o;
        var s = document.createElement("ul");
        s.setAttribute("id", "rgbcolor-examples");
        for (var n = 0; n < e.length; n++)try {
            var l = document.createElement("li"), u = new RGBColor(e[n]), h = document.createElement("div");
            h.style.cssText = "margin: 3px; border: 1px solid black; background:" + u.toHex() + "; color:" + u.toHex(), h.appendChild(document.createTextNode("test"));
            var c = document.createTextNode(" " + e[n] + " -> " + u.toRGB() + " -> " + u.toHex());
            l.appendChild(h), l.appendChild(c), s.appendChild(l)
        } catch (A) {
        }
        return s
    }
}
function stackBlurImage(e, t, n, r) {
    var i = document.getElementById(e), a = i.naturalWidth, o = i.naturalHeight, s = document.getElementById(t);
    s.style.width = a + "px", s.style.height = o + "px", s.width = a, s.height = o;
    var l = s.getContext("2d");
    l.clearRect(0, 0, a, o), l.drawImage(i, 0, 0), isNaN(n) || 1 > n || (r ? stackBlurCanvasRGBA(t, 0, 0, a, o, n) : stackBlurCanvasRGB(t, 0, 0, a, o, n))
}
function stackBlurCanvasRGBA(e, t, n, r, i, a) {
    if (!(isNaN(a) || 1 > a)) {
        a |= 0;
        var o, s = document.getElementById(e), l = s.getContext("2d");
        try {
            try {
                o = l.getImageData(t, n, r, i)
            } catch (u) {
                try {
                    netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), o = l.getImageData(t, n, r, i)
                } catch (u) {
                    throw alert("Cannot access local image"), new Error("unable to access local image data: " + u)
                }
            }
        } catch (u) {
            throw alert("Cannot access image"), new Error("unable to access image data: " + u)
        }
        var h, c, A, f, d, p, m, g, v, y, E, b, x, w, T, C, R, _, B, M, H, S, D, F, k = o.data, O = a + a + 1, P = r - 1, L = i - 1, z = a + 1, I = z * (z + 1) / 2, G = new BlurStack, N = G;
        for (A = 1; O > A; A++)if (N = N.next = new BlurStack, A == z)var V = N;
        N.next = G;
        var U = null, j = null;
        m = p = 0;
        var Q = mul_table[a], W = shg_table[a];
        for (c = 0; i > c; c++) {
            for (C = R = _ = B = g = v = y = E = 0, b = z * (M = k[p]), x = z * (H = k[p + 1]), w = z * (S = k[p + 2]), T = z * (D = k[p + 3]), g += I * M, v += I * H, y += I * S, E += I * D, N = G, A = 0; z > A; A++)N.r = M, N.g = H, N.b = S, N.a = D, N = N.next;
            for (A = 1; z > A; A++)f = p + ((A > P ? P : A) << 2), g += (N.r = M = k[f]) * (F = z - A), v += (N.g = H = k[f + 1]) * F, y += (N.b = S = k[f + 2]) * F, E += (N.a = D = k[f + 3]) * F, C += M, R += H, _ += S, B += D, N = N.next;
            for (U = G, j = V, h = 0; r > h; h++)k[p + 3] = D = E * Q >> W, 0 != D ? (D = 255 / D, k[p] = (g * Q >> W) * D, k[p + 1] = (v * Q >> W) * D, k[p + 2] = (y * Q >> W) * D) : k[p] = k[p + 1] = k[p + 2] = 0, g -= b, v -= x, y -= w, E -= T, b -= U.r, x -= U.g, w -= U.b, T -= U.a, f = m + ((f = h + a + 1) < P ? f : P) << 2, C += U.r = k[f], R += U.g = k[f + 1], _ += U.b = k[f + 2], B += U.a = k[f + 3], g += C, v += R, y += _, E += B, U = U.next, b += M = j.r, x += H = j.g, w += S = j.b, T += D = j.a, C -= M, R -= H, _ -= S, B -= D, j = j.next, p += 4;
            m += r
        }
        for (h = 0; r > h; h++) {
            for (R = _ = B = C = v = y = E = g = 0, p = h << 2, b = z * (M = k[p]), x = z * (H = k[p + 1]), w = z * (S = k[p + 2]), T = z * (D = k[p + 3]), g += I * M, v += I * H, y += I * S, E += I * D, N = G, A = 0; z > A; A++)N.r = M, N.g = H, N.b = S, N.a = D, N = N.next;
            for (d = r, A = 1; a >= A; A++)p = d + h << 2, g += (N.r = M = k[p]) * (F = z - A), v += (N.g = H = k[p + 1]) * F, y += (N.b = S = k[p + 2]) * F, E += (N.a = D = k[p + 3]) * F, C += M, R += H, _ += S, B += D, N = N.next, L > A && (d += r);
            for (p = h, U = G, j = V, c = 0; i > c; c++)f = p << 2, k[f + 3] = D = E * Q >> W, D > 0 ? (D = 255 / D, k[f] = (g * Q >> W) * D, k[f + 1] = (v * Q >> W) * D, k[f + 2] = (y * Q >> W) * D) : k[f] = k[f + 1] = k[f + 2] = 0, g -= b, v -= x, y -= w, E -= T, b -= U.r, x -= U.g, w -= U.b, T -= U.a, f = h + ((f = c + z) < L ? f : L) * r << 2, g += C += U.r = k[f], v += R += U.g = k[f + 1], y += _ += U.b = k[f + 2], E += B += U.a = k[f + 3], U = U.next, b += M = j.r, x += H = j.g, w += S = j.b, T += D = j.a, C -= M, R -= H, _ -= S, B -= D, j = j.next, p += r
        }
        l.putImageData(o, t, n)
    }
}
function stackBlurCanvasRGB(e, t, n, r, i, a) {
    if (!(isNaN(a) || 1 > a)) {
        a |= 0;
        var o, s = document.getElementById(e), l = s.getContext("2d");
        try {
            try {
                o = l.getImageData(t, n, r, i)
            } catch (u) {
                try {
                    netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), o = l.getImageData(t, n, r, i)
                } catch (u) {
                    throw alert("Cannot access local image"), new Error("unable to access local image data: " + u)
                }
            }
        } catch (u) {
            throw alert("Cannot access image"), new Error("unable to access image data: " + u)
        }
        var h, c, A, f, d, p, m, g, v, y, E, b, x, w, T, C, R, _, B, M, H = o.data, S = a + a + 1, D = r - 1, F = i - 1, k = a + 1, O = k * (k + 1) / 2, P = new BlurStack, L = P;
        for (A = 1; S > A; A++)if (L = L.next = new BlurStack, A == k)var z = L;
        L.next = P;
        var I = null, G = null;
        m = p = 0;
        var N = mul_table[a], V = shg_table[a];
        for (c = 0; i > c; c++) {
            for (w = T = C = g = v = y = 0, E = k * (R = H[p]), b = k * (_ = H[p + 1]), x = k * (B = H[p + 2]), g += O * R, v += O * _, y += O * B, L = P, A = 0; k > A; A++)L.r = R, L.g = _, L.b = B, L = L.next;
            for (A = 1; k > A; A++)f = p + ((A > D ? D : A) << 2), g += (L.r = R = H[f]) * (M = k - A), v += (L.g = _ = H[f + 1]) * M, y += (L.b = B = H[f + 2]) * M, w += R, T += _, C += B, L = L.next;
            for (I = P, G = z, h = 0; r > h; h++)H[p] = g * N >> V, H[p + 1] = v * N >> V, H[p + 2] = y * N >> V, g -= E, v -= b, y -= x, E -= I.r, b -= I.g, x -= I.b, f = m + ((f = h + a + 1) < D ? f : D) << 2, w += I.r = H[f], T += I.g = H[f + 1], C += I.b = H[f + 2], g += w, v += T, y += C, I = I.next, E += R = G.r, b += _ = G.g, x += B = G.b, w -= R, T -= _, C -= B, G = G.next, p += 4;
            m += r
        }
        for (h = 0; r > h; h++) {
            for (T = C = w = v = y = g = 0, p = h << 2, E = k * (R = H[p]), b = k * (_ = H[p + 1]), x = k * (B = H[p + 2]), g += O * R, v += O * _, y += O * B, L = P, A = 0; k > A; A++)L.r = R, L.g = _, L.b = B, L = L.next;
            for (d = r, A = 1; a >= A; A++)p = d + h << 2, g += (L.r = R = H[p]) * (M = k - A), v += (L.g = _ = H[p + 1]) * M, y += (L.b = B = H[p + 2]) * M, w += R, T += _, C += B, L = L.next, F > A && (d += r);
            for (p = h, I = P, G = z, c = 0; i > c; c++)f = p << 2, H[f] = g * N >> V, H[f + 1] = v * N >> V, H[f + 2] = y * N >> V, g -= E, v -= b, y -= x, E -= I.r, b -= I.g, x -= I.b, f = h + ((f = c + k) < F ? f : F) * r << 2, g += w += I.r = H[f], v += T += I.g = H[f + 1], y += C += I.b = H[f + 2], I = I.next, E += R = G.r, b += _ = G.g, x += B = G.b, w -= R, T -= _, C -= B, G = G.next, p += r
        }
        l.putImageData(o, t, n)
    }
}
function BlurStack() {
    this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
}
!function (e, t) {
    "function" == typeof define && define.amd ? define(t) : "object" == typeof module && "object" == typeof module.exports ? module.exports = t() : e.Cldr = t()
}(this, function () {
    var e = function (e, t) {
        var n, r;
        if (e.forEach)return e.forEach(t);
        for (n = 0, r = e.length; r > n; n++)t(e[n], n, e)
    }, t = function (e) {
        var t, n = [];
        if (Object.keys)return Object.keys(e);
        for (t in e)n.push(t);
        return n
    }, n = function (n, r) {
        var i, a;
        return a = n + (r && JSON ? ": " + JSON.stringify(r) : ""), i = new Error(a), i.code = n, e(t(r), function (e) {
            i[e] = r[e]
        }), i
    }, r = function (e, t, r) {
        if (!t)throw n(e, r)
    }, i = function (e, t) {
        r("E_MISSING_PARAMETER", "undefined" != typeof e, {name: t})
    }, a = function (e, t, n, i) {
        r("E_INVALID_PAR_TYPE", n, {expected: i, name: t, value: e})
    }, o = Array.isArray || function (e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }, s = function (e, t) {
        a(e, t, "string" == typeof e || o(e), "String or Array")
    }, l = function (e) {
        return null !== e && "" + e == "[object Object]"
    }, u = function (e, t) {
        a(e, t, "undefined" == typeof e || l(e), "Plain Object")
    }, h = function (e, t) {
        a(e, t, "string" == typeof e, "a string")
    }, c = function (e, t) {
        if (o(e) && (e = e.join("/")), "string" != typeof e)throw new Error('invalid path "' + e + '"');
        return e = e.replace(/^\//, "").replace(/^cldr\//, ""), e = e.replace(/{[a-zA-Z]+}/g, function (e) {
            return e = e.replace(/^{([^}]*)}$/, "$1"), t[e]
        }), e.split("/")
    }, A = function (e, t) {
        var n, r;
        if (e.some)return e.some(t);
        for (n = 0, r = e.length; r > n; n++)if (t(e[n], n, e))return !0;
        return !1
    }, f = function (e, t, n, r) {
        var i, a, o = n[0], s = n[1], l = e.localeSep, u = n[2];
        return r = r || {}, "und" !== o && "Zzzz" !== s && "ZZ" !== u ? [o, s, u] : "undefined" != typeof t.get("supplemental/likelySubtags") ? (a = A([[o, s, u], [o, u], [o, s], [o], ["und", s]], function (e) {
            return i = !/\b(Zzzz|ZZ)\b/.test(e.join(l)) && t.get(["supplemental/likelySubtags", e.join(l)])
        }), a ? (i = i.split(l), ["und" !== o ? o : i[0], "Zzzz" !== s ? s : i[1], "ZZ" !== u ? u : i[2]]) : r.force ? t.get("supplemental/likelySubtags/und").split(l) : void 0) : void 0
    }, d = function (e, t, n) {
        var r, i, a = n[0], o = n[1], s = n[2];
        return i = A([[[a, "Zzzz", "ZZ"], [a]], [[a, "Zzzz", s], [a, s]], [[a, o, "ZZ"], [a, o]]], function (i) {
            var a = f(e, t, i[0]);
            return r = i[1], a && a[0] === n[0] && a[1] === n[1] && a[2] === n[2]
        }), i ? r : n
    }, p = function (e, t) {
        var n, r = e, i = t.length;
        for (n = 0; i - 1 > n; n++)if (r = r[t[n]], !r)return void 0;
        return r[t[n]]
    }, m = function (e, t, n) {
        var r = c(t, n);
        return p(e._resolved, r)
    }, g = function (e) {
        return o(e) ? e : [e]
    }, v = function () {
        var t = function () {
            var n = {}, r = [].slice.call(arguments, 0);
            return e(r, function (e) {
                var r;
                for (r in e)n[r] = r in n && o(n[r]) ? n[r].concat(e[r]) : r in n && "object" == typeof n[r] ? t(n[r], e[r]) : e[r]
            }), n
        };
        return t
    }(), y = function (e) {
        this.init(e)
    };
    return y._alwaysArray = g, y._createError = n, y._itemGetResolved = m, y._jsonMerge = v, y._pathNormalize = c, y._resourceGet = p, y._validatePresence = i, y._validateType = a, y._validateTypePath = s, y._validateTypePlainObject = u, y._resolved = {}, y.localeSep = "-", y.load = function (e) {
        var t, n;
        for (i(e, "json"), t = 0; t < arguments.length; t++)for (e = g(arguments[t]), n = 0; n < e.length; n++)u(e[n], "json"), y._resolved = v(y._resolved, e[n])
    }, y.prototype.init = function (e) {
        var t, n, r, a, o, s, l, u, c, A, p = y.localeSep;
        switch (i(e, "locale"), h(e, "locale"), e = e.replace(/_/, "-"), n = e.split("-u-"), e = n[0], c = n[1], e = e.split("-t-")[0], u = e, !0) {
            case/^[a-z]{2,3}-[A-Z][a-z]{3}-[A-Z0-9]{2,3}(\b|-)/.test(u):
                r = u.split("-")[0], s = u.split("-")[1], l = u.split("-")[2], A = u.split("-")[3];
                break;
            case/^[a-z]{2,3}-[A-Z][a-z]{3}(\b|-)/.test(u):
                r = u.split("-")[0], s = u.split("-")[1], l = "ZZ", A = u.split("-")[2];
                break;
            case/^[a-z]{2,3}-[A-Z0-9]{2,3}(\b|-)/.test(u):
                r = u.split("-")[0], s = "Zzzz", l = u.split("-")[1], A = u.split("-")[2];
                break;
            case/^([a-z]{2,3}|root)(\b|-)/.test(u):
                r = u.split("-")[0], s = "Zzzz", l = "ZZ", A = u.split("-")[1];
                break;
            default:
                r = "und", s = "Zzzz", l = "ZZ"
        }
        o = f(y, this, [r, s, l], {force: !0}) || u.split("-"), r = o[0], s = o[1], l = o[2], a = d(y, this, o).join(p), this.attributes = t = {
            languageId: a,
            maxLanguageId: o.join(p),
            language: r,
            script: s,
            territory: l,
            region: l,
            variant: A
        }, c && ("-" + c).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g, function (e, n, r) {
            n ? t["u" + n] = r : t["u" + e] = !0
        }), this.locale = A ? [a, A].join(p) : a
    }, y.prototype.get = function (e) {
        return i(e, "path"), s(e, "path"), m(y, e, this.attributes)
    }, y.prototype.main = function (e) {
        return i(e, "path"), s(e, "path"), e = g(e), this.get(["main/{languageId}"].concat(e))
    }, y
}), function (e) {
    "function" == typeof define && define.amd ? define(["../cldr"], e) : "object" == typeof module && "object" == typeof module.exports ? module.exports = e(require("cldrjs")) : e(Cldr)
}(function (e) {
    function t(e, t) {
        h(e, t, "string" == typeof e || e instanceof RegExp, "String or RegExp")
    }

    function n(e, n) {
        return function (r, i) {
            return u(r, "event"), t(r, "event"), u(i, "listener"), f(i, "listener"), n[e].apply(n, arguments)
        }
    }

    function r(e) {
        return n("off", e)
    }

    function i(e) {
        return n("on", e)
    }

    function a(e) {
        return n("once", e)
    }

    function o() {
        c = e.prototype.get, e.prototype.get = function (e) {
            var t = c.apply(this, arguments);
            return e = l(e, this.attributes).join("/"), d.trigger("get", [e, t]), this.ee.trigger("get", [e, t]), t
        }
    }

    var s, l = e._pathNormalize, u = e._validatePresence, h = e._validateType;
    s = function () {
        function e() {
        }

        function t(e, t) {
            for (var n = e.length; n--;)if (e[n].listener === t)return n;
            return -1
        }

        function n(e) {
            return function () {
                return this[e].apply(this, arguments)
            }
        }

        var r = e.prototype, i = this, a = i.EventEmitter;
        return r.getListeners = function (e) {
            var t, n, r = this._getEvents();
            if (e instanceof RegExp) {
                t = {};
                for (n in r)r.hasOwnProperty(n) && e.test(n) && (t[n] = r[n])
            } else t = r[e] || (r[e] = []);
            return t
        }, r.flattenListeners = function (e) {
            var t, n = [];
            for (t = 0; t < e.length; t += 1)n.push(e[t].listener);
            return n
        }, r.getListenersAsObject = function (e) {
            var t, n = this.getListeners(e);
            return n instanceof Array && (t = {}, t[e] = n), t || n
        }, r.addListener = function (e, n) {
            var r, i = this.getListenersAsObject(e), a = "object" == typeof n;
            for (r in i)i.hasOwnProperty(r) && -1 === t(i[r], n) && i[r].push(a ? n : {listener: n, once: !1});
            return this
        }, r.on = n("addListener"), r.addOnceListener = function (e, t) {
            return this.addListener(e, {listener: t, once: !0})
        }, r.once = n("addOnceListener"), r.defineEvent = function (e) {
            return this.getListeners(e), this
        }, r.defineEvents = function (e) {
            for (var t = 0; t < e.length; t += 1)this.defineEvent(e[t]);
            return this
        }, r.removeListener = function (e, n) {
            var r, i, a = this.getListenersAsObject(e);
            for (i in a)a.hasOwnProperty(i) && (r = t(a[i], n), -1 !== r && a[i].splice(r, 1));
            return this
        }, r.off = n("removeListener"), r.addListeners = function (e, t) {
            return this.manipulateListeners(!1, e, t)
        }, r.removeListeners = function (e, t) {
            return this.manipulateListeners(!0, e, t)
        }, r.manipulateListeners = function (e, t, n) {
            var r, i, a = e ? this.removeListener : this.addListener, o = e ? this.removeListeners : this.addListeners;
            if ("object" != typeof t || t instanceof RegExp)for (r = n.length; r--;)a.call(this, t, n[r]); else for (r in t)t.hasOwnProperty(r) && (i = t[r]) && ("function" == typeof i ? a.call(this, r, i) : o.call(this, r, i));
            return this
        }, r.removeEvent = function (e) {
            var t, n = typeof e, r = this._getEvents();
            if ("string" === n)delete r[e]; else if (e instanceof RegExp)for (t in r)r.hasOwnProperty(t) && e.test(t) && delete r[t]; else delete this._events;
            return this
        }, r.removeAllListeners = n("removeEvent"), r.emitEvent = function (e, t) {
            var n, r, i, a, o = this.getListenersAsObject(e);
            for (i in o)if (o.hasOwnProperty(i))for (r = o[i].length; r--;)n = o[i][r], n.once === !0 && this.removeListener(e, n.listener), a = n.listener.apply(this, t || []), a === this._getOnceReturnValue() && this.removeListener(e, n.listener);
            return this
        }, r.trigger = n("emitEvent"), r.emit = function (e) {
            var t = Array.prototype.slice.call(arguments, 1);
            return this.emitEvent(e, t)
        }, r.setOnceReturnValue = function (e) {
            return this._onceReturnValue = e, this
        }, r._getOnceReturnValue = function () {
            return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
        }, r._getEvents = function () {
            return this._events || (this._events = {})
        }, e.noConflict = function () {
            return i.EventEmitter = a, e
        }, e
    }();
    var c, A, f = function (e, t) {
        h(e, t, "undefined" == typeof e || "function" == typeof e, "Function")
    }, d = new s;
    return e.off = r(d), e.on = i(d), e.once = a(d), A = e.prototype.init, e.prototype.init = function () {
        var e;
        this.ee = e = new s, this.off = r(e), this.on = i(e), this.once = a(e), A.apply(this, arguments)
    }, e._eventInit = o, o(), e
}), function (e) {
    "function" == typeof define && define.amd ? define(["../cldr"], e) : "object" == typeof module && "object" == typeof module.exports ? module.exports = e(require("cldrjs")) : e(Cldr)
}(function (e) {
    var t = e._alwaysArray, n = function (e) {
        var n, r;
        return n = function (n) {
            return function (r) {
                return r = t(r), e.get([n].concat(r))
            }
        }, r = n("supplemental"), r.weekData = n("supplemental/weekData"), r.weekData.firstDay = function () {
            return e.get("supplemental/weekData/firstDay/{territory}") || e.get("supplemental/weekData/firstDay/001")
        }, r.weekData.minDays = function () {
            var t = e.get("supplemental/weekData/minDays/{territory}") || e.get("supplemental/weekData/minDays/001");
            return parseInt(t, 10)
        }, r.timeData = n("supplemental/timeData"), r.timeData.allowed = function () {
            return e.get("supplemental/timeData/{territory}/_allowed") || e.get("supplemental/timeData/001/_allowed")
        }, r.timeData.preferred = function () {
            return e.get("supplemental/timeData/{territory}/_preferred") || e.get("supplemental/timeData/001/_preferred")
        }, r
    }, r = e.prototype.init;
    return e.prototype.init = function () {
        r.apply(this, arguments), this.supplemental = n(this)
    }, e
}), function (e, t) {
    "function" == typeof define && define.amd ? define(["cldr", "cldr/event"], t) : "object" == typeof exports ? module.exports = t(require("cldrjs")) : e.Globalize = t(e.Cldr)
}(this, function (e) {
    function t(e) {
        e.once("get", l), e.get("supplemental/likelySubtags")
    }

    function n(e) {
        return this instanceof n ? (h(e, "locale"), f(e, "locale"), this.cldr = m(e), void t(this.cldr)) : new n(e)
    }

    var r = function (e) {
        return "string" == typeof e ? e : "number" == typeof e ? "" + e : JSON.stringify(e)
    }, i = function (e, t) {
        return e = e.replace(/{[0-9a-zA-Z-_. ]+}/g, function (e) {
            return e = e.replace(/^{([^}]*)}$/, "$1"), r(t[e])
        })
    }, a = function (e, t, n) {
        var r;
        return t = e + (t ? ": " + i(t, n) : ""), r = new Error(t), r.code = e, Object.keys(n).forEach(function (e) {
            r[e] = n[e]
        }), r
    }, o = function (e, t, n, r) {
        if (!n)throw a(e, t, r)
    }, s = function (e) {
        return Array.isArray(e) ? e : e ? [e] : []
    }, l = function (e, t, n) {
        var r;
        n = n || {}, r = s(n.skip).some(function (t) {
            return t.test(e)
        }), o("E_MISSING_CLDR", "Missing required CLDR content `{path}`.", t || r, {path: e})
    }, u = function (e) {
        o("E_DEFAULT_LOCALE_NOT_DEFINED", "Default locale has not been defined.", void 0 !== e, {})
    }, h = function (e, t) {
        o("E_MISSING_PARAMETER", "Missing required parameter `{name}`.", void 0 !== e, {name: t})
    }, c = function (e, t, n, r) {
        o("E_PAR_OUT_OF_RANGE", "Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].", void 0 === e || e >= n && r >= e, {
            maximum: r,
            minimum: n,
            name: t,
            value: e
        })
    }, A = function (e, t, n, r) {
        o("E_INVALID_PAR_TYPE", "Invalid `{name}` parameter ({value}). {expected} expected.", n, {
            expected: r,
            name: t,
            value: e
        })
    }, f = function (t, n) {
        A(t, n, void 0 === t || "string" == typeof t || t instanceof e, "String or Cldr instance")
    }, d = function (e) {
        return null !== e && "" + e == "[object Object]"
    }, p = function (e, t) {
        A(e, t, void 0 === e || d(e), "Plain Object")
    }, m = function (t) {
        return t instanceof e ? t : new e(t)
    }, g = function (e) {
        return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")
    };
    return n.load = function () {
        e.load.apply(e, arguments)
    }, n.locale = function (e) {
        return f(e, "locale"), arguments.length && (this.cldr = m(e), t(this.cldr)), this.cldr
    }, n._alwaysArray = s, n._createError = a, n._formatMessage = i, n._isPlainObject = d, n._regexpEscape = g, n._validateCldr = l, n._validateDefaultLocale = u, n._validateParameterPresence = h, n._validateParameterRange = c, n._validateParameterTypePlainObject = p, n._validateParameterType = A, n._validate = o, n
}), function (e, t) {
    "function" == typeof define && define.amd ? define(["cldr", "../globalize", "cldr/event", "cldr/supplemental"], t) : "object" == typeof exports ? module.exports = t(require("cldrjs"), require("globalize")) : t(e.Cldr, e.Globalize)
}(this, function (e, t) {
    function n(e, t) {
        s(e, t, {skip: [/dates\/calendars\/gregorian\/days\/.*\/short/, /supplemental\/timeData\/(?!001)/, /supplemental\/weekData\/(?!001)/]})
    }

    var r = t._createError, i = t._formatMessage, a = t._isPlainObject, o = t._regexpEscape, s = t._validateCldr, l = t._validateDefaultLocale, u = t._validateParameterPresence, h = t._validateParameterType, c = function (e, t) {
        h(e, t, void 0 === e || e instanceof Date, "Date")
    }, A = function (e, t) {
        h(e, t, void 0 === e || "string" == typeof e || a(e), "String or plain Object")
    }, f = function (e, t) {
        h(e, t, void 0 === e || "string" == typeof e, "a string")
    }, d = function (e, t) {
        return r("E_INVALID_PAR_VALUE", "Invalid `{name}` value ({value}).", {name: e, value: t})
    }, p = function (e, t) {
        var n;
        switch ("string" == typeof e && (e = {skeleton: e}), !0) {
            case"skeleton" in e:
                n = t.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats", e.skeleton]);
                break;
            case"date" in e:
            case"time" in e:
                n = t.main(["dates/calendars/gregorian", "date" in e ? "dateFormats" : "timeFormats", e.date || e.time]);
                break;
            case"datetime" in e:
                n = t.main(["dates/calendars/gregorian/dateTimeFormats", e.datetime]), n && (n = i(n, [t.main(["dates/calendars/gregorian/timeFormats", e.datetime]), t.main(["dates/calendars/gregorian/dateFormats", e.datetime])]));
                break;
            case"pattern" in e:
                n = e.pattern;
                break;
            default:
                throw d({name: "pattern", value: e})
        }
        return n
    }, m = function (e, t) {
        return (e.getDay() - t + 7) % 7
    }, g = function (e, t) {
        var n = 864e5;
        return (t.getTime() - e.getTime()) / n
    }, v = function (e, t) {
        switch (e = new Date(e.getTime()), t) {
            case"year":
                e.setMonth(0);
            case"month":
                e.setDate(1);
            case"day":
                e.setHours(0);
            case"hour":
                e.setMinutes(0);
            case"minute":
                e.setSeconds(0);
            case"second":
                e.setMilliseconds(0)
        }
        return e
    }, y = function (e) {
        return Math.floor(g(v(e, "year"), e))
    }, E = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], b = function (e) {
        return E.indexOf(e.supplemental.weekData.firstDay())
    }, x = function (e) {
        return e - v(e, "day")
    }, w = /([a-z])\1*|'([^']|'')+'|''|./gi, T = function (e, t, n) {
        var r;
        for ("string" != typeof e && (e = String(e)), r = e.length; t > r; r += 1)e = n ? e + "0" : "0" + e;
        return e
    }, C = function (e, t) {
        var n = e.getTimezoneOffset();
        return t = t.split(";")[n > 0 ? 1 : 0], t = t.replace(/HH?/, function (e) {
            return T(Math.floor(Math.abs(n) / 60), e.length)
        }), t.replace(/mm/, T(Math.abs(n) % 60, 2))
    }, R = function (e, t) {
        return t.pattern.replace(w, function (n) {
            var r, i, a = n.charAt(0), o = n.length;
            switch ("j" === a && (a = t.preferredTime), "Z" === a && (4 > o ? (a = "x", o = 4) : 5 > o ? (a = "O", o = 4) : (a = "X", o = 5)), a) {
                case"G":
                    i = t.eras[e.getFullYear() < 0 ? 0 : 1];
                    break;
                case"y":
                    i = String(e.getFullYear()), r = !0, 2 === o && (i = i.substr(i.length - 2));
                    break;
                case"Y":
                    i = new Date(e.getTime()), i.setDate(i.getDate() + 7 - m(e, t.firstDay) - t.firstDay - t.minDays), i = String(i.getFullYear()), r = !0, 2 === o && (i = i.substr(i.length - 2));
                    break;
                case"Q":
                case"q":
                    i = Math.ceil((e.getMonth() + 1) / 3), 2 >= o ? r = !0 : i = t.quarters[a][o][i];
                    break;
                case"M":
                case"L":
                    i = e.getMonth() + 1, 2 >= o ? r = !0 : i = t.months[a][o][i];
                    break;
                case"w":
                    i = m(v(e, "year"), t.firstDay), i = Math.ceil((y(e) + i) / 7) - (7 - i >= t.minDays ? 0 : 1), r = !0;
                    break;
                case"W":
                    i = m(v(e, "month"), t.firstDay), i = Math.ceil((e.getDate() + i) / 7) - (7 - i >= t.minDays ? 0 : 1);
                    break;
                case"d":
                    i = e.getDate(), r = !0;
                    break;
                case"D":
                    i = y(e) + 1, r = !0;
                    break;
                case"F":
                    i = Math.floor(e.getDate() / 7) + 1;
                    break;
                case"e":
                case"c":
                    if (2 >= o) {
                        i = m(e, t.firstDay) + 1, r = !0;
                        break
                    }
                case"E":
                    i = E[e.getDay()], i = t.days[a][o][i];
                    break;
                case"a":
                    i = t.dayPeriods[e.getHours() < 12 ? "am" : "pm"];
                    break;
                case"h":
                    i = e.getHours() % 12 || 12, r = !0;
                    break;
                case"H":
                    i = e.getHours(), r = !0;
                    break;
                case"K":
                    i = e.getHours() % 12, r = !0;
                    break;
                case"k":
                    i = e.getHours() || 24, r = !0;
                    break;
                case"m":
                    i = e.getMinutes(), r = !0;
                    break;
                case"s":
                    i = e.getSeconds(), r = !0;
                    break;
                case"S":
                    i = Math.round(e.getMilliseconds() * Math.pow(10, o - 3)), r = !0;
                    break;
                case"A":
                    i = Math.round(x(e) * Math.pow(10, o - 3)), r = !0;
                    break;
                case"z":
                case"O":
                    0 === e.getTimezoneOffset() ? i = t.gmtZeroFormat : (i = C(e, 4 > o ? "+H;-H" : t.tzLongHourFormat), i = t.gmtFormat.replace(/\{0\}/, i));
                    break;
                case"X":
                    if (0 === e.getTimezoneOffset()) {
                        i = "Z";
                        break
                    }
                case"x":
                    i = 1 === o ? "+HH;-HH" : o % 2 ? "+HH:mm;-HH:mm" : "+HHmm;-HHmm", i = C(e, i);
                    break;
                case"'":
                    return n = n.replace(/''/, "'"), o > 2 && (n = n.slice(1, -1)), n;
                default:
                    return n
            }
            return r && (i = T(i, o)), i
        })
    }, _ = function (e) {
        return r("E_UNSUPPORTED", "Unsupported {feature}.", {feature: e})
    }, B = function (e, t) {
        var n = {}, r = ["abbreviated", "wide", "narrow"];
        return n.pattern = e, e.replace(w, function (e) {
            var i = e.charAt(0), a = e.length;
            switch ("j" === i && (n.preferredTime = i = t.supplemental.timeData.preferred()), "Z" === i && 4 === a && (i = "O", a = 4), i) {
                case"G":
                    n.eras = t.main(["dates/calendars/gregorian/eras", 3 >= a ? "eraAbbr" : 4 === a ? "eraNames" : "eraNarrow"]);
                    break;
                case"Y":
                    n.firstDay = b(t), n.minDays = t.supplemental.weekData.minDays();
                    break;
                case"u":
                case"U":
                    throw _({feature: "year pattern `" + i + "`"});
                case"Q":
                case"q":
                    a > 2 && (n.quarters || (n.quarters = {}), n.quarters[i] || (n.quarters[i] = {}), n.quarters[i][a] = t.main(["dates/calendars/gregorian/quarters", "Q" === i ? "format" : "stand-alone", r[a - 3]]));
                    break;
                case"M":
                case"L":
                    a > 2 && (n.months || (n.months = {}), n.months[i] || (n.months[i] = {}), n.months[i][a] = t.main(["dates/calendars/gregorian/months", "M" === i ? "format" : "stand-alone", r[a - 3]]));
                    break;
                case"w":
                case"W":
                    n.firstDay = b(t), n.minDays = t.supplemental.weekData.minDays();
                    break;
                case"g":
                    throw _({feature: "Julian day pattern `g`"});
                case"e":
                case"c":
                    if (2 >= a) {
                        n.firstDay = b(t);
                        break
                    }
                case"E":
                    n.days || (n.days = {}), n.days[i] || (n.days[i] = {}), n.days[i][a] = 6 === a ? t.main(["dates/calendars/gregorian/days", "c" === i ? "stand-alone" : "format", "short"]) || t.main(["dates/calendars/gregorian/days", "c" === i ? "stand-alone" : "format", "abbreviated"]) : t.main(["dates/calendars/gregorian/days", "c" === i ? "stand-alone" : "format", r[3 > a ? 0 : a - 3]]);
                    break;
                case"a":
                    n.dayPeriods = t.main("dates/calendars/gregorian/dayPeriods/format/wide");
                    break;
                case"z":
                case"O":
                    n.gmtFormat = t.main("dates/timeZoneNames/gmtFormat"), n.gmtZeroFormat = t.main("dates/timeZoneNames/gmtZeroFormat"), n.tzLongHourFormat = t.main("dates/timeZoneNames/hourFormat");
                    break;
                case"v":
                case"V":
                    throw _({feature: "timezone pattern `" + i + "`"})
            }
        }), n
    }, M = function (e, t) {
        var n = new Date(e.getFullYear(), e.getMonth() + 1, 0).getDate();
        e.setDate(1 > t ? 1 : n > t ? t : n)
    }, H = function (e, t) {
        var n = e.getDate();
        e.setDate(1), e.setMonth(t), M(e, n)
    }, S = function () {
        function e(e, t, n) {
            return t > e || e > n
        }

        return function (t, n, r) {
            var i, a, o, s, l, u, h = 0, c = 1, A = 2, f = 3, d = 4, p = 5, m = 6, g = new Date, y = [], E = ["year", "month", "day", "hour", "minute", "second", "milliseconds"];
            return n.length && (u = n.every(function (t) {
                var n, u, v, E;
                if ("literal" === t.type)return !0;
                switch (u = t.type.charAt(0), E = t.type.length, "j" === u && (u = r.preferredTimeData), u) {
                    case"G":
                        y.push(h), a = +t.value;
                        break;
                    case"y":
                        if (v = +t.lexeme, 2 === E) {
                            if (e(v, 0, 99))return !1;
                            n = 100 * Math.floor(g.getFullYear() / 100), v += n, v > g.getFullYear() + 20 && (v -= 100)
                        }
                        g.setFullYear(v), y.push(h);
                        break;
                    case"Y":
                        throw _({feature: "year pattern `" + u + "`"});
                    case"Q":
                    case"q":
                        break;
                    case"M":
                    case"L":
                        if (v = 2 >= E ? +t.lexeme : +t.value, e(v, 1, 12))return !1;
                        H(g, v - 1), y.push(c);
                        break;
                    case"w":
                    case"W":
                        break;
                    case"d":
                        if (v = +t.lexeme, e(v, 1, 31))return !1;
                        M(g, v), y.push(A);
                        break;
                    case"D":
                        if (v = +t.lexeme, e(v, 1, 366))return !1;
                        g.setMonth(0), g.setDate(v), y.push(A);
                        break;
                    case"F":
                        break;
                    case"e":
                    case"c":
                    case"E":
                        break;
                    case"a":
                        i = t.value;
                        break;
                    case"h":
                        if (v = +t.lexeme, e(v, 1, 12))return !1;
                        o = s = !0, g.setHours(12 === v ? 0 : v), y.push(f);
                        break;
                    case"K":
                        if (v = +t.lexeme, e(v, 0, 11))return !1;
                        o = s = !0, g.setHours(v), y.push(f);
                        break;
                    case"k":
                        if (v = +t.lexeme, e(v, 1, 24))return !1;
                        o = !0, g.setHours(24 === v ? 0 : v), y.push(f);
                        break;
                    case"H":
                        if (v = +t.lexeme, e(v, 0, 23))return !1;
                        o = !0, g.setHours(v), y.push(f);
                        break;
                    case"m":
                        if (v = +t.lexeme, e(v, 0, 59))return !1;
                        g.setMinutes(v), y.push(d);
                        break;
                    case"s":
                        if (v = +t.lexeme, e(v, 0, 59))return !1;
                        g.setSeconds(v), y.push(p);
                        break;
                    case"A":
                        g.setHours(0), g.setMinutes(0), g.setSeconds(0);
                    case"S":
                        v = Math.round(+t.lexeme * Math.pow(10, 3 - E)), g.setMilliseconds(v), y.push(m);
                        break;
                    case"Z":
                    case"z":
                    case"O":
                    case"X":
                    case"x":
                        l = t.value - g.getTimezoneOffset()
                }
                return !0
            })) && (!o || !i ^ s) ? (0 === a && g.setFullYear(-1 * g.getFullYear() + 1), s && "pm" === i && g.setHours(g.getHours() + 12), l && g.setMinutes(g.getMinutes() + l), y = Math.max.apply(null, y), g = v(g, E[y])) : null
        }
    }(), D = function (e) {
        return {preferredTimeData: e.supplemental.timeData.preferred()}
    }, F = function (e, t) {
        var n, r = [], i = ["abbreviated", "wide", "narrow"];
        return n = t.pattern.match(w).every(function (n) {
            function a(t) {
                var n = e.match(t);
                return n ? (p.value = n.length < 4 ? 60 * (n[1] ? -n[1] : +n[2]) : 60 * (n[1] ? -n[1] : +n[3]) + (n[1] ? -n[2] : +n[4]), !0) : !1
            }

            function s(e, t) {
                var n;
                return t || (t = "{0}"), n = e.replace("+", "\\+").replace(/HH|mm/g, "(\\d\\d)").replace(/H|m/g, "(\\d\\d?)"), n = n.split(";").map(function (e) {
                    return t.replace("{0}", e)
                }).join("|"), new RegExp(n)
            }

            function l() {
                return 1 === f ? d = /\d/ : void 0
            }

            function u() {
                return 1 === f ? d = /\d\d?/ : void 0
            }

            function h() {
                return 2 === f ? d = /\d\d/ : void 0
            }

            function c(n) {
                var r, i, a = t[n.join("/")];
                for (r in a)if (i = new RegExp("^" + a[r]), i.test(e))return p.value = r, d = new RegExp(a[r]);
                return null
            }

            var A, f, d, p = {};
            switch (p.type = n, A = n.charAt(0), f = n.length, "Z" === A && (4 > f ? (A = "x", f = 4) : 5 > f ? (A = "O", f = 4) : (A = "X", f = 5)), A) {
                case"G":
                    c(["gregorian/eras", 3 >= f ? "eraAbbr" : 4 === f ? "eraNames" : "eraNarrow"]);
                    break;
                case"y":
                case"Y":
                    d = 1 === f ? /\d+/ : 2 === f ? /\d\d/ : new RegExp("\\d{" + f + ",}");
                    break;
                case"Q":
                case"q":
                    l() || h() || c(["gregorian/quarters", "Q" === A ? "format" : "stand-alone", i[f - 3]]);
                    break;
                case"M":
                case"L":
                    u() || h() || c(["gregorian/months", "M" === A ? "format" : "stand-alone", i[f - 3]]);
                    break;
                case"D":
                    3 >= f && (d = new RegExp("\\d{" + f + ",3}"));
                    break;
                case"W":
                case"F":
                    l();
                    break;
                case"e":
                case"c":
                    if (2 >= f) {
                        l() || h();
                        break
                    }
                case"E":
                    6 === f ? c(["gregorian/days", ["c" === A ? "stand-alone" : "format"], "short"]) || c(["gregorian/days", ["c" === A ? "stand-alone" : "format"], "abbreviated"]) : c(["gregorian/days", ["c" === A ? "stand-alone" : "format"], i[3 > f ? 0 : f - 3]]);
                    break;
                case"a":
                    c(["gregorian/dayPeriods/format/wide"]);
                    break;
                case"w":
                case"d":
                case"h":
                case"H":
                case"K":
                case"k":
                case"j":
                case"m":
                case"s":
                    u() || h();
                    break;
                case"S":
                    d = new RegExp("\\d{" + f + "}");
                    break;
                case"A":
                    d = new RegExp("\\d{" + (f + 5) + "}");
                    break;
                case"z":
                case"O":
                    if (e === t["timeZoneNames/gmtZeroFormat"])p.value = 0, d = new RegExp(t["timeZoneNames/gmtZeroFormat"]); else if (d = s(4 > f ? "+H;-H" : t["timeZoneNames/hourFormat"], t["timeZoneNames/gmtFormat"]), !a(d))return null;
                    break;
                case"X":
                    if ("Z" === e) {
                        p.value = 0, d = /Z/;
                        break
                    }
                case"x":
                    if (d = s(1 === f ? "+HH;-HH" : f % 2 ? "+HH:mm;-HH:mm" : "+HHmm;-HHmm"), !a(d))return null;
                    break;
                case"'":
                    p.type = "literal", n = n.replace(/''/, "'"), f > 2 && (n = n.slice(1, -1)), d = new RegExp(o(n));
                    break;
                default:
                    p.type = "literal", d = /./
            }
            return d ? (e = e.replace(new RegExp("^" + d.source), function (e) {
                return p.lexeme = e, ""
            }), p.lexeme ? (r.push(p), !0) : !1) : !1
        }), n ? r : []
    }, k = function (e, t) {
        function n(e, t) {
            r[e.replace(/^.*\/dates\//, "").replace(/calendars\//, "")] = t
        }

        var r = {pattern: e}, i = ["abbreviated", "wide", "narrow"];
        return t.on("get", n), e.match(w).forEach(function (e) {
            var n, r;
            switch (n = e.charAt(0), r = e.length, "Z" === n && 5 > r && (n = "O", r = 4), n) {
                case"G":
                    t.main(["dates/calendars/gregorian/eras", 3 >= r ? "eraAbbr" : 4 === r ? "eraNames" : "eraNarrow"]);
                    break;
                case"u":
                case"U":
                    throw _({feature: "year pattern `" + n + "`"});
                case"Q":
                case"q":
                    r > 2 && t.main(["dates/calendars/gregorian/quarters", "Q" === n ? "format" : "stand-alone", i[r - 3]]);
                    break;
                case"M":
                case"L":
                    r > 2 && t.main(["dates/calendars/gregorian/months", "M" === n ? "format" : "stand-alone", i[r - 3]]);
                    break;
                case"g":
                    throw _({feature: "Julian day pattern `g`"});
                case"e":
                case"c":
                    if (2 >= r)break;
                case"E":
                    6 === r ? t.main(["dates/calendars/gregorian/days", ["c" === n ? "stand-alone" : "format"], "short"]) || t.main(["dates/calendars/gregorian/days", ["c" === n ? "stand-alone" : "format"], "abbreviated"]) : t.main(["dates/calendars/gregorian/days", ["c" === n ? "stand-alone" : "format"], i[3 > r ? 0 : r - 3]]);
                    break;
                case"a":
                    t.main(["dates/calendars/gregorian/dayPeriods/format/wide"]);
                    break;
                case"z":
                case"O":
                    t.main("dates/timeZoneNames/gmtFormat"), t.main("dates/timeZoneNames/gmtZeroFormat"), t.main("dates/timeZoneNames/hourFormat");
                    break;
                case"v":
                case"V":
                    throw _({feature: "timezone pattern `" + n + "`"})
            }
        }), t.off("get", n), r
    };
    return t.dateFormatter = t.prototype.dateFormatter = function (e) {
        var t, r;
        return u(e, "pattern"), A(e, "pattern"), t = this.cldr, l(t), t.on("get", n), e = p(e, t), r = B(e, t), t.off("get", n), function (e) {
            return u(e, "value"), c(e, "value"), R(e, r)
        }
    }, t.dateParser = t.prototype.dateParser = function (e) {
        var t, r, i;
        return u(e, "pattern"), A(e, "pattern"), t = this.cldr, l(t), t.on("get", n), e = p(e, t), i = k(e, t), r = D(t), t.off("get", n), function (e) {
            var t;
            return u(e, "value"), f(e, "value"), t = F(e, i), S(e, t, r) || null
        }
    }, t.formatDate = t.prototype.formatDate = function (e, t) {
        return u(e, "value"), c(e, "value"), this.dateFormatter(t)(e)
    }, t.parseDate = t.prototype.parseDate = function (e, t) {
        return u(e, "value"), f(e, "value"), this.dateParser(t)(e)
    }, t
}), function (e, t) {
    "function" == typeof define && define.amd ? define(["cldr", "../globalize"], t) : "object" == typeof exports ? module.exports = t(require("cldrjs"), require("globalize")) : t(e.Cldr, e.Globalize)
}(this, function (e, t) {
    var n = t._alwaysArray, r = t._validateDefaultLocale, i = t._validateParameterPresence, a = t._validateParameterType, o = t._validateParameterTypePlainObject;
    return t.loadTranslations = function (t) {
        var n = {"globalize-translations": t};
        i(t, "json"), o(t, "json"), e.load(n)
    }, t.translate = t.prototype.translate = function (e) {
        var t;
        return i(e, "path"), a(e, "path", "string" == typeof e || Array.isArray(e), "a String nor an Array"), e = n(e), t = this.cldr, r(t), t.get(["globalize-translations/{languageId}"].concat(e))
    }, t
}), function (e, t) {
    "function" == typeof define && define.amd ? define(["cldr", "../globalize", "cldr/event", "cldr/supplemental"], t) : "object" == typeof exports ? module.exports = t(require("cldrjs"), require("globalize")) : t(e.Cldr, e.Globalize)
}(this, function (e, t) {
    var n = t._createError, r = t._regexpEscape, i = t._validateCldr, a = t._validateDefaultLocale, o = t._validateParameterPresence, s = t._validateParameterRange, l = t._validateParameterType, u = t._validateParameterTypePlainObject, h = function (e, t) {
        l(e, t, void 0 === e || "number" == typeof e, "Number")
    }, c = function (e, t) {
        l(e, t, void 0 === e || "string" == typeof e, "a string")
    }, A = function (e, t, n) {
        var r, i = t, a = "", o = ",", s = n ? !0 : !1;
        for (e = String(e).split("."), r = e[0].length; r > i;)a = e[0].slice(r - i, r) + (a.length ? o : "") + a, r -= i, s && (i = n, s = !1);
        return e[0] = e[0].slice(0, r) + (a.length ? o : "") + a, e.join(".")
    }, f = function (e) {
        return isNaN(e) ? 0 / 0 : Math[0 > e ? "ceil" : "floor"](e)
    }, d = function (e, t, n) {
        var r;
        for ("string" != typeof e && (e = String(e)), r = e.length; t > r; r += 1)e = n ? e + "0" : "0" + e;
        return e
    }, p = function (e, t, n, r, i, a) {
        return r ? (e = a ? i(e, a) : i(e, Math.pow(10, -r)), e = +e.toFixed(r), n && (e = String(e).split("."), e[1] = d(e[1] || "", n, !0), e = e.join("."))) : e = f(e), e = String(e), t && (e = e.split("."), e[0] = d(e[0], t), e = e.join(".")), e
    }, m = function (e) {
        return n("E_UNSUPPORTED", "Unsupported {feature}.", {feature: e})
    }, g = function (e, t, n) {
        var r, i;
        return e = e.toPrecision(t + 2), r = Math.ceil(Math.log(Math.abs(e)) / Math.log(10)), r -= t, i = Math.pow(10, r), e = n(e, i), 0 > r && (e = +e.toFixed(-r)), e
    }, v = function (e, t, n, r) {
        var i, a;
        if (t > n && (n = t), i = g(e, t, r), a = g(e, n, r), e = +i === +a ? i : a, e = (+e).toString(10), /e/.test(e))throw m({feature: "integers out of (1e21, 1e-7)"});
        return t - e.replace(/^0+|\./g, "").length > 0 && (e = e.split("."), e[1] = d(e[1] || "", t - e[0].replace(/^0+/, "").length, !0), e = e.join(".")), e
    }, y = function (e, t) {
        var n, r, i, a, o, s, l, u, h, c, f, d, m, g, y, E, b, x;
        return h = t[1], o = t[2], a = t[3], r = t[4], s = t[5], i = t[6], y = t[7], f = t[8], E = t[9], g = t[15], n = t[16], l = t[17], x = t[18], u = t[19], isNaN(e) ? l : (0 > e ? (d = t[12], c = t[13], b = t[14]) : (d = t[11], c = t[0], b = t[10]), isFinite(e) ? (m = c, -1 !== d.indexOf("%") ? e *= 100 : -1 !== d.indexOf("") && (e *= 1e3), e = isNaN(s * i) ? p(e, o, a, r, g, y) : v(e, s, i, g), e = e.replace(/^-/, ""), f && (e = A(e, f, E)), m += e, m += b, m.replace(/('([^']|'')+'|'')|./g, function (e, t) {
            return t ? (t = t.replace(/''/, "'"), t.length > 2 && (t = t.slice(1, -1)), t) : (e = e.replace(/[.,\-+E%\u2030]/, function (e) {
                return x[e]
            }), u && (e = e.replace(/[0-9]/, function (e) {
                return u[+e]
            })), e)
        })) : c + n + b)
    }, E = function (e) {
        var t = e.attributes["u-nu"];
        return t ? ("traditio" === t && (t = "traditional"), -1 !== ["native", "traditional", "finance"].indexOf(t) ? e.main(["numbers/otherNumberingSystems", t]) : t) : e.main("numbers/defaultNumberingSystem")
    }, b = function (e) {
        var t, n = E(e);
        if ("latn" !== n) {
            if (t = e.supplemental(["numberingSystems", n]), "numeric" !== t._type)throw m("`" + t._type + "` numbering system");
            return t._digits
        }
    }, x = /^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/, w = function (e) {
        var t, n, r, i, a, o, s, l, u, h, c, A, f, d, p, g, v, y;
        if (e = e.match(x), !e)throw new Error("Invalid pattern: " + e);
        if (A = e[1], c = e[3], i = e[4], v = e[8], p = e[9], y = e[10], v ? v.replace(/(@+)(#*)/, function (e, t, n) {
                h = t.length, s = h + n.length
            }) : (r = e[7], a = e[6], r && (r.replace(/[0-9]+/, function (e) {
                l = e
            }), l ? (d = +("0." + l), l = l.length) : l = 0, o = r.length - 1), a.replace(/0+$/, function (e) {
                u = e.length
            })), p)throw m({feature: "scientific notation (not implemented)"});
        if (c)throw m({feature: "padding (not implemented)"});
        return -1 !== (t = i.lastIndexOf(",")) && (n = i.split(".")[0], f = n.length - t - 1, -1 !== (n = i.lastIndexOf(",", t - 1)) && (g = t - 1 - n)), [A, c, u, l, o, h, s, d, f, g, y]
    }, T = function (e, t) {
        return t.main(["numbers/symbols-numberSystem-" + E(t), e])
    }, C = {
        ".": "decimal",
        ",": "group",
        "%": "percentSign",
        "+": "plusSign",
        "-": "minusSign",
        E: "exponential",
        "": "perMille"
    }, R = function (e) {
        var t, n = {};
        for (t in C)n[t] = T(C[t], e);
        return n
    }, _ = function (e) {
        return e = e || "round", e = "truncate" === e ? f : Math[e], function (t, n) {
            return n = n || 1, e(t / n) * n
        }
    }, B = function (e, t, n) {
        function r(e, t) {
            e in n && (u[t] = n[e])
        }

        var i, a, o, s, l, u;
        return n = n || {}, e = e.split(";"), l = e[0], i = e[1] || "-" + l, o = w(i), a = o[0], s = o[10], u = w(l).concat([l, a + l + s, a, s, _(n.round), T("infinity", t), T("nan", t), R(t), b(t)]), r("minimumIntegerDigits", 2), r("minimumFractionDigits", 3), r("maximumFractionDigits", 4), r("minimumSignificantDigits", 5), r("maximumSignificantDigits", 6), n.useGrouping === !1 && (u[8] = null), "minimumFractionDigits" in n && !("maximumFractionDigits" in n) ? u[4] = Math.max(u[3], u[4]) : !("minimumFractionDigits" in n) && "maximumFractionDigits" in n && (u[3] = Math.min(u[3], u[4])), u
    }, M = /^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/, H = function (e, t) {
        var n, i, a, o, s, l, u, h, c, A, f;
        if (i = t[0], o = t[1], u = t[2], h = t[3], a = t[4], n = e.match(i))c = 1 / 0, A = e.slice(0, n.length), f = e.slice(n.length + 1); else {
            if (l = new RegExp(Object.keys(o).map(function (e) {
                    return r(e)
                }).join("|"), "g"), e = e.replace(l, function (e) {
                    return o[e]
                }), a && (s = new RegExp(Object.keys(a).map(function (e) {
                    return r(e)
                }).join("|"), "g"), e = e.replace(s, function (e) {
                    return a[e]
                })), e = e.match(M), !e)return 0 / 0;
            if (A = e[1], f = e[6], c = e[2].replace(/,/g, ""), e[5] && (c += e[5]), c = +c, isNaN(c))return 0 / 0;
            -1 !== e[0].indexOf("%") ? (c /= 100, f = f.replace("%", "")) : -1 !== e[0].indexOf("") && (c /= 1e3, f = f.replace("", ""))
        }
        return A === u && f === h && (c *= -1), c
    }, S = function (e) {
        var t, n = {};
        for (t in C)n[T(C[t], e)] = t;
        return n
    }, D = function () {
        var e = arguments[0], t = [].slice.call(arguments, 1);
        return t.forEach(function (t) {
            var n;
            for (n in t)e[n] = t[n]
        }), e
    }, F = function (e, t) {
        var n, r, i, a, o = b(t);
        return e = e.split(";"), i = e[1] || "-" + e[0], a = w(i), o && (n = o.split("").reduce(function (e, t, n) {
            return e[t] = String(n), e
        }, {}), r = "0123456789".split("").reduce(function (e, t) {
            return e[t] = "invalid", e
        }, {}), n = D(r, n)), [T("infinity", t), D({}, C, S(t)), a[0], a[10].replace("%", "").replace("", ""), n]
    }, k = function (e, t) {
        if ("decimal" !== e && "percent" !== e)throw new Error("Invalid style");
        return t.main(["numbers", e + "Formats-numberSystem-" + E(t), "standard"])
    };
    return t.numberFormatter = t.prototype.numberFormatter = function (e) {
        var t, n, r, l, c, A, f, d;
        if (u(e, "options"), e = e || {}, t = this.cldr, a(t), t.on("get", i), e.pattern || (f = k(e.style || "decimal", t)), d = B(f, t, e), t.off("get", i), c = d[2], l = d[3], n = d[4], A = d[5], r = d[6], isNaN(A * r)) {
            if (!isNaN(A) || !isNaN(r))throw new Error("Neither or both the minimum and maximum significant digits must be present");
            s(c, "minimumIntegerDigits", 1, 21), s(l, "minimumFractionDigits", 0, 20), s(n, "maximumFractionDigits", l, 20)
        } else s(A, "minimumSignificantDigits", 1, 21), s(r, "maximumSignificantDigits", A, 21);
        return function (e) {
            return o(e, "value"), h(e, "value"), y(e, d)
        }
    }, t.numberParser = t.prototype.numberParser = function (e) {
        var t, n, r;
        return u(e, "options"), e = e || {}, t = this.cldr, a(t), t.on("get", i), e.pattern || (n = k(e.style || "decimal", t)), r = F(n, t), t.off("get", i), function (e) {
            return o(e, "value"), c(e, "value"), H(e, r)
        }
    }, t.formatNumber = t.prototype.formatNumber = function (e, t) {
        return o(e, "value"), h(e, "value"), this.numberFormatter(t)(e)
    }, t.parseNumber = t.prototype.parseNumber = function (e, t) {
        return o(e, "value"), c(e, "value"), this.numberParser(t)(e)
    }, t
}), function (e, t) {
    "function" == typeof define && define.amd ? define(["cldr", "../globalize", "cldr/event", "cldr/supplemental"], t) : "object" == typeof exports ? module.exports = t(require("cldrjs"), require("globalize")) : t(e.Cldr, e.Globalize)
}(this, function (e, t) {
    var n, r = t._validateCldr, i = t._validateDefaultLocale, a = t._validateParameterPresence, o = t._validateParameterType;
    n = function () {
        function e(e, t) {
            return "i = 0 or n = 1" == e ? "n >= 0 && n <= 1" : "i = 0,1" == e ? "n >= 0 && n < 2" : "i = 1 and v = 0" == e ? (t.v0 = 1, "n == 1 && v0") : e.replace(/([tv]) (!?)= 0/g, function (e, n, r) {
                var i = n + "0";
                return t[i] = 1, r ? "!" + i : i
            }).replace(/\b[fintv]\b/g, function (e) {
                return t[e] = 1, e
            }).replace(/([fin]) % (10+)/g, function (e, n, r) {
                var i = n + r;
                return t[i] = 1, i
            }).replace(/n10+ = 0/g, "t0 && $&").replace(/(\w+ (!?)= )([0-9.]+,[0-9.,]+)/g, function (e, t, n, r) {
                return "n = 0,1" == e ? "(n == 0 || n == 1)" : n ? t + r.split(",").join(" && " + t) : "(" + t + r.split(",").join(" || " + t) + ")"
            }).replace(/(\w+) (!?)= ([0-9]+)\.\.([0-9]+)/g, function (e, n, r, i, a) {
                return Number(i) + 1 == Number(a) ? r ? n + " != " + i + " && " + n + " != " + a : "(" + n + " == " + i + " || " + n + " == " + a + ")" : r ? "(" + n + " < " + i + " || " + n + " > " + a + ")" : "n" == n ? (t.t0 = 1, "(t0 && n >= " + i + " && n <= " + a + ")") : "(" + n + " >= " + i + " && " + n + " <= " + a + ")"
            }).replace(/ and /g, " && ").replace(/ or /g, " || ").replace(/ = /g, " == ")
        }

        function t(e) {
            var t = [];
            e.i && t.push("i = s[0]"), (e.f || e.v) && t.push("f = s[1] || ''"), e.t && t.push("t = (s[1] || '').replace(/0+$/, '')"), e.v && t.push("v = f.length"), e.v0 && t.push("v0 = !s[1]"), (e.t0 || e.n10 || e.n100) && t.push("t0 = Number(s[0]) == n");
            for (var n in e)if (/^.10+$/.test(n)) {
                var r = "n" == n[0] ? "t0 && s[0]" : n[0];
                t.push(n + " = " + r + ".substr(-" + n.substr(2).length + ")")
            }
            return t.length ? (t.unshift("s = String(n).split('.')"), "var " + t.join(", ") + ";") : ""
        }

        function n(n, i, a) {
            var o = [], s = {}, l = function (e) {
                return e.replace(/(.{1,72})( \|\| |$) ?/gm, "$1\n         $2").replace(/\s+$/gm, "")
            }, u = function (t, o) {
                var l = [];
                if (r.rules[t][n])for (var u in r.rules[t][n]) {
                    var h = u.replace("pluralRule-count-", ""), c = r.rules[t][n][u].split(/@\w*/), A = c.shift().trim();
                    A && l.push([e(A, s), h]), a[t][h] = c.join(" ").replace(/^[ ,]+|[ ,]+$/g, "").replace(/(0\.[0-9])~(1\.[1-9])/g, "$1 1.0 $2").split(/[ ,~]+/)
                } else if (o)return i.quiet || console.error('Locale "' + n + '" ' + t + " rules not found"), !1;
                return l.length ? 1 == l.length ? "(" + l[0][0] + ") ? '" + l[0][1] + "' : 'other'" : l.map(function (e) {
                    return "(" + e[0] + ") ? '" + e[1] + "'"
                }).concat("'other'").join("\n      : ") : "'other'"
            };
            if (i.ordinals)if (i.no_cardinals) {
                var h = u("ordinal", !0);
                if (!h)return null;
                o.push(l("  return " + h + ";"))
            } else o.push(l("  if (ord) return " + u("ordinal", !1) + ";"));
            if (!i.no_cardinals) {
                var h = u("cardinal", !0);
                if (!h)return null;
                o.push(l("  return " + h + ";"))
            }
            var c = t(s).replace(/(.{1,78})(,|$) ?/g, "\n      $1$2").trim();
            return c && o.unshift("  " + c), o.join("\n")
        }

        var r = function (e, t) {
            "object" == typeof e ? (t = e, e = t.lc) : (t || (t = r.opt), e || (e = t.lc));
            var i = {
                ordinal: {},
                cardinal: {}
            }, a = n(e, t, i), o = t.ordinals && !t.no_cardinals ? new Function("n", "ord", a) : new Function("n", a);
            return o.toString = function (e) {
                var t = Function.prototype.toString.call(o);
                return t.replace(/^function( \w+)?/, e ? "function " + e : "function")
            }, a && (t.no_tests || test(e, o, i, t)) ? o : null
        };
        return r.opt = {}, r.rules = {}, r
    }();
    var s = function (e, t) {
        o(e, t, void 0 === e || "number" == typeof e, "Number")
    };
    return t.plural = t.prototype.plural = function (e) {
        return a(e, "value"), s(e, "value"), this.pluralGenerator()(e)
    }, t.pluralGenerator = t.prototype.pluralGenerator = function () {
        var e, t;
        return e = this.cldr, i(e), e.on("get", r), e.supplemental("plurals-type-cardinal/{language}"), e.off("get", r), n.rules = {cardinal: e.supplemental("plurals-type-cardinal")}, t = n(e.attributes.language, {no_tests: !0}), function (e) {
            return a(e, "value"), s(e, "value"), t(e)
        }
    }, t
}), function (e, t, n, r, i, a, o, s, l) {
    function u(e) {
        var t, n = e.length, i = this, a = 0, o = i.i = i.j = 0, s = i.S = [];
        for (n || (e = [n++]); r > a;)s[a] = a++;
        for (a = 0; r > a; a++)s[a] = s[o = y & o + e[a % n] + (t = s[a])], s[o] = t;
        (i.g = function (e) {
            for (var t, n = 0, a = i.i, o = i.j, s = i.S; e--;)t = s[a = y & a + 1], n = n * r + s[y & (s[a] = s[o = y & o + t]) + (s[o] = t)];
            return i.i = a, i.j = o, n
        })(r)
    }

    function h(e, t) {
        return t.i = e.i, t.j = e.j, t.S = e.S.slice(), t
    }

    function c(e, t) {
        var n, r = [], i = typeof e;
        if (t && "object" == i)for (n in e)try {
            r.push(c(e[n], t - 1))
        } catch (a) {
        }
        return r.length ? r : "string" == i ? e : e + "\x00"
    }

    function A(e, t) {
        for (var n, r = e + "", i = 0; i < r.length;)t[y & i] = y & (n ^= 19 * t[y & i]) + r.charCodeAt(i++);
        return d(t)
    }

    function f(n) {
        try {
            return p ? d(p.randomBytes(r)) : (e.crypto.getRandomValues(n = new Uint8Array(r)), d(n))
        } catch (i) {
            return [+new Date, e, (n = e.navigator) && n.plugins, e.screen, d(t)]
        }
    }

    function d(e) {
        return String.fromCharCode.apply(0, e)
    }

    var p, m = n.pow(r, i), g = n.pow(2, a), v = 2 * g, y = r - 1, E = n["seed" + l] = function (e, a, o) {
        var s = [];
        a = 1 == a ? {entropy: !0} : a || {};
        var p = A(c(a.entropy ? [e, d(t)] : null == e ? f() : e, 3), s), y = new u(s);
        return A(d(y.S), t), (a.pass || o || function (e, t, r, i) {
            return i && (i.S && h(i, y), e.state = function () {
                return h(y, {})
            }), r ? (n[l] = e, t) : e
        })(function () {
            for (var e = y.g(i), t = m, n = 0; g > e;)e = (e + n) * r, t *= r, n = y.g(1);
            for (; e >= v;)e /= 2, t /= 2, n >>>= 1;
            return (e + n) / t
        }, p, "global" in a ? a.global : this == n, a.state)
    };
    if (A(n[l](), t), o && o.exports) {
        o.exports = E;
        try {
            p = require("crypto")
        } catch (b) {
        }
    } else s && s.amd && s(function () {
        return E
    })
}(this, [], Math, 256, 6, 52, "object" == typeof module && module, "function" == typeof define && define, "random"), function (e, t) {
    "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : e.FontLoader = t()
}(window, function () {
    function e(e, t, n) {
        this.delegate = t, this.timeout = "undefined" != typeof n ? n : 3e3, this._fontFamiliesArray = e.slice(0), this._testContainer = null, this._adobeBlankSizeWatcher = null, this._timeoutId = null, this._intervalId = null, this._intervalDelay = 50, this._numberOfLoadedFonts = 0, this._numberOfFontFamilies = this._fontFamiliesArray.length, this._fontsMap = {}, this._finished = !1
    }

    function t(e, t) {
        this.width = e, this.height = t
    }

    function n(e, t) {
        this._element = e, this._delegate = t.delegate, this._size = null, this._continuous = !!t.continuous, this._direction = t.direction ? t.direction : n.directions.both, this._dimension = t.dimension ? t.dimension : n.dimensions.both, this._sizeIncreaseWatcherContentElm = null, this._sizeDecreaseWatcherElm = null, this._sizeIncreaseWatcherElm = null, this._state = n.states.initialized, this._scrollAmount = 2, this._generateScrollWatchers(t.size), this._appendScrollWatchersToElement(t.container)
    }

    var r = /MSIE/i.test(navigator.userAgent), i = null;
    if (r) {
        var a, o;
        a = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"), o = a.exec(navigator.userAgent), null !== o && (i = parseFloat(o[1]))
    }
    return e.testDiv = null, e.useAdobeBlank = !r || i >= 11, e.useResizeEvent = r && 11 > i && "undefined" != typeof document.attachEvent, e.useIntervalChecking = window.opera || r && 11 > i && !e.useResizeEvent, e.referenceText = " !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~", e.referenceFontFamilies = e.useAdobeBlank ? ["AdobeBlank"] : ["serif", "cursive"], e.referenceFontFamiliesSizes = [], e.adobeBlankFontFaceRule = "@font-face{ font-family:AdobeBlank; src:url('data:font/opentype;base64,T1RUTwAKAIAAAwAgQ0ZGIM6ZbkwAAEPEAAAZM0RTSUcAAAABAABtAAAAAAhPUy8yAR6vMwAAARAAAABgY21hcDqI98oAACjEAAAa4GhlYWT+BQILAAAArAAAADZoaGVhCCID7wAAAOQAAAAkaG10eAPoAHwAAFz4AAAQBm1heHAIAVAAAAABCAAAAAZuYW1lD/tWxwAAAXAAACdScG9zdP+4ADIAAEOkAAAAIAABAAAAAQj1Snw1O18PPPUAAwPoAAAAAM2C2p8AAAAAzYLanwB8/4gDbANwAAAAAwACAAAAAAAAAAEAAANw/4gAyAPoAHwAfANsAAEAAAAAAAAAAAAAAAAAAAACAABQAAgBAAAABAAAAZAABQAAAooCWAAAAEsCigJYAAABXgAyANwAAAAAAAAAAAAAAAD3/67/+9///w/gAD8AAAAAQURCRQHAAAD//wNw/4gAyANwAHhgLwH/AAAAAAAAAAAAAAAgAAAAAAARANIAAQAAAAAAAQALAAAAAQAAAAAAAgAHAAsAAQAAAAAAAwAbABIAAQAAAAAABAALAAAAAQAAAAAABQA5AC0AAQAAAAAABgAKAGYAAwABBAkAAABuAHAAAwABBAkAAQAWAN4AAwABBAkAAgAOAPQAAwABBAkAAwA2AQIAAwABBAkABAAWAN4AAwABBAkABQByATgAAwABBAkABgAUAaoAAwABBAkACAA0Ab4AAwABBAkACwA0AfIAAwABBAkADSQSAiYAAwABBAkADgBIJjhBZG9iZSBCbGFua1JlZ3VsYXIxLjAzNTtBREJFO0Fkb2JlQmxhbms7QURPQkVWZXJzaW9uIDEuMDM1O1BTIDEuMDAzO2hvdGNvbnYgMS4wLjcwO21ha2VvdGYubGliMi41LjU5MDBBZG9iZUJsYW5rAKkAIAAyADAAMQAzACAAQQBkAG8AYgBlACAAUwB5AHMAdABlAG0AcwAgAEkAbgBjAG8AcgBwAG8AcgBhAHQAZQBkAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4AQQBkAG8AYgBlACAAQgBsAGEAbgBrAFIAZQBnAHUAbABhAHIAMQAuADAAMwA1ADsAQQBEAEIARQA7AEEAZABvAGIAZQBCAGwAYQBuAGsAOwBBAEQATwBCAEUAVgBlAHIAcwBpAG8AbgAgADEALgAwADMANQA7AFAAUwAgADEALgAwADAAMwA7AGgAbwB0AGMAbwBuAHYAIAAxAC4AMAAuADcAMAA7AG0AYQBrAGUAbwB0AGYALgBsAGkAYgAyAC4ANQAuADUAOQAwADAAQQBkAG8AYgBlAEIAbABhAG4AawBBAGQAbwBiAGUAIABTAHkAcwB0AGUAbQBzACAASQBuAGMAbwByAHAAbwByAGEAdABlAGQAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AdAB5AHAAZQAvAEEAZABvAGIAZQAgAEIAbABhAG4AawAgAGkAcwAgAHIAZQBsAGUAYQBzAGUAZAAgAHUAbgBkAGUAcgAgAHQAaABlACAAUwBJAEwAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAtACAAcABsAGUAYQBzAGUAIAByAGUAYQBkACAAaQB0ACAAYwBhAHIAZQBmAHUAbABsAHkAIABhAG4AZAAgAGQAbwAgAG4AbwB0ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGUAIABmAG8AbgB0AHMAIAB1AG4AbABlAHMAcwAgAHkAbwB1ACAAYQBnAHIAZQBlACAAdABvACAAdABoAGUAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAHQAaABlACAAbABpAGMAZQBuAHMAZQA6AA0ACgANAAoAQwBvAHAAeQByAGkAZwBoAHQAIACpACAAMgAwADEAMwAgAEEAZABvAGIAZQAgAFMAeQBzAHQAZQBtAHMAIABJAG4AYwBvAHIAcABvAHIAYQB0AGUAZAAgACgAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AKQAsACAAdwBpAHQAaAAgAFIAZQBzAGUAcgB2AGUAZAAgAEYAbwBuAHQAIABOAGEAbQBlACAAQQBkAG8AYgBlACAAQgBsAGEAbgBrAA0ACgANAAoAVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgANAAoADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAaQBzACAAYwBvAHAAaQBlAGQAIABiAGUAbABvAHcALAAgAGEAbgBkACAAaQBzACAAYQBsAHMAbwAgAGEAdgBhAGkAbABhAGIAbABlACAAdwBpAHQAaAAgAGEAIABGAEEAUQAgAGEAdAA6ACAAaAB0AHQAcAA6AC8ALwBzAGMAcgBpAHAAdABzAC4AcwBpAGwALgBvAHIAZwAvAE8ARgBMAA0ACgANAAoALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAA0ACgBTAEkATAAgAE8AUABFAE4AIABGAE8ATgBUACAATABJAEMARQBOAFMARQAgAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAgAC0AIAAyADYAIABGAGUAYgByAHUAYQByAHkAIAAyADAAMAA3AA0ACgAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ADQAKAA0ACgBQAFIARQBBAE0AQgBMAEUADQAKAFQAaABlACAAZwBvAGEAbABzACAAbwBmACAAdABoAGUAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAoAE8ARgBMACkAIABhAHIAZQAgAHQAbwAgAHMAdABpAG0AdQBsAGEAdABlACAAdwBvAHIAbABkAHcAaQBkAGUAIABkAGUAdgBlAGwAbwBwAG0AZQBuAHQAIABvAGYAIABjAG8AbABsAGEAYgBvAHIAYQB0AGkAdgBlACAAZgBvAG4AdAAgAHAAcgBvAGoAZQBjAHQAcwAsACAAdABvACAAcwB1AHAAcABvAHIAdAAgAHQAaABlACAAZgBvAG4AdAAgAGMAcgBlAGEAdABpAG8AbgAgAGUAZgBmAG8AcgB0AHMAIABvAGYAIABhAGMAYQBkAGUAbQBpAGMAIABhAG4AZAAgAGwAaQBuAGcAdQBpAHMAdABpAGMAIABjAG8AbQBtAHUAbgBpAHQAaQBlAHMALAAgAGEAbgBkACAAdABvACAAcAByAG8AdgBpAGQAZQAgAGEAIABmAHIAZQBlACAAYQBuAGQAIABvAHAAZQBuACAAZgByAGEAbQBlAHcAbwByAGsAIABpAG4AIAB3AGgAaQBjAGgAIABmAG8AbgB0AHMAIABtAGEAeQAgAGIAZQAgAHMAaABhAHIAZQBkACAAYQBuAGQAIABpAG0AcAByAG8AdgBlAGQAIABpAG4AIABwAGEAcgB0AG4AZQByAHMAaABpAHAAIAB3AGkAdABoACAAbwB0AGgAZQByAHMALgANAAoADQAKAFQAaABlACAATwBGAEwAIABhAGwAbABvAHcAcwAgAHQAaABlACAAbABpAGMAZQBuAHMAZQBkACAAZgBvAG4AdABzACAAdABvACAAYgBlACAAdQBzAGUAZAAsACAAcwB0AHUAZABpAGUAZAAsACAAbQBvAGQAaQBmAGkAZQBkACAAYQBuAGQAIAByAGUAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAZgByAGUAZQBsAHkAIABhAHMAIABsAG8AbgBnACAAYQBzACAAdABoAGUAeQAgAGEAcgBlACAAbgBvAHQAIABzAG8AbABkACAAYgB5ACAAdABoAGUAbQBzAGUAbAB2AGUAcwAuACAAVABoAGUAIABmAG8AbgB0AHMALAAgAGkAbgBjAGwAdQBkAGkAbgBnACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAdwBvAHIAawBzACwAIABjAGEAbgAgAGIAZQAgAGIAdQBuAGQAbABlAGQALAAgAGUAbQBiAGUAZABkAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAgAHAAcgBvAHYAaQBkAGUAZAAgAHQAaABhAHQAIABhAG4AeQAgAHIAZQBzAGUAcgB2AGUAZAAgAG4AYQBtAGUAcwAgAGEAcgBlACAAbgBvAHQAIAB1AHMAZQBkACAAYgB5ACAAZABlAHIAaQB2AGEAdABpAHYAZQAgAHcAbwByAGsAcwAuACAAVABoAGUAIABmAG8AbgB0AHMAIABhAG4AZAAgAGQAZQByAGkAdgBhAHQAaQB2AGUAcwAsACAAaABvAHcAZQB2AGUAcgAsACAAYwBhAG4AbgBvAHQAIABiAGUAIAByAGUAbABlAGEAcwBlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAHQAeQBwAGUAIABvAGYAIABsAGkAYwBlAG4AcwBlAC4AIABUAGgAZQAgAHIAZQBxAHUAaQByAGUAbQBlAG4AdAAgAGYAbwByACAAZgBvAG4AdABzACAAdABvACAAcgBlAG0AYQBpAG4AIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAgAGQAbwBlAHMAIABuAG8AdAAgAGEAcABwAGwAeQAgAHQAbwAgAGEAbgB5ACAAZABvAGMAdQBtAGUAbgB0ACAAYwByAGUAYQB0AGUAZAAgAHUAcwBpAG4AZwAgAHQAaABlACAAZgBvAG4AdABzACAAbwByACAAdABoAGUAaQByACAAZABlAHIAaQB2AGEAdABpAHYAZQBzAC4ADQAKAA0ACgBEAEUARgBJAE4ASQBUAEkATwBOAFMADQAKACIARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIAB0AGgAZQAgAHMAZQB0ACAAbwBmACAAZgBpAGwAZQBzACAAcgBlAGwAZQBhAHMAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAdQBuAGQAZQByACAAdABoAGkAcwAgAGwAaQBjAGUAbgBzAGUAIABhAG4AZAAgAGMAbABlAGEAcgBsAHkAIABtAGEAcgBrAGUAZAAgAGEAcwAgAHMAdQBjAGgALgAgAFQAaABpAHMAIABtAGEAeQAgAGkAbgBjAGwAdQBkAGUAIABzAG8AdQByAGMAZQAgAGYAaQBsAGUAcwAsACAAYgB1AGkAbABkACAAcwBjAHIAaQBwAHQAcwAgAGEAbgBkACAAZABvAGMAdQBtAGUAbgB0AGEAdABpAG8AbgAuAA0ACgANAAoAIgBSAGUAcwBlAHIAdgBlAGQAIABGAG8AbgB0ACAATgBhAG0AZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAG4AYQBtAGUAcwAgAHMAcABlAGMAaQBmAGkAZQBkACAAYQBzACAAcwB1AGMAaAAgAGEAZgB0AGUAcgAgAHQAaABlACAAYwBvAHAAeQByAGkAZwBoAHQAIABzAHQAYQB0AGUAbQBlAG4AdAAoAHMAKQAuAA0ACgANAAoAIgBPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACIAIAByAGUAZgBlAHIAcwAgAHQAbwAgAHQAaABlACAAYwBvAGwAbABlAGMAdABpAG8AbgAgAG8AZgAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAYQBzACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApAC4ADQAKAA0ACgAiAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AIgAgAHIAZQBmAGUAcgBzACAAdABvACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAbQBhAGQAZQAgAGIAeQAgAGEAZABkAGkAbgBnACAAdABvACwAIABkAGUAbABlAHQAaQBuAGcALAAgAG8AcgAgAHMAdQBiAHMAdABpAHQAdQB0AGkAbgBnACAALQAtACAAaQBuACAAcABhAHIAdAAgAG8AcgAgAGkAbgAgAHcAaABvAGwAZQAgAC0ALQAgAGEAbgB5ACAAbwBmACAAdABoAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAbwBmACAAdABoAGUAIABPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACwAIABiAHkAIABjAGgAYQBuAGcAaQBuAGcAIABmAG8AcgBtAGEAdABzACAAbwByACAAYgB5ACAAcABvAHIAdABpAG4AZwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHQAbwAgAGEAIABuAGUAdwAgAGUAbgB2AGkAcgBvAG4AbQBlAG4AdAAuAA0ACgANAAoAIgBBAHUAdABoAG8AcgAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAGQAZQBzAGkAZwBuAGUAcgAsACAAZQBuAGcAaQBuAGUAZQByACwAIABwAHIAbwBnAHIAYQBtAG0AZQByACwAIAB0AGUAYwBoAG4AaQBjAGEAbAAgAHcAcgBpAHQAZQByACAAbwByACAAbwB0AGgAZQByACAAcABlAHIAcwBvAG4AIAB3AGgAbwAgAGMAbwBuAHQAcgBpAGIAdQB0AGUAZAAgAHQAbwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAuAA0ACgANAAoAUABFAFIATQBJAFMAUwBJAE8ATgAgACYAIABDAE8ATgBEAEkAVABJAE8ATgBTAA0ACgBQAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAaABlAHIAZQBiAHkAIABnAHIAYQBuAHQAZQBkACwAIABmAHIAZQBlACAAbwBmACAAYwBoAGEAcgBnAGUALAAgAHQAbwAgAGEAbgB5ACAAcABlAHIAcwBvAG4AIABvAGIAdABhAGkAbgBpAG4AZwAgAGEAIABjAG8AcAB5ACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACwAIAB0AG8AIAB1AHMAZQAsACAAcwB0AHUAZAB5ACwAIABjAG8AcAB5ACwAIABtAGUAcgBnAGUALAAgAGUAbQBiAGUAZAAsACAAbQBvAGQAaQBmAHkALAAgAHIAZQBkAGkAcwB0AHIAaQBiAHUAdABlACwAIABhAG4AZAAgAHMAZQBsAGwAIABtAG8AZABpAGYAaQBlAGQAIABhAG4AZAAgAHUAbgBtAG8AZABpAGYAaQBlAGQAIABjAG8AcABpAGUAcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAsACAAcwB1AGIAagBlAGMAdAAgAHQAbwAgAHQAaABlACAAZgBvAGwAbABvAHcAaQBuAGcAIABjAG8AbgBkAGkAdABpAG8AbgBzADoADQAKAA0ACgAxACkAIABOAGUAaQB0AGgAZQByACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbgBvAHIAIABhAG4AeQAgAG8AZgAgAGkAdABzACAAaQBuAGQAaQB2AGkAZAB1AGEAbAAgAGMAbwBtAHAAbwBuAGUAbgB0AHMALAAgAGkAbgAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAsACAAbQBhAHkAIABiAGUAIABzAG8AbABkACAAYgB5ACAAaQB0AHMAZQBsAGYALgANAAoADQAKADIAKQAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAG0AYQB5ACAAYgBlACAAYgB1AG4AZABsAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAsACAAcAByAG8AdgBpAGQAZQBkACAAdABoAGEAdAAgAGUAYQBjAGgAIABjAG8AcAB5ACAAYwBvAG4AdABhAGkAbgBzACAAdABoAGUAIABhAGIAbwB2AGUAIABjAG8AcAB5AHIAaQBnAGgAdAAgAG4AbwB0AGkAYwBlACAAYQBuAGQAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAuACAAVABoAGUAcwBlACAAYwBhAG4AIABiAGUAIABpAG4AYwBsAHUAZABlAGQAIABlAGkAdABoAGUAcgAgAGEAcwAgAHMAdABhAG4AZAAtAGEAbABvAG4AZQAgAHQAZQB4AHQAIABmAGkAbABlAHMALAAgAGgAdQBtAGEAbgAtAHIAZQBhAGQAYQBiAGwAZQAgAGgAZQBhAGQAZQByAHMAIABvAHIAIABpAG4AIAB0AGgAZQAgAGEAcABwAHIAbwBwAHIAaQBhAHQAZQAgAG0AYQBjAGgAaQBuAGUALQByAGUAYQBkAGEAYgBsAGUAIABtAGUAdABhAGQAYQB0AGEAIABmAGkAZQBsAGQAcwAgAHcAaQB0AGgAaQBuACAAdABlAHgAdAAgAG8AcgAgAGIAaQBuAGEAcgB5ACAAZgBpAGwAZQBzACAAYQBzACAAbABvAG4AZwAgAGEAcwAgAHQAaABvAHMAZQAgAGYAaQBlAGwAZABzACAAYwBhAG4AIABiAGUAIABlAGEAcwBpAGwAeQAgAHYAaQBlAHcAZQBkACAAYgB5ACAAdABoAGUAIAB1AHMAZQByAC4ADQAKAA0ACgAzACkAIABOAG8AIABNAG8AZABpAGYAaQBlAGQAIABWAGUAcgBzAGkAbwBuACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbQBhAHkAIAB1AHMAZQAgAHQAaABlACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAKABzACkAIAB1AG4AbABlAHMAcwAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAZwByAGEAbgB0AGUAZAAgAGIAeQAgAHQAaABlACAAYwBvAHIAcgBlAHMAcABvAG4AZABpAG4AZwAgAEMAbwBwAHkAcgBpAGcAaAB0ACAASABvAGwAZABlAHIALgAgAFQAaABpAHMAIAByAGUAcwB0AHIAaQBjAHQAaQBvAG4AIABvAG4AbAB5ACAAYQBwAHAAbABpAGUAcwAgAHQAbwAgAHQAaABlACAAcAByAGkAbQBhAHIAeQAgAGYAbwBuAHQAIABuAGEAbQBlACAAYQBzACAAcAByAGUAcwBlAG4AdABlAGQAIAB0AG8AIAB0AGgAZQAgAHUAcwBlAHIAcwAuAA0ACgANAAoANAApACAAVABoAGUAIABuAGEAbQBlACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAbwByACAAdABoAGUAIABBAHUAdABoAG8AcgAoAHMAKQAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHMAaABhAGwAbAAgAG4AbwB0ACAAYgBlACAAdQBzAGUAZAAgAHQAbwAgAHAAcgBvAG0AbwB0AGUALAAgAGUAbgBkAG8AcgBzAGUAIABvAHIAIABhAGQAdgBlAHIAdABpAHMAZQAgAGEAbgB5ACAATQBvAGQAaQBmAGkAZQBkACAAVgBlAHIAcwBpAG8AbgAsACAAZQB4AGMAZQBwAHQAIAB0AG8AIABhAGMAawBuAG8AdwBsAGUAZABnAGUAIAB0AGgAZQAgAGMAbwBuAHQAcgBpAGIAdQB0AGkAbwBuACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAYQBuAGQAIAB0AGgAZQAgAEEAdQB0AGgAbwByACgAcwApACAAbwByACAAdwBpAHQAaAAgAHQAaABlAGkAcgAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuAC4ADQAKAA0ACgA1ACkAIABUAGgAZQAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUALAAgAG0AbwBkAGkAZgBpAGUAZAAgAG8AcgAgAHUAbgBtAG8AZABpAGYAaQBlAGQALAAgAGkAbgAgAHAAYQByAHQAIABvAHIAIABpAG4AIAB3AGgAbwBsAGUALAAgAG0AdQBzAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIABlAG4AdABpAHIAZQBsAHkAIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAsACAAYQBuAGQAIABtAHUAcwB0ACAAbgBvAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAGwAaQBjAGUAbgBzAGUALgAgAFQAaABlACAAcgBlAHEAdQBpAHIAZQBtAGUAbgB0ACAAZgBvAHIAIABmAG8AbgB0AHMAIAB0AG8AIAByAGUAbQBhAGkAbgAgAHUAbgBkAGUAcgAgAHQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAZABvAGUAcwAgAG4AbwB0ACAAYQBwAHAAbAB5ACAAdABvACAAYQBuAHkAIABkAG8AYwB1AG0AZQBuAHQAIABjAHIAZQBhAHQAZQBkACAAdQBzAGkAbgBnACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBUAEUAUgBNAEkATgBBAFQASQBPAE4ADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAYgBlAGMAbwBtAGUAcwAgAG4AdQBsAGwAIABhAG4AZAAgAHYAbwBpAGQAIABpAGYAIABhAG4AeQAgAG8AZgAgAHQAaABlACAAYQBiAG8AdgBlACAAYwBvAG4AZABpAHQAaQBvAG4AcwAgAGEAcgBlACAAbgBvAHQAIABtAGUAdAAuAA0ACgANAAoARABJAFMAQwBMAEEASQBNAEUAUgANAAoAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFACAASQBTACAAUABSAE8AVgBJAEQARQBEACAAIgBBAFMAIABJAFMAIgAsACAAVwBJAFQASABPAFUAVAAgAFcAQQBSAFIAQQBOAFQAWQAgAE8ARgAgAEEATgBZACAASwBJAE4ARAAsACAARQBYAFAAUgBFAFMAUwAgAE8AUgAgAEkATQBQAEwASQBFAEQALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQgBVAFQAIABOAE8AVAAgAEwASQBNAEkAVABFAEQAIABUAE8AIABBAE4AWQAgAFcAQQBSAFIAQQBOAFQASQBFAFMAIABPAEYAIABNAEUAUgBDAEgAQQBOAFQAQQBCAEkATABJAFQAWQAsACAARgBJAFQATgBFAFMAUwAgAEYATwBSACAAQQAgAFAAQQBSAFQASQBDAFUATABBAFIAIABQAFUAUgBQAE8AUwBFACAAQQBOAEQAIABOAE8ATgBJAE4ARgBSAEkATgBHAEUATQBFAE4AVAAgAE8ARgAgAEMATwBQAFkAUgBJAEcASABUACwAIABQAEEAVABFAE4AVAAsACAAVABSAEEARABFAE0AQQBSAEsALAAgAE8AUgAgAE8AVABIAEUAUgAgAFIASQBHAEgAVAAuACAASQBOACAATgBPACAARQBWAEUATgBUACAAUwBIAEEATABMACAAVABIAEUAIABDAE8AUABZAFIASQBHAEgAVAAgAEgATwBMAEQARQBSACAAQgBFACAATABJAEEAQgBMAEUAIABGAE8AUgAgAEEATgBZACAAQwBMAEEASQBNACwAIABEAEEATQBBAEcARQBTACAATwBSACAATwBUAEgARQBSACAATABJAEEAQgBJAEwASQBUAFkALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQQBOAFkAIABHAEUATgBFAFIAQQBMACwAIABTAFAARQBDAEkAQQBMACwAIABJAE4ARABJAFIARQBDAFQALAAgAEkATgBDAEkARABFAE4AVABBAEwALAAgAE8AUgAgAEMATwBOAFMARQBRAFUARQBOAFQASQBBAEwAIABEAEEATQBBAEcARQBTACwAIABXAEgARQBUAEgARQBSACAASQBOACAAQQBOACAAQQBDAFQASQBPAE4AIABPAEYAIABDAE8ATgBUAFIAQQBDAFQALAAgAFQATwBSAFQAIABPAFIAIABPAFQASABFAFIAVwBJAFMARQAsACAAQQBSAEkAUwBJAE4ARwAgAEYAUgBPAE0ALAAgAE8AVQBUACAATwBGACAAVABIAEUAIABVAFMARQAgAE8AUgAgAEkATgBBAEIASQBMAEkAVABZACAAVABPACAAVQBTAEUAIABUAEgARQAgAEYATwBOAFQAIABTAE8ARgBUAFcAQQBSAEUAIABPAFIAIABGAFIATwBNACAATwBUAEgARQBSACAARABFAEEATABJAE4ARwBTACAASQBOACAAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFAC4ADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBhAGQAbwBiAGUALgBjAG8AbQAvAHQAeQBwAGUALwBsAGUAZwBhAGwALgBoAHQAbQBsAAAAAAAFAAAAAwAAADgAAAAEAAABUAABAAAAAAAsAAMAAQAAADgAAwAKAAABUAAGAAwAAAAAAAEAAAAEARgAAABCAEAABQACB/8P/xf/H/8n/y//N/8//0f/T/9X/1//Z/9v/3f/f/+H/4//l/+f/6f/r/+3/7//x//P/9f/5//v//f//c///f//AAAAAAgAEAAYACAAKAAwADgAQABIAFAAWABgAGgAcAB4AIAAiACQAJgAoACoALAAuADAAMgA0ADgAOgA8AD4AP3w//8AAfgB8AHoAeAB2AHQAcgBwAG4AbABqAGgAZgBkAGIAYABeAFwAWgBYAFYAVABSAFAATgBMAEgARgBEAEIAQgBAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAZkAAAAAAAAAIgAAAAAAAAB/8AAAABAAAIAAAAD/8AAAABAAAQAAAAF/8AAAABAAAYAAAAH/8AAAABAAAgAAAAJ/8AAAABAAAoAAAAL/8AAAABAAAwAAAAN/8AAAABAAA4AAAAP/8AAAABAABAAAAAR/8AAAABAABIAAAAT/8AAAABAABQAAAAV/8AAAABAABYAAAAX/8AAAABAABgAAAAZ/8AAAABAABoAAAAb/8AAAABAABwAAAAd/8AAAABAAB4AAAAf/8AAAABAACAAAAAh/8AAAABAACIAAAAj/8AAAABAACQAAAAl/8AAAABAACYAAAAn/8AAAABAACgAAAAp/8AAAABAACoAAAAr/8AAAABAACwAAAAt/8AAAABAAC4AAAAv/8AAAABAADAAAAAx/8AAAABAADIAAAAz/8AAAABAADQAAAA1/8AAAABAADgAAAA5/8AAAABAADoAAAA7/8AAAABAADwAAAA9/8AAAABAAD4AAAA/c8AAAABAAD98AAA//0AAAXxAAEAAAABB/8AAAABAAEIAAABD/8AAAABAAEQAAABF/8AAAABAAEYAAABH/8AAAABAAEgAAABJ/8AAAABAAEoAAABL/8AAAABAAEwAAABN/8AAAABAAE4AAABP/8AAAABAAFAAAABR/8AAAABAAFIAAABT/8AAAABAAFQAAABV/8AAAABAAFYAAABX/8AAAABAAFgAAABZ/8AAAABAAFoAAABb/8AAAABAAFwAAABd/8AAAABAAF4AAABf/8AAAABAAGAAAABh/8AAAABAAGIAAABj/8AAAABAAGQAAABl/8AAAABAAGYAAABn/8AAAABAAGgAAABp/8AAAABAAGoAAABr/8AAAABAAGwAAABt/8AAAABAAG4AAABv/8AAAABAAHAAAABx/8AAAABAAHIAAABz/8AAAABAAHQAAAB1/8AAAABAAHYAAAB3/8AAAABAAHgAAAB5/8AAAABAAHoAAAB7/8AAAABAAHwAAAB9/8AAAABAAH4AAAB//0AAAABAAIAAAACB/8AAAABAAIIAAACD/8AAAABAAIQAAACF/8AAAABAAIYAAACH/8AAAABAAIgAAACJ/8AAAABAAIoAAACL/8AAAABAAIwAAACN/8AAAABAAI4AAACP/8AAAABAAJAAAACR/8AAAABAAJIAAACT/8AAAABAAJQAAACV/8AAAABAAJYAAACX/8AAAABAAJgAAACZ/8AAAABAAJoAAACb/8AAAABAAJwAAACd/8AAAABAAJ4AAACf/8AAAABAAKAAAACh/8AAAABAAKIAAACj/8AAAABAAKQAAACl/8AAAABAAKYAAACn/8AAAABAAKgAAACp/8AAAABAAKoAAACr/8AAAABAAKwAAACt/8AAAABAAK4AAACv/8AAAABAALAAAACx/8AAAABAALIAAACz/8AAAABAALQAAAC1/8AAAABAALYAAAC3/8AAAABAALgAAAC5/8AAAABAALoAAAC7/8AAAABAALwAAAC9/8AAAABAAL4AAAC//0AAAABAAMAAAADB/8AAAABAAMIAAADD/8AAAABAAMQAAADF/8AAAABAAMYAAADH/8AAAABAAMgAAADJ/8AAAABAAMoAAADL/8AAAABAAMwAAADN/8AAAABAAM4AAADP/8AAAABAANAAAADR/8AAAABAANIAAADT/8AAAABAANQAAADV/8AAAABAANYAAADX/8AAAABAANgAAADZ/8AAAABAANoAAADb/8AAAABAANwAAADd/8AAAABAAN4AAADf/8AAAABAAOAAAADh/8AAAABAAOIAAADj/8AAAABAAOQAAADl/8AAAABAAOYAAADn/8AAAABAAOgAAADp/8AAAABAAOoAAADr/8AAAABAAOwAAADt/8AAAABAAO4AAADv/8AAAABAAPAAAADx/8AAAABAAPIAAADz/8AAAABAAPQAAAD1/8AAAABAAPYAAAD3/8AAAABAAPgAAAD5/8AAAABAAPoAAAD7/8AAAABAAPwAAAD9/8AAAABAAP4AAAD//0AAAABAAQAAAAEB/8AAAABAAQIAAAED/8AAAABAAQQAAAEF/8AAAABAAQYAAAEH/8AAAABAAQgAAAEJ/8AAAABAAQoAAAEL/8AAAABAAQwAAAEN/8AAAABAAQ4AAAEP/8AAAABAARAAAAER/8AAAABAARIAAAET/8AAAABAARQAAAEV/8AAAABAARYAAAEX/8AAAABAARgAAAEZ/8AAAABAARoAAAEb/8AAAABAARwAAAEd/8AAAABAAR4AAAEf/8AAAABAASAAAAEh/8AAAABAASIAAAEj/8AAAABAASQAAAEl/8AAAABAASYAAAEn/8AAAABAASgAAAEp/8AAAABAASoAAAEr/8AAAABAASwAAAEt/8AAAABAAS4AAAEv/8AAAABAATAAAAEx/8AAAABAATIAAAEz/8AAAABAATQAAAE1/8AAAABAATYAAAE3/8AAAABAATgAAAE5/8AAAABAAToAAAE7/8AAAABAATwAAAE9/8AAAABAAT4AAAE//0AAAABAAUAAAAFB/8AAAABAAUIAAAFD/8AAAABAAUQAAAFF/8AAAABAAUYAAAFH/8AAAABAAUgAAAFJ/8AAAABAAUoAAAFL/8AAAABAAUwAAAFN/8AAAABAAU4AAAFP/8AAAABAAVAAAAFR/8AAAABAAVIAAAFT/8AAAABAAVQAAAFV/8AAAABAAVYAAAFX/8AAAABAAVgAAAFZ/8AAAABAAVoAAAFb/8AAAABAAVwAAAFd/8AAAABAAV4AAAFf/8AAAABAAWAAAAFh/8AAAABAAWIAAAFj/8AAAABAAWQAAAFl/8AAAABAAWYAAAFn/8AAAABAAWgAAAFp/8AAAABAAWoAAAFr/8AAAABAAWwAAAFt/8AAAABAAW4AAAFv/8AAAABAAXAAAAFx/8AAAABAAXIAAAFz/8AAAABAAXQAAAF1/8AAAABAAXYAAAF3/8AAAABAAXgAAAF5/8AAAABAAXoAAAF7/8AAAABAAXwAAAF9/8AAAABAAX4AAAF//0AAAABAAYAAAAGB/8AAAABAAYIAAAGD/8AAAABAAYQAAAGF/8AAAABAAYYAAAGH/8AAAABAAYgAAAGJ/8AAAABAAYoAAAGL/8AAAABAAYwAAAGN/8AAAABAAY4AAAGP/8AAAABAAZAAAAGR/8AAAABAAZIAAAGT/8AAAABAAZQAAAGV/8AAAABAAZYAAAGX/8AAAABAAZgAAAGZ/8AAAABAAZoAAAGb/8AAAABAAZwAAAGd/8AAAABAAZ4AAAGf/8AAAABAAaAAAAGh/8AAAABAAaIAAAGj/8AAAABAAaQAAAGl/8AAAABAAaYAAAGn/8AAAABAAagAAAGp/8AAAABAAaoAAAGr/8AAAABAAawAAAGt/8AAAABAAa4AAAGv/8AAAABAAbAAAAGx/8AAAABAAbIAAAGz/8AAAABAAbQAAAG1/8AAAABAAbYAAAG3/8AAAABAAbgAAAG5/8AAAABAAboAAAG7/8AAAABAAbwAAAG9/8AAAABAAb4AAAG//0AAAABAAcAAAAHB/8AAAABAAcIAAAHD/8AAAABAAcQAAAHF/8AAAABAAcYAAAHH/8AAAABAAcgAAAHJ/8AAAABAAcoAAAHL/8AAAABAAcwAAAHN/8AAAABAAc4AAAHP/8AAAABAAdAAAAHR/8AAAABAAdIAAAHT/8AAAABAAdQAAAHV/8AAAABAAdYAAAHX/8AAAABAAdgAAAHZ/8AAAABAAdoAAAHb/8AAAABAAdwAAAHd/8AAAABAAd4AAAHf/8AAAABAAeAAAAHh/8AAAABAAeIAAAHj/8AAAABAAeQAAAHl/8AAAABAAeYAAAHn/8AAAABAAegAAAHp/8AAAABAAeoAAAHr/8AAAABAAewAAAHt/8AAAABAAe4AAAHv/8AAAABAAfAAAAHx/8AAAABAAfIAAAHz/8AAAABAAfQAAAH1/8AAAABAAfYAAAH3/8AAAABAAfgAAAH5/8AAAABAAfoAAAH7/8AAAABAAfwAAAH9/8AAAABAAf4AAAH//0AAAABAAgAAAAIB/8AAAABAAgIAAAID/8AAAABAAgQAAAIF/8AAAABAAgYAAAIH/8AAAABAAggAAAIJ/8AAAABAAgoAAAIL/8AAAABAAgwAAAIN/8AAAABAAg4AAAIP/8AAAABAAhAAAAIR/8AAAABAAhIAAAIT/8AAAABAAhQAAAIV/8AAAABAAhYAAAIX/8AAAABAAhgAAAIZ/8AAAABAAhoAAAIb/8AAAABAAhwAAAId/8AAAABAAh4AAAIf/8AAAABAAiAAAAIh/8AAAABAAiIAAAIj/8AAAABAAiQAAAIl/8AAAABAAiYAAAIn/8AAAABAAigAAAIp/8AAAABAAioAAAIr/8AAAABAAiwAAAIt/8AAAABAAi4AAAIv/8AAAABAAjAAAAIx/8AAAABAAjIAAAIz/8AAAABAAjQAAAI1/8AAAABAAjYAAAI3/8AAAABAAjgAAAI5/8AAAABAAjoAAAI7/8AAAABAAjwAAAI9/8AAAABAAj4AAAI//0AAAABAAkAAAAJB/8AAAABAAkIAAAJD/8AAAABAAkQAAAJF/8AAAABAAkYAAAJH/8AAAABAAkgAAAJJ/8AAAABAAkoAAAJL/8AAAABAAkwAAAJN/8AAAABAAk4AAAJP/8AAAABAAlAAAAJR/8AAAABAAlIAAAJT/8AAAABAAlQAAAJV/8AAAABAAlYAAAJX/8AAAABAAlgAAAJZ/8AAAABAAloAAAJb/8AAAABAAlwAAAJd/8AAAABAAl4AAAJf/8AAAABAAmAAAAJh/8AAAABAAmIAAAJj/8AAAABAAmQAAAJl/8AAAABAAmYAAAJn/8AAAABAAmgAAAJp/8AAAABAAmoAAAJr/8AAAABAAmwAAAJt/8AAAABAAm4AAAJv/8AAAABAAnAAAAJx/8AAAABAAnIAAAJz/8AAAABAAnQAAAJ1/8AAAABAAnYAAAJ3/8AAAABAAngAAAJ5/8AAAABAAnoAAAJ7/8AAAABAAnwAAAJ9/8AAAABAAn4AAAJ//0AAAABAAoAAAAKB/8AAAABAAoIAAAKD/8AAAABAAoQAAAKF/8AAAABAAoYAAAKH/8AAAABAAogAAAKJ/8AAAABAAooAAAKL/8AAAABAAowAAAKN/8AAAABAAo4AAAKP/8AAAABAApAAAAKR/8AAAABAApIAAAKT/8AAAABAApQAAAKV/8AAAABAApYAAAKX/8AAAABAApgAAAKZ/8AAAABAApoAAAKb/8AAAABAApwAAAKd/8AAAABAAp4AAAKf/8AAAABAAqAAAAKh/8AAAABAAqIAAAKj/8AAAABAAqQAAAKl/8AAAABAAqYAAAKn/8AAAABAAqgAAAKp/8AAAABAAqoAAAKr/8AAAABAAqwAAAKt/8AAAABAAq4AAAKv/8AAAABAArAAAAKx/8AAAABAArIAAAKz/8AAAABAArQAAAK1/8AAAABAArYAAAK3/8AAAABAArgAAAK5/8AAAABAAroAAAK7/8AAAABAArwAAAK9/8AAAABAAr4AAAK//0AAAABAAsAAAALB/8AAAABAAsIAAALD/8AAAABAAsQAAALF/8AAAABAAsYAAALH/8AAAABAAsgAAALJ/8AAAABAAsoAAALL/8AAAABAAswAAALN/8AAAABAAs4AAALP/8AAAABAAtAAAALR/8AAAABAAtIAAALT/8AAAABAAtQAAALV/8AAAABAAtYAAALX/8AAAABAAtgAAALZ/8AAAABAAtoAAALb/8AAAABAAtwAAALd/8AAAABAAt4AAALf/8AAAABAAuAAAALh/8AAAABAAuIAAALj/8AAAABAAuQAAALl/8AAAABAAuYAAALn/8AAAABAAugAAALp/8AAAABAAuoAAALr/8AAAABAAuwAAALt/8AAAABAAu4AAALv/8AAAABAAvAAAALx/8AAAABAAvIAAALz/8AAAABAAvQAAAL1/8AAAABAAvYAAAL3/8AAAABAAvgAAAL5/8AAAABAAvoAAAL7/8AAAABAAvwAAAL9/8AAAABAAv4AAAL//0AAAABAAwAAAAMB/8AAAABAAwIAAAMD/8AAAABAAwQAAAMF/8AAAABAAwYAAAMH/8AAAABAAwgAAAMJ/8AAAABAAwoAAAML/8AAAABAAwwAAAMN/8AAAABAAw4AAAMP/8AAAABAAxAAAAMR/8AAAABAAxIAAAMT/8AAAABAAxQAAAMV/8AAAABAAxYAAAMX/8AAAABAAxgAAAMZ/8AAAABAAxoAAAMb/8AAAABAAxwAAAMd/8AAAABAAx4AAAMf/8AAAABAAyAAAAMh/8AAAABAAyIAAAMj/8AAAABAAyQAAAMl/8AAAABAAyYAAAMn/8AAAABAAygAAAMp/8AAAABAAyoAAAMr/8AAAABAAywAAAMt/8AAAABAAy4AAAMv/8AAAABAAzAAAAMx/8AAAABAAzIAAAMz/8AAAABAAzQAAAM1/8AAAABAAzYAAAM3/8AAAABAAzgAAAM5/8AAAABAAzoAAAM7/8AAAABAAzwAAAM9/8AAAABAAz4AAAM//0AAAABAA0AAAANB/8AAAABAA0IAAAND/8AAAABAA0QAAANF/8AAAABAA0YAAANH/8AAAABAA0gAAANJ/8AAAABAA0oAAANL/8AAAABAA0wAAANN/8AAAABAA04AAANP/8AAAABAA1AAAANR/8AAAABAA1IAAANT/8AAAABAA1QAAANV/8AAAABAA1YAAANX/8AAAABAA1gAAANZ/8AAAABAA1oAAANb/8AAAABAA1wAAANd/8AAAABAA14AAANf/8AAAABAA2AAAANh/8AAAABAA2IAAANj/8AAAABAA2QAAANl/8AAAABAA2YAAANn/8AAAABAA2gAAANp/8AAAABAA2oAAANr/8AAAABAA2wAAANt/8AAAABAA24AAANv/8AAAABAA3AAAANx/8AAAABAA3IAAANz/8AAAABAA3QAAAN1/8AAAABAA3YAAAN3/8AAAABAA3gAAAN5/8AAAABAA3oAAAN7/8AAAABAA3wAAAN9/8AAAABAA34AAAN//0AAAABAA4AAAAOB/8AAAABAA4IAAAOD/8AAAABAA4QAAAOF/8AAAABAA4YAAAOH/8AAAABAA4gAAAOJ/8AAAABAA4oAAAOL/8AAAABAA4wAAAON/8AAAABAA44AAAOP/8AAAABAA5AAAAOR/8AAAABAA5IAAAOT/8AAAABAA5QAAAOV/8AAAABAA5YAAAOX/8AAAABAA5gAAAOZ/8AAAABAA5oAAAOb/8AAAABAA5wAAAOd/8AAAABAA54AAAOf/8AAAABAA6AAAAOh/8AAAABAA6IAAAOj/8AAAABAA6QAAAOl/8AAAABAA6YAAAOn/8AAAABAA6gAAAOp/8AAAABAA6oAAAOr/8AAAABAA6wAAAOt/8AAAABAA64AAAOv/8AAAABAA7AAAAOx/8AAAABAA7IAAAOz/8AAAABAA7QAAAO1/8AAAABAA7YAAAO3/8AAAABAA7gAAAO5/8AAAABAA7oAAAO7/8AAAABAA7wAAAO9/8AAAABAA74AAAO//0AAAABAA8AAAAPB/8AAAABAA8IAAAPD/8AAAABAA8QAAAPF/8AAAABAA8YAAAPH/8AAAABAA8gAAAPJ/8AAAABAA8oAAAPL/8AAAABAA8wAAAPN/8AAAABAA84AAAPP/8AAAABAA9AAAAPR/8AAAABAA9IAAAPT/8AAAABAA9QAAAPV/8AAAABAA9YAAAPX/8AAAABAA9gAAAPZ/8AAAABAA9oAAAPb/8AAAABAA9wAAAPd/8AAAABAA94AAAPf/8AAAABAA+AAAAPh/8AAAABAA+IAAAPj/8AAAABAA+QAAAPl/8AAAABAA+YAAAPn/8AAAABAA+gAAAPp/8AAAABAA+oAAAPr/8AAAABAA+wAAAPt/8AAAABAA+4AAAPv/8AAAABAA/AAAAPx/8AAAABAA/IAAAPz/8AAAABAA/QAAAP1/8AAAABAA/YAAAP3/8AAAABAA/gAAAP5/8AAAABAA/oAAAP7/8AAAABAA/wAAAP9/8AAAABAA/4AAAP//0AAAABABAAAAAQB/8AAAABABAIAAAQD/8AAAABABAQAAAQF/8AAAABABAYAAAQH/8AAAABABAgAAAQJ/8AAAABABAoAAAQL/8AAAABABAwAAAQN/8AAAABABA4AAAQP/8AAAABABBAAAAQR/8AAAABABBIAAAQT/8AAAABABBQAAAQV/8AAAABABBYAAAQX/8AAAABABBgAAAQZ/8AAAABABBoAAAQb/8AAAABABBwAAAQd/8AAAABABB4AAAQf/8AAAABABCAAAAQh/8AAAABABCIAAAQj/8AAAABABCQAAAQl/8AAAABABCYAAAQn/8AAAABABCgAAAQp/8AAAABABCoAAAQr/8AAAABABCwAAAQt/8AAAABABC4AAAQv/8AAAABABDAAAAQx/8AAAABABDIAAAQz/8AAAABABDQAAAQ1/8AAAABABDYAAAQ3/8AAAABABDgAAAQ5/8AAAABABDoAAAQ7/8AAAABABDwAAAQ9/8AAAABABD4AAAQ//0AAAABAAMAAAAAAAD/tQAyAAAAAAAAAAAAAAAAAAAAAAAAAAABAAQCAAEBAQtBZG9iZUJsYW5rAAEBATD4G/gciwwe+B0B+B4Ci/sM+gD6BAUeGgA/DB8cCAEMIvdMD/dZEfdRDCUcGRYMJAAFAQEGDk1YZ0Fkb2JlSWRlbnRpdHlDb3B5cmlnaHQgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5BZG9iZSBCbGFua0Fkb2JlQmxhbmstMjA0OQAAAgABB/8DAAEAAAAIAQgBAgABAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYAlwCYAJkAmgCbAJwAnQCeAJ8AoAChAKIAowCkAKUApgCnAKgAqQCqAKsArACtAK4ArwCwALEAsgCzALQAtQC2ALcAuAC5ALoAuwC8AL0AvgC/AMAAwQDCAMMAxADFAMYAxwDIAMkAygDLAMwAzQDOAM8A0ADRANIA0wDUANUA1gDXANgA2QDaANsA3ADdAN4A3wDgAOEA4gDjAOQA5QDmAOcA6ADpAOoA6wDsAO0A7gDvAPAA8QDyAPMA9AD1APYA9wD4APkA+gD7APwA/QD+AP8BAAEBAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MDlAOVA5YDlwOYA5kDmgObA5wDnQOeA58DoAOhA6IDowOkA6UDpgOnA6gDqQOqA6sDrAOtA64DrwOwA7EDsgOzA7QDtQO2A7cDuAO5A7oDuwO8A70DvgO/A8ADwQPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQPOA88D0APRA9ID0wPUA9UD1gPXA9gD2QPaA9sD3APdA94D3wPgA+ED4gPjA+QD5QPmA+cD6APpA+oD6wPsA+0D7gPvA/AD8QPyA/MD9AP1A/YD9wP4A/kD+gP7A/wD/QP+A/8EAAQBBAIEAwQEBAUEBgQHBAgECQQKBAsEDAQNBA4EDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwELQQuBC8EMAQxBDIEMwQ0BDUENgQ3BDgEOQQ6BDsEPAQ9BD4EPwRABEEEQgRDBEQERQRGBEcESARJBEoESwRMBE0ETgRPBFAEUQRSBFMEVARVBFYEVwRYBFkEWgRbBFwEXQReBF8EYARhBGIEYwRkBGUEZgRnBGgEaQRqBGsEbARtBG4EbwRwBHEEcgRzBHQEdQR2BHcEeAR5BHoEewR8BH0EfgR/BIAEgQSCBIMEhASFBIYEhwSIBIkEigSLBIwEjQSOBI8EkASRBJIEkwSUBJUElgSXBJgEmQSaBJsEnASdBJ4EnwSgBKEEogSjBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUE9gT3BPgE+QT6BPsE/AT9BP4E/wUABQEFAgUDBQQFBQUGBQcFCAUJBQoFCwUMBQ0FDgUPBRAFEQUSBRMFFAUVBRYFFwUYBRkFGgUbBRwFHQUeBR8FIAUhBSIFIwUkBSUFJgUnBSgFKQUqBSsFLAUtBS4FLwUwBTEFMgUzBTQFNQU2BTcFOAU5BToFOwU8BT0FPgU/BUAFQQVCBUMFRAVFBUYFRwVIBUkFSgVLBUwFTQVOBU8FUAVRBVIFUwVUBVUFVgVXBVgFWQVaBVsFXAVdBV4FXwVgBWEFYgVjBWQFZQVmBWcFaAVpBWoFawVsBW0FbgVvBXAFcQVyBXMFdAV1BXYFdwV4BXkFegV7BXwFfQV+BX8FgAWBBYIFgwWEBYUFhgWHBYgFiQWKBYsFjAWNBY4FjwWQBZEFkgWTBZQFlQWWBZcFmAWZBZoFmwWcBZ0FngWfBaAFoQWiBaMFpAWlBaYFpwWoBakFqgWrBawFrQWuBa8FsAWxBbIFswW0BbUFtgW3BbgFuQW6BbsFvAW9Bb4FvwXABcEFwgXDBcQFxQXGBccFyAXJBcoFywXMBc0FzgXPBdAF0QXSBdMF1AXVBdYF1wXYBdkF2gXbBdwF3QXeBd8F4AXhBeIF4wXkBeUF5gXnBegF6QXqBesF7AXtBe4F7wXwBfEF8gXzBfQF9QX2BfcF+AX5BfoF+wX8Bf0F/gX/BgAGAQYCBgMGBAYFBgYGBwYIBgkGCgYLBgwGDQYOBg8GEAYRBhIGEwYUBhUGFgYXBhgGGQYaBhsGHAYdBh4GHwYgBiEGIgYjBiQGJQYmBicGKAYpBioGKwYsBi0GLgYvBjAGMQYyBjMGNAY1BjYGNwY4BjkGOgY7BjwGPQY+Bj8GQAZBBkIGQwZEBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGWwZcBl0GXgZfBmAGYQZiBmMGZAZlBmYGZwZoBmkGagZrBmwGbQZuBm8GcAZxBnIGcwZ0BnUGdgZ3BngGeQZ6BnsGfAZ9Bn4GfwaABoEGggaDBoQGhQaGBocGiAaJBooGiwaMBo0GjgaPBpAGkQaSBpMGlAaVBpYGlwaYBpkGmgabBpwGnQaeBp8GoAahBqIGowakBqUGpganBqgGqQaqBqsGrAatBq4GrwawBrEGsgazBrQGtQa2BrcGuAa5BroGuwa8Br0Gvga/BsAGwQbCBsMGxAbFBsYGxwbIBskGygbLBswGzQbOBs8G0AbRBtIG0wbUBtUG1gbXBtgG2QbaBtsG3AbdBt4G3wbgBuEG4gbjBuQG5QbmBucG6AbpBuoG6wbsBu0G7gbvBvAG8QbyBvMG9Ab1BvYG9wb4BvkG+gb7BvwG/Qb+Bv8HAAcBBwIHAwcEBwUHBgcHBwgHCQcKBwsHDAcNBw4HDwcQBxEHEgcTBxQHFQcWBxcHGAcZBxoHGwccBx0HHgcfByAHIQciByMHJAclByYHJwcoBykHKgcrBywHLQcuBy8HMAcxBzIHMwc0BzUHNgc3BzgHOQc6BzsHPAc9Bz4HPwdAB0EHQgdDB0QHRQdGB0cHSAdJB0oHSwdMB00HTgdPB1AHUQdSB1MHVAdVB1YHVwdYB1kHWgdbB1wHXQdeB18HYAdhB2IHYwdkB2UHZgdnB2gHaQdqB2sHbAdtB24HbwdwB3EHcgdzB3QHdQd2B3cHeAd5B3oHewd8B30Hfgd/B4AHgQeCB4MHhAeFB4YHhweIB4kHigeLB4wHjQeOB48HkAeRB5IHkweUB5UHlgeXB5gHmQeaB5sHnAedB54HnwegB6EHogejB6QHpQemB6cHqAepB6oHqwesB60HrgevB7AHsQeyB7MHtAe1B7YHtwe4B7kHuge7B7wHvQe+B78HwAfBB8IHwwfEB8UHxgfHB8gHyQfKB8sHzAfNB84HzwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wfoB+kH6gfrB+wH7QfuB+8H8AfxB/IH8wf0B/UH9gf3B/gH+Qf6B/sH/Af9B/4H/wgACAEIAggDCAQIBQgGCAcICAgJCAoICwgMCA0IDggPCBAIEQgSCBMIFAgVCBYIFwgYCBkIGggbCBwIHQgeCB8IIAghCCIIIwgkCCUIJggnCCgIKQgqCCsILAgtCC4ILwgwCDEIMggzCDQINQg2CDcIOAg5CDoIOwg8CD0IPgg/CEAIQQhCCEMIRAhFCEYIRwhICEkISghLIPsMt/oktwH3ELf5LLcD9xD6BBX+fPmE+nwH/Vj+JxX50gf3xfwzBaawFfvF+DcF+PYGpmIV/dIH+8X4MwVwZhX3xfw3Bfz2Bg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgABAQEK+B8MJpocGSQS+46LHAVGiwa9Cr0L+ucVAAPoAHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA') format('truetype'); }", e.prototype = {
        constructor: e, loadFonts: function () {
            var t = this;
            return 0 === this._numberOfFontFamilies ? void this._finish() : (null !== this.timeout && (this._timeoutId = window.setTimeout(function () {
                t._finish()
            }, this.timeout)), this._testContainer = document.createElement("div"), this._testContainer.style.cssText = "position:absolute; left:-10000px; top:-10000px; white-space:nowrap; font-size:20px; line-height:20px; visibility:hidden;", void(null === e.testDiv ? this._runOnce() : this._loadFonts()))
        }, _runOnce: function () {
            var r, i, a, o, s = this, l = "serif";
            if (e.testDiv = document.createElement("div"), e.testDiv.style.position = "absolute", e.testDiv.appendChild(document.createTextNode(e.referenceText)), e.useAdobeBlank)a = document.createElement("style"), a.setAttribute("type", "text/css"), a.appendChild(document.createTextNode(e.adobeBlankFontFaceRule)), document.getElementsByTagName("head")[0].appendChild(a), o = e.testDiv.cloneNode(!0), this._testContainer.appendChild(o), document.body.appendChild(this._testContainer), o.style.fontFamily = l, e.useIntervalChecking ? (this._testContainer.appendChild(o), this._intervalId = window.setInterval(function () {
                s._checkAdobeBlankSize()
            }, this._intervalDelay), this._checkAdobeBlankSize()) : (this._adobeBlankSizeWatcher = new n(o, {
                container: this._testContainer,
                delegate: this,
                continuous: !0,
                direction: n.directions.decrease,
                dimension: n.dimensions.horizontal
            }), this._adobeBlankSizeWatcher.prepareForWatch(), this._adobeBlankSizeWatcher.beginWatching()), o.style.fontFamily = e.referenceFontFamilies[0] + ", " + l; else {
                for (r = e.testDiv.cloneNode(!0), this._testContainer.appendChild(r), document.body.appendChild(this._testContainer), i = 0; i < e.referenceFontFamilies.length; i++)r.style.fontFamily = e.referenceFontFamilies[i], e.referenceFontFamiliesSizes.push(new t(r.offsetWidth, r.offsetHeight));
                this._testContainer.parentNode.removeChild(this._testContainer), r.parentNode.removeChild(r), this._loadFonts()
            }
        }, _checkAdobeBlankSize: function () {
            var e = this._testContainer.firstChild;
            this._adobeBlankLoaded(e)
        }, _adobeBlankLoaded: function (n) {
            0 === n.offsetWidth && (e.referenceFontFamiliesSizes.push(new t(n.offsetWidth, n.offsetHeight)), null !== this._adobeBlankSizeWatcher ? (this._adobeBlankSizeWatcher.endWatching(), this._adobeBlankSizeWatcher.removeScrollWatchers(), this._adobeBlankSizeWatcher = null) : (window.clearInterval(this._intervalId), n.parentNode.removeChild(n)), this._testContainer.parentNode.removeChild(this._testContainer), this._loadFonts())
        }, _loadFonts: function () {
            var t, r, i, a, o = [], s = this;
            for (t = 0; t < this._numberOfFontFamilies; t++)if (this._fontsMap[this._fontFamiliesArray[t]] = !0, e.useResizeEvent)for (r = 0; r < e.referenceFontFamilies.length; r++)i = e.testDiv.cloneNode(!0), i.setAttribute("data-font-family", this._fontFamiliesArray[t]), i.setAttribute("data-ref-font-family-index", String(r)), i.style.fontFamily = e.referenceFontFamilies[r], this._testContainer.appendChild(i); else if (e.useIntervalChecking)for (r = 0; r < e.referenceFontFamilies.length; r++)i = e.testDiv.cloneNode(!0), i.setAttribute("data-font-family", this._fontFamiliesArray[t]), i.setAttribute("data-ref-font-family-index", String(r)), i.style.fontFamily = "'" + this._fontFamiliesArray[t] + "', " + e.referenceFontFamilies[r], this._testContainer.appendChild(i); else for (r = 0; r < e.referenceFontFamilies.length; r++)i = e.testDiv.cloneNode(!0), i.setAttribute("data-font-family", this._fontFamiliesArray[t]), i.setAttribute("data-ref-font-family-index", String(r)), i.style.fontFamily = e.referenceFontFamilies[r], a = new n(i, {
                container: this._testContainer,
                delegate: this,
                size: e.referenceFontFamiliesSizes[r],
                direction: n.directions.increase,
                dimension: n.dimensions.horizontal
            }), o.push(a);
            if (document.body.appendChild(this._testContainer), e.useResizeEvent) {
                for (r = 0; r < this._testContainer.childNodes.length; r++)i = this._testContainer.childNodes[r], i.attachEvent("onresize", function (e, t) {
                    return function () {
                        e._elementSizeChanged(t)
                    }
                }(this, i));
                window.setTimeout(function () {
                    for (r = 0; r < s._testContainer.childNodes.length; r++)i = s._testContainer.childNodes[r], i.style.fontFamily = "'" + i.getAttribute("data-font-family") + "', " + e.referenceFontFamilies[i.getAttribute("data-ref-font-family-index")]
                }, 0)
            } else if (e.useIntervalChecking)this._intervalId = window.setInterval(function () {
                s._checkSizes()
            }, this._intervalDelay), this._checkSizes(); else {
                for (t = 0; t < this._numberOfFontFamilies * e.referenceFontFamilies.length; t++)a = o[t], a.prepareForWatch();
                for (t = 0; t < this._numberOfFontFamilies * e.referenceFontFamilies.length; t++)a = o[t], a.beginWatching(), i = a.getWatchedElement(), i.style.fontFamily = "'" + i.getAttribute("data-font-family") + "', " + e.referenceFontFamilies[i.getAttribute("data-ref-font-family-index")]
            }
        }, _checkSizes: function () {
            var n, r, i, a;
            for (n = this._testContainer.childNodes.length - 1; n >= 0; n--)r = this._testContainer.childNodes[n], i = new t(r.offsetWidth, r.offsetHeight), a = e.referenceFontFamiliesSizes[r.getAttribute("data-ref-font-family-index")], a.isEqual(i) || (r.parentNode.removeChild(r), this._elementSizeChanged(r))
        }, _elementSizeChanged: function (e) {
            var t = e.getAttribute("data-font-family");
            this._finished || "undefined" != typeof this._fontsMap[t] && (this._numberOfLoadedFonts++, delete this._fontsMap[t], this.delegate && "function" == typeof this.delegate.fontLoaded && this.delegate.fontLoaded(t), this._numberOfLoadedFonts === this._numberOfFontFamilies && this._finish())
        }, _finish: function () {
            var e, t, n = [];
            if (!this._finished) {
                if (this._finished = !0, null !== this._adobeBlankSizeWatcher && (this._adobeBlankSizeWatcher = null), null !== this._testContainer && this._testContainer.parentNode.removeChild(this._testContainer), null !== this._timeoutId && window.clearTimeout(this._timeoutId), null !== this._intervalId && window.clearInterval(this._intervalId), this._numberOfLoadedFonts < this._numberOfFontFamilies) {
                    for (t in this._fontsMap)this._fontsMap.hasOwnProperty(t) && n.push(t);
                    e = {message: "Not all fonts were loaded", notLoadedFontFamilies: n}
                } else e = null;
                this.delegate && "function" == typeof this.delegate.fontsLoaded && this.delegate.fontsLoaded(e)
            }
        }, sizeWatcherChangedSize: function (e) {
            var t = e.getWatchedElement();
            e === this._adobeBlankSizeWatcher ? this._adobeBlankLoaded(t) : this._elementSizeChanged(t)
        }
    }, t.prototype.isEqual = function (e) {
        return this.width === e.width && this.height === e.height
    }, n.states = {
        initialized: 0,
        generatedScrollWatchers: 1,
        appendedScrollWatchers: 2,
        preparedScrollWatchers: 3,
        watchingForSizeChange: 4
    }, n.directions = {decrease: 1, increase: 2, both: 3}, n.dimensions = {
        horizontal: 1,
        vertical: 2,
        both: 3
    }, n.prototype = {
        constructor: n, getWatchedElement: function () {
            return this._element
        }, setSize: function (e) {
            this._size = e, this._direction & n.directions.increase && (this._sizeIncreaseWatcherContentElm.style.cssText = "width: " + (e.width + this._scrollAmount) + "px; height: " + (e.height + this._scrollAmount) + "px;"), this._direction & n.directions.decrease && (this._sizeDecreaseWatcherElm.style.cssText = "position:absolute; left: 0px; top: 0px; overflow: hidden; width: " + (e.width - this._scrollAmount) + "px; height: " + (e.height - this._scrollAmount) + "px;")
        }, _generateScrollWatchers: function (e) {
            this._element.style.position = "absolute", this._direction & n.directions.increase && (this._sizeIncreaseWatcherContentElm = document.createElement("div"), this._sizeIncreaseWatcherElm = document.createElement("div"), this._sizeIncreaseWatcherElm.style.cssText = "position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden;", this._sizeIncreaseWatcherElm.appendChild(this._sizeIncreaseWatcherContentElm), this._element.appendChild(this._sizeIncreaseWatcherElm)), this._direction & n.directions.decrease && (this._sizeDecreaseWatcherElm = document.createElement("div"), this._sizeDecreaseWatcherElm.appendChild(this._element)), e && this.setSize(e), this._state = n.states.generatedScrollWatchers
        }, _appendScrollWatchersToElement: function (e) {
            if (this._state !== n.states.generatedScrollWatchers)throw new Error("SizeWatcher._appendScrollWatchersToElement() was invoked before SizeWatcher._generateScrollWatchers()");
            e.appendChild(this._direction & n.directions.decrease ? this._sizeDecreaseWatcherElm : this._element), this._state = n.states.appendedScrollWatchers
        }, removeScrollWatchers: function () {
            this._direction & n.directions.decrease ? this._sizeDecreaseWatcherElm.parentNode && this._sizeDecreaseWatcherElm.parentNode.removeChild(this._sizeDecreaseWatcherElm) : this._element.parentNode && this._element.parentNode.removeChild(this._element)
        }, prepareForWatch: function () {
            var e, r = !0, i = !0;
            if (this._state !== n.states.appendedScrollWatchers)throw new Error("SizeWatcher.prepareForWatch() invoked before SizeWatcher._appendScrollWatchersToElement()");
            if (null === this._size && this.setSize(new t(this._element.offsetWidth, this._element.offsetHeight)), this._direction & n.directions.decrease && (r = this._scrollElementToBottomRight(this._sizeDecreaseWatcherElm)), this._direction & n.directions.increase && (i = this._scrollElementToBottomRight(this._sizeIncreaseWatcherElm)), !r || !i) {
                for (e = this._element.parentNode; e !== window.document && null !== e;)e = e.parentNode;
                if (null === e)throw new Error("Can't set scroll position of scroll watchers. SizeWatcher is not in the DOM tree.");
                console && "function" == typeof console.warn && console.warn("SizeWatcher can't set scroll position of scroll watchers.")
            }
            this._state = n.states.preparedScrollWatchers
        }, _scrollElementToBottomRight: function (e) {
            var t = !0;
            return this._dimension & n.dimensions.vertical && (e.scrollTop = this._scrollAmount, t = t && e.scrollTop > 0), this._dimension & n.dimensions.horizontal && (e.scrollLeft = this._scrollAmount, t = t && e.scrollLeft > 0), t
        }, beginWatching: function () {
            if (this._state !== n.states.preparedScrollWatchers)throw new Error("SizeWatcher.beginWatching() invoked before SizeWatcher.prepareForWatch()");
            this._direction & n.directions.decrease && this._sizeDecreaseWatcherElm.addEventListener("scroll", this, !1), this._direction & n.directions.increase && this._sizeIncreaseWatcherElm.addEventListener("scroll", this, !1), this._state = n.states.watchingForSizeChange
        }, endWatching: function () {
            if (this._state !== n.states.watchingForSizeChange)throw new Error("SizeWatcher.endWatching() invoked before SizeWatcher.beginWatching()");
            this._direction & n.directions.decrease && this._sizeDecreaseWatcherElm.removeEventListener("scroll", this, !1), this._direction & n.directions.increase && this._sizeIncreaseWatcherElm.removeEventListener("scroll", this, !1), this._state = n.states.appendedScrollWatchers
        }, handleEvent: function () {
            var e, r;
            this._state === n.states.watchingForSizeChange && (e = new t(this._element.offsetWidth, this._element.offsetHeight), r = this._size, r.isEqual(e) || this._delegate && "function" == typeof this._delegate.sizeWatcherChangedSize && (this._delegate.sizeWatcherChangedSize(this), this._state !== n.states.watchingForSizeChange) || (this._continuous ? (this.setSize(e), this._state = n.states.appendedScrollWatchers, this.prepareForWatch(), this._state = n.states.watchingForSizeChange) : this.endWatching()))
        }
    }, e
}), function (e) {
    function t(e, t, n) {
        switch (arguments.length) {
            case 2:
                return null != e ? e : t;
            case 3:
                return null != e ? e : null != t ? t : n;
            default:
                throw new Error("Implement me")
        }
    }

    function n(e, t) {
        return Ct.call(e, t)
    }

    function r() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        }
    }

    function i(e) {
        yt.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
    }

    function a(e, t) {
        var n = !0;
        return A(function () {
            return n && (i(e), n = !1), t.apply(this, arguments)
        }, t)
    }

    function o(e, t) {
        gn[e] || (i(t), gn[e] = !0)
    }

    function s(e, t) {
        return function (n) {
            return p(e.call(this, n), t)
        }
    }

    function l(e, t) {
        return function (n) {
            return this.localeData().ordinal(e.call(this, n), t)
        }
    }

    function u() {
    }

    function h(e, t) {
        t !== !1 && S(e), f(this, e), this._d = new Date(+e._d)
    }

    function c(e) {
        var t = T(e), n = t.year || 0, r = t.quarter || 0, i = t.month || 0, a = t.week || 0, o = t.day || 0, s = t.hour || 0, l = t.minute || 0, u = t.second || 0, h = t.millisecond || 0;
        this._milliseconds = +h + 1e3 * u + 6e4 * l + 36e5 * s, this._days = +o + 7 * a, this._months = +i + 3 * r + 12 * n, this._data = {}, this._locale = yt.localeData(), this._bubble()
    }

    function A(e, t) {
        for (var r in t)n(t, r) && (e[r] = t[r]);
        return n(t, "toString") && (e.toString = t.toString), n(t, "valueOf") && (e.valueOf = t.valueOf), e
    }

    function f(e, t) {
        var n, r, i;
        if ("undefined" != typeof t._isAMomentObject && (e._isAMomentObject = t._isAMomentObject), "undefined" != typeof t._i && (e._i = t._i), "undefined" != typeof t._f && (e._f = t._f), "undefined" != typeof t._l && (e._l = t._l), "undefined" != typeof t._strict && (e._strict = t._strict), "undefined" != typeof t._tzm && (e._tzm = t._tzm), "undefined" != typeof t._isUTC && (e._isUTC = t._isUTC), "undefined" != typeof t._offset && (e._offset = t._offset), "undefined" != typeof t._pf && (e._pf = t._pf), "undefined" != typeof t._locale && (e._locale = t._locale), kt.length > 0)for (n in kt)r = kt[n], i = t[r], "undefined" != typeof i && (e[r] = i);
        return e
    }

    function d(e) {
        return 0 > e ? Math.ceil(e) : Math.floor(e)
    }

    function p(e, t, n) {
        for (var r = "" + Math.abs(e), i = e >= 0; r.length < t;)r = "0" + r;
        return (i ? n ? "+" : "" : "-") + r
    }

    function m(e, t) {
        var n = {milliseconds: 0, months: 0};
        return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n
    }

    function g(e, t) {
        var n;
        return t = P(t, e), e.isBefore(t) ? n = m(e, t) : (n = m(t, e), n.milliseconds = -n.milliseconds, n.months = -n.months), n
    }

    function v(e, t) {
        return function (n, r) {
            var i, a;
            return null === r || isNaN(+r) || (o(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period)."), a = n, n = r, r = a), n = "string" == typeof n ? +n : n, i = yt.duration(n, r), y(this, i, e), this
        }
    }

    function y(e, t, n, r) {
        var i = t._milliseconds, a = t._days, o = t._months;
        r = null == r ? !0 : r, i && e._d.setTime(+e._d + i * n), a && ft(e, "Date", At(e, "Date") + a * n), o && ct(e, At(e, "Month") + o * n), r && yt.updateOffset(e, a || o)
    }

    function E(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }

    function b(e) {
        return "[object Date]" === Object.prototype.toString.call(e) || e instanceof Date
    }

    function x(e, t, n) {
        var r, i = Math.min(e.length, t.length), a = Math.abs(e.length - t.length), o = 0;
        for (r = 0; i > r; r++)(n && e[r] !== t[r] || !n && R(e[r]) !== R(t[r])) && o++;
        return o + a
    }

    function w(e) {
        if (e) {
            var t = e.toLowerCase().replace(/(.)s$/, "$1");
            e = hn[e] || cn[t] || t
        }
        return e
    }

    function T(e) {
        var t, r, i = {};
        for (r in e)n(e, r) && (t = w(r), t && (i[t] = e[r]));
        return i
    }

    function C(t) {
        var n, r;
        if (0 === t.indexOf("week"))n = 7, r = "day"; else {
            if (0 !== t.indexOf("month"))return;
            n = 12, r = "month"
        }
        yt[t] = function (i, a) {
            var o, s, l = yt._locale[t], u = [];
            if ("number" == typeof i && (a = i, i = e), s = function (e) {
                    var t = yt().utc().set(r, e);
                    return l.call(yt._locale, t, i || "")
                }, null != a)return s(a);
            for (o = 0; n > o; o++)u.push(s(o));
            return u
        }
    }

    function R(e) {
        var t = +e, n = 0;
        return 0 !== t && isFinite(t) && (n = t >= 0 ? Math.floor(t) : Math.ceil(t)), n
    }

    function _(e, t) {
        return new Date(Date.UTC(e, t + 1, 0)).getUTCDate()
    }

    function B(e, t, n) {
        return st(yt([e, 11, 31 + t - n]), t, n).week
    }

    function M(e) {
        return H(e) ? 366 : 365
    }

    function H(e) {
        return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
    }

    function S(e) {
        var t;
        e._a && -2 === e._pf.overflow && (t = e._a[_t] < 0 || e._a[_t] > 11 ? _t : e._a[Bt] < 1 || e._a[Bt] > _(e._a[Rt], e._a[_t]) ? Bt : e._a[Mt] < 0 || e._a[Mt] > 23 ? Mt : e._a[Ht] < 0 || e._a[Ht] > 59 ? Ht : e._a[St] < 0 || e._a[St] > 59 ? St : e._a[Dt] < 0 || e._a[Dt] > 999 ? Dt : -1, e._pf._overflowDayOfYear && (Rt > t || t > Bt) && (t = Bt), e._pf.overflow = t)
    }

    function D(e) {
        return null == e._isValid && (e._isValid = !isNaN(e._d.getTime()) && e._pf.overflow < 0 && !e._pf.empty && !e._pf.invalidMonth && !e._pf.nullInput && !e._pf.invalidFormat && !e._pf.userInvalidated, e._strict && (e._isValid = e._isValid && 0 === e._pf.charsLeftOver && 0 === e._pf.unusedTokens.length)), e._isValid
    }

    function F(e) {
        return e ? e.toLowerCase().replace("_", "-") : e
    }

    function k(e) {
        for (var t, n, r, i, a = 0; a < e.length;) {
            for (i = F(e[a]).split("-"), t = i.length, n = F(e[a + 1]), n = n ? n.split("-") : null; t > 0;) {
                if (r = O(i.slice(0, t).join("-")))return r;
                if (n && n.length >= t && x(i, n, !0) >= t - 1)break;
                t--
            }
            a++
        }
        return null
    }

    function O(e) {
        var t = null;
        if (!Ft[e] && Ot)try {
            t = yt.locale(), require("./locale/" + e), yt.locale(t)
        } catch (n) {
        }
        return Ft[e]
    }

    function P(e, t) {
        return t._isUTC ? yt(e).zone(t._offset || 0) : yt(e).local()
    }

    function L(e) {
        return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "")
    }

    function z(e) {
        var t, n, r = e.match(It);
        for (t = 0, n = r.length; n > t; t++)r[t] = mn[r[t]] ? mn[r[t]] : L(r[t]);
        return function (i) {
            var a = "";
            for (t = 0; n > t; t++)a += r[t] instanceof Function ? r[t].call(i, e) : r[t];
            return a
        }
    }

    function I(e, t) {
        return e.isValid() ? (t = G(t, e.localeData()), An[t] || (An[t] = z(t)), An[t](e)) : e.localeData().invalidDate()
    }

    function G(e, t) {
        function n(e) {
            return t.longDateFormat(e) || e
        }

        var r = 5;
        for (Gt.lastIndex = 0; r >= 0 && Gt.test(e);)e = e.replace(Gt, n), Gt.lastIndex = 0, r -= 1;
        return e
    }

    function N(e, t) {
        var n, r = t._strict;
        switch (e) {
            case"Q":
                return Kt;
            case"DDDD":
                return Jt;
            case"YYYY":
            case"GGGG":
            case"gggg":
                return r ? en : Ut;
            case"Y":
            case"G":
            case"g":
                return nn;
            case"YYYYYY":
            case"YYYYY":
            case"GGGGG":
            case"ggggg":
                return r ? tn : jt;
            case"S":
                if (r)return Kt;
            case"SS":
                if (r)return $t;
            case"SSS":
                if (r)return Jt;
            case"DDD":
                return Vt;
            case"MMM":
            case"MMMM":
            case"dd":
            case"ddd":
            case"dddd":
                return Wt;
            case"a":
            case"A":
                return t._locale._meridiemParse;
            case"X":
                return Xt;
            case"Z":
            case"ZZ":
                return Yt;
            case"T":
                return qt;
            case"SSSS":
                return Qt;
            case"MM":
            case"DD":
            case"YY":
            case"GG":
            case"gg":
            case"HH":
            case"hh":
            case"mm":
            case"ss":
            case"ww":
            case"WW":
                return r ? $t : Nt;
            case"M":
            case"D":
            case"d":
            case"H":
            case"h":
            case"m":
            case"s":
            case"w":
            case"W":
            case"e":
            case"E":
                return Nt;
            case"Do":
                return Zt;
            default:
                return n = new RegExp(Z(X(e.replace("\\", "")), "i"))
        }
    }

    function V(e) {
        e = e || "";
        var t = e.match(Yt) || [], n = t[t.length - 1] || [], r = (n + "").match(ln) || ["-", 0, 0], i = +(60 * r[1]) + R(r[2]);
        return "+" === r[0] ? -i : i
    }

    function U(e, t, n) {
        var r, i = n._a;
        switch (e) {
            case"Q":
                null != t && (i[_t] = 3 * (R(t) - 1));
                break;
            case"M":
            case"MM":
                null != t && (i[_t] = R(t) - 1);
                break;
            case"MMM":
            case"MMMM":
                r = n._locale.monthsParse(t), null != r ? i[_t] = r : n._pf.invalidMonth = t;
                break;
            case"D":
            case"DD":
                null != t && (i[Bt] = R(t));
                break;
            case"Do":
                null != t && (i[Bt] = R(parseInt(t, 10)));
                break;
            case"DDD":
            case"DDDD":
                null != t && (n._dayOfYear = R(t));
                break;
            case"YY":
                i[Rt] = yt.parseTwoDigitYear(t);
                break;
            case"YYYY":
            case"YYYYY":
            case"YYYYYY":
                i[Rt] = R(t);
                break;
            case"a":
            case"A":
                n._isPm = n._locale.isPM(t);
                break;
            case"H":
            case"HH":
            case"h":
            case"hh":
                i[Mt] = R(t);
                break;
            case"m":
            case"mm":
                i[Ht] = R(t);
                break;
            case"s":
            case"ss":
                i[St] = R(t);
                break;
            case"S":
            case"SS":
            case"SSS":
            case"SSSS":
                i[Dt] = R(1e3 * ("0." + t));
                break;
            case"X":
                n._d = new Date(1e3 * parseFloat(t));
                break;
            case"Z":
            case"ZZ":
                n._useUTC = !0, n._tzm = V(t);
                break;
            case"dd":
            case"ddd":
            case"dddd":
                r = n._locale.weekdaysParse(t), null != r ? (n._w = n._w || {}, n._w.d = r) : n._pf.invalidWeekday = t;
                break;
            case"w":
            case"ww":
            case"W":
            case"WW":
            case"d":
            case"e":
            case"E":
                e = e.substr(0, 1);
            case"gggg":
            case"GGGG":
            case"GGGGG":
                e = e.substr(0, 2), t && (n._w = n._w || {}, n._w[e] = R(t));
                break;
            case"gg":
            case"GG":
                n._w = n._w || {}, n._w[e] = yt.parseTwoDigitYear(t)
        }
    }

    function j(e) {
        var n, r, i, a, o, s, l;
        n = e._w, null != n.GG || null != n.W || null != n.E ? (o = 1, s = 4, r = t(n.GG, e._a[Rt], st(yt(), 1, 4).year), i = t(n.W, 1), a = t(n.E, 1)) : (o = e._locale._week.dow, s = e._locale._week.doy, r = t(n.gg, e._a[Rt], st(yt(), o, s).year), i = t(n.w, 1), null != n.d ? (a = n.d, o > a && ++i) : a = null != n.e ? n.e + o : o), l = lt(r, i, a, s, o), e._a[Rt] = l.year, e._dayOfYear = l.dayOfYear
    }

    function Q(e) {
        var n, r, i, a, o = [];
        if (!e._d) {
            for (i = Y(e), e._w && null == e._a[Bt] && null == e._a[_t] && j(e), e._dayOfYear && (a = t(e._a[Rt], i[Rt]), e._dayOfYear > M(a) && (e._pf._overflowDayOfYear = !0), r = rt(a, 0, e._dayOfYear), e._a[_t] = r.getUTCMonth(), e._a[Bt] = r.getUTCDate()), n = 0; 3 > n && null == e._a[n]; ++n)e._a[n] = o[n] = i[n];
            for (; 7 > n; n++)e._a[n] = o[n] = null == e._a[n] ? 2 === n ? 1 : 0 : e._a[n];
            e._d = (e._useUTC ? rt : nt).apply(null, o), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() + e._tzm)
        }
    }

    function W(e) {
        var t;
        e._d || (t = T(e._i), e._a = [t.year, t.month, t.day, t.hour, t.minute, t.second, t.millisecond], Q(e))
    }

    function Y(e) {
        var t = new Date;
        return e._useUTC ? [t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()] : [t.getFullYear(), t.getMonth(), t.getDate()]
    }

    function q(e) {
        if (e._f === yt.ISO_8601)return void $(e);
        e._a = [], e._pf.empty = !0;
        var t, n, r, i, a, o = "" + e._i, s = o.length, l = 0;
        for (r = G(e._f, e._locale).match(It) || [], t = 0; t < r.length; t++)i = r[t], n = (o.match(N(i, e)) || [])[0], n && (a = o.substr(0, o.indexOf(n)), a.length > 0 && e._pf.unusedInput.push(a), o = o.slice(o.indexOf(n) + n.length), l += n.length), mn[i] ? (n ? e._pf.empty = !1 : e._pf.unusedTokens.push(i), U(i, n, e)) : e._strict && !n && e._pf.unusedTokens.push(i);
        e._pf.charsLeftOver = s - l, o.length > 0 && e._pf.unusedInput.push(o), e._isPm && e._a[Mt] < 12 && (e._a[Mt] += 12), e._isPm === !1 && 12 === e._a[Mt] && (e._a[Mt] = 0), Q(e), S(e)
    }

    function X(e) {
        return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (e, t, n, r, i) {
            return t || n || r || i
        })
    }

    function Z(e) {
        return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }

    function K(e) {
        var t, n, i, a, o;
        if (0 === e._f.length)return e._pf.invalidFormat = !0, void(e._d = new Date(0 / 0));
        for (a = 0; a < e._f.length; a++)o = 0, t = f({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._pf = r(), t._f = e._f[a], q(t), D(t) && (o += t._pf.charsLeftOver, o += 10 * t._pf.unusedTokens.length, t._pf.score = o, (null == i || i > o) && (i = o, n = t));
        A(e, n || t)
    }

    function $(e) {
        var t, n, r = e._i, i = rn.exec(r);
        if (i) {
            for (e._pf.iso = !0, t = 0, n = on.length; n > t; t++)if (on[t][1].exec(r)) {
                e._f = on[t][0] + (i[6] || " ");
                break
            }
            for (t = 0, n = sn.length; n > t; t++)if (sn[t][1].exec(r)) {
                e._f += sn[t][0];
                break
            }
            r.match(Yt) && (e._f += "Z"), q(e)
        } else e._isValid = !1
    }

    function J(e) {
        $(e), e._isValid === !1 && (delete e._isValid, yt.createFromInputFallback(e))
    }

    function et(e, t) {
        var n, r = [];
        for (n = 0; n < e.length; ++n)r.push(t(e[n], n));
        return r
    }

    function tt(t) {
        var n, r = t._i;
        r === e ? t._d = new Date : b(r) ? t._d = new Date(+r) : null !== (n = Pt.exec(r)) ? t._d = new Date(+n[1]) : "string" == typeof r ? J(t) : E(r) ? (t._a = et(r.slice(0), function (e) {
            return parseInt(e, 10)
        }), Q(t)) : "object" == typeof r ? W(t) : "number" == typeof r ? t._d = new Date(r) : yt.createFromInputFallback(t)
    }

    function nt(e, t, n, r, i, a, o) {
        var s = new Date(e, t, n, r, i, a, o);
        return 1970 > e && s.setFullYear(e), s
    }

    function rt(e) {
        var t = new Date(Date.UTC.apply(null, arguments));
        return 1970 > e && t.setUTCFullYear(e), t
    }

    function it(e, t) {
        if ("string" == typeof e)if (isNaN(e)) {
            if (e = t.weekdaysParse(e), "number" != typeof e)return null
        } else e = parseInt(e, 10);
        return e
    }

    function at(e, t, n, r, i) {
        return i.relativeTime(t || 1, !!n, e, r)
    }

    function ot(e, t, n) {
        var r = yt.duration(e).abs(), i = Tt(r.as("s")), a = Tt(r.as("m")), o = Tt(r.as("h")), s = Tt(r.as("d")), l = Tt(r.as("M")), u = Tt(r.as("y")), h = i < fn.s && ["s", i] || 1 === a && ["m"] || a < fn.m && ["mm", a] || 1 === o && ["h"] || o < fn.h && ["hh", o] || 1 === s && ["d"] || s < fn.d && ["dd", s] || 1 === l && ["M"] || l < fn.M && ["MM", l] || 1 === u && ["y"] || ["yy", u];
        return h[2] = t, h[3] = +e > 0, h[4] = n, at.apply({}, h)
    }

    function st(e, t, n) {
        var r, i = n - t, a = n - e.day();
        return a > i && (a -= 7), i - 7 > a && (a += 7), r = yt(e).add(a, "d"), {
            week: Math.ceil(r.dayOfYear() / 7),
            year: r.year()
        }
    }

    function lt(e, t, n, r, i) {
        var a, o, s = rt(e, 0, 1).getUTCDay();
        return s = 0 === s ? 7 : s, n = null != n ? n : i, a = i - s + (s > r ? 7 : 0) - (i > s ? 7 : 0), o = 7 * (t - 1) + (n - i) + a + 1, {
            year: o > 0 ? e : e - 1,
            dayOfYear: o > 0 ? o : M(e - 1) + o
        }
    }

    function ut(t) {
        var n = t._i, r = t._f;
        return t._locale = t._locale || yt.localeData(t._l), null === n || r === e && "" === n ? yt.invalid({nullInput: !0}) : ("string" == typeof n && (t._i = n = t._locale.preparse(n)), yt.isMoment(n) ? new h(n, !0) : (r ? E(r) ? K(t) : q(t) : tt(t), new h(t)))
    }

    function ht(e, t) {
        var n, r;
        if (1 === t.length && E(t[0]) && (t = t[0]), !t.length)return yt();
        for (n = t[0], r = 1; r < t.length; ++r)t[r][e](n) && (n = t[r]);
        return n
    }

    function ct(e, t) {
        var n;
        return "string" == typeof t && (t = e.localeData().monthsParse(t), "number" != typeof t) ? e : (n = Math.min(e.date(), _(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e)
    }

    function At(e, t) {
        return e._d["get" + (e._isUTC ? "UTC" : "") + t]()
    }

    function ft(e, t, n) {
        return "Month" === t ? ct(e, n) : e._d["set" + (e._isUTC ? "UTC" : "") + t](n)
    }

    function dt(e, t) {
        return function (n) {
            return null != n ? (ft(this, e, n), yt.updateOffset(this, t), this) : At(this, e)
        }
    }

    function pt(e) {
        return 400 * e / 146097
    }

    function mt(e) {
        return 146097 * e / 400
    }

    function gt(e) {
        yt.duration.fn[e] = function () {
            return this._data[e]
        }
    }

    function vt(e) {
        "undefined" == typeof ender && (Et = wt.moment, wt.moment = e ? a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.", yt) : yt)
    }

    for (var yt, Et, bt, xt = "2.8.3", wt = "undefined" != typeof global ? global : this, Tt = Math.round, Ct = Object.prototype.hasOwnProperty, Rt = 0, _t = 1, Bt = 2, Mt = 3, Ht = 4, St = 5, Dt = 6, Ft = {}, kt = [], Ot = "undefined" != typeof module && module.exports, Pt = /^\/?Date\((\-?\d+)/i, Lt = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, zt = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, It = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g, Gt = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, Nt = /\d\d?/, Vt = /\d{1,3}/, Ut = /\d{1,4}/, jt = /[+\-]?\d{1,6}/, Qt = /\d+/, Wt = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Yt = /Z|[\+\-]\d\d:?\d\d/gi, qt = /T/i, Xt = /[\+\-]?\d+(\.\d{1,3})?/, Zt = /\d{1,2}/, Kt = /\d/, $t = /\d\d/, Jt = /\d{3}/, en = /\d{4}/, tn = /[+-]?\d{6}/, nn = /[+-]?\d+/, rn = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, an = "YYYY-MM-DDTHH:mm:ssZ", on = [["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/], ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/], ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/], ["GGGG-[W]WW", /\d{4}-W\d{2}/], ["YYYY-DDD", /\d{4}-\d{3}/]], sn = [["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], ln = /([\+\-]|\d\d)/gi, un = ("Date|Hours|Minutes|Seconds|Milliseconds".split("|"), {
        Milliseconds: 1,
        Seconds: 1e3,
        Minutes: 6e4,
        Hours: 36e5,
        Days: 864e5,
        Months: 2592e6,
        Years: 31536e6
    }), hn = {
        ms: "millisecond",
        s: "second",
        m: "minute",
        h: "hour",
        d: "day",
        D: "date",
        w: "week",
        W: "isoWeek",
        M: "month",
        Q: "quarter",
        y: "year",
        DDD: "dayOfYear",
        e: "weekday",
        E: "isoWeekday",
        gg: "weekYear",
        GG: "isoWeekYear"
    }, cn = {
        dayofyear: "dayOfYear",
        isoweekday: "isoWeekday",
        isoweek: "isoWeek",
        weekyear: "weekYear",
        isoweekyear: "isoWeekYear"
    }, An = {}, fn = {
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        M: 11
    }, dn = "DDD w W M D d".split(" "), pn = "M D H h m s w W".split(" "), mn = {
        M: function () {
            return this.month() + 1
        }, MMM: function (e) {
            return this.localeData().monthsShort(this, e)
        }, MMMM: function (e) {
            return this.localeData().months(this, e)
        }, D: function () {
            return this.date()
        }, DDD: function () {
            return this.dayOfYear()
        }, d: function () {
            return this.day()
        }, dd: function (e) {
            return this.localeData().weekdaysMin(this, e)
        }, ddd: function (e) {
            return this.localeData().weekdaysShort(this, e)
        }, dddd: function (e) {
            return this.localeData().weekdays(this, e)
        }, w: function () {
            return this.week()
        }, W: function () {
            return this.isoWeek()
        }, YY: function () {
            return p(this.year() % 100, 2)
        }, YYYY: function () {
            return p(this.year(), 4)
        }, YYYYY: function () {
            return p(this.year(), 5)
        }, YYYYYY: function () {
            var e = this.year(), t = e >= 0 ? "+" : "-";
            return t + p(Math.abs(e), 6)
        }, gg: function () {
            return p(this.weekYear() % 100, 2)
        }, gggg: function () {
            return p(this.weekYear(), 4)
        }, ggggg: function () {
            return p(this.weekYear(), 5)
        }, GG: function () {
            return p(this.isoWeekYear() % 100, 2)
        }, GGGG: function () {
            return p(this.isoWeekYear(), 4)
        }, GGGGG: function () {
            return p(this.isoWeekYear(), 5)
        }, e: function () {
            return this.weekday()
        }, E: function () {
            return this.isoWeekday()
        }, a: function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), !0)
        }, A: function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), !1)
        }, H: function () {
            return this.hours()
        }, h: function () {
            return this.hours() % 12 || 12
        }, m: function () {
            return this.minutes()
        }, s: function () {
            return this.seconds()
        }, S: function () {
            return R(this.milliseconds() / 100)
        }, SS: function () {
            return p(R(this.milliseconds() / 10), 2)
        }, SSS: function () {
            return p(this.milliseconds(), 3)
        }, SSSS: function () {
            return p(this.milliseconds(), 3)
        }, Z: function () {
            var e = -this.zone(), t = "+";
            return 0 > e && (e = -e, t = "-"), t + p(R(e / 60), 2) + ":" + p(R(e) % 60, 2)
        }, ZZ: function () {
            var e = -this.zone(), t = "+";
            return 0 > e && (e = -e, t = "-"), t + p(R(e / 60), 2) + p(R(e) % 60, 2)
        }, z: function () {
            return this.zoneAbbr()
        }, zz: function () {
            return this.zoneName()
        }, X: function () {
            return this.unix()
        }, Q: function () {
            return this.quarter()
        }
    }, gn = {}, vn = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"]; dn.length;)bt = dn.pop(), mn[bt + "o"] = l(mn[bt], bt);
    for (; pn.length;)bt = pn.pop(), mn[bt + bt] = s(mn[bt], 2);
    mn.DDDD = s(mn.DDD, 3), A(u.prototype, {
        set: function (e) {
            var t, n;
            for (n in e)t = e[n], "function" == typeof t ? this[n] = t : this["_" + n] = t
        },
        _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months: function (e) {
            return this._months[e.month()]
        },
        _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort: function (e) {
            return this._monthsShort[e.month()]
        },
        monthsParse: function (e) {
            var t, n, r;
            for (this._monthsParse || (this._monthsParse = []), t = 0; 12 > t; t++)if (this._monthsParse[t] || (n = yt.utc([2e3, t]), r = "^" + this.months(n, "") + "|^" + this.monthsShort(n, ""), this._monthsParse[t] = new RegExp(r.replace(".", ""), "i")), this._monthsParse[t].test(e))return t
        },
        _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays: function (e) {
            return this._weekdays[e.day()]
        },
        _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort: function (e) {
            return this._weekdaysShort[e.day()]
        },
        _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin: function (e) {
            return this._weekdaysMin[e.day()]
        },
        weekdaysParse: function (e) {
            var t, n, r;
            for (this._weekdaysParse || (this._weekdaysParse = []), t = 0; 7 > t; t++)if (this._weekdaysParse[t] || (n = yt([2e3, 1]).day(t), r = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""), this._weekdaysParse[t] = new RegExp(r.replace(".", ""), "i")), this._weekdaysParse[t].test(e))return t
        },
        _longDateFormat: {
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D, YYYY",
            LLL: "MMMM D, YYYY LT",
            LLLL: "dddd, MMMM D, YYYY LT"
        },
        longDateFormat: function (e) {
            var t = this._longDateFormat[e];
            return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (e) {
                return e.slice(1)
            }), this._longDateFormat[e] = t), t
        },
        isPM: function (e) {
            return "p" === (e + "").toLowerCase().charAt(0)
        },
        _meridiemParse: /[ap]\.?m?\.?/i,
        meridiem: function (e, t, n) {
            return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
        },
        _calendar: {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        calendar: function (e, t) {
            var n = this._calendar[e];
            return "function" == typeof n ? n.apply(t) : n
        },
        _relativeTime: {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        relativeTime: function (e, t, n, r) {
            var i = this._relativeTime[n];
            return "function" == typeof i ? i(e, t, n, r) : i.replace(/%d/i, e)
        },
        pastFuture: function (e, t) {
            var n = this._relativeTime[e > 0 ? "future" : "past"];
            return "function" == typeof n ? n(t) : n.replace(/%s/i, t)
        },
        ordinal: function (e) {
            return this._ordinal.replace("%d", e)
        },
        _ordinal: "%d",
        preparse: function (e) {
            return e
        },
        postformat: function (e) {
            return e
        },
        week: function (e) {
            return st(e, this._week.dow, this._week.doy).week
        },
        _week: {dow: 0, doy: 6},
        _invalidDate: "Invalid date",
        invalidDate: function () {
            return this._invalidDate
        }
    }), yt = function (t, n, i, a) {
        var o;
        return "boolean" == typeof i && (a = i, i = e), o = {}, o._isAMomentObject = !0, o._i = t, o._f = n, o._l = i, o._strict = a, o._isUTC = !1, o._pf = r(), ut(o)
    }, yt.suppressDeprecationWarnings = !1, yt.createFromInputFallback = a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function (e) {
        e._d = new Date(e._i)
    }), yt.min = function () {
        var e = [].slice.call(arguments, 0);
        return ht("isBefore", e)
    }, yt.max = function () {
        var e = [].slice.call(arguments, 0);
        return ht("isAfter", e)
    }, yt.utc = function (t, n, i, a) {
        var o;
        return "boolean" == typeof i && (a = i, i = e), o = {}, o._isAMomentObject = !0, o._useUTC = !0, o._isUTC = !0, o._l = i, o._i = t, o._f = n, o._strict = a, o._pf = r(), ut(o).utc()
    }, yt.unix = function (e) {
        return yt(1e3 * e)
    }, yt.duration = function (e, t) {
        var r, i, a, o, s = e, l = null;
        return yt.isDuration(e) ? s = {
            ms: e._milliseconds,
            d: e._days,
            M: e._months
        } : "number" == typeof e ? (s = {}, t ? s[t] = e : s.milliseconds = e) : (l = Lt.exec(e)) ? (r = "-" === l[1] ? -1 : 1, s = {
            y: 0,
            d: R(l[Bt]) * r,
            h: R(l[Mt]) * r,
            m: R(l[Ht]) * r,
            s: R(l[St]) * r,
            ms: R(l[Dt]) * r
        }) : (l = zt.exec(e)) ? (r = "-" === l[1] ? -1 : 1, a = function (e) {
            var t = e && parseFloat(e.replace(",", "."));
            return (isNaN(t) ? 0 : t) * r
        }, s = {
            y: a(l[2]),
            M: a(l[3]),
            d: a(l[4]),
            h: a(l[5]),
            m: a(l[6]),
            s: a(l[7]),
            w: a(l[8])
        }) : "object" == typeof s && ("from" in s || "to" in s) && (o = g(yt(s.from), yt(s.to)), s = {}, s.ms = o.milliseconds, s.M = o.months), i = new c(s), yt.isDuration(e) && n(e, "_locale") && (i._locale = e._locale), i
    }, yt.version = xt, yt.defaultFormat = an, yt.ISO_8601 = function () {
    }, yt.momentProperties = kt, yt.updateOffset = function () {
    }, yt.relativeTimeThreshold = function (t, n) {
        return fn[t] === e ? !1 : n === e ? fn[t] : (fn[t] = n, !0)
    }, yt.lang = a("moment.lang is deprecated. Use moment.locale instead.", function (e, t) {
        return yt.locale(e, t)
    }), yt.locale = function (e, t) {
        var n;
        return e && (n = "undefined" != typeof t ? yt.defineLocale(e, t) : yt.localeData(e), n && (yt.duration._locale = yt._locale = n)), yt._locale._abbr
    }, yt.defineLocale = function (e, t) {
        return null !== t ? (t.abbr = e, Ft[e] || (Ft[e] = new u), Ft[e].set(t), yt.locale(e), Ft[e]) : (delete Ft[e], null)
    }, yt.langData = a("moment.langData is deprecated. Use moment.localeData instead.", function (e) {
        return yt.localeData(e)
    }), yt.localeData = function (e) {
        var t;
        if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e)return yt._locale;
        if (!E(e)) {
            if (t = O(e))return t;
            e = [e]
        }
        return k(e)
    }, yt.isMoment = function (e) {
        return e instanceof h || null != e && n(e, "_isAMomentObject")
    }, yt.isDuration = function (e) {
        return e instanceof c
    };
    for (bt = vn.length - 1; bt >= 0; --bt)C(vn[bt]);
    yt.normalizeUnits = function (e) {
        return w(e)
    }, yt.invalid = function (e) {
        var t = yt.utc(0 / 0);
        return null != e ? A(t._pf, e) : t._pf.userInvalidated = !0, t
    }, yt.parseZone = function () {
        return yt.apply(null, arguments).parseZone()
    }, yt.parseTwoDigitYear = function (e) {
        return R(e) + (R(e) > 68 ? 1900 : 2e3)
    }, A(yt.fn = h.prototype, {
        clone: function () {
            return yt(this)
        },
        valueOf: function () {
            return +this._d + 6e4 * (this._offset || 0)
        },
        unix: function () {
            return Math.floor(+this / 1e3)
        },
        toString: function () {
            return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
        },
        toDate: function () {
            return this._offset ? new Date(+this) : this._d
        },
        toISOString: function () {
            var e = yt(this).utc();
            return 0 < e.year() && e.year() <= 9999 ? I(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : I(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
        },
        toArray: function () {
            var e = this;
            return [e.year(), e.month(), e.date(), e.hours(), e.minutes(), e.seconds(), e.milliseconds()]
        },
        isValid: function () {
            return D(this)
        },
        isDSTShifted: function () {
            return this._a ? this.isValid() && x(this._a, (this._isUTC ? yt.utc(this._a) : yt(this._a)).toArray()) > 0 : !1
        },
        parsingFlags: function () {
            return A({}, this._pf)
        },
        invalidAt: function () {
            return this._pf.overflow
        },
        utc: function (e) {
            return this.zone(0, e)
        },
        local: function (e) {
            return this._isUTC && (this.zone(0, e), this._isUTC = !1, e && this.add(this._dateTzOffset(), "m")), this
        },
        format: function (e) {
            var t = I(this, e || yt.defaultFormat);
            return this.localeData().postformat(t)
        },
        add: v(1, "add"),
        subtract: v(-1, "subtract"),
        diff: function (e, t, n) {
            var r, i, a, o = P(e, this), s = 6e4 * (this.zone() - o.zone());
            return t = w(t), "year" === t || "month" === t ? (r = 432e5 * (this.daysInMonth() + o.daysInMonth()), i = 12 * (this.year() - o.year()) + (this.month() - o.month()), a = this - yt(this).startOf("month") - (o - yt(o).startOf("month")), a -= 6e4 * (this.zone() - yt(this).startOf("month").zone() - (o.zone() - yt(o).startOf("month").zone())), i += a / r, "year" === t && (i /= 12)) : (r = this - o, i = "second" === t ? r / 1e3 : "minute" === t ? r / 6e4 : "hour" === t ? r / 36e5 : "day" === t ? (r - s) / 864e5 : "week" === t ? (r - s) / 6048e5 : r), n ? i : d(i)
        },
        from: function (e, t) {
            return yt.duration({to: this, from: e}).locale(this.locale()).humanize(!t)
        },
        fromNow: function (e) {
            return this.from(yt(), e)
        },
        calendar: function (e) {
            var t = e || yt(), n = P(t, this).startOf("day"), r = this.diff(n, "days", !0), i = -6 > r ? "sameElse" : -1 > r ? "lastWeek" : 0 > r ? "lastDay" : 1 > r ? "sameDay" : 2 > r ? "nextDay" : 7 > r ? "nextWeek" : "sameElse";
            return this.format(this.localeData().calendar(i, this))
        },
        isLeapYear: function () {
            return H(this.year())
        },
        isDST: function () {
            return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone()
        },
        day: function (e) {
            var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return null != e ? (e = it(e, this.localeData()), this.add(e - t, "d")) : t
        },
        month: dt("Month", !0),
        startOf: function (e) {
            switch (e = w(e)) {
                case"year":
                    this.month(0);
                case"quarter":
                case"month":
                    this.date(1);
                case"week":
                case"isoWeek":
                case"day":
                    this.hours(0);
                case"hour":
                    this.minutes(0);
                case"minute":
                    this.seconds(0);
                case"second":
                    this.milliseconds(0)
            }
            return "week" === e ? this.weekday(0) : "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this
        },
        endOf: function (e) {
            return e = w(e), this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms")
        },
        isAfter: function (e, t) {
            return t = w("undefined" != typeof t ? t : "millisecond"), "millisecond" === t ? (e = yt.isMoment(e) ? e : yt(e), +this > +e) : +this.clone().startOf(t) > +yt(e).startOf(t)
        },
        isBefore: function (e, t) {
            return t = w("undefined" != typeof t ? t : "millisecond"), "millisecond" === t ? (e = yt.isMoment(e) ? e : yt(e), +e > +this) : +this.clone().startOf(t) < +yt(e).startOf(t)
        },
        isSame: function (e, t) {
            return t = w(t || "millisecond"), "millisecond" === t ? (e = yt.isMoment(e) ? e : yt(e), +this === +e) : +this.clone().startOf(t) === +P(e, this).startOf(t)
        },
        min: a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function (e) {
            return e = yt.apply(null, arguments), this > e ? this : e
        }),
        max: a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function (e) {
            return e = yt.apply(null, arguments), e > this ? this : e
        }),
        zone: function (e, t) {
            var n, r = this._offset || 0;
            return null == e ? this._isUTC ? r : this._dateTzOffset() : ("string" == typeof e && (e = V(e)), Math.abs(e) < 16 && (e = 60 * e), !this._isUTC && t && (n = this._dateTzOffset()), this._offset = e, this._isUTC = !0, null != n && this.subtract(n, "m"), r !== e && (!t || this._changeInProgress ? y(this, yt.duration(r - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, yt.updateOffset(this, !0), this._changeInProgress = null)), this)
        },
        zoneAbbr: function () {
            return this._isUTC ? "UTC" : ""
        },
        zoneName: function () {
            return this._isUTC ? "Coordinated Universal Time" : ""
        },
        parseZone: function () {
            return this._tzm ? this.zone(this._tzm) : "string" == typeof this._i && this.zone(this._i), this
        },
        hasAlignedHourOffset: function (e) {
            return e = e ? yt(e).zone() : 0, (this.zone() - e) % 60 === 0
        },
        daysInMonth: function () {
            return _(this.year(), this.month())
        },
        dayOfYear: function (e) {
            var t = Tt((yt(this).startOf("day") - yt(this).startOf("year")) / 864e5) + 1;
            return null == e ? t : this.add(e - t, "d")
        },
        quarter: function (e) {
            return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
        },
        weekYear: function (e) {
            var t = st(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
            return null == e ? t : this.add(e - t, "y")
        },
        isoWeekYear: function (e) {
            var t = st(this, 1, 4).year;
            return null == e ? t : this.add(e - t, "y")
        },
        week: function (e) {
            var t = this.localeData().week(this);
            return null == e ? t : this.add(7 * (e - t), "d")
        },
        isoWeek: function (e) {
            var t = st(this, 1, 4).week;
            return null == e ? t : this.add(7 * (e - t), "d")
        },
        weekday: function (e) {
            var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
            return null == e ? t : this.add(e - t, "d")
        },
        isoWeekday: function (e) {
            return null == e ? this.day() || 7 : this.day(this.day() % 7 ? e : e - 7)
        },
        isoWeeksInYear: function () {
            return B(this.year(), 1, 4)
        },
        weeksInYear: function () {
            var e = this.localeData()._week;
            return B(this.year(), e.dow, e.doy)
        },
        get: function (e) {
            return e = w(e), this[e]()
        },
        set: function (e, t) {
            return e = w(e), "function" == typeof this[e] && this[e](t), this
        },
        locale: function (t) {
            var n;
            return t === e ? this._locale._abbr : (n = yt.localeData(t), null != n && (this._locale = n), this)
        },
        lang: a("moment().lang() is deprecated. Use moment().localeData() instead.", function (t) {
            return t === e ? this.localeData() : this.locale(t)
        }),
        localeData: function () {
            return this._locale
        },
        _dateTzOffset: function () {
            return 15 * Math.round(this._d.getTimezoneOffset() / 15)
        }
    }), yt.fn.millisecond = yt.fn.milliseconds = dt("Milliseconds", !1), yt.fn.second = yt.fn.seconds = dt("Seconds", !1), yt.fn.minute = yt.fn.minutes = dt("Minutes", !1), yt.fn.hour = yt.fn.hours = dt("Hours", !0), yt.fn.date = dt("Date", !0), yt.fn.dates = a("dates accessor is deprecated. Use date instead.", dt("Date", !0)), yt.fn.year = dt("FullYear", !0), yt.fn.years = a("years accessor is deprecated. Use year instead.", dt("FullYear", !0)), yt.fn.days = yt.fn.day, yt.fn.months = yt.fn.month, yt.fn.weeks = yt.fn.week, yt.fn.isoWeeks = yt.fn.isoWeek, yt.fn.quarters = yt.fn.quarter, yt.fn.toJSON = yt.fn.toISOString, A(yt.duration.fn = c.prototype, {
        _bubble: function () {
            var e, t, n, r = this._milliseconds, i = this._days, a = this._months, o = this._data, s = 0;
            o.milliseconds = r % 1e3, e = d(r / 1e3), o.seconds = e % 60, t = d(e / 60), o.minutes = t % 60, n = d(t / 60), o.hours = n % 24, i += d(n / 24), s = d(pt(i)), i -= d(mt(s)), a += d(i / 30), i %= 30, s += d(a / 12), a %= 12, o.days = i, o.months = a, o.years = s
        },
        abs: function () {
            return this._milliseconds = Math.abs(this._milliseconds), this._days = Math.abs(this._days), this._months = Math.abs(this._months), this._data.milliseconds = Math.abs(this._data.milliseconds), this._data.seconds = Math.abs(this._data.seconds), this._data.minutes = Math.abs(this._data.minutes), this._data.hours = Math.abs(this._data.hours), this._data.months = Math.abs(this._data.months), this._data.years = Math.abs(this._data.years), this
        },
        weeks: function () {
            return d(this.days() / 7)
        },
        valueOf: function () {
            return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * R(this._months / 12)
        },
        humanize: function (e) {
            var t = ot(this, !e, this.localeData());
            return e && (t = this.localeData().pastFuture(+this, t)), this.localeData().postformat(t)
        },
        add: function (e, t) {
            var n = yt.duration(e, t);
            return this._milliseconds += n._milliseconds, this._days += n._days, this._months += n._months, this._bubble(), this
        },
        subtract: function (e, t) {
            var n = yt.duration(e, t);
            return this._milliseconds -= n._milliseconds, this._days -= n._days, this._months -= n._months, this._bubble(), this
        },
        get: function (e) {
            return e = w(e), this[e.toLowerCase() + "s"]()
        },
        as: function (e) {
            var t, n;
            if (e = w(e), "month" === e || "year" === e)return t = this._days + this._milliseconds / 864e5, n = this._months + 12 * pt(t), "month" === e ? n : n / 12;
            switch (t = this._days + mt(this._months / 12), e) {
                case"week":
                    return t / 7 + this._milliseconds / 6048e5;
                case"day":
                    return t + this._milliseconds / 864e5;
                case"hour":
                    return 24 * t + this._milliseconds / 36e5;
                case"minute":
                    return 24 * t * 60 + this._milliseconds / 6e4;
                case"second":
                    return 24 * t * 60 * 60 + this._milliseconds / 1e3;
                case"millisecond":
                    return Math.floor(24 * t * 60 * 60 * 1e3) + this._milliseconds;
                default:
                    throw new Error("Unknown unit " + e)
            }
        },
        lang: yt.fn.lang,
        locale: yt.fn.locale,
        toIsoString: a("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", function () {
            return this.toISOString()
        }),
        toISOString: function () {
            var e = Math.abs(this.years()), t = Math.abs(this.months()), n = Math.abs(this.days()), r = Math.abs(this.hours()), i = Math.abs(this.minutes()), a = Math.abs(this.seconds() + this.milliseconds() / 1e3);
            return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (e ? e + "Y" : "") + (t ? t + "M" : "") + (n ? n + "D" : "") + (r || i || a ? "T" : "") + (r ? r + "H" : "") + (i ? i + "M" : "") + (a ? a + "S" : "") : "P0D"
        },
        localeData: function () {
            return this._locale
        }
    }), yt.duration.fn.toString = yt.duration.fn.toISOString;
    for (bt in un)n(un, bt) && gt(bt.toLowerCase());
    yt.duration.fn.asMilliseconds = function () {
        return this.as("ms")
    }, yt.duration.fn.asSeconds = function () {
        return this.as("s")
    }, yt.duration.fn.asMinutes = function () {
        return this.as("m")
    }, yt.duration.fn.asHours = function () {
        return this.as("h")
    }, yt.duration.fn.asDays = function () {
        return this.as("d")
    }, yt.duration.fn.asWeeks = function () {
        return this.as("weeks")
    }, yt.duration.fn.asMonths = function () {
        return this.as("M")
    }, yt.duration.fn.asYears = function () {
        return this.as("y")
    }, yt.locale("en", {
        ordinal: function (e) {
            var t = e % 10, n = 1 === R(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th";
            return e + n
        }
    }), Ot ? module.exports = yt : "function" == typeof define && define.amd ? (define("moment", function (e, t, n) {
        return n.config && n.config() && n.config().noGlobal === !0 && (wt.moment = Et), yt
    }), vt(!0)) : vt()
}.call(this);
var isNode = !1;
!function (exports, require) {
    function push(e, t) {
        return e = e.slice(), e.push(t), e
    }

    function unshift(e, t) {
        return t = t.slice(), t.unshift(e), t
    }

    function jsonPath(e, t, n) {
        var r = {
            resultType: n && n.resultType || "VALUE",
            flatten: n && n.flatten || !1,
            wrap: n && n.hasOwnProperty("wrap") ? n.wrap : !0,
            sandbox: n && n.sandbox ? n.sandbox : {},
            normalize: function (e) {
                if (cache[e])return cache[e];
                var t = [], n = e.replace(/[\['](\??\(.*?\))[\]']/g, function (e, n) {
                    return "[#" + (t.push(n) - 1) + "]"
                }).replace(/'?\.'?|\['?/g, ";").replace(/(;)?(\^+)(;)?/g, function (e, t, n) {
                    return ";" + n.split("").join(";") + ";"
                }).replace(/;;;|;;/g, ";..;").replace(/;$|'?\]|'$/g, ""), r = n.split(";").map(function (e) {
                    var n = e.match(/#([0-9]+)/);
                    return n && n[1] ? t[n[1]] : e
                });
                return cache[e] = r
            },
            asPath: function (e) {
                for (var t = e, n = "$", r = 1, i = t.length; i > r; r++)n += /^[0-9*]+$/.test(t[r]) ? "[" + t[r] + "]" : "['" + t[r] + "']";
                return n
            },
            trace: function (e, t, n) {
                function i(e) {
                    s = s.concat(e)
                }

                if (!e.length)return [{path: n, value: t}];
                var a = e[0], o = e.slice(1);
                if ("^" === a)return n.length ? [{path: n.slice(0, -1), expr: o, isParentSelector: !0}] : [];
                var s = [];
                if (t && t.hasOwnProperty(a))i(r.trace(o, t[a], push(n, a))); else if ("*" === a)r.walk(a, o, t, n, function (e, t, n, a, o) {
                    i(r.trace(unshift(e, n), a, o))
                }); else if (".." === a)i(r.trace(o, t, n)), r.walk(a, o, t, n, function (e, t, n, a, o) {
                    "object" == typeof a[e] && i(r.trace(unshift("..", n), a[e], push(o, e)))
                }); else if ("(" === a[0])i(r.trace(unshift(r.eval(a, t, n[n.length], n), o), t, n)); else if (0 === a.indexOf("?("))r.walk(a, o, t, n, function (e, t, a, o, s) {
                    r.eval(t.replace(/^\?\((.*?)\)$/, "$1"), o[e], e, n) && i(r.trace(unshift(e, a), o, s))
                }); else if (a.indexOf(",") > -1)for (var l = a.split(","), u = 0; u < l.length; u++)i(r.trace(unshift(l[u], o), t, n)); else/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(a) && i(r.slice(a, o, t, n));
                return s.reduce(function (e, n) {
                    return e.concat(n.isParentSelector ? r.trace(n.expr, t, n.path) : [n])
                }, [])
            },
            walk: function (e, t, n, r, i) {
                if (Array.isArray(n))for (var a = 0, o = n.length; o > a; a++)i(a, e, t, n, r); else if ("object" == typeof n)for (var s in n)n.hasOwnProperty(s) && i(s, e, t, n, r)
            },
            slice: function (e, t, n, i) {
                if (Array.isArray(n)) {
                    var a = n.length, o = e.split(":"), s = o[0] && parseInt(o[0]) || 0, l = o[1] && parseInt(o[1]) || a, u = o[2] && parseInt(o[2]) || 1;
                    s = 0 > s ? Math.max(0, s + a) : Math.min(a, s), l = 0 > l ? Math.max(0, l + a) : Math.min(a, l);
                    for (var h = [], c = s; l > c; c += u)h = h.concat(r.trace(unshift(c, t), n, i));
                    return h
                }
            },
            eval: function (e, t, n, a) {
                if (!i || !t)return !1;
                e.indexOf("@path") > -1 && (r.sandbox._path = r.asPath(a.concat([n])), e = e.replace(/@path/g, "_path")), e.indexOf("@") > -1 && (r.sandbox._v = t, e = e.replace(/@/g, "_v"));
                try {
                    return vm.runInNewContext(e, r.sandbox)
                } catch (o) {
                    throw console.log(o), new Error("jsonPath: " + o.message + ": " + e)
                }
            }
        }, i = e, a = r.resultType.toLowerCase();
        if (t && e && ("value" == a || "path" == a)) {
            var o = r.normalize(t);
            "$" === o[0] && o.length > 1 && o.shift();
            var s = r.trace(o, e, ["$"]);
            return s = s.filter(function (e) {
                return e && !e.isParentSelector
            }), s.length ? 1 !== s.length || r.wrap || Array.isArray(s[0].value) ? s.reduce(function (e, t) {
                var n = t[a];
                return "path" === a && (n = r.asPath(n)), r.flatten && Array.isArray(n) ? e = e.concat(n) : e.push(n), e
            }, []) : s[0][a] || !1 : r.wrap ? [] : !1
        }
    }

    Array.isArray || (Array.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    });
    var isNode = "undefined" != typeof module && !!module.exports, vm = isNode ? require("vm") : {
        runInNewContext: function (expr, context) {
            with (context)return eval(expr)
        }
    };
    exports.eval = jsonPath;
    var cache = {}
}("undefined" == typeof exports ? this.jsonPath = {} : exports, "undefined" == typeof require ? null : require), function (e) {
    "use strict";
    if (e.URL = e.URL || e.webkitURL, e.Blob && e.URL)try {
        return void new Blob
    } catch (t) {
    }
    var n = e.BlobBuilder || e.WebKitBlobBuilder || e.MozBlobBuilder || function (e) {
            var t = function (e) {
                return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]
            }, n = function () {
                this.data = []
            }, r = function (e, t, n) {
                this.data = e, this.size = e.length, this.type = t, this.encoding = n
            }, i = n.prototype, a = r.prototype, o = e.FileReaderSync, s = function (e) {
                this.code = this[this.name = e]
            }, l = "NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "), u = l.length, h = e.URL || e.webkitURL || e, c = h.createObjectURL, A = h.revokeObjectURL, f = h, d = e.btoa, p = e.atob, m = e.ArrayBuffer, g = e.Uint8Array, v = /^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;
            for (r.fake = a.fake = !0; u--;)s.prototype[l[u]] = u + 1;
            return h.createObjectURL || (f = e.URL = function (e) {
                var t, n = document.createElementNS("http://www.w3.org/1999/xhtml", "a");
                return n.href = e, "origin" in n || ("data:" === n.protocol.toLowerCase() ? n.origin = null : (t = e.match(v), n.origin = t && t[1])), n
            }), f.createObjectURL = function (e) {
                var t, n = e.type;
                return null === n && (n = "application/octet-stream"), e instanceof r ? (t = "data:" + n, "base64" === e.encoding ? t + ";base64," + e.data : "URI" === e.encoding ? t + "," + decodeURIComponent(e.data) : d ? t + ";base64," + d(e.data) : t + "," + encodeURIComponent(e.data)) : c ? c.call(h, e) : void 0
            }, f.revokeObjectURL = function (e) {
                "data:" !== e.substring(0, 5) && A && A.call(h, e)
            }, i.append = function (e) {
                var n = this.data;
                if (g && (e instanceof m || e instanceof g)) {
                    for (var i = "", a = new g(e), l = 0, u = a.length; u > l; l++)i += String.fromCharCode(a[l]);
                    n.push(i)
                } else if ("Blob" === t(e) || "File" === t(e)) {
                    if (!o)throw new s("NOT_READABLE_ERR");
                    var h = new o;
                    n.push(h.readAsBinaryString(e))
                } else e instanceof r ? "base64" === e.encoding && p ? n.push(p(e.data)) : "URI" === e.encoding ? n.push(decodeURIComponent(e.data)) : "raw" === e.encoding && n.push(e.data) : ("string" != typeof e && (e += ""), n.push(unescape(encodeURIComponent(e))))
            }, i.getBlob = function (e) {
                return arguments.length || (e = null), new r(this.data.join(""), e, "raw")
            }, i.toString = function () {
                return "[object BlobBuilder]"
            }, a.slice = function (e, t, n) {
                var i = arguments.length;
                return 3 > i && (n = null), new r(this.data.slice(e, i > 1 ? t : this.data.length), n, this.encoding)
            }, a.toString = function () {
                return "[object Blob]"
            }, a.close = function () {
                this.size = 0, delete this.data
            }, n
        }(e);
    e.Blob = function (e, t) {
        var r = t ? t.type || "" : "", i = new n;
        if (e)for (var a = 0, o = e.length; o > a; a++)i.append(e[a]);
        return i.getBlob(r)
    }
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content || this), function (e) {
    "use strict";
    var t, n = e.Uint8Array, r = e.HTMLCanvasElement, i = r && r.prototype, a = /\s*;\s*base64\s*(?:;|$)/i, o = "toDataURL", s = function (e) {
        for (var r, i, a, o = e.length, s = new n(o / 4 * 3 | 0), l = 0, u = 0, h = [0, 0], c = 0, A = 0; o--;)i = e.charCodeAt(l++), r = t[i - 43], 255 !== r && r !== a && (h[1] = h[0], h[0] = i, A = A << 6 | r, c++, 4 === c && (s[u++] = A >>> 16, 61 !== h[1] && (s[u++] = A >>> 8), 61 !== h[0] && (s[u++] = A), c = 0));
        return s
    };
    n && (t = new n([62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, 0, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51])), r && !i.toBlob && (i.toBlob = function (e, t) {
        if (t || (t = "image/png"), this.mozGetAsFile)return void e(this.mozGetAsFile("canvas", t));
        if (this.msToBlob && /^\s*image\/png\s*(?:$|;)/i.test(t))return void e(this.msToBlob());
        var r, i = Array.prototype.slice.call(arguments, 1), l = this[o].apply(this, i), u = l.indexOf(","), h = l.substring(u + 1), c = a.test(l.substring(0, u));
        Blob.fake ? (r = new Blob, r.encoding = c ? "base64" : "URI", r.data = h, r.size = h.length) : n && (r = c ? new Blob([s(h)], {type: t}) : new Blob([decodeURIComponent(h)], {type: t})), e(r)
    }, i.toBlobHD = i.toDataURLHD ? function () {
        o = "toDataURLHD";
        var e = this.toBlob();
        return o = "toDataURL", e
    } : i.toBlob)
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content || this);
var saveAs = saveAs || "undefined" != typeof navigator && navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator) || function (e) {
        "use strict";
        if ("undefined" == typeof navigator || !/MSIE [1-9]\./.test(navigator.userAgent)) {
            var t = e.document, n = function () {
                return e.URL || e.webkitURL || e
            }, r = t.createElementNS("http://www.w3.org/1999/xhtml", "a"), i = "download" in r, a = function (n) {
                var r = t.createEvent("MouseEvents");
                r.initMouseEvent("click", !0, !1, e, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), n.dispatchEvent(r)
            }, o = e.webkitRequestFileSystem, s = e.requestFileSystem || o || e.mozRequestFileSystem, l = function (t) {
                (e.setImmediate || e.setTimeout)(function () {
                    throw t
                }, 0)
            }, u = "application/octet-stream", h = 0, c = 10, A = function (t) {
                var r = function () {
                    "string" == typeof t ? n().revokeObjectURL(t) : t.remove()
                };
                e.chrome ? r() : setTimeout(r, c)
            }, f = function (e, t, n) {
                t = [].concat(t);
                for (var r = t.length; r--;) {
                    var i = e["on" + t[r]];
                    if ("function" == typeof i)try {
                        i.call(e, n || e)
                    } catch (a) {
                        l(a)
                    }
                }
            }, d = function (t, l) {
                var c, d, p, m = this, g = t.type, v = !1, y = function () {
                    f(m, "writestart progress write writeend".split(" "))
                }, E = function () {
                    if ((v || !c) && (c = n().createObjectURL(t)), d)d.location.href = c; else {
                        var r = e.open(c, "_blank");
                        void 0 == r && "undefined" != typeof safari && (e.location.href = c)
                    }
                    m.readyState = m.DONE, y(), A(c)
                }, b = function (e) {
                    return function () {
                        return m.readyState !== m.DONE ? e.apply(this, arguments) : void 0
                    }
                }, x = {create: !0, exclusive: !1};
                return m.readyState = m.INIT, l || (l = "download"), i ? (c = n().createObjectURL(t), r.href = c, r.download = l, a(r), m.readyState = m.DONE, y(), void A(c)) : (e.chrome && g && g !== u && (p = t.slice || t.webkitSlice, t = p.call(t, 0, t.size, u), v = !0), o && "download" !== l && (l += ".download"), (g === u || o) && (d = e), s ? (h += t.size, void s(e.TEMPORARY, h, b(function (e) {
                    e.root.getDirectory("saved", x, b(function (e) {
                        var n = function () {
                            e.getFile(l, x, b(function (e) {
                                e.createWriter(b(function (n) {
                                    n.onwriteend = function (t) {
                                        d.location.href = e.toURL(), m.readyState = m.DONE, f(m, "writeend", t), A(e)
                                    }, n.onerror = function () {
                                        var e = n.error;
                                        e.code !== e.ABORT_ERR && E()
                                    }, "writestart progress write abort".split(" ").forEach(function (e) {
                                        n["on" + e] = m["on" + e]
                                    }), n.write(t), m.abort = function () {
                                        n.abort(), m.readyState = m.DONE
                                    }, m.readyState = m.WRITING
                                }), E)
                            }), E)
                        };
                        e.getFile(l, {create: !1}, b(function (e) {
                            e.remove(), n()
                        }), b(function (e) {
                            e.code === e.NOT_FOUND_ERR ? n() : E()
                        }))
                    }), E)
                }), E)) : void E())
            }, p = d.prototype, m = function (e, t) {
                return new d(e, t)
            };
            return p.abort = function () {
                var e = this;
                e.readyState = e.DONE, f(e, "abort")
            }, p.readyState = p.INIT = 0, p.WRITING = 1, p.DONE = 2, p.error = p.onwritestart = p.onprogress = p.onwrite = p.onabort = p.onerror = p.onwriteend = null, m
        }
    }("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);
"undefined" != typeof module && null !== module ? module.exports = saveAs : "undefined" != typeof define && null !== define && null != define.amd && define([], function () {
    return saveAs
});
var mul_table = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259], shg_table = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
!function () {
    function e() {
        var e = {};
        return e.FRAMERATE = 30, e.MAX_VIRTUAL_PIXELS = 3e4, e.init = function (t) {
            var n = 0;
            e.UniqueId = function () {
                return n++, "canvg" + n
            }, e.Definitions = {}, e.Styles = {}, e.Animations = [], e.Images = [], e.ctx = t, e.ViewPort = new function () {
                this.viewPorts = [], this.Clear = function () {
                    this.viewPorts = []
                }, this.SetCurrent = function (e, t) {
                    this.viewPorts.push({width: e, height: t})
                }, this.RemoveCurrent = function () {
                    this.viewPorts.pop()
                }, this.Current = function () {
                    return this.viewPorts[this.viewPorts.length - 1]
                }, this.width = function () {
                    return this.Current().width
                }, this.height = function () {
                    return this.Current().height
                }, this.ComputeSize = function (e) {
                    return null != e && "number" == typeof e ? e : "x" == e ? this.width() : "y" == e ? this.height() : Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2)
                }
            }
        }, e.init(), e.ImagesLoaded = function () {
            for (var t = 0; t < e.Images.length; t++)if (!e.Images[t].loaded)return !1;
            return !0
        }, e.trim = function (e) {
            return e.replace(/^\s+|\s+$/g, "")
        }, e.compressSpaces = function (e) {
            return e.replace(/[\s\r\t\n]+/gm, " ")
        }, e.ajax = function (e) {
            var t;
            return t = window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"), t ? (t.open("GET", e, !1), t.send(null), t.responseText) : null
        }, e.parseXml = function (e) {
            if (window.DOMParser) {
                var t = new DOMParser;
                return t.parseFromString(e, "text/xml")
            }
            e = e.replace(/<!DOCTYPE svg[^>]*>/, "");
            var n = new ActiveXObject("Microsoft.XMLDOM");
            return n.async = "false", n.loadXML(e), n
        }, e.Property = function (e, t) {
            this.name = e, this.value = t
        }, e.Property.prototype.getValue = function () {
            return this.value
        }, e.Property.prototype.hasValue = function () {
            return null != this.value && "" !== this.value
        }, e.Property.prototype.numValue = function () {
            if (!this.hasValue())return 0;
            var e = parseFloat(this.value);
            return (this.value + "").match(/%$/) && (e /= 100), e
        }, e.Property.prototype.valueOrDefault = function (e) {
            return this.hasValue() ? this.value : e
        }, e.Property.prototype.numValueOrDefault = function (e) {
            return this.hasValue() ? this.numValue() : e
        }, e.Property.prototype.addOpacity = function (t) {
            var n = this.value;
            if (null != t && "" != t && "string" == typeof this.value) {
                var r = new RGBColor(this.value);
                r.ok && (n = "rgba(" + r.r + ", " + r.g + ", " + r.b + ", " + t + ")")
            }
            return new e.Property(this.name, n)
        }, e.Property.prototype.getDefinition = function () {
            var t = this.value.match(/#([^\)'"]+)/);
            return t && (t = t[1]), t || (t = this.value), e.Definitions[t]
        }, e.Property.prototype.isUrlDefinition = function () {
            return 0 == this.value.indexOf("url(")
        }, e.Property.prototype.getFillStyleDefinition = function (t, n) {
            var r = this.getDefinition();
            if (null != r && r.createGradient)return r.createGradient(e.ctx, t, n);
            if (null != r && r.createPattern) {
                if (r.getHrefAttribute().hasValue()) {
                    var i = r.attribute("patternTransform");
                    r = r.getHrefAttribute().getDefinition(), i.hasValue() && (r.attribute("patternTransform", !0).value = i.value)
                }
                return r.createPattern(e.ctx, t)
            }
            return null
        }, e.Property.prototype.getDPI = function () {
            return 96
        }, e.Property.prototype.getEM = function (t) {
            var n = 12, r = new e.Property("fontSize", e.Font.Parse(e.ctx.font).fontSize);
            return r.hasValue() && (n = r.toPixels(t)), n
        }, e.Property.prototype.getUnits = function () {
            var e = this.value + "";
            return e.replace(/[0-9\.\-]/g, "")
        }, e.Property.prototype.toPixels = function (t, n) {
            if (!this.hasValue())return 0;
            var r = this.value + "";
            if (r.match(/em$/))return this.numValue() * this.getEM(t);
            if (r.match(/ex$/))return this.numValue() * this.getEM(t) / 2;
            if (r.match(/px$/))return this.numValue();
            if (r.match(/pt$/))return this.numValue() * this.getDPI(t) * (1 / 72);
            if (r.match(/pc$/))return 15 * this.numValue();
            if (r.match(/cm$/))return this.numValue() * this.getDPI(t) / 2.54;
            if (r.match(/mm$/))return this.numValue() * this.getDPI(t) / 25.4;
            if (r.match(/in$/))return this.numValue() * this.getDPI(t);
            if (r.match(/%$/))return this.numValue() * e.ViewPort.ComputeSize(t);
            var i = this.numValue();
            return n && 1 > i ? i * e.ViewPort.ComputeSize(t) : i
        }, e.Property.prototype.toMilliseconds = function () {
            if (!this.hasValue())return 0;
            var e = this.value + "";
            return e.match(/s$/) ? 1e3 * this.numValue() : (e.match(/ms$/), this.numValue())
        }, e.Property.prototype.toRadians = function () {
            if (!this.hasValue())return 0;
            var e = this.value + "";
            return e.match(/deg$/) ? this.numValue() * (Math.PI / 180) : e.match(/grad$/) ? this.numValue() * (Math.PI / 200) : e.match(/rad$/) ? this.numValue() : this.numValue() * (Math.PI / 180)
        }, e.Font = new function () {
            this.Styles = "normal|italic|oblique|inherit", this.Variants = "normal|small-caps|inherit", this.Weights = "normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit", this.CreateFont = function (t, n, r, i, a, o) {
                var s = null != o ? this.Parse(o) : this.CreateFont("", "", "", "", "", e.ctx.font);
                return {
                    fontFamily: a || s.fontFamily,
                    fontSize: i || s.fontSize,
                    fontStyle: t || s.fontStyle,
                    fontWeight: r || s.fontWeight,
                    fontVariant: n || s.fontVariant,
                    toString: function () {
                        return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(" ")
                    }
                }
            };
            var t = this;
            this.Parse = function (n) {
                for (var r = {}, i = e.trim(e.compressSpaces(n || "")).split(" "), a = {
                    fontSize: !1,
                    fontStyle: !1,
                    fontWeight: !1,
                    fontVariant: !1
                }, o = "", s = 0; s < i.length; s++)a.fontStyle || -1 == t.Styles.indexOf(i[s]) ? a.fontVariant || -1 == t.Variants.indexOf(i[s]) ? a.fontWeight || -1 == t.Weights.indexOf(i[s]) ? a.fontSize ? "inherit" != i[s] && (o += i[s]) : ("inherit" != i[s] && (r.fontSize = i[s].split("/")[0]), a.fontStyle = a.fontVariant = a.fontWeight = a.fontSize = !0) : ("inherit" != i[s] && (r.fontWeight = i[s]), a.fontStyle = a.fontVariant = a.fontWeight = !0) : ("inherit" != i[s] && (r.fontVariant = i[s]), a.fontStyle = a.fontVariant = !0) : ("inherit" != i[s] && (r.fontStyle = i[s]), a.fontStyle = !0);
                return "" != o && (r.fontFamily = o), r
            }
        }, e.ToNumberArray = function (t) {
            for (var n = e.trim(e.compressSpaces((t || "").replace(/,/g, " "))).split(" "), r = 0; r < n.length; r++)n[r] = parseFloat(n[r]);
            return n
        }, e.Point = function (e, t) {
            this.x = e, this.y = t
        }, e.Point.prototype.angleTo = function (e) {
            return Math.atan2(e.y - this.y, e.x - this.x)
        }, e.Point.prototype.applyTransform = function (e) {
            var t = this.x * e[0] + this.y * e[2] + e[4], n = this.x * e[1] + this.y * e[3] + e[5];
            this.x = t, this.y = n
        }, e.CreatePoint = function (t) {
            var n = e.ToNumberArray(t);
            return new e.Point(n[0], n[1])
        }, e.CreatePath = function (t) {
            for (var n = e.ToNumberArray(t), r = [], i = 0; i < n.length; i += 2)r.push(new e.Point(n[i], n[i + 1]));
            return r
        }, e.BoundingBox = function (e, t, n, r) {
            this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN, this.x = function () {
                return this.x1
            }, this.y = function () {
                return this.y1
            }, this.width = function () {
                return this.x2 - this.x1
            }, this.height = function () {
                return this.y2 - this.y1
            }, this.addPoint = function (e, t) {
                null != e && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = e, this.x2 = e), e < this.x1 && (this.x1 = e), e > this.x2 && (this.x2 = e)), null != t && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = t, this.y2 = t), t < this.y1 && (this.y1 = t), t > this.y2 && (this.y2 = t))
            }, this.addX = function (e) {
                this.addPoint(e, null)
            }, this.addY = function (e) {
                this.addPoint(null, e)
            }, this.addBoundingBox = function (e) {
                this.addPoint(e.x1, e.y1), this.addPoint(e.x2, e.y2)
            }, this.addQuadraticCurve = function (e, t, n, r, i, a) {
                var o = e + 2 / 3 * (n - e), s = t + 2 / 3 * (r - t), l = o + 1 / 3 * (i - e), u = s + 1 / 3 * (a - t);
                this.addBezierCurve(e, t, o, l, s, u, i, a)
            }, this.addBezierCurve = function (e, t, n, r, a, o, s, l) {
                var u = [e, t], h = [n, r], c = [a, o], A = [s, l];
                for (this.addPoint(u[0], u[1]), this.addPoint(A[0], A[1]), i = 0; 1 >= i; i++) {
                    var f = function (e) {
                        return Math.pow(1 - e, 3) * u[i] + 3 * Math.pow(1 - e, 2) * e * h[i] + 3 * (1 - e) * Math.pow(e, 2) * c[i] + Math.pow(e, 3) * A[i]
                    }, d = 6 * u[i] - 12 * h[i] + 6 * c[i], p = -3 * u[i] + 9 * h[i] - 9 * c[i] + 3 * A[i], m = 3 * h[i] - 3 * u[i];
                    if (0 != p) {
                        var g = Math.pow(d, 2) - 4 * m * p;
                        if (!(0 > g)) {
                            var v = (-d + Math.sqrt(g)) / (2 * p);
                            v > 0 && 1 > v && (0 == i && this.addX(f(v)), 1 == i && this.addY(f(v)));
                            var y = (-d - Math.sqrt(g)) / (2 * p);
                            y > 0 && 1 > y && (0 == i && this.addX(f(y)), 1 == i && this.addY(f(y)))
                        }
                    } else {
                        if (0 == d)continue;
                        var E = -m / d;
                        E > 0 && 1 > E && (0 == i && this.addX(f(E)), 1 == i && this.addY(f(E)))
                    }
                }
            }, this.isPointInBox = function (e, t) {
                return this.x1 <= e && e <= this.x2 && this.y1 <= t && t <= this.y2
            }, this.addPoint(e, t), this.addPoint(n, r)
        }, e.Transform = function (t) {
            var n = this;
            this.Type = {}, this.Type.translate = function (t) {
                this.p = e.CreatePoint(t), this.apply = function (e) {
                    e.translate(this.p.x || 0, this.p.y || 0)
                }, this.unapply = function (e) {
                    e.translate(-1 * this.p.x || 0, -1 * this.p.y || 0)
                }, this.applyToPoint = function (e) {
                    e.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0])
                }
            }, this.Type.rotate = function (t) {
                var n = e.ToNumberArray(t);
                this.angle = new e.Property("angle", n[0]), this.cx = n[1] || 0, this.cy = n[2] || 0, this.apply = function (e) {
                    e.translate(this.cx, this.cy), e.rotate(this.angle.toRadians()), e.translate(-this.cx, -this.cy)
                }, this.unapply = function (e) {
                    e.translate(this.cx, this.cy), e.rotate(-1 * this.angle.toRadians()), e.translate(-this.cx, -this.cy)
                }, this.applyToPoint = function (e) {
                    var t = this.angle.toRadians();
                    e.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0]), e.applyTransform([Math.cos(t), Math.sin(t), -Math.sin(t), Math.cos(t), 0, 0]), e.applyTransform([1, 0, 0, 1, -this.p.x || 0, -this.p.y || 0])
                }
            }, this.Type.scale = function (t) {
                this.p = e.CreatePoint(t), this.apply = function (e) {
                    e.scale(this.p.x || 1, this.p.y || this.p.x || 1)
                }, this.unapply = function (e) {
                    e.scale(1 / this.p.x || 1, 1 / this.p.y || this.p.x || 1)
                }, this.applyToPoint = function (e) {
                    e.applyTransform([this.p.x || 0, 0, 0, this.p.y || 0, 0, 0])
                }
            }, this.Type.matrix = function (t) {
                this.m = e.ToNumberArray(t), this.apply = function (e) {
                    e.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5])
                }, this.applyToPoint = function (e) {
                    e.applyTransform(this.m)
                }
            }, this.Type.SkewBase = function (t) {
                this.base = n.Type.matrix, this.base(t), this.angle = new e.Property("angle", t)
            }, this.Type.SkewBase.prototype = new this.Type.matrix, this.Type.skewX = function (e) {
                this.base = n.Type.SkewBase, this.base(e), this.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0]
            }, this.Type.skewX.prototype = new this.Type.SkewBase, this.Type.skewY = function (e) {
                this.base = n.Type.SkewBase, this.base(e), this.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0]
            }, this.Type.skewY.prototype = new this.Type.SkewBase, this.transforms = [], this.apply = function (e) {
                for (var t = 0; t < this.transforms.length; t++)this.transforms[t].apply(e)
            }, this.unapply = function (e) {
                for (var t = this.transforms.length - 1; t >= 0; t--)this.transforms[t].unapply(e)
            }, this.applyToPoint = function (e) {
                for (var t = 0; t < this.transforms.length; t++)this.transforms[t].applyToPoint(e)
            };
            for (var r = e.trim(e.compressSpaces(t)).replace(/\)(\s?,\s?)/g, ") ").split(/\s(?=[a-z])/), i = 0; i < r.length; i++) {
                var a = e.trim(r[i].split("(")[0]), o = r[i].split("(")[1].replace(")", ""), s = new this.Type[a](o);
                s.type = a, this.transforms.push(s)
            }
        }, e.AspectRatio = function (t, n, r, i, a, o, s, l, u, h) {
            n = e.compressSpaces(n), n = n.replace(/^defer\s/, "");
            var c = n.split(" ")[0] || "xMidYMid", A = n.split(" ")[1] || "meet", f = r / i, d = a / o, p = Math.min(f, d), m = Math.max(f, d);
            "meet" == A && (i *= p, o *= p), "slice" == A && (i *= m, o *= m), u = new e.Property("refX", u), h = new e.Property("refY", h), u.hasValue() && h.hasValue() ? t.translate(-p * u.toPixels("x"), -p * h.toPixels("y")) : (c.match(/^xMid/) && ("meet" == A && p == d || "slice" == A && m == d) && t.translate(r / 2 - i / 2, 0), c.match(/YMid$/) && ("meet" == A && p == f || "slice" == A && m == f) && t.translate(0, a / 2 - o / 2), c.match(/^xMax/) && ("meet" == A && p == d || "slice" == A && m == d) && t.translate(r - i, 0), c.match(/YMax$/) && ("meet" == A && p == f || "slice" == A && m == f) && t.translate(0, a - o)), "none" == c ? t.scale(f, d) : "meet" == A ? t.scale(p, p) : "slice" == A && t.scale(m, m), t.translate(null == s ? 0 : -s, null == l ? 0 : -l)
        }, e.Element = {}, e.EmptyProperty = new e.Property("EMPTY", ""), e.Element.ElementBase = function (t) {
            if (this.attributes = {}, this.styles = {}, this.children = [], this.attribute = function (t, n) {
                    var r = this.attributes[t];
                    return null != r ? r : (1 == n && (r = new e.Property(t, ""), this.attributes[t] = r), r || e.EmptyProperty)
                }, this.getHrefAttribute = function () {
                    for (var t in this.attributes)if (t.match(/:href$/))return this.attributes[t];
                    return e.EmptyProperty
                }, this.style = function (t, n) {
                    var r = this.styles[t];
                    if (null != r)return r;
                    var i = this.attribute(t);
                    if (null != i && i.hasValue())return this.styles[t] = i, i;
                    var a = this.parent;
                    if (null != a) {
                        var o = a.style(t);
                        if (null != o && o.hasValue())return o
                    }
                    return 1 == n && (r = new e.Property(t, ""), this.styles[t] = r), r || e.EmptyProperty
                }, this.render = function (e) {
                    if ("none" != this.style("display").value && "hidden" != this.attribute("visibility").value) {
                        if (e.save(), this.attribute("mask").hasValue()) {
                            var t = this.attribute("mask").getDefinition();
                            null != t && t.apply(e, this)
                        } else if (this.style("filter").hasValue()) {
                            var n = this.style("filter").getDefinition();
                            null != n && n.apply(e, this)
                        } else this.setContext(e), this.renderChildren(e), this.clearContext(e);
                        e.restore()
                    }
                }, this.setContext = function () {
                }, this.clearContext = function () {
                }, this.renderChildren = function (e) {
                    for (var t = 0; t < this.children.length; t++)this.children[t].render(e)
                }, this.addChild = function (t, n) {
                    var r = t;
                    n && (r = e.CreateElement(t)), r.parent = this, this.children.push(r)
                }, null != t && 1 == t.nodeType) {
                for (var n = 0; n < t.childNodes.length; n++) {
                    var r = t.childNodes[n];
                    if (1 == r.nodeType && this.addChild(r, !0), this.captureTextNodes && 3 == r.nodeType) {
                        var i = r.nodeValue || r.text || "";
                        "" != e.trim(e.compressSpaces(i)) && this.addChild(new e.Element.tspan(r), !1)
                    }
                }
                for (var n = 0; n < t.attributes.length; n++) {
                    var a = t.attributes[n];
                    this.attributes[a.nodeName] = new e.Property(a.nodeName, a.nodeValue)
                }
                var o = e.Styles[t.nodeName];
                if (null != o)for (var s in o)this.styles[s] = o[s];
                if (this.attribute("class").hasValue())for (var l = e.compressSpaces(this.attribute("class").value).split(" "), u = 0; u < l.length; u++) {
                    if (o = e.Styles["." + l[u]], null != o)for (var s in o)this.styles[s] = o[s];
                    if (o = e.Styles[t.nodeName + "." + l[u]], null != o)for (var s in o)this.styles[s] = o[s]
                }
                if (this.attribute("id").hasValue()) {
                    var o = e.Styles["#" + this.attribute("id").value];
                    if (null != o)for (var s in o)this.styles[s] = o[s]
                }
                if (this.attribute("style").hasValue())for (var o = this.attribute("style").value.split(";"), n = 0; n < o.length; n++)if ("" != e.trim(o[n])) {
                    var h = o[n].split(":"), s = e.trim(h[0]), c = e.trim(h[1]);
                    this.styles[s] = new e.Property(s, c)
                }
                this.attribute("id").hasValue() && null == e.Definitions[this.attribute("id").value] && (e.Definitions[this.attribute("id").value] = this)
            }
        }, e.Element.RenderedElementBase = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.setContext = function (t) {
                if (this.style("fill").isUrlDefinition()) {
                    var n = this.style("fill").getFillStyleDefinition(this, this.style("fill-opacity"));
                    null != n && (t.fillStyle = n)
                } else if (this.style("fill").hasValue()) {
                    var r = this.style("fill");
                    "currentColor" == r.value && (r.value = this.style("color").value), t.fillStyle = "none" == r.value ? "rgba(0,0,0,0)" : r.value
                }
                if (this.style("fill-opacity").hasValue()) {
                    var r = new e.Property("fill", t.fillStyle);
                    r = r.addOpacity(this.style("fill-opacity").value), t.fillStyle = r.value
                }
                if (this.style("stroke").isUrlDefinition()) {
                    var n = this.style("stroke").getFillStyleDefinition(this, this.style("stroke-opacity"));
                    null != n && (t.strokeStyle = n)
                } else if (this.style("stroke").hasValue()) {
                    var i = this.style("stroke");
                    "currentColor" == i.value && (i.value = this.style("color").value), t.strokeStyle = "none" == i.value ? "rgba(0,0,0,0)" : i.value
                }
                if (this.style("stroke-opacity").hasValue()) {
                    var i = new e.Property("stroke", t.strokeStyle);
                    i = i.addOpacity(this.style("stroke-opacity").value), t.strokeStyle = i.value
                }
                if (this.style("stroke-width").hasValue()) {
                    var a = this.style("stroke-width").toPixels();
                    t.lineWidth = 0 == a ? .001 : a
                }
                if (this.style("stroke-linecap").hasValue() && (t.lineCap = this.style("stroke-linecap").value), this.style("stroke-linejoin").hasValue() && (t.lineJoin = this.style("stroke-linejoin").value), this.style("stroke-miterlimit").hasValue() && (t.miterLimit = this.style("stroke-miterlimit").value), this.style("stroke-dasharray").hasValue()) {
                    var o = e.ToNumberArray(this.style("stroke-dasharray").value);
                    "undefined" != typeof t.setLineDash ? t.setLineDash(o) : "undefined" != typeof t.webkitLineDash ? t.webkitLineDash = o : "undefined" != typeof t.mozDash && (t.mozDash = o);
                    var s = this.style("stroke-dashoffset").numValueOrDefault(1);
                    "undefined" != typeof t.lineDashOffset ? t.lineDashOffset = s : "undefined" != typeof t.webkitLineDashOffset ? t.webkitLineDashOffset = s : "undefined" != typeof t.mozDashOffset && (t.mozDashOffset = s)
                }
                if ("undefined" != typeof t.font && (t.font = e.Font.CreateFont(this.style("font-style").value, this.style("font-variant").value, this.style("font-weight").value, this.style("font-size").hasValue() ? this.style("font-size").toPixels() + "px" : "", this.style("font-family").value).toString()), this.attribute("transform").hasValue()) {
                    var l = new e.Transform(this.attribute("transform").value);
                    l.apply(t)
                }
                if (this.style("clip-path").hasValue()) {
                    var u = this.style("clip-path").getDefinition();
                    null != u && u.apply(t)
                }
                this.style("opacity").hasValue() && (t.globalAlpha = this.style("opacity").numValue())
            }
        }, e.Element.RenderedElementBase.prototype = new e.Element.ElementBase, e.Element.PathElementBase = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t), this.path = function (t) {
                return null != t && t.beginPath(), new e.BoundingBox
            }, this.renderChildren = function (t) {
                this.path(t), e.Mouse.checkPath(this, t), "" != t.fillStyle && (this.attribute("fill-rule").hasValue() ? t.fill(this.attribute("fill-rule").value) : t.fill()), "" != t.strokeStyle && t.stroke();
                var n = this.getMarkers();
                if (null != n) {
                    if (this.style("marker-start").isUrlDefinition()) {
                        var r = this.style("marker-start").getDefinition();
                        r.render(t, n[0][0], n[0][1])
                    }
                    if (this.style("marker-mid").isUrlDefinition())for (var r = this.style("marker-mid").getDefinition(), i = 1; i < n.length - 1; i++)r.render(t, n[i][0], n[i][1]);
                    if (this.style("marker-end").isUrlDefinition()) {
                        var r = this.style("marker-end").getDefinition();
                        r.render(t, n[n.length - 1][0], n[n.length - 1][1])
                    }
                }
            }, this.getBoundingBox = function () {
                return this.path()
            }, this.getMarkers = function () {
                return null
            }
        }, e.Element.PathElementBase.prototype = new e.Element.RenderedElementBase, e.Element.svg = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t), this.baseClearContext = this.clearContext, this.clearContext = function (t) {
                this.baseClearContext(t), e.ViewPort.RemoveCurrent()
            }, this.baseSetContext = this.setContext, this.setContext = function (t) {
                t.strokeStyle = "rgba(0,0,0,0)", t.lineCap = "butt", t.lineJoin = "miter", t.miterLimit = 4, this.baseSetContext(t), this.attribute("x").hasValue() || (this.attribute("x", !0).value = 0), this.attribute("y").hasValue() || (this.attribute("y", !0).value = 0), t.translate(this.attribute("x").toPixels("x"), this.attribute("y").toPixels("y"));
                var n = e.ViewPort.width(), r = e.ViewPort.height();
                if (this.attribute("width").hasValue() || (this.attribute("width", !0).value = "100%"), this.attribute("height").hasValue() || (this.attribute("height", !0).value = "100%"), "undefined" == typeof this.root) {
                    n = this.attribute("width").toPixels("x"), r = this.attribute("height").toPixels("y");
                    var i = 0, a = 0;
                    this.attribute("refX").hasValue() && this.attribute("refY").hasValue() && (i = -this.attribute("refX").toPixels("x"), a = -this.attribute("refY").toPixels("y")), t.beginPath(), t.moveTo(i, a), t.lineTo(n, a), t.lineTo(n, r), t.lineTo(i, r), t.closePath(), t.clip()
                }
                if (e.ViewPort.SetCurrent(n, r), this.attribute("viewBox").hasValue()) {
                    var o = e.ToNumberArray(this.attribute("viewBox").value), s = o[0], l = o[1];
                    n = o[2], r = o[3], e.AspectRatio(t, this.attribute("preserveAspectRatio").value, e.ViewPort.width(), n, e.ViewPort.height(), r, s, l, this.attribute("refX").value, this.attribute("refY").value), e.ViewPort.RemoveCurrent(), e.ViewPort.SetCurrent(o[2], o[3])
                }
            }
        }, e.Element.svg.prototype = new e.Element.RenderedElementBase, e.Element.rect = function (t) {
            this.base = e.Element.PathElementBase, this.base(t), this.path = function (t) {
                var n = this.attribute("x").toPixels("x"), r = this.attribute("y").toPixels("y"), i = this.attribute("width").toPixels("x"), a = this.attribute("height").toPixels("y"), o = this.attribute("rx").toPixels("x"), s = this.attribute("ry").toPixels("y");
                return this.attribute("rx").hasValue() && !this.attribute("ry").hasValue() && (s = o), this.attribute("ry").hasValue() && !this.attribute("rx").hasValue() && (o = s), o = Math.min(o, i / 2), s = Math.min(s, a / 2), null != t && (t.beginPath(), t.moveTo(n + o, r), t.lineTo(n + i - o, r), t.quadraticCurveTo(n + i, r, n + i, r + s), t.lineTo(n + i, r + a - s), t.quadraticCurveTo(n + i, r + a, n + i - o, r + a), t.lineTo(n + o, r + a), t.quadraticCurveTo(n, r + a, n, r + a - s), t.lineTo(n, r + s), t.quadraticCurveTo(n, r, n + o, r), t.closePath()), new e.BoundingBox(n, r, n + i, r + a)
            }
        }, e.Element.rect.prototype = new e.Element.PathElementBase, e.Element.circle = function (t) {
            this.base = e.Element.PathElementBase, this.base(t), this.path = function (t) {
                var n = this.attribute("cx").toPixels("x"), r = this.attribute("cy").toPixels("y"), i = this.attribute("r").toPixels();
                return null != t && (t.beginPath(), t.arc(n, r, i, 0, 2 * Math.PI, !0), t.closePath()), new e.BoundingBox(n - i, r - i, n + i, r + i)
            }
        }, e.Element.circle.prototype = new e.Element.PathElementBase, e.Element.ellipse = function (t) {
            this.base = e.Element.PathElementBase, this.base(t), this.path = function (t) {
                var n = 4 * ((Math.sqrt(2) - 1) / 3), r = this.attribute("rx").toPixels("x"), i = this.attribute("ry").toPixels("y"), a = this.attribute("cx").toPixels("x"), o = this.attribute("cy").toPixels("y");
                return null != t && (t.beginPath(), t.moveTo(a, o - i), t.bezierCurveTo(a + n * r, o - i, a + r, o - n * i, a + r, o), t.bezierCurveTo(a + r, o + n * i, a + n * r, o + i, a, o + i), t.bezierCurveTo(a - n * r, o + i, a - r, o + n * i, a - r, o), t.bezierCurveTo(a - r, o - n * i, a - n * r, o - i, a, o - i), t.closePath()), new e.BoundingBox(a - r, o - i, a + r, o + i)
            }
        }, e.Element.ellipse.prototype = new e.Element.PathElementBase, e.Element.line = function (t) {
            this.base = e.Element.PathElementBase, this.base(t), this.getPoints = function () {
                return [new e.Point(this.attribute("x1").toPixels("x"), this.attribute("y1").toPixels("y")), new e.Point(this.attribute("x2").toPixels("x"), this.attribute("y2").toPixels("y"))]
            }, this.path = function (t) {
                var n = this.getPoints();
                return null != t && (t.beginPath(), t.moveTo(n[0].x, n[0].y), t.lineTo(n[1].x, n[1].y)), new e.BoundingBox(n[0].x, n[0].y, n[1].x, n[1].y)
            }, this.getMarkers = function () {
                var e = this.getPoints(), t = e[0].angleTo(e[1]);
                return [[e[0], t], [e[1], t]]
            }
        }, e.Element.line.prototype = new e.Element.PathElementBase, e.Element.polyline = function (t) {
            this.base = e.Element.PathElementBase, this.base(t), this.points = e.CreatePath(this.attribute("points").value), this.path = function (t) {
                var n = new e.BoundingBox(this.points[0].x, this.points[0].y);
                null != t && (t.beginPath(), t.moveTo(this.points[0].x, this.points[0].y));
                for (var r = 1; r < this.points.length; r++)n.addPoint(this.points[r].x, this.points[r].y), null != t && t.lineTo(this.points[r].x, this.points[r].y);
                return n
            }, this.getMarkers = function () {
                for (var e = [], t = 0; t < this.points.length - 1; t++)e.push([this.points[t], this.points[t].angleTo(this.points[t + 1])]);
                return e.push([this.points[this.points.length - 1], e[e.length - 1][1]]), e
            }
        }, e.Element.polyline.prototype = new e.Element.PathElementBase, e.Element.polygon = function (t) {
            this.base = e.Element.polyline, this.base(t), this.basePath = this.path, this.path = function (e) {
                var t = this.basePath(e);
                return null != e && (e.lineTo(this.points[0].x, this.points[0].y), e.closePath()), t
            }
        }, e.Element.polygon.prototype = new e.Element.polyline, e.Element.path = function (t) {
            this.base = e.Element.PathElementBase, this.base(t);
            var n = this.attribute("d").value;
            n = n.replace(/,/gm, " "), n = n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), n = n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), n = n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm, "$1 $2"), n = n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), n = n.replace(/([0-9])([+\-])/gm, "$1 $2"), n = n.replace(/(\.[0-9]*)(\.)/gm, "$1 $2"), n = n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm, "$1 $3 $4 "), n = e.compressSpaces(n), n = e.trim(n), this.PathParser = new function (t) {
                this.tokens = t.split(" "), this.reset = function () {
                    this.i = -1, this.command = "", this.previousCommand = "", this.start = new e.Point(0, 0), this.control = new e.Point(0, 0), this.current = new e.Point(0, 0), this.points = [], this.angles = []
                }, this.isEnd = function () {
                    return this.i >= this.tokens.length - 1
                }, this.isCommandOrEnd = function () {
                    return this.isEnd() ? !0 : null != this.tokens[this.i + 1].match(/^[A-Za-z]$/)
                }, this.isRelativeCommand = function () {
                    switch (this.command) {
                        case"m":
                        case"l":
                        case"h":
                        case"v":
                        case"c":
                        case"s":
                        case"q":
                        case"t":
                        case"a":
                        case"z":
                            return !0
                    }
                    return !1
                }, this.getToken = function () {
                    return this.i++, this.tokens[this.i]
                }, this.getScalar = function () {
                    return parseFloat(this.getToken())
                }, this.nextCommand = function () {
                    this.previousCommand = this.command, this.command = this.getToken()
                }, this.getPoint = function () {
                    var t = new e.Point(this.getScalar(), this.getScalar());
                    return this.makeAbsolute(t)
                }, this.getAsControlPoint = function () {
                    var e = this.getPoint();
                    return this.control = e, e
                }, this.getAsCurrentPoint = function () {
                    var e = this.getPoint();
                    return this.current = e, e
                }, this.getReflectedControlPoint = function () {
                    if ("c" != this.previousCommand.toLowerCase() && "s" != this.previousCommand.toLowerCase() && "q" != this.previousCommand.toLowerCase() && "t" != this.previousCommand.toLowerCase())return this.current;
                    var t = new e.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);
                    return t
                }, this.makeAbsolute = function (e) {
                    return this.isRelativeCommand() && (e.x += this.current.x, e.y += this.current.y), e
                }, this.addMarker = function (e, t, n) {
                    null != n && this.angles.length > 0 && null == this.angles[this.angles.length - 1] && (this.angles[this.angles.length - 1] = this.points[this.points.length - 1].angleTo(n)), this.addMarkerAngle(e, null == t ? null : t.angleTo(e))
                }, this.addMarkerAngle = function (e, t) {
                    this.points.push(e), this.angles.push(t)
                }, this.getMarkerPoints = function () {
                    return this.points
                }, this.getMarkerAngles = function () {
                    for (var e = 0; e < this.angles.length; e++)if (null == this.angles[e])for (var t = e + 1; t < this.angles.length; t++)if (null != this.angles[t]) {
                        this.angles[e] = this.angles[t];
                        break
                    }
                    return this.angles
                }
            }(n), this.path = function (t) {
                var n = this.PathParser;
                n.reset();
                var r = new e.BoundingBox;
                for (null != t && t.beginPath(); !n.isEnd();)switch (n.nextCommand(), n.command) {
                    case"M":
                    case"m":
                        var i = n.getAsCurrentPoint();
                        for (n.addMarker(i), r.addPoint(i.x, i.y), null != t && t.moveTo(i.x, i.y), n.start = n.current; !n.isCommandOrEnd();) {
                            var i = n.getAsCurrentPoint();
                            n.addMarker(i, n.start), r.addPoint(i.x, i.y), null != t && t.lineTo(i.x, i.y)
                        }
                        break;
                    case"L":
                    case"l":
                        for (; !n.isCommandOrEnd();) {
                            var a = n.current, i = n.getAsCurrentPoint();
                            n.addMarker(i, a), r.addPoint(i.x, i.y), null != t && t.lineTo(i.x, i.y)
                        }
                        break;
                    case"H":
                    case"h":
                        for (; !n.isCommandOrEnd();) {
                            var o = new e.Point((n.isRelativeCommand() ? n.current.x : 0) + n.getScalar(), n.current.y);
                            n.addMarker(o, n.current), n.current = o, r.addPoint(n.current.x, n.current.y), null != t && t.lineTo(n.current.x, n.current.y)
                        }
                        break;
                    case"V":
                    case"v":
                        for (; !n.isCommandOrEnd();) {
                            var o = new e.Point(n.current.x, (n.isRelativeCommand() ? n.current.y : 0) + n.getScalar());
                            n.addMarker(o, n.current), n.current = o, r.addPoint(n.current.x, n.current.y), null != t && t.lineTo(n.current.x, n.current.y)
                        }
                        break;
                    case"C":
                    case"c":
                        for (; !n.isCommandOrEnd();) {
                            var s = n.current, l = n.getPoint(), u = n.getAsControlPoint(), h = n.getAsCurrentPoint();
                            n.addMarker(h, u, l), r.addBezierCurve(s.x, s.y, l.x, l.y, u.x, u.y, h.x, h.y), null != t && t.bezierCurveTo(l.x, l.y, u.x, u.y, h.x, h.y)
                        }
                        break;
                    case"S":
                    case"s":
                        for (; !n.isCommandOrEnd();) {
                            var s = n.current, l = n.getReflectedControlPoint(), u = n.getAsControlPoint(), h = n.getAsCurrentPoint();
                            n.addMarker(h, u, l), r.addBezierCurve(s.x, s.y, l.x, l.y, u.x, u.y, h.x, h.y), null != t && t.bezierCurveTo(l.x, l.y, u.x, u.y, h.x, h.y)
                        }
                        break;
                    case"Q":
                    case"q":
                        for (; !n.isCommandOrEnd();) {
                            var s = n.current, u = n.getAsControlPoint(), h = n.getAsCurrentPoint();
                            n.addMarker(h, u, u), r.addQuadraticCurve(s.x, s.y, u.x, u.y, h.x, h.y), null != t && t.quadraticCurveTo(u.x, u.y, h.x, h.y)
                        }
                        break;
                    case"T":
                    case"t":
                        for (; !n.isCommandOrEnd();) {
                            var s = n.current, u = n.getReflectedControlPoint();
                            n.control = u;
                            var h = n.getAsCurrentPoint();
                            n.addMarker(h, u, u), r.addQuadraticCurve(s.x, s.y, u.x, u.y, h.x, h.y), null != t && t.quadraticCurveTo(u.x, u.y, h.x, h.y)
                        }
                        break;
                    case"A":
                    case"a":
                        for (; !n.isCommandOrEnd();) {
                            var s = n.current, c = n.getScalar(), A = n.getScalar(), f = n.getScalar() * (Math.PI / 180), d = n.getScalar(), p = n.getScalar(), h = n.getAsCurrentPoint(), m = new e.Point(Math.cos(f) * (s.x - h.x) / 2 + Math.sin(f) * (s.y - h.y) / 2, -Math.sin(f) * (s.x - h.x) / 2 + Math.cos(f) * (s.y - h.y) / 2), g = Math.pow(m.x, 2) / Math.pow(c, 2) + Math.pow(m.y, 2) / Math.pow(A, 2);
                            g > 1 && (c *= Math.sqrt(g), A *= Math.sqrt(g));
                            var v = (d == p ? -1 : 1) * Math.sqrt((Math.pow(c, 2) * Math.pow(A, 2) - Math.pow(c, 2) * Math.pow(m.y, 2) - Math.pow(A, 2) * Math.pow(m.x, 2)) / (Math.pow(c, 2) * Math.pow(m.y, 2) + Math.pow(A, 2) * Math.pow(m.x, 2)));
                            isNaN(v) && (v = 0);
                            var y = new e.Point(v * c * m.y / A, v * -A * m.x / c), E = new e.Point((s.x + h.x) / 2 + Math.cos(f) * y.x - Math.sin(f) * y.y, (s.y + h.y) / 2 + Math.sin(f) * y.x + Math.cos(f) * y.y), b = function (e) {
                                return Math.sqrt(Math.pow(e[0], 2) + Math.pow(e[1], 2))
                            }, x = function (e, t) {
                                return (e[0] * t[0] + e[1] * t[1]) / (b(e) * b(t))
                            }, w = function (e, t) {
                                return (e[0] * t[1] < e[1] * t[0] ? -1 : 1) * Math.acos(x(e, t))
                            }, T = w([1, 0], [(m.x - y.x) / c, (m.y - y.y) / A]), C = [(m.x - y.x) / c, (m.y - y.y) / A], R = [(-m.x - y.x) / c, (-m.y - y.y) / A], _ = w(C, R);
                            x(C, R) <= -1 && (_ = Math.PI), x(C, R) >= 1 && (_ = 0);
                            var B = 1 - p ? 1 : -1, M = T + B * (_ / 2), H = new e.Point(E.x + c * Math.cos(M), E.y + A * Math.sin(M));
                            if (n.addMarkerAngle(H, M - B * Math.PI / 2), n.addMarkerAngle(h, M - B * Math.PI), r.addPoint(h.x, h.y), null != t) {
                                var x = c > A ? c : A, S = c > A ? 1 : c / A, D = c > A ? A / c : 1;
                                t.translate(E.x, E.y), t.rotate(f), t.scale(S, D), t.arc(0, 0, x, T, T + _, 1 - p), t.scale(1 / S, 1 / D), t.rotate(-f), t.translate(-E.x, -E.y)
                            }
                        }
                        break;
                    case"Z":
                    case"z":
                        null != t && t.closePath(), n.current = n.start
                }
                return r
            }, this.getMarkers = function () {
                for (var e = this.PathParser.getMarkerPoints(), t = this.PathParser.getMarkerAngles(), n = [], r = 0; r < e.length; r++)n.push([e[r], t[r]]);
                return n
            }
        }, e.Element.path.prototype = new e.Element.PathElementBase, e.Element.pattern = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.createPattern = function (t) {
                var n = this.attribute("width").toPixels("x", !0), r = this.attribute("height").toPixels("y", !0), i = new e.Element.svg;
                i.attributes.viewBox = new e.Property("viewBox", this.attribute("viewBox").value), i.attributes.width = new e.Property("width", n + "px"), i.attributes.height = new e.Property("height", r + "px"), i.attributes.transform = new e.Property("transform", this.attribute("patternTransform").value), i.children = this.children;
                var a = document.createElement("canvas");
                a.width = n, a.height = r;
                var o = a.getContext("2d");
                this.attribute("x").hasValue() && this.attribute("y").hasValue() && o.translate(this.attribute("x").toPixels("x", !0), this.attribute("y").toPixels("y", !0));
                for (var s = -1; 1 >= s; s++)for (var l = -1; 1 >= l; l++)o.save(), o.translate(s * a.width, l * a.height), i.render(o), o.restore();
                var u = t.createPattern(a, "repeat");
                return u
            }
        }, e.Element.pattern.prototype = new e.Element.ElementBase, e.Element.marker = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.baseRender = this.render, this.render = function (t, n, r) {
                t.translate(n.x, n.y), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(r), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(t.lineWidth, t.lineWidth), t.save();
                var i = new e.Element.svg;
                i.attributes.viewBox = new e.Property("viewBox", this.attribute("viewBox").value), i.attributes.refX = new e.Property("refX", this.attribute("refX").value), i.attributes.refY = new e.Property("refY", this.attribute("refY").value), i.attributes.width = new e.Property("width", this.attribute("markerWidth").value), i.attributes.height = new e.Property("height", this.attribute("markerHeight").value), i.attributes.fill = new e.Property("fill", this.attribute("fill").valueOrDefault("black")), i.attributes.stroke = new e.Property("stroke", this.attribute("stroke").valueOrDefault("none")), i.children = this.children, i.render(t), t.restore(), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(1 / t.lineWidth, 1 / t.lineWidth), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(-r), t.translate(-n.x, -n.y)
            }
        }, e.Element.marker.prototype = new e.Element.ElementBase, e.Element.defs = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.render = function () {
            }
        }, e.Element.defs.prototype = new e.Element.ElementBase, e.Element.GradientBase = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.gradientUnits = this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"), this.stops = [];
            for (var n = 0; n < this.children.length; n++) {
                var r = this.children[n];
                "stop" == r.type && this.stops.push(r)
            }
            this.getGradient = function () {
            }, this.createGradient = function (t, n, r) {
                var i = this;
                this.getHrefAttribute().hasValue() && (i = this.getHrefAttribute().getDefinition());
                var a = function (t) {
                    if (r.hasValue()) {
                        var n = new e.Property("color", t);
                        return n.addOpacity(r.value).value
                    }
                    return t
                }, o = this.getGradient(t, n);
                if (null == o)return a(i.stops[i.stops.length - 1].color);
                for (var s = 0; s < i.stops.length; s++)o.addColorStop(i.stops[s].offset, a(i.stops[s].color));
                if (this.attribute("gradientTransform").hasValue()) {
                    var l = e.ViewPort.viewPorts[0], u = new e.Element.rect;
                    u.attributes.x = new e.Property("x", -e.MAX_VIRTUAL_PIXELS / 3), u.attributes.y = new e.Property("y", -e.MAX_VIRTUAL_PIXELS / 3), u.attributes.width = new e.Property("width", e.MAX_VIRTUAL_PIXELS), u.attributes.height = new e.Property("height", e.MAX_VIRTUAL_PIXELS);
                    var h = new e.Element.g;
                    h.attributes.transform = new e.Property("transform", this.attribute("gradientTransform").value), h.children = [u];
                    var c = new e.Element.svg;
                    c.attributes.x = new e.Property("x", 0), c.attributes.y = new e.Property("y", 0), c.attributes.width = new e.Property("width", l.width), c.attributes.height = new e.Property("height", l.height), c.children = [h];
                    var A = document.createElement("canvas");
                    A.width = l.width, A.height = l.height;
                    var f = A.getContext("2d");
                    return f.fillStyle = o, c.render(f), f.createPattern(A, "no-repeat")
                }
                return o
            }
        }, e.Element.GradientBase.prototype = new e.Element.ElementBase, e.Element.linearGradient = function (t) {
            this.base = e.Element.GradientBase, this.base(t), this.getGradient = function (e, t) {
                var n = t.getBoundingBox();
                this.attribute("x1").hasValue() || this.attribute("y1").hasValue() || this.attribute("x2").hasValue() || this.attribute("y2").hasValue() || (this.attribute("x1", !0).value = 0, this.attribute("y1", !0).value = 0, this.attribute("x2", !0).value = 1, this.attribute("y2", !0).value = 0);
                var r = "objectBoundingBox" == this.gradientUnits ? n.x() + n.width() * this.attribute("x1").numValue() : this.attribute("x1").toPixels("x"), i = "objectBoundingBox" == this.gradientUnits ? n.y() + n.height() * this.attribute("y1").numValue() : this.attribute("y1").toPixels("y"), a = "objectBoundingBox" == this.gradientUnits ? n.x() + n.width() * this.attribute("x2").numValue() : this.attribute("x2").toPixels("x"), o = "objectBoundingBox" == this.gradientUnits ? n.y() + n.height() * this.attribute("y2").numValue() : this.attribute("y2").toPixels("y");
                return r == a && i == o ? null : e.createLinearGradient(r, i, a, o)
            }
        }, e.Element.linearGradient.prototype = new e.Element.GradientBase, e.Element.radialGradient = function (t) {
            this.base = e.Element.GradientBase, this.base(t), this.getGradient = function (e, t) {
                var n = t.getBoundingBox();
                this.attribute("cx").hasValue() || (this.attribute("cx", !0).value = "50%"), this.attribute("cy").hasValue() || (this.attribute("cy", !0).value = "50%"), this.attribute("r").hasValue() || (this.attribute("r", !0).value = "50%");
                var r = "objectBoundingBox" == this.gradientUnits ? n.x() + n.width() * this.attribute("cx").numValue() : this.attribute("cx").toPixels("x"), i = "objectBoundingBox" == this.gradientUnits ? n.y() + n.height() * this.attribute("cy").numValue() : this.attribute("cy").toPixels("y"), a = r, o = i;
                this.attribute("fx").hasValue() && (a = "objectBoundingBox" == this.gradientUnits ? n.x() + n.width() * this.attribute("fx").numValue() : this.attribute("fx").toPixels("x")), this.attribute("fy").hasValue() && (o = "objectBoundingBox" == this.gradientUnits ? n.y() + n.height() * this.attribute("fy").numValue() : this.attribute("fy").toPixels("y"));
                var s = "objectBoundingBox" == this.gradientUnits ? (n.width() + n.height()) / 2 * this.attribute("r").numValue() : this.attribute("r").toPixels();
                return e.createRadialGradient(a, o, 0, r, i, s)
            }
        }, e.Element.radialGradient.prototype = new e.Element.GradientBase, e.Element.stop = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.offset = this.attribute("offset").numValue(), this.offset < 0 && (this.offset = 0), this.offset > 1 && (this.offset = 1);
            var n = this.style("stop-color");
            this.style("stop-opacity").hasValue() && (n = n.addOpacity(this.style("stop-opacity").value)), this.color = n.value
        }, e.Element.stop.prototype = new e.Element.ElementBase, e.Element.AnimateBase = function (t) {
            this.base = e.Element.ElementBase, this.base(t), e.Animations.push(this), this.duration = 0, this.begin = this.attribute("begin").toMilliseconds(), this.maxDuration = this.begin + this.attribute("dur").toMilliseconds(), this.getProperty = function () {
                var e = this.attribute("attributeType").value, t = this.attribute("attributeName").value;
                return "CSS" == e ? this.parent.style(t, !0) : this.parent.attribute(t, !0)
            }, this.initialValue = null, this.initialUnits = "", this.removed = !1, this.calcValue = function () {
                return ""
            }, this.update = function (e) {
                if (null == this.initialValue && (this.initialValue = this.getProperty().value, this.initialUnits = this.getProperty().getUnits()), this.duration > this.maxDuration) {
                    if ("indefinite" != this.attribute("repeatCount").value && "indefinite" != this.attribute("repeatDur").value)return "remove" != this.attribute("fill").valueOrDefault("remove") || this.removed ? !1 : (this.removed = !0, this.getProperty().value = this.initialValue, !0);
                    this.duration = 0
                }
                this.duration = this.duration + e;
                var t = !1;
                if (this.begin < this.duration) {
                    var n = this.calcValue();
                    if (this.attribute("type").hasValue()) {
                        var r = this.attribute("type").value;
                        n = r + "(" + n + ")"
                    }
                    this.getProperty().value = n, t = !0
                }
                return t
            }, this.from = this.attribute("from"), this.to = this.attribute("to"), this.values = this.attribute("values"), this.values.hasValue() && (this.values.value = this.values.value.split(";")), this.progress = function () {
                var t = {progress: (this.duration - this.begin) / (this.maxDuration - this.begin)};
                if (this.values.hasValue()) {
                    var n = t.progress * (this.values.value.length - 1), r = Math.floor(n), i = Math.ceil(n);
                    t.from = new e.Property("from", parseFloat(this.values.value[r])), t.to = new e.Property("to", parseFloat(this.values.value[i])), t.progress = (n - r) / (i - r)
                } else t.from = this.from, t.to = this.to;
                return t
            }
        }, e.Element.AnimateBase.prototype = new e.Element.ElementBase, e.Element.animate = function (t) {
            this.base = e.Element.AnimateBase, this.base(t), this.calcValue = function () {
                var e = this.progress(), t = e.from.numValue() + (e.to.numValue() - e.from.numValue()) * e.progress;
                return t + this.initialUnits
            }
        }, e.Element.animate.prototype = new e.Element.AnimateBase, e.Element.animateColor = function (t) {
            this.base = e.Element.AnimateBase, this.base(t), this.calcValue = function () {
                var e = this.progress(), t = new RGBColor(e.from.value), n = new RGBColor(e.to.value);
                if (t.ok && n.ok) {
                    var r = t.r + (n.r - t.r) * e.progress, i = t.g + (n.g - t.g) * e.progress, a = t.b + (n.b - t.b) * e.progress;
                    return "rgb(" + parseInt(r, 10) + "," + parseInt(i, 10) + "," + parseInt(a, 10) + ")"
                }
                return this.attribute("from").value
            }
        }, e.Element.animateColor.prototype = new e.Element.AnimateBase, e.Element.animateTransform = function (t) {
            this.base = e.Element.AnimateBase, this.base(t), this.calcValue = function () {
                for (var t = this.progress(), n = e.ToNumberArray(t.from.value), r = e.ToNumberArray(t.to.value), i = "", a = 0; a < n.length; a++)i += n[a] + (r[a] - n[a]) * t.progress + " ";
                return i
            }
        }, e.Element.animateTransform.prototype = new e.Element.animate, e.Element.font = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.isRTL = !1, this.isArabic = !1, this.fontFace = null, this.missingGlyph = null, this.glyphs = [];
            for (var n = 0; n < this.children.length; n++) {
                var r = this.children[n];
                "font-face" == r.type ? (this.fontFace = r, r.style("font-family").hasValue() && (e.Definitions[r.style("font-family").value] = this)) : "missing-glyph" == r.type ? this.missingGlyph = r : "glyph" == r.type && ("" != r.arabicForm ? (this.isRTL = !0, this.isArabic = !0, "undefined" == typeof this.glyphs[r.unicode] && (this.glyphs[r.unicode] = []), this.glyphs[r.unicode][r.arabicForm] = r) : this.glyphs[r.unicode] = r)
            }
        }, e.Element.font.prototype = new e.Element.ElementBase, e.Element.fontface = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.ascent = this.attribute("ascent").value, this.descent = this.attribute("descent").value, this.unitsPerEm = this.attribute("units-per-em").numValue()
        }, e.Element.fontface.prototype = new e.Element.ElementBase, e.Element.missingglyph = function (t) {
            this.base = e.Element.path, this.base(t), this.horizAdvX = 0
        }, e.Element.missingglyph.prototype = new e.Element.path, e.Element.glyph = function (t) {
            this.base = e.Element.path, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.unicode = this.attribute("unicode").value, this.arabicForm = this.attribute("arabic-form").value
        }, e.Element.glyph.prototype = new e.Element.path, e.Element.text = function (t) {
            this.captureTextNodes = !0, this.base = e.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (e) {
                this.baseSetContext(e), this.style("dominant-baseline").hasValue() && (e.textBaseline = this.style("dominant-baseline").value), this.style("alignment-baseline").hasValue() && (e.textBaseline = this.style("alignment-baseline").value)
            }, this.getBoundingBox = function () {
                return new e.BoundingBox(this.attribute("x").toPixels("x"), this.attribute("y").toPixels("y"), 0, 0)
            }, this.renderChildren = function (e) {
                this.x = this.attribute("x").toPixels("x"), this.y = this.attribute("y").toPixels("y"), this.x += this.getAnchorDelta(e, this, 0);
                for (var t = 0; t < this.children.length; t++)this.renderChild(e, this, t)
            }, this.getAnchorDelta = function (e, t, n) {
                var r = this.style("text-anchor").valueOrDefault("start");
                if ("start" != r) {
                    for (var i = 0, a = n; a < t.children.length; a++) {
                        var o = t.children[a];
                        if (a > n && o.attribute("x").hasValue())break;
                        i += o.measureTextRecursive(e)
                    }
                    return -1 * ("end" == r ? i : i / 2)
                }
                return 0
            }, this.renderChild = function (e, t, n) {
                var r = t.children[n];
                r.attribute("x").hasValue() ? r.x = r.attribute("x").toPixels("x") + this.getAnchorDelta(e, t, n) : (this.attribute("dx").hasValue() && (this.x += this.attribute("dx").toPixels("x")), r.attribute("dx").hasValue() && (this.x += r.attribute("dx").toPixels("x")), r.x = this.x), this.x = r.x + r.measureText(e), r.attribute("y").hasValue() ? r.y = r.attribute("y").toPixels("y") : (this.attribute("dy").hasValue() && (this.y += this.attribute("dy").toPixels("y")), r.attribute("dy").hasValue() && (this.y += r.attribute("dy").toPixels("y")), r.y = this.y), this.y = r.y, r.render(e);
                for (var n = 0; n < r.children.length; n++)this.renderChild(e, r, n)
            }
        }, e.Element.text.prototype = new e.Element.RenderedElementBase, e.Element.TextElementBase = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t), this.getGlyph = function (e, t, n) {
                var r = t[n], i = null;
                if (e.isArabic) {
                    var a = "isolated";
                    (0 == n || " " == t[n - 1]) && n < t.length - 2 && " " != t[n + 1] && (a = "terminal"), n > 0 && " " != t[n - 1] && n < t.length - 2 && " " != t[n + 1] && (a = "medial"), n > 0 && " " != t[n - 1] && (n == t.length - 1 || " " == t[n + 1]) && (a = "initial"), "undefined" != typeof e.glyphs[r] && (i = e.glyphs[r][a], null == i && "glyph" == e.glyphs[r].type && (i = e.glyphs[r]))
                } else i = e.glyphs[r];
                return null == i && (i = e.missingGlyph), i
            }, this.renderChildren = function (t) {
                var n = this.parent.style("font-family").getDefinition();
                if (null == n)"" != t.fillStyle && t.fillText(e.compressSpaces(this.getText()), this.x, this.y), "" != t.strokeStyle && t.strokeText(e.compressSpaces(this.getText()), this.x, this.y); else {
                    var r = this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize), i = this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle), a = this.getText();
                    n.isRTL && (a = a.split("").reverse().join(""));
                    for (var o = e.ToNumberArray(this.parent.attribute("dx").value), s = 0; s < a.length; s++) {
                        var l = this.getGlyph(n, a, s), u = r / n.fontFace.unitsPerEm;
                        t.translate(this.x, this.y), t.scale(u, -u);
                        var h = t.lineWidth;
                        t.lineWidth = t.lineWidth * n.fontFace.unitsPerEm / r, "italic" == i && t.transform(1, 0, .4, 1, 0, 0), l.render(t), "italic" == i && t.transform(1, 0, -.4, 1, 0, 0), t.lineWidth = h, t.scale(1 / u, -1 / u), t.translate(-this.x, -this.y), this.x += r * (l.horizAdvX || n.horizAdvX) / n.fontFace.unitsPerEm, "undefined" == typeof o[s] || isNaN(o[s]) || (this.x += o[s])
                    }
                }
            }, this.getText = function () {
            }, this.measureTextRecursive = function (e) {
                for (var t = this.measureText(e), n = 0; n < this.children.length; n++)t += this.children[n].measureTextRecursive(e);
                return t
            }, this.measureText = function (t) {
                var n = this.parent.style("font-family").getDefinition();
                if (null != n) {
                    var r = this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize), i = 0, a = this.getText();
                    n.isRTL && (a = a.split("").reverse().join(""));
                    for (var o = e.ToNumberArray(this.parent.attribute("dx").value), s = 0; s < a.length; s++) {
                        var l = this.getGlyph(n, a, s);
                        i += (l.horizAdvX || n.horizAdvX) * r / n.fontFace.unitsPerEm, "undefined" == typeof o[s] || isNaN(o[s]) || (i += o[s])
                    }
                    return i
                }
                var u = e.compressSpaces(this.getText());
                if (!t.measureText)return 10 * u.length;
                t.save(), this.setContext(t);
                var h = t.measureText(u).width;
                return t.restore(), h
            }
        }, e.Element.TextElementBase.prototype = new e.Element.RenderedElementBase, e.Element.tspan = function (t) {
            this.captureTextNodes = !0, this.base = e.Element.TextElementBase, this.base(t), this.text = t.nodeValue || t.text || "", this.getText = function () {
                return this.text
            }
        }, e.Element.tspan.prototype = new e.Element.TextElementBase, e.Element.tref = function (t) {
            this.base = e.Element.TextElementBase, this.base(t), this.getText = function () {
                var e = this.getHrefAttribute().getDefinition();
                return null != e ? e.children[0].getText() : void 0
            }
        }, e.Element.tref.prototype = new e.Element.TextElementBase, e.Element.a = function (t) {
            this.base = e.Element.TextElementBase, this.base(t), this.hasText = !0;
            for (var n = 0; n < t.childNodes.length; n++)3 != t.childNodes[n].nodeType && (this.hasText = !1);
            this.text = this.hasText ? t.childNodes[0].nodeValue : "", this.getText = function () {
                return this.text
            }, this.baseRenderChildren = this.renderChildren, this.renderChildren = function (t) {
                if (this.hasText) {
                    this.baseRenderChildren(t);
                    var n = new e.Property("fontSize", e.Font.Parse(e.ctx.font).fontSize);
                    e.Mouse.checkBoundingBox(this, new e.BoundingBox(this.x, this.y - n.toPixels("y"), this.x + this.measureText(t), this.y))
                } else {
                    var r = new e.Element.g;
                    r.children = this.children, r.parent = this, r.render(t)
                }
            }, this.onclick = function () {
                window.open(this.getHrefAttribute().value)
            }, this.onmousemove = function () {
                e.ctx.canvas.style.cursor = "pointer"
            }
        }, e.Element.a.prototype = new e.Element.TextElementBase, e.Element.image = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t);
            var n = this.getHrefAttribute().value, r = n.match(/\.svg$/);
            if (e.Images.push(this), this.loaded = !1, r)this.img = e.ajax(n), this.loaded = !0; else {
                this.img = document.createElement("img");
                var i = this;
                this.img.onload = function () {
                    i.loaded = !0
                }, this.img.onerror = function () {
                    "undefined" != typeof console && (console.log('ERROR: image "' + n + '" not found'), i.loaded = !0)
                }, this.img.src = n
            }
            this.renderChildren = function (t) {
                var n = this.attribute("x").toPixels("x"), i = this.attribute("y").toPixels("y"), a = this.attribute("width").toPixels("x"), o = this.attribute("height").toPixels("y");
                0 != a && 0 != o && (t.save(), r ? t.drawSvg(this.img, n, i, a, o) : (t.translate(n, i), e.AspectRatio(t, this.attribute("preserveAspectRatio").value, a, this.img.width, o, this.img.height, 0, 0), t.drawImage(this.img, 0, 0)), t.restore())
            }, this.getBoundingBox = function () {
                var t = this.attribute("x").toPixels("x"), n = this.attribute("y").toPixels("y"), r = this.attribute("width").toPixels("x"), i = this.attribute("height").toPixels("y");
                return new e.BoundingBox(t, n, t + r, n + i)
            }
        }, e.Element.image.prototype = new e.Element.RenderedElementBase, e.Element.g = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t), this.getBoundingBox = function () {
                for (var t = new e.BoundingBox, n = 0; n < this.children.length; n++)t.addBoundingBox(this.children[n].getBoundingBox());
                return t
            }
        },e.Element.g.prototype = new e.Element.RenderedElementBase,e.Element.symbol = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (t) {
                if (this.baseSetContext(t), this.attribute("viewBox").hasValue()) {
                    var n = e.ToNumberArray(this.attribute("viewBox").value), r = n[0], i = n[1];
                    width = n[2], height = n[3], e.AspectRatio(t, this.attribute("preserveAspectRatio").value, this.attribute("width").toPixels("x"), width, this.attribute("height").toPixels("y"), height, r, i), e.ViewPort.SetCurrent(n[2], n[3])
                }
            }
        },e.Element.symbol.prototype = new e.Element.RenderedElementBase,e.Element.style = function (t) {
            this.base = e.Element.ElementBase, this.base(t);
            for (var n = "", r = 0; r < t.childNodes.length; r++)n += t.childNodes[r].nodeValue;
            n = n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, ""), n = e.compressSpaces(n);
            for (var i = n.split("}"), r = 0; r < i.length; r++)if ("" != e.trim(i[r]))for (var a = i[r].split("{"), o = a[0].split(","), s = a[1].split(";"), l = 0; l < o.length; l++) {
                var u = e.trim(o[l]);
                if ("" != u) {
                    for (var h = {}, c = 0; c < s.length; c++) {
                        var A = s[c].indexOf(":"), f = s[c].substr(0, A), d = s[c].substr(A + 1, s[c].length - A);
                        null != f && null != d && (h[e.trim(f)] = new e.Property(e.trim(f), e.trim(d)))
                    }
                    if (e.Styles[u] = h, "@font-face" == u)for (var p = h["font-family"].value.replace(/"/g, ""), m = h.src.value.split(","), g = 0; g < m.length; g++)if (m[g].indexOf('format("svg")') > 0)for (var v = m[g].indexOf("url"), y = m[g].indexOf(")", v), E = m[g].substr(v + 5, y - v - 6), b = e.parseXml(e.ajax(E)), x = b.getElementsByTagName("font"), w = 0; w < x.length; w++) {
                        var T = e.CreateElement(x[w]);
                        e.Definitions[p] = T
                    }
                }
            }
        },e.Element.style.prototype = new e.Element.ElementBase,e.Element.use = function (t) {
            this.base = e.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (e) {
                this.baseSetContext(e), this.attribute("x").hasValue() && e.translate(this.attribute("x").toPixels("x"), 0), this.attribute("y").hasValue() && e.translate(0, this.attribute("y").toPixels("y"))
            }, this.getDefinition = function () {
                var e = this.getHrefAttribute().getDefinition();
                return this.attribute("width").hasValue() && (e.attribute("width", !0).value = this.attribute("width").value), this.attribute("height").hasValue() && (e.attribute("height", !0).value = this.attribute("height").value), e
            }, this.path = function (e) {
                var t = this.getDefinition();
                null != t && t.path(e)
            }, this.getBoundingBox = function () {
                var e = this.getDefinition();
                return null != e ? e.getBoundingBox() : void 0
            }, this.renderChildren = function (e) {
                var t = this.getDefinition();
                if (null != t) {
                    var n = t.parent;
                    t.parent = null, t.render(e), t.parent = n
                }
            }
        },e.Element.use.prototype = new e.Element.RenderedElementBase,e.Element.mask = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.apply = function (t, n) {
                var r = this.attribute("x").toPixels("x"), i = this.attribute("y").toPixels("y"), a = this.attribute("width").toPixels("x"), o = this.attribute("height").toPixels("y");
                if (0 == a && 0 == o) {
                    for (var s = new e.BoundingBox, l = 0; l < this.children.length; l++)s.addBoundingBox(this.children[l].getBoundingBox());
                    var r = Math.floor(s.x1), i = Math.floor(s.y1), a = Math.floor(s.width()), o = Math.floor(s.height())
                }
                var u = n.attribute("mask").value;
                n.attribute("mask").value = "";
                var h = document.createElement("canvas");
                h.width = r + a, h.height = i + o;
                var c = h.getContext("2d");
                this.renderChildren(c);
                var A = document.createElement("canvas");
                A.width = r + a, A.height = i + o;
                var f = A.getContext("2d");
                n.render(f), f.globalCompositeOperation = "destination-in", f.fillStyle = c.createPattern(h, "no-repeat"), f.fillRect(0, 0, r + a, i + o), t.fillStyle = f.createPattern(A, "no-repeat"), t.fillRect(0, 0, r + a, i + o), n.attribute("mask").value = u
            }, this.render = function () {
            }
        },e.Element.mask.prototype = new e.Element.ElementBase,e.Element.clipPath = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.apply = function (t) {
                for (var n = 0; n < this.children.length; n++) {
                    var r = this.children[n];
                    if ("undefined" != typeof r.path) {
                        var i = null;
                        r.attribute("transform").hasValue() && (i = new e.Transform(r.attribute("transform").value), i.apply(t)), r.path(t), t.clip(), i && i.unapply(t)
                    }
                }
            }, this.render = function () {
            }
        },e.Element.clipPath.prototype = new e.Element.ElementBase,e.Element.filter = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.apply = function (e, t) {
                var n = t.getBoundingBox(), r = Math.floor(n.x1), i = Math.floor(n.y1), a = Math.floor(n.width()), o = Math.floor(n.height()), s = t.style("filter").value;
                t.style("filter").value = "";
                for (var l = 0, u = 0, h = 0; h < this.children.length; h++) {
                    var c = this.children[h].extraFilterDistance || 0;
                    l = Math.max(l, c), u = Math.max(u, c)
                }
                var A = document.createElement("canvas");
                A.width = a + 2 * l, A.height = o + 2 * u;
                var f = A.getContext("2d");
                f.translate(-r + l, -i + u), t.render(f);
                for (var h = 0; h < this.children.length; h++)this.children[h].apply(f, 0, 0, a + 2 * l, o + 2 * u);
                e.drawImage(A, 0, 0, a + 2 * l, o + 2 * u, r - l, i - u, a + 2 * l, o + 2 * u), t.style("filter", !0).value = s
            }, this.render = function () {
            }
        },e.Element.filter.prototype = new e.Element.ElementBase,e.Element.feMorphology = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.apply = function () {
            }
        },e.Element.feMorphology.prototype = new e.Element.ElementBase,e.Element.feColorMatrix = function (t) {
            function n(e, t, n, r, i, a) {
                return e[n * r * 4 + 4 * t + a]
            }

            function r(e, t, n, r, i, a, o) {
                e[n * r * 4 + 4 * t + a] = o
            }

            this.base = e.Element.ElementBase, this.base(t), this.apply = function (e, t, i, a, o) {
                for (var s = e.getImageData(0, 0, a, o), i = 0; o > i; i++)for (var t = 0; a > t; t++) {
                    var l = n(s.data, t, i, a, o, 0), u = n(s.data, t, i, a, o, 1), h = n(s.data, t, i, a, o, 2), c = (l + u + h) / 3;
                    r(s.data, t, i, a, o, 0, c), r(s.data, t, i, a, o, 1, c), r(s.data, t, i, a, o, 2, c)
                }
                e.clearRect(0, 0, a, o), e.putImageData(s, 0, 0)
            }
        },e.Element.feColorMatrix.prototype = new e.Element.ElementBase,e.Element.feGaussianBlur = function (t) {
            this.base = e.Element.ElementBase, this.base(t), this.blurRadius = Math.floor(this.attribute("stdDeviation").numValue()), this.extraFilterDistance = this.blurRadius, this.apply = function (t, n, r, i, a) {
                return "undefined" == typeof stackBlurCanvasRGBA ? void("undefined" != typeof console && console.log("ERROR: StackBlur.js must be included for blur to work")) : (t.canvas.id = e.UniqueId(), t.canvas.style.display = "none", document.body.appendChild(t.canvas), stackBlurCanvasRGBA(t.canvas.id, n, r, i, a, this.blurRadius), void document.body.removeChild(t.canvas))
            }
        },e.Element.feGaussianBlur.prototype = new e.Element.ElementBase,e.Element.title = function () {
        },e.Element.title.prototype = new e.Element.ElementBase,e.Element.desc = function () {
        },e.Element.desc.prototype = new e.Element.ElementBase,e.Element.MISSING = function (e) {
            "undefined" != typeof console && console.log("ERROR: Element '" + e.nodeName + "' not yet implemented.")
        },e.Element.MISSING.prototype = new e.Element.ElementBase,e.CreateElement = function (t) {
            var n = t.nodeName.replace(/^[^:]+:/, "");
            n = n.replace(/\-/g, "");
            var r = null;
            return r = "undefined" != typeof e.Element[n] ? new e.Element[n](t) : new e.Element.MISSING(t), r.type = t.nodeName, r
        },e.load = function (t, n) {
            e.loadXml(t, e.ajax(n))
        },e.loadXml = function (t, n) {
            e.loadXmlDoc(t, e.parseXml(n))
        },e.loadXmlDoc = function (t, n) {
            e.init(t);
            var r = function (e) {
                for (var n = t.canvas; n;)e.x -= n.offsetLeft, e.y -= n.offsetTop, n = n.offsetParent;
                return window.scrollX && (e.x += window.scrollX), window.scrollY && (e.y += window.scrollY), e
            };
            1 != e.opts.ignoreMouse && (t.canvas.onclick = function (t) {
                var n = r(new e.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
                e.Mouse.onclick(n.x, n.y)
            }, t.canvas.onmousemove = function (t) {
                var n = r(new e.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
                e.Mouse.onmousemove(n.x, n.y)
            });
            var i = e.CreateElement(n.documentElement);
            i.root = !0;
            var a = !0, o = function () {
                e.ViewPort.Clear(), t.canvas.parentNode && e.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth, t.canvas.parentNode.clientHeight), 1 != e.opts.ignoreDimensions && (i.style("width").hasValue() && (t.canvas.width = i.style("width").toPixels("x"), t.canvas.style.width = t.canvas.width + "px"), i.style("height").hasValue() && (t.canvas.height = i.style("height").toPixels("y"), t.canvas.style.height = t.canvas.height + "px"));
                var r = t.canvas.clientWidth || t.canvas.width, o = t.canvas.clientHeight || t.canvas.height;
                if (1 == e.opts.ignoreDimensions && i.style("width").hasValue() && i.style("height").hasValue() && (r = i.style("width").toPixels("x"), o = i.style("height").toPixels("y")), e.ViewPort.SetCurrent(r, o), null != e.opts.offsetX && (i.attribute("x", !0).value = e.opts.offsetX), null != e.opts.offsetY && (i.attribute("y", !0).value = e.opts.offsetY), null != e.opts.scaleWidth && null != e.opts.scaleHeight) {
                    var s = 1, l = 1, u = e.ToNumberArray(i.attribute("viewBox").value);
                    i.attribute("width").hasValue() ? s = i.attribute("width").toPixels("x") / e.opts.scaleWidth : isNaN(u[2]) || (s = u[2] / e.opts.scaleWidth), i.attribute("height").hasValue() ? l = i.attribute("height").toPixels("y") / e.opts.scaleHeight : isNaN(u[3]) || (l = u[3] / e.opts.scaleHeight), i.attribute("width", !0).value = e.opts.scaleWidth, i.attribute("height", !0).value = e.opts.scaleHeight, i.attribute("viewBox", !0).value = "0 0 " + r * s + " " + o * l, i.attribute("preserveAspectRatio", !0).value = "none"
                }
                1 != e.opts.ignoreClear && t.clearRect(0, 0, r, o), i.render(t), a && (a = !1, "function" == typeof e.opts.renderCallback && e.opts.renderCallback(n))
            }, s = !0;
            e.ImagesLoaded() && (s = !1, o()), e.intervalID = setInterval(function () {
                var t = !1;
                if (s && e.ImagesLoaded() && (s = !1, t = !0), 1 != e.opts.ignoreMouse && (t |= e.Mouse.hasEvents()), 1 != e.opts.ignoreAnimation)for (var n = 0; n < e.Animations.length; n++)t |= e.Animations[n].update(1e3 / e.FRAMERATE);
                "function" == typeof e.opts.forceRedraw && 1 == e.opts.forceRedraw() && (t = !0), t && (o(), e.Mouse.runEvents())
            }, 1e3 / e.FRAMERATE)
        },e.stop = function () {
            e.intervalID && clearInterval(e.intervalID)
        },e.Mouse = new function () {
            this.events = [], this.hasEvents = function () {
                return 0 != this.events.length
            }, this.onclick = function (e, t) {
                this.events.push({
                    type: "onclick", x: e, y: t, run: function (e) {
                        e.onclick && e.onclick()
                    }
                })
            }, this.onmousemove = function (e, t) {
                this.events.push({
                    type: "onmousemove", x: e, y: t, run: function (e) {
                        e.onmousemove && e.onmousemove()
                    }
                })
            }, this.eventElements = [], this.checkPath = function (e, t) {
                for (var n = 0; n < this.events.length; n++) {
                    var r = this.events[n];
                    t.isPointInPath && t.isPointInPath(r.x, r.y) && (this.eventElements[n] = e)
                }
            }, this.checkBoundingBox = function (e, t) {
                for (var n = 0; n < this.events.length; n++) {
                    var r = this.events[n];
                    t.isPointInBox(r.x, r.y) && (this.eventElements[n] = e)
                }
            }, this.runEvents = function () {
                e.ctx.canvas.style.cursor = "";
                for (var t = 0; t < this.events.length; t++)for (var n = this.events[t], r = this.eventElements[t]; r;)n.run(r), r = r.parent;
                this.events = [], this.eventElements = []
            }
        },e
    }

    this.canvg = function (t, n, r) {
        if (null != t || null != n || null != r) {
            r = r || {}, "string" == typeof t && (t = document.getElementById(t)), null != t.svg && t.svg.stop();
            var i = e();
            (1 != t.childNodes.length || "OBJECT" != t.childNodes[0].nodeName) && (t.svg = i), i.opts = r;
            var a = t.getContext("2d");
            "undefined" != typeof n.documentElement ? i.loadXmlDoc(a, n) : "<" == n.substr(0, 1) ? i.loadXml(a, n) : i.load(a, n)
        } else for (var o = document.getElementsByTagName("svg"), s = 0; s < o.length; s++) {
            var l = o[s], u = document.createElement("canvas");
            u.width = l.clientWidth, u.height = l.clientHeight, l.parentNode.insertBefore(u, l), l.parentNode.removeChild(l);
            var h = document.createElement("div");
            h.appendChild(l), canvg(u, h.innerHTML)
        }
    }
}(), "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.drawSvg = function (e, t, n, r, i) {
    canvg(this.canvas, e, {
        ignoreMouse: !0,
        ignoreAnimation: !0,
        ignoreDimensions: !0,
        ignoreClear: !0,
        offsetX: t,
        offsetY: n,
        scaleWidth: r,
        scaleHeight: i
    })
}), function (e, t) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function (e) {
        if (!e.document)throw new Error("jQuery requires a window with a document");
        return t(e)
    } : t(e)
}("undefined" != typeof window ? window : this, function (e, t) {
    function n(e) {
        var t = e.length, n = it.type(e);
        return "function" === n || it.isWindow(e) ? !1 : 1 === e.nodeType && t ? !0 : "array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e
    }

    function r(e, t, n) {
        if (it.isFunction(t))return it.grep(e, function (e, r) {
            return !!t.call(e, r, e) !== n
        });
        if (t.nodeType)return it.grep(e, function (e) {
            return e === t !== n
        });
        if ("string" == typeof t) {
            if (At.test(t))return it.filter(t, e, n);
            t = it.filter(t, e)
        }
        return it.grep(e, function (e) {
            return it.inArray(e, t) >= 0 !== n
        })
    }

    function i(e, t) {
        do e = e[t]; while (e && 1 !== e.nodeType);
        return e
    }

    function a(e) {
        var t = Et[e] = {};
        return it.each(e.match(yt) || [], function (e, n) {
            t[n] = !0
        }), t
    }

    function o() {
        dt.addEventListener ? (dt.removeEventListener("DOMContentLoaded", s, !1), e.removeEventListener("load", s, !1)) : (dt.detachEvent("onreadystatechange", s), e.detachEvent("onload", s))
    }

    function s() {
        (dt.addEventListener || "load" === event.type || "complete" === dt.readyState) && (o(), it.ready())
    }

    function l(e, t, n) {
        if (void 0 === n && 1 === e.nodeType) {
            var r = "data-" + t.replace(Ct, "-$1").toLowerCase();
            if (n = e.getAttribute(r), "string" == typeof n) {
                try {
                    n = "true" === n ? !0 : "false" === n ? !1 : "null" === n ? null : +n + "" === n ? +n : Tt.test(n) ? it.parseJSON(n) : n
                } catch (i) {
                }
                it.data(e, t, n)
            } else n = void 0
        }
        return n
    }

    function u(e) {
        var t;
        for (t in e)if (("data" !== t || !it.isEmptyObject(e[t])) && "toJSON" !== t)return !1;
        return !0
    }

    function h(e, t, n, r) {
        if (it.acceptData(e)) {
            var i, a, o = it.expando, s = e.nodeType, l = s ? it.cache : e, u = s ? e[o] : e[o] && o;
            if (u && l[u] && (r || l[u].data) || void 0 !== n || "string" != typeof t)return u || (u = s ? e[o] = q.pop() || it.guid++ : o), l[u] || (l[u] = s ? {} : {toJSON: it.noop}), ("object" == typeof t || "function" == typeof t) && (r ? l[u] = it.extend(l[u], t) : l[u].data = it.extend(l[u].data, t)), a = l[u], r || (a.data || (a.data = {}), a = a.data), void 0 !== n && (a[it.camelCase(t)] = n), "string" == typeof t ? (i = a[t], null == i && (i = a[it.camelCase(t)])) : i = a, i
        }
    }

    function c(e, t, n) {
        if (it.acceptData(e)) {
            var r, i, a = e.nodeType, o = a ? it.cache : e, s = a ? e[it.expando] : it.expando;
            if (o[s]) {
                if (t && (r = n ? o[s] : o[s].data)) {
                    it.isArray(t) ? t = t.concat(it.map(t, it.camelCase)) : t in r ? t = [t] : (t = it.camelCase(t), t = t in r ? [t] : t.split(" ")), i = t.length;
                    for (; i--;)delete r[t[i]];
                    if (n ? !u(r) : !it.isEmptyObject(r))return
                }
                (n || (delete o[s].data, u(o[s]))) && (a ? it.cleanData([e], !0) : nt.deleteExpando || o != o.window ? delete o[s] : o[s] = null)
            }
        }
    }

    function A() {
        return !0
    }

    function f() {
        return !1
    }

    function d() {
        try {
            return dt.activeElement
        } catch (e) {
        }
    }

    function p(e) {
        var t = Pt.split("|"), n = e.createDocumentFragment();
        if (n.createElement)for (; t.length;)n.createElement(t.pop());
        return n
    }

    function m(e, t) {
        var n, r, i = 0, a = typeof e.getElementsByTagName !== wt ? e.getElementsByTagName(t || "*") : typeof e.querySelectorAll !== wt ? e.querySelectorAll(t || "*") : void 0;
        if (!a)for (a = [], n = e.childNodes || e; null != (r = n[i]); i++)!t || it.nodeName(r, t) ? a.push(r) : it.merge(a, m(r, t));
        return void 0 === t || t && it.nodeName(e, t) ? it.merge([e], a) : a
    }

    function g(e) {
        Ht.test(e.type) && (e.defaultChecked = e.checked)
    }

    function v(e, t) {
        return it.nodeName(e, "table") && it.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }

    function y(e) {
        return e.type = (null !== it.find.attr(e, "type")) + "/" + e.type, e
    }

    function E(e) {
        var t = Yt.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"), e
    }

    function b(e, t) {
        for (var n, r = 0; null != (n = e[r]); r++)it._data(n, "globalEval", !t || it._data(t[r], "globalEval"))
    }

    function x(e, t) {
        if (1 === t.nodeType && it.hasData(e)) {
            var n, r, i, a = it._data(e), o = it._data(t, a), s = a.events;
            if (s) {
                delete o.handle, o.events = {};
                for (n in s)for (r = 0, i = s[n].length; i > r; r++)it.event.add(t, n, s[n][r])
            }
            o.data && (o.data = it.extend({}, o.data))
        }
    }

    function w(e, t) {
        var n, r, i;
        if (1 === t.nodeType) {
            if (n = t.nodeName.toLowerCase(), !nt.noCloneEvent && t[it.expando]) {
                i = it._data(t);
                for (r in i.events)it.removeEvent(t, r, i.handle);
                t.removeAttribute(it.expando)
            }
            "script" === n && t.text !== e.text ? (y(t).text = e.text, E(t)) : "object" === n ? (t.parentNode && (t.outerHTML = e.outerHTML), nt.html5Clone && e.innerHTML && !it.trim(t.innerHTML) && (t.innerHTML = e.innerHTML)) : "input" === n && Ht.test(e.type) ? (t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value)) : "option" === n ? t.defaultSelected = t.selected = e.defaultSelected : ("input" === n || "textarea" === n) && (t.defaultValue = e.defaultValue)
        }
    }

    function T(t, n) {
        var r, i = it(n.createElement(t)).appendTo(n.body), a = e.getDefaultComputedStyle && (r = e.getDefaultComputedStyle(i[0])) ? r.display : it.css(i[0], "display");
        return i.detach(), a
    }

    function C(e) {
        var t = dt, n = Jt[e];
        return n || (n = T(e, t), "none" !== n && n || ($t = ($t || it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement), t = ($t[0].contentWindow || $t[0].contentDocument).document, t.write(), t.close(), n = T(e, t), $t.detach()), Jt[e] = n), n
    }

    function R(e, t) {
        return {
            get: function () {
                var n = e();
                if (null != n)return n ? void delete this.get : (this.get = t).apply(this, arguments)
            }
        }
    }

    function _(e, t) {
        if (t in e)return t;
        for (var n = t.charAt(0).toUpperCase() + t.slice(1), r = t, i = fn.length; i--;)if (t = fn[i] + n, t in e)return t;
        return r
    }

    function B(e, t) {
        for (var n, r, i, a = [], o = 0, s = e.length; s > o; o++)r = e[o], r.style && (a[o] = it._data(r, "olddisplay"), n = r.style.display, t ? (a[o] || "none" !== n || (r.style.display = ""), "" === r.style.display && Bt(r) && (a[o] = it._data(r, "olddisplay", C(r.nodeName)))) : (i = Bt(r), (n && "none" !== n || !i) && it._data(r, "olddisplay", i ? n : it.css(r, "display"))));
        for (o = 0; s > o; o++)r = e[o], r.style && (t && "none" !== r.style.display && "" !== r.style.display || (r.style.display = t ? a[o] || "" : "none"));
        return e
    }

    function M(e, t, n) {
        var r = un.exec(t);
        return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
    }

    function H(e, t, n, r, i) {
        for (var a = n === (r ? "border" : "content") ? 4 : "width" === t ? 1 : 0, o = 0; 4 > a; a += 2)"margin" === n && (o += it.css(e, n + _t[a], !0, i)), r ? ("content" === n && (o -= it.css(e, "padding" + _t[a], !0, i)), "margin" !== n && (o -= it.css(e, "border" + _t[a] + "Width", !0, i))) : (o += it.css(e, "padding" + _t[a], !0, i), "padding" !== n && (o += it.css(e, "border" + _t[a] + "Width", !0, i)));
        return o
    }

    function S(e, t, n) {
        var r = !0, i = "width" === t ? e.offsetWidth : e.offsetHeight, a = en(e), o = nt.boxSizing && "border-box" === it.css(e, "boxSizing", !1, a);
        if (0 >= i || null == i) {
            if (i = tn(e, t, a), (0 > i || null == i) && (i = e.style[t]), rn.test(i))return i;
            r = o && (nt.boxSizingReliable() || i === e.style[t]), i = parseFloat(i) || 0
        }
        return i + H(e, t, n || (o ? "border" : "content"), r, a) + "px"
    }

    function D(e, t, n, r, i) {
        return new D.prototype.init(e, t, n, r, i)
    }

    function F() {
        return setTimeout(function () {
            dn = void 0
        }), dn = it.now()
    }

    function k(e, t) {
        var n, r = {height: e}, i = 0;
        for (t = t ? 1 : 0; 4 > i; i += 2 - t)n = _t[i], r["margin" + n] = r["padding" + n] = e;
        return t && (r.opacity = r.width = e), r
    }

    function O(e, t, n) {
        for (var r, i = (En[t] || []).concat(En["*"]), a = 0, o = i.length; o > a; a++)if (r = i[a].call(n, t, e))return r
    }

    function P(e, t, n) {
        var r, i, a, o, s, l, u, h, c = this, A = {}, f = e.style, d = e.nodeType && Bt(e), p = it._data(e, "fxshow");
        n.queue || (s = it._queueHooks(e, "fx"), null == s.unqueued && (s.unqueued = 0, l = s.empty.fire, s.empty.fire = function () {
            s.unqueued || l()
        }), s.unqueued++, c.always(function () {
            c.always(function () {
                s.unqueued--, it.queue(e, "fx").length || s.empty.fire()
            })
        })), 1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [f.overflow, f.overflowX, f.overflowY], u = it.css(e, "display"), h = "none" === u ? it._data(e, "olddisplay") || C(e.nodeName) : u, "inline" === h && "none" === it.css(e, "float") && (nt.inlineBlockNeedsLayout && "inline" !== C(e.nodeName) ? f.zoom = 1 : f.display = "inline-block")), n.overflow && (f.overflow = "hidden", nt.shrinkWrapBlocks() || c.always(function () {
            f.overflow = n.overflow[0], f.overflowX = n.overflow[1], f.overflowY = n.overflow[2]
        }));
        for (r in t)if (i = t[r], mn.exec(i)) {
            if (delete t[r], a = a || "toggle" === i, i === (d ? "hide" : "show")) {
                if ("show" !== i || !p || void 0 === p[r])continue;
                d = !0
            }
            A[r] = p && p[r] || it.style(e, r)
        } else u = void 0;
        if (it.isEmptyObject(A))"inline" === ("none" === u ? C(e.nodeName) : u) && (f.display = u); else {
            p ? "hidden" in p && (d = p.hidden) : p = it._data(e, "fxshow", {}), a && (p.hidden = !d), d ? it(e).show() : c.done(function () {
                it(e).hide()
            }), c.done(function () {
                var t;
                it._removeData(e, "fxshow");
                for (t in A)it.style(e, t, A[t])
            });
            for (r in A)o = O(d ? p[r] : 0, r, c), r in p || (p[r] = o.start, d && (o.end = o.start, o.start = "width" === r || "height" === r ? 1 : 0))
        }
    }

    function L(e, t) {
        var n, r, i, a, o;
        for (n in e)if (r = it.camelCase(n), i = t[r], a = e[n], it.isArray(a) && (i = a[1], a = e[n] = a[0]), n !== r && (e[r] = a, delete e[n]), o = it.cssHooks[r], o && "expand" in o) {
            a = o.expand(a), delete e[r];
            for (n in a)n in e || (e[n] = a[n], t[n] = i)
        } else t[r] = i
    }

    function z(e, t, n) {
        var r, i, a = 0, o = yn.length, s = it.Deferred().always(function () {
            delete l.elem
        }), l = function () {
            if (i)return !1;
            for (var t = dn || F(), n = Math.max(0, u.startTime + u.duration - t), r = n / u.duration || 0, a = 1 - r, o = 0, l = u.tweens.length; l > o; o++)u.tweens[o].run(a);
            return s.notifyWith(e, [u, a, n]), 1 > a && l ? n : (s.resolveWith(e, [u]), !1)
        }, u = s.promise({
            elem: e,
            props: it.extend({}, t),
            opts: it.extend(!0, {specialEasing: {}}, n),
            originalProperties: t,
            originalOptions: n,
            startTime: dn || F(),
            duration: n.duration,
            tweens: [],
            createTween: function (t, n) {
                var r = it.Tween(e, u.opts, t, n, u.opts.specialEasing[t] || u.opts.easing);
                return u.tweens.push(r), r
            },
            stop: function (t) {
                var n = 0, r = t ? u.tweens.length : 0;
                if (i)return this;
                for (i = !0; r > n; n++)u.tweens[n].run(1);
                return t ? s.resolveWith(e, [u, t]) : s.rejectWith(e, [u, t]), this
            }
        }), h = u.props;
        for (L(h, u.opts.specialEasing); o > a; a++)if (r = yn[a].call(u, e, h, u.opts))return r;
        return it.map(h, O, u), it.isFunction(u.opts.start) && u.opts.start.call(e, u), it.fx.timer(it.extend(l, {
            elem: e,
            anim: u,
            queue: u.opts.queue
        })), u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always)
    }

    function I(e) {
        return function (t, n) {
            "string" != typeof t && (n = t, t = "*");
            var r, i = 0, a = t.toLowerCase().match(yt) || [];
            if (it.isFunction(n))for (; r = a[i++];)"+" === r.charAt(0) ? (r = r.slice(1) || "*", (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
        }
    }

    function G(e, t, n, r) {
        function i(s) {
            var l;
            return a[s] = !0, it.each(e[s] || [], function (e, s) {
                var u = s(t, n, r);
                return "string" != typeof u || o || a[u] ? o ? !(l = u) : void 0 : (t.dataTypes.unshift(u), i(u), !1)
            }), l
        }

        var a = {}, o = e === jn;
        return i(t.dataTypes[0]) || !a["*"] && i("*")
    }

    function N(e, t) {
        var n, r, i = it.ajaxSettings.flatOptions || {};
        for (r in t)void 0 !== t[r] && ((i[r] ? e : n || (n = {}))[r] = t[r]);
        return n && it.extend(!0, e, n), e
    }

    function V(e, t, n) {
        for (var r, i, a, o, s = e.contents, l = e.dataTypes; "*" === l[0];)l.shift(), void 0 === i && (i = e.mimeType || t.getResponseHeader("Content-Type"));
        if (i)for (o in s)if (s[o] && s[o].test(i)) {
            l.unshift(o);
            break
        }
        if (l[0] in n)a = l[0]; else {
            for (o in n) {
                if (!l[0] || e.converters[o + " " + l[0]]) {
                    a = o;
                    break
                }
                r || (r = o)
            }
            a = a || r
        }
        return a ? (a !== l[0] && l.unshift(a), n[a]) : void 0
    }

    function U(e, t, n, r) {
        var i, a, o, s, l, u = {}, h = e.dataTypes.slice();
        if (h[1])for (o in e.converters)u[o.toLowerCase()] = e.converters[o];
        for (a = h.shift(); a;)if (e.responseFields[a] && (n[e.responseFields[a]] = t), !l && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), l = a, a = h.shift())if ("*" === a)a = l; else if ("*" !== l && l !== a) {
            if (o = u[l + " " + a] || u["* " + a], !o)for (i in u)if (s = i.split(" "), s[1] === a && (o = u[l + " " + s[0]] || u["* " + s[0]])) {
                o === !0 ? o = u[i] : u[i] !== !0 && (a = s[0], h.unshift(s[1]));
                break
            }
            if (o !== !0)if (o && e["throws"])t = o(t); else try {
                t = o(t)
            } catch (c) {
                return {state: "parsererror", error: o ? c : "No conversion from " + l + " to " + a}
            }
        }
        return {state: "success", data: t}
    }

    function j(e, t, n, r) {
        var i;
        if (it.isArray(t))it.each(t, function (t, i) {
            n || qn.test(e) ? r(e, i) : j(e + "[" + ("object" == typeof i ? t : "") + "]", i, n, r)
        }); else if (n || "object" !== it.type(t))r(e, t); else for (i in t)j(e + "[" + i + "]", t[i], n, r)
    }

    function Q() {
        try {
            return new e.XMLHttpRequest
        } catch (t) {
        }
    }

    function W() {
        try {
            return new e.ActiveXObject("Microsoft.XMLHTTP")
        } catch (t) {
        }
    }

    function Y(e) {
        return it.isWindow(e) ? e : 9 === e.nodeType ? e.defaultView || e.parentWindow : !1
    }

    var q = [], X = q.slice, Z = q.concat, K = q.push, $ = q.indexOf, J = {}, et = J.toString, tt = J.hasOwnProperty, nt = {}, rt = "1.11.1", it = function (e, t) {
        return new it.fn.init(e, t)
    }, at = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ot = /^-ms-/, st = /-([\da-z])/gi, lt = function (e, t) {
        return t.toUpperCase()
    };
    it.fn = it.prototype = {
        jquery: rt, constructor: it, selector: "", length: 0, toArray: function () {
            return X.call(this)
        }, get: function (e) {
            return null != e ? 0 > e ? this[e + this.length] : this[e] : X.call(this)
        }, pushStack: function (e) {
            var t = it.merge(this.constructor(), e);
            return t.prevObject = this, t.context = this.context, t
        }, each: function (e, t) {
            return it.each(this, e, t)
        }, map: function (e) {
            return this.pushStack(it.map(this, function (t, n) {
                return e.call(t, n, t)
            }))
        }, slice: function () {
            return this.pushStack(X.apply(this, arguments))
        }, first: function () {
            return this.eq(0)
        }, last: function () {
            return this.eq(-1)
        }, eq: function (e) {
            var t = this.length, n = +e + (0 > e ? t : 0);
            return this.pushStack(n >= 0 && t > n ? [this[n]] : [])
        }, end: function () {
            return this.prevObject || this.constructor(null)
        }, push: K, sort: q.sort, splice: q.splice
    }, it.extend = it.fn.extend = function () {
        var e, t, n, r, i, a, o = arguments[0] || {}, s = 1, l = arguments.length, u = !1;
        for ("boolean" == typeof o && (u = o, o = arguments[s] || {}, s++), "object" == typeof o || it.isFunction(o) || (o = {}), s === l && (o = this, s--); l > s; s++)if (null != (i = arguments[s]))for (r in i)e = o[r], n = i[r], o !== n && (u && n && (it.isPlainObject(n) || (t = it.isArray(n))) ? (t ? (t = !1, a = e && it.isArray(e) ? e : []) : a = e && it.isPlainObject(e) ? e : {}, o[r] = it.extend(u, a, n)) : void 0 !== n && (o[r] = n));
        return o
    }, it.extend({
        expando: "jQuery" + (rt + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (e) {
            throw new Error(e)
        }, noop: function () {
        }, isFunction: function (e) {
            return "function" === it.type(e)
        }, isArray: Array.isArray || function (e) {
            return "array" === it.type(e)
        }, isWindow: function (e) {
            return null != e && e == e.window
        }, isNumeric: function (e) {
            return !it.isArray(e) && e - parseFloat(e) >= 0
        }, isEmptyObject: function (e) {
            var t;
            for (t in e)return !1;
            return !0
        }, isPlainObject: function (e) {
            var t;
            if (!e || "object" !== it.type(e) || e.nodeType || it.isWindow(e))return !1;
            try {
                if (e.constructor && !tt.call(e, "constructor") && !tt.call(e.constructor.prototype, "isPrototypeOf"))return !1
            } catch (n) {
                return !1
            }
            if (nt.ownLast)for (t in e)return tt.call(e, t);
            for (t in e);
            return void 0 === t || tt.call(e, t)
        }, type: function (e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? J[et.call(e)] || "object" : typeof e
        }, globalEval: function (t) {
            t && it.trim(t) && (e.execScript || function (t) {
                e.eval.call(e, t)
            })(t)
        }, camelCase: function (e) {
            return e.replace(ot, "ms-").replace(st, lt)
        }, nodeName: function (e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        }, each: function (e, t, r) {
            var i, a = 0, o = e.length, s = n(e);
            if (r) {
                if (s)for (; o > a && (i = t.apply(e[a], r), i !== !1); a++); else for (a in e)if (i = t.apply(e[a], r), i === !1)break
            } else if (s)for (; o > a && (i = t.call(e[a], a, e[a]), i !== !1); a++); else for (a in e)if (i = t.call(e[a], a, e[a]), i === !1)break;
            return e
        }, trim: function (e) {
            return null == e ? "" : (e + "").replace(at, "")
        }, makeArray: function (e, t) {
            var r = t || [];
            return null != e && (n(Object(e)) ? it.merge(r, "string" == typeof e ? [e] : e) : K.call(r, e)), r
        }, inArray: function (e, t, n) {
            var r;
            if (t) {
                if ($)return $.call(t, e, n);
                for (r = t.length, n = n ? 0 > n ? Math.max(0, r + n) : n : 0; r > n; n++)if (n in t && t[n] === e)return n
            }
            return -1
        }, merge: function (e, t) {
            for (var n = +t.length, r = 0, i = e.length; n > r;)e[i++] = t[r++];
            if (n !== n)for (; void 0 !== t[r];)e[i++] = t[r++];
            return e.length = i, e
        }, grep: function (e, t, n) {
            for (var r, i = [], a = 0, o = e.length, s = !n; o > a; a++)r = !t(e[a], a), r !== s && i.push(e[a]);
            return i
        }, map: function (e, t, r) {
            var i, a = 0, o = e.length, s = n(e), l = [];
            if (s)for (; o > a; a++)i = t(e[a], a, r), null != i && l.push(i); else for (a in e)i = t(e[a], a, r), null != i && l.push(i);
            return Z.apply([], l)
        }, guid: 1, proxy: function (e, t) {
            var n, r, i;
            return "string" == typeof t && (i = e[t], t = e, e = i), it.isFunction(e) ? (n = X.call(arguments, 2), r = function () {
                return e.apply(t || this, n.concat(X.call(arguments)))
            }, r.guid = e.guid = e.guid || it.guid++, r) : void 0
        }, now: function () {
            return +new Date
        }, support: nt
    }), it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (e, t) {
        J["[object " + t + "]"] = t.toLowerCase()
    });
    var ut = function (e) {
        function t(e, t, n, r) {
            var i, a, o, s, l, u, c, f, d, p;
            if ((t ? t.ownerDocument || t : G) !== D && S(t), t = t || D, n = n || [], !e || "string" != typeof e)return n;
            if (1 !== (s = t.nodeType) && 9 !== s)return [];
            if (k && !r) {
                if (i = vt.exec(e))if (o = i[1]) {
                    if (9 === s) {
                        if (a = t.getElementById(o), !a || !a.parentNode)return n;
                        if (a.id === o)return n.push(a), n
                    } else if (t.ownerDocument && (a = t.ownerDocument.getElementById(o)) && z(t, a) && a.id === o)return n.push(a), n
                } else {
                    if (i[2])return J.apply(n, t.getElementsByTagName(e)), n;
                    if ((o = i[3]) && b.getElementsByClassName && t.getElementsByClassName)return J.apply(n, t.getElementsByClassName(o)), n
                }
                if (b.qsa && (!O || !O.test(e))) {
                    if (f = c = I, d = t, p = 9 === s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
                        for (u = C(e), (c = t.getAttribute("id")) ? f = c.replace(Et, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", l = u.length; l--;)u[l] = f + A(u[l]);
                        d = yt.test(e) && h(t.parentNode) || t, p = u.join(",")
                    }
                    if (p)try {
                        return J.apply(n, d.querySelectorAll(p)), n
                    } catch (m) {
                    } finally {
                        c || t.removeAttribute("id")
                    }
                }
            }
            return _(e.replace(lt, "$1"), t, n, r)
        }

        function n() {
            function e(n, r) {
                return t.push(n + " ") > x.cacheLength && delete e[t.shift()], e[n + " "] = r
            }

            var t = [];
            return e
        }

        function r(e) {
            return e[I] = !0, e
        }

        function i(e) {
            var t = D.createElement("div");
            try {
                return !!e(t)
            } catch (n) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t), t = null
            }
        }

        function a(e, t) {
            for (var n = e.split("|"), r = e.length; r--;)x.attrHandle[n[r]] = t
        }

        function o(e, t) {
            var n = t && e, r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || q) - (~e.sourceIndex || q);
            if (r)return r;
            if (n)for (; n = n.nextSibling;)if (n === t)return -1;
            return e ? 1 : -1
        }

        function s(e) {
            return function (t) {
                var n = t.nodeName.toLowerCase();
                return "input" === n && t.type === e
            }
        }

        function l(e) {
            return function (t) {
                var n = t.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && t.type === e
            }
        }

        function u(e) {
            return r(function (t) {
                return t = +t, r(function (n, r) {
                    for (var i, a = e([], n.length, t), o = a.length; o--;)n[i = a[o]] && (n[i] = !(r[i] = n[i]))
                })
            })
        }

        function h(e) {
            return e && typeof e.getElementsByTagName !== Y && e
        }

        function c() {
        }

        function A(e) {
            for (var t = 0, n = e.length, r = ""; n > t; t++)r += e[t].value;
            return r
        }

        function f(e, t, n) {
            var r = t.dir, i = n && "parentNode" === r, a = V++;
            return t.first ? function (t, n, a) {
                for (; t = t[r];)if (1 === t.nodeType || i)return e(t, n, a)
            } : function (t, n, o) {
                var s, l, u = [N, a];
                if (o) {
                    for (; t = t[r];)if ((1 === t.nodeType || i) && e(t, n, o))return !0
                } else for (; t = t[r];)if (1 === t.nodeType || i) {
                    if (l = t[I] || (t[I] = {}), (s = l[r]) && s[0] === N && s[1] === a)return u[2] = s[2];
                    if (l[r] = u, u[2] = e(t, n, o))return !0
                }
            }
        }

        function d(e) {
            return e.length > 1 ? function (t, n, r) {
                for (var i = e.length; i--;)if (!e[i](t, n, r))return !1;
                return !0
            } : e[0]
        }

        function p(e, n, r) {
            for (var i = 0, a = n.length; a > i; i++)t(e, n[i], r);
            return r
        }

        function m(e, t, n, r, i) {
            for (var a, o = [], s = 0, l = e.length, u = null != t; l > s; s++)(a = e[s]) && (!n || n(a, r, i)) && (o.push(a), u && t.push(s));
            return o
        }

        function g(e, t, n, i, a, o) {
            return i && !i[I] && (i = g(i)), a && !a[I] && (a = g(a, o)), r(function (r, o, s, l) {
                var u, h, c, A = [], f = [], d = o.length, g = r || p(t || "*", s.nodeType ? [s] : s, []), v = !e || !r && t ? g : m(g, A, e, s, l), y = n ? a || (r ? e : d || i) ? [] : o : v;
                if (n && n(v, y, s, l), i)for (u = m(y, f), i(u, [], s, l), h = u.length; h--;)(c = u[h]) && (y[f[h]] = !(v[f[h]] = c));
                if (r) {
                    if (a || e) {
                        if (a) {
                            for (u = [], h = y.length; h--;)(c = y[h]) && u.push(v[h] = c);
                            a(null, y = [], u, l)
                        }
                        for (h = y.length; h--;)(c = y[h]) && (u = a ? tt.call(r, c) : A[h]) > -1 && (r[u] = !(o[u] = c))
                    }
                } else y = m(y === o ? y.splice(d, y.length) : y), a ? a(null, o, y, l) : J.apply(o, y)
            })
        }

        function v(e) {
            for (var t, n, r, i = e.length, a = x.relative[e[0].type], o = a || x.relative[" "], s = a ? 1 : 0, l = f(function (e) {
                return e === t
            }, o, !0), u = f(function (e) {
                return tt.call(t, e) > -1
            }, o, !0), h = [function (e, n, r) {
                return !a && (r || n !== B) || ((t = n).nodeType ? l(e, n, r) : u(e, n, r))
            }]; i > s; s++)if (n = x.relative[e[s].type])h = [f(d(h), n)]; else {
                if (n = x.filter[e[s].type].apply(null, e[s].matches), n[I]) {
                    for (r = ++s; i > r && !x.relative[e[r].type]; r++);
                    return g(s > 1 && d(h), s > 1 && A(e.slice(0, s - 1).concat({value: " " === e[s - 2].type ? "*" : ""})).replace(lt, "$1"), n, r > s && v(e.slice(s, r)), i > r && v(e = e.slice(r)), i > r && A(e))
                }
                h.push(n)
            }
            return d(h)
        }

        function y(e, n) {
            var i = n.length > 0, a = e.length > 0, o = function (r, o, s, l, u) {
                var h, c, A, f = 0, d = "0", p = r && [], g = [], v = B, y = r || a && x.find.TAG("*", u), E = N += null == v ? 1 : Math.random() || .1, b = y.length;
                for (u && (B = o !== D && o); d !== b && null != (h = y[d]); d++) {
                    if (a && h) {
                        for (c = 0; A = e[c++];)if (A(h, o, s)) {
                            l.push(h);
                            break
                        }
                        u && (N = E)
                    }
                    i && ((h = !A && h) && f--, r && p.push(h))
                }
                if (f += d, i && d !== f) {
                    for (c = 0; A = n[c++];)A(p, g, o, s);
                    if (r) {
                        if (f > 0)for (; d--;)p[d] || g[d] || (g[d] = K.call(l));
                        g = m(g)
                    }
                    J.apply(l, g), u && !r && g.length > 0 && f + n.length > 1 && t.uniqueSort(l)
                }
                return u && (N = E, B = v), p
            };
            return i ? r(o) : o
        }

        var E, b, x, w, T, C, R, _, B, M, H, S, D, F, k, O, P, L, z, I = "sizzle" + -new Date, G = e.document, N = 0, V = 0, U = n(), j = n(), Q = n(), W = function (e, t) {
            return e === t && (H = !0), 0
        }, Y = "undefined", q = 1 << 31, X = {}.hasOwnProperty, Z = [], K = Z.pop, $ = Z.push, J = Z.push, et = Z.slice, tt = Z.indexOf || function (e) {
                for (var t = 0, n = this.length; n > t; t++)if (this[t] === e)return t;
                return -1
            }, nt = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", rt = "[\\x20\\t\\r\\n\\f]", it = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", at = it.replace("w", "w#"), ot = "\\[" + rt + "*(" + it + ")(?:" + rt + "*([*^$|!~]?=)" + rt + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + at + "))|)" + rt + "*\\]", st = ":(" + it + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ot + ")*)|.*)\\)|)", lt = new RegExp("^" + rt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + rt + "+$", "g"), ut = new RegExp("^" + rt + "*," + rt + "*"), ht = new RegExp("^" + rt + "*([>+~]|" + rt + ")" + rt + "*"), ct = new RegExp("=" + rt + "*([^\\]'\"]*?)" + rt + "*\\]", "g"), At = new RegExp(st), ft = new RegExp("^" + at + "$"), dt = {
            ID: new RegExp("^#(" + it + ")"),
            CLASS: new RegExp("^\\.(" + it + ")"),
            TAG: new RegExp("^(" + it.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + ot),
            PSEUDO: new RegExp("^" + st),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + rt + "*(even|odd|(([+-]|)(\\d*)n|)" + rt + "*(?:([+-]|)" + rt + "*(\\d+)|))" + rt + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + nt + ")$", "i"),
            needsContext: new RegExp("^" + rt + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + rt + "*((?:-\\d)?\\d*)" + rt + "*\\)|)(?=[^-]|$)", "i")
        }, pt = /^(?:input|select|textarea|button)$/i, mt = /^h\d$/i, gt = /^[^{]+\{\s*\[native \w/, vt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, yt = /[+~]/, Et = /'|\\/g, bt = new RegExp("\\\\([\\da-f]{1,6}" + rt + "?|(" + rt + ")|.)", "ig"), xt = function (e, t, n) {
            var r = "0x" + t - 65536;
            return r !== r || n ? t : 0 > r ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
        };
        try {
            J.apply(Z = et.call(G.childNodes), G.childNodes), Z[G.childNodes.length].nodeType
        } catch (wt) {
            J = {
                apply: Z.length ? function (e, t) {
                    $.apply(e, et.call(t))
                } : function (e, t) {
                    for (var n = e.length, r = 0; e[n++] = t[r++];);
                    e.length = n - 1
                }
            }
        }
        b = t.support = {}, T = t.isXML = function (e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return t ? "HTML" !== t.nodeName : !1
        }, S = t.setDocument = function (e) {
            var t, n = e ? e.ownerDocument || e : G, r = n.defaultView;
            return n !== D && 9 === n.nodeType && n.documentElement ? (D = n, F = n.documentElement, k = !T(n), r && r !== r.top && (r.addEventListener ? r.addEventListener("unload", function () {
                S()
            }, !1) : r.attachEvent && r.attachEvent("onunload", function () {
                S()
            })), b.attributes = i(function (e) {
                return e.className = "i", !e.getAttribute("className")
            }), b.getElementsByTagName = i(function (e) {
                return e.appendChild(n.createComment("")), !e.getElementsByTagName("*").length
            }), b.getElementsByClassName = gt.test(n.getElementsByClassName) && i(function (e) {
                    return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", 2 === e.getElementsByClassName("i").length
                }), b.getById = i(function (e) {
                return F.appendChild(e).id = I, !n.getElementsByName || !n.getElementsByName(I).length
            }), b.getById ? (x.find.ID = function (e, t) {
                if (typeof t.getElementById !== Y && k) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            }, x.filter.ID = function (e) {
                var t = e.replace(bt, xt);
                return function (e) {
                    return e.getAttribute("id") === t
                }
            }) : (delete x.find.ID, x.filter.ID = function (e) {
                var t = e.replace(bt, xt);
                return function (e) {
                    var n = typeof e.getAttributeNode !== Y && e.getAttributeNode("id");
                    return n && n.value === t
                }
            }), x.find.TAG = b.getElementsByTagName ? function (e, t) {
                return typeof t.getElementsByTagName !== Y ? t.getElementsByTagName(e) : void 0
            } : function (e, t) {
                var n, r = [], i = 0, a = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; n = a[i++];)1 === n.nodeType && r.push(n);
                    return r
                }
                return a
            }, x.find.CLASS = b.getElementsByClassName && function (e, t) {
                    return typeof t.getElementsByClassName !== Y && k ? t.getElementsByClassName(e) : void 0
                }, P = [], O = [], (b.qsa = gt.test(n.querySelectorAll)) && (i(function (e) {
                e.innerHTML = "<select msallowclip=''><option selected=''></option></select>", e.querySelectorAll("[msallowclip^='']").length && O.push("[*^$]=" + rt + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || O.push("\\[" + rt + "*(?:value|" + nt + ")"), e.querySelectorAll(":checked").length || O.push(":checked")
            }), i(function (e) {
                var t = n.createElement("input");
                t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && O.push("name" + rt + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || O.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), O.push(",.*:")
            })), (b.matchesSelector = gt.test(L = F.matches || F.webkitMatchesSelector || F.mozMatchesSelector || F.oMatchesSelector || F.msMatchesSelector)) && i(function (e) {
                b.disconnectedMatch = L.call(e, "div"), L.call(e, "[s!='']:x"), P.push("!=", st)
            }), O = O.length && new RegExp(O.join("|")), P = P.length && new RegExp(P.join("|")), t = gt.test(F.compareDocumentPosition), z = t || gt.test(F.contains) ? function (e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e, r = t && t.parentNode;
                return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
            } : function (e, t) {
                if (t)for (; t = t.parentNode;)if (t === e)return !0;
                return !1
            }, W = t ? function (e, t) {
                if (e === t)return H = !0, 0;
                var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return r ? r : (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & r || !b.sortDetached && t.compareDocumentPosition(e) === r ? e === n || e.ownerDocument === G && z(G, e) ? -1 : t === n || t.ownerDocument === G && z(G, t) ? 1 : M ? tt.call(M, e) - tt.call(M, t) : 0 : 4 & r ? -1 : 1)
            } : function (e, t) {
                if (e === t)return H = !0, 0;
                var r, i = 0, a = e.parentNode, s = t.parentNode, l = [e], u = [t];
                if (!a || !s)return e === n ? -1 : t === n ? 1 : a ? -1 : s ? 1 : M ? tt.call(M, e) - tt.call(M, t) : 0;
                if (a === s)return o(e, t);
                for (r = e; r = r.parentNode;)l.unshift(r);
                for (r = t; r = r.parentNode;)u.unshift(r);
                for (; l[i] === u[i];)i++;
                return i ? o(l[i], u[i]) : l[i] === G ? -1 : u[i] === G ? 1 : 0
            }, n) : D
        }, t.matches = function (e, n) {
            return t(e, null, null, n)
        }, t.matchesSelector = function (e, n) {
            if ((e.ownerDocument || e) !== D && S(e), n = n.replace(ct, "='$1']"), !(!b.matchesSelector || !k || P && P.test(n) || O && O.test(n)))try {
                var r = L.call(e, n);
                if (r || b.disconnectedMatch || e.document && 11 !== e.document.nodeType)return r
            } catch (i) {
            }
            return t(n, D, null, [e]).length > 0
        }, t.contains = function (e, t) {
            return (e.ownerDocument || e) !== D && S(e), z(e, t)
        }, t.attr = function (e, t) {
            (e.ownerDocument || e) !== D && S(e);
            var n = x.attrHandle[t.toLowerCase()], r = n && X.call(x.attrHandle, t.toLowerCase()) ? n(e, t, !k) : void 0;
            return void 0 !== r ? r : b.attributes || !k ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }, t.error = function (e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }, t.uniqueSort = function (e) {
            var t, n = [], r = 0, i = 0;
            if (H = !b.detectDuplicates, M = !b.sortStable && e.slice(0), e.sort(W), H) {
                for (; t = e[i++];)t === e[i] && (r = n.push(i));
                for (; r--;)e.splice(n[r], 1)
            }
            return M = null, e
        }, w = t.getText = function (e) {
            var t, n = "", r = 0, i = e.nodeType;
            if (i) {
                if (1 === i || 9 === i || 11 === i) {
                    if ("string" == typeof e.textContent)return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling)n += w(e)
                } else if (3 === i || 4 === i)return e.nodeValue
            } else for (; t = e[r++];)n += w(t);
            return n
        }, x = t.selectors = {
            cacheLength: 50,
            createPseudo: r,
            match: dt,
            attrHandle: {},
            find: {},
            relative: {
                ">": {dir: "parentNode", first: !0},
                " ": {dir: "parentNode"},
                "+": {dir: "previousSibling", first: !0},
                "~": {dir: "previousSibling"}
            },
            preFilter: {
                ATTR: function (e) {
                    return e[1] = e[1].replace(bt, xt), e[3] = (e[3] || e[4] || e[5] || "").replace(bt, xt), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                }, CHILD: function (e) {
                    return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]), e
                }, PSEUDO: function (e) {
                    var t, n = !e[6] && e[2];
                    return dt.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && At.test(n) && (t = C(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function (e) {
                    var t = e.replace(bt, xt).toLowerCase();
                    return "*" === e ? function () {
                        return !0
                    } : function (e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                }, CLASS: function (e) {
                    var t = U[e + " "];
                    return t || (t = new RegExp("(^|" + rt + ")" + e + "(" + rt + "|$)")) && U(e, function (e) {
                            return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== Y && e.getAttribute("class") || "")
                        })
                }, ATTR: function (e, n, r) {
                    return function (i) {
                        var a = t.attr(i, e);
                        return null == a ? "!=" === n : n ? (a += "", "=" === n ? a === r : "!=" === n ? a !== r : "^=" === n ? r && 0 === a.indexOf(r) : "*=" === n ? r && a.indexOf(r) > -1 : "$=" === n ? r && a.slice(-r.length) === r : "~=" === n ? (" " + a + " ").indexOf(r) > -1 : "|=" === n ? a === r || a.slice(0, r.length + 1) === r + "-" : !1) : !0
                    }
                }, CHILD: function (e, t, n, r, i) {
                    var a = "nth" !== e.slice(0, 3), o = "last" !== e.slice(-4), s = "of-type" === t;
                    return 1 === r && 0 === i ? function (e) {
                        return !!e.parentNode
                    } : function (t, n, l) {
                        var u, h, c, A, f, d, p = a !== o ? "nextSibling" : "previousSibling", m = t.parentNode, g = s && t.nodeName.toLowerCase(), v = !l && !s;
                        if (m) {
                            if (a) {
                                for (; p;) {
                                    for (c = t; c = c[p];)if (s ? c.nodeName.toLowerCase() === g : 1 === c.nodeType)return !1;
                                    d = p = "only" === e && !d && "nextSibling"
                                }
                                return !0
                            }
                            if (d = [o ? m.firstChild : m.lastChild], o && v) {
                                for (h = m[I] || (m[I] = {}), u = h[e] || [], f = u[0] === N && u[1], A = u[0] === N && u[2], c = f && m.childNodes[f]; c = ++f && c && c[p] || (A = f = 0) || d.pop();)if (1 === c.nodeType && ++A && c === t) {
                                    h[e] = [N, f, A];
                                    break
                                }
                            } else if (v && (u = (t[I] || (t[I] = {}))[e]) && u[0] === N)A = u[1]; else for (; (c = ++f && c && c[p] || (A = f = 0) || d.pop()) && ((s ? c.nodeName.toLowerCase() !== g : 1 !== c.nodeType) || !++A || (v && ((c[I] || (c[I] = {}))[e] = [N, A]), c !== t)););
                            return A -= i, A === r || A % r === 0 && A / r >= 0
                        }
                    }
                }, PSEUDO: function (e, n) {
                    var i, a = x.pseudos[e] || x.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
                    return a[I] ? a(n) : a.length > 1 ? (i = [e, e, "", n], x.setFilters.hasOwnProperty(e.toLowerCase()) ? r(function (e, t) {
                        for (var r, i = a(e, n), o = i.length; o--;)r = tt.call(e, i[o]), e[r] = !(t[r] = i[o])
                    }) : function (e) {
                        return a(e, 0, i)
                    }) : a
                }
            },
            pseudos: {
                not: r(function (e) {
                    var t = [], n = [], i = R(e.replace(lt, "$1"));
                    return i[I] ? r(function (e, t, n, r) {
                        for (var a, o = i(e, null, r, []), s = e.length; s--;)(a = o[s]) && (e[s] = !(t[s] = a))
                    }) : function (e, r, a) {
                        return t[0] = e, i(t, null, a, n), !n.pop()
                    }
                }), has: r(function (e) {
                    return function (n) {
                        return t(e, n).length > 0
                    }
                }), contains: r(function (e) {
                    return function (t) {
                        return (t.textContent || t.innerText || w(t)).indexOf(e) > -1
                    }
                }), lang: r(function (e) {
                    return ft.test(e || "") || t.error("unsupported lang: " + e), e = e.replace(bt, xt).toLowerCase(), function (t) {
                        var n;
                        do if (n = k ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))return n = n.toLowerCase(), n === e || 0 === n.indexOf(e + "-"); while ((t = t.parentNode) && 1 === t.nodeType);
                        return !1
                    }
                }), target: function (t) {
                    var n = e.location && e.location.hash;
                    return n && n.slice(1) === t.id
                }, root: function (e) {
                    return e === F
                }, focus: function (e) {
                    return e === D.activeElement && (!D.hasFocus || D.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                }, enabled: function (e) {
                    return e.disabled === !1
                }, disabled: function (e) {
                    return e.disabled === !0
                }, checked: function (e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                }, selected: function (e) {
                    return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                }, empty: function (e) {
                    for (e = e.firstChild; e; e = e.nextSibling)if (e.nodeType < 6)return !1;
                    return !0
                }, parent: function (e) {
                    return !x.pseudos.empty(e)
                }, header: function (e) {
                    return mt.test(e.nodeName)
                }, input: function (e) {
                    return pt.test(e.nodeName)
                }, button: function (e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                }, text: function (e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                }, first: u(function () {
                    return [0]
                }), last: u(function (e, t) {
                    return [t - 1]
                }), eq: u(function (e, t, n) {
                    return [0 > n ? n + t : n]
                }), even: u(function (e, t) {
                    for (var n = 0; t > n; n += 2)e.push(n);
                    return e
                }), odd: u(function (e, t) {
                    for (var n = 1; t > n; n += 2)e.push(n);
                    return e
                }), lt: u(function (e, t, n) {
                    for (var r = 0 > n ? n + t : n; --r >= 0;)e.push(r);
                    return e
                }), gt: u(function (e, t, n) {
                    for (var r = 0 > n ? n + t : n; ++r < t;)e.push(r);
                    return e
                })
            }
        }, x.pseudos.nth = x.pseudos.eq;
        for (E in{radio: !0, checkbox: !0, file: !0, password: !0, image: !0})x.pseudos[E] = s(E);
        for (E in{submit: !0, reset: !0})x.pseudos[E] = l(E);
        return c.prototype = x.filters = x.pseudos, x.setFilters = new c, C = t.tokenize = function (e, n) {
            var r, i, a, o, s, l, u, h = j[e + " "];
            if (h)return n ? 0 : h.slice(0);
            for (s = e, l = [], u = x.preFilter; s;) {
                (!r || (i = ut.exec(s))) && (i && (s = s.slice(i[0].length) || s), l.push(a = [])), r = !1, (i = ht.exec(s)) && (r = i.shift(), a.push({
                    value: r,
                    type: i[0].replace(lt, " ")
                }), s = s.slice(r.length));
                for (o in x.filter)!(i = dt[o].exec(s)) || u[o] && !(i = u[o](i)) || (r = i.shift(), a.push({
                    value: r,
                    type: o,
                    matches: i
                }), s = s.slice(r.length));
                if (!r)break
            }
            return n ? s.length : s ? t.error(e) : j(e, l).slice(0)
        }, R = t.compile = function (e, t) {
            var n, r = [], i = [], a = Q[e + " "];
            if (!a) {
                for (t || (t = C(e)), n = t.length; n--;)a = v(t[n]), a[I] ? r.push(a) : i.push(a);
                a = Q(e, y(i, r)), a.selector = e
            }
            return a
        }, _ = t.select = function (e, t, n, r) {
            var i, a, o, s, l, u = "function" == typeof e && e, c = !r && C(e = u.selector || e);
            if (n = n || [], 1 === c.length) {
                if (a = c[0] = c[0].slice(0), a.length > 2 && "ID" === (o = a[0]).type && b.getById && 9 === t.nodeType && k && x.relative[a[1].type]) {
                    if (t = (x.find.ID(o.matches[0].replace(bt, xt), t) || [])[0], !t)return n;
                    u && (t = t.parentNode), e = e.slice(a.shift().value.length)
                }
                for (i = dt.needsContext.test(e) ? 0 : a.length; i-- && (o = a[i], !x.relative[s = o.type]);)if ((l = x.find[s]) && (r = l(o.matches[0].replace(bt, xt), yt.test(a[0].type) && h(t.parentNode) || t))) {
                    if (a.splice(i, 1), e = r.length && A(a), !e)return J.apply(n, r), n;
                    break
                }
            }
            return (u || R(e, c))(r, t, !k, n, yt.test(e) && h(t.parentNode) || t), n
        }, b.sortStable = I.split("").sort(W).join("") === I, b.detectDuplicates = !!H, S(), b.sortDetached = i(function (e) {
            return 1 & e.compareDocumentPosition(D.createElement("div"))
        }), i(function (e) {
            return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
        }) || a("type|href|height|width", function (e, t, n) {
            return n ? void 0 : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }), b.attributes && i(function (e) {
            return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
        }) || a("value", function (e, t, n) {
            return n || "input" !== e.nodeName.toLowerCase() ? void 0 : e.defaultValue
        }), i(function (e) {
            return null == e.getAttribute("disabled")
        }) || a(nt, function (e, t, n) {
            var r;
            return n ? void 0 : e[t] === !0 ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }), t
    }(e);
    it.find = ut, it.expr = ut.selectors, it.expr[":"] = it.expr.pseudos, it.unique = ut.uniqueSort, it.text = ut.getText, it.isXMLDoc = ut.isXML, it.contains = ut.contains;
    var ht = it.expr.match.needsContext, ct = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, At = /^.[^:#\[\.,]*$/;
    it.filter = function (e, t, n) {
        var r = t[0];
        return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === r.nodeType ? it.find.matchesSelector(r, e) ? [r] : [] : it.find.matches(e, it.grep(t, function (e) {
            return 1 === e.nodeType
        }))
    }, it.fn.extend({
        find: function (e) {
            var t, n = [], r = this, i = r.length;
            if ("string" != typeof e)return this.pushStack(it(e).filter(function () {
                for (t = 0; i > t; t++)if (it.contains(r[t], this))return !0
            }));
            for (t = 0; i > t; t++)it.find(e, r[t], n);
            return n = this.pushStack(i > 1 ? it.unique(n) : n), n.selector = this.selector ? this.selector + " " + e : e, n
        }, filter: function (e) {
            return this.pushStack(r(this, e || [], !1))
        }, not: function (e) {
            return this.pushStack(r(this, e || [], !0))
        }, is: function (e) {
            return !!r(this, "string" == typeof e && ht.test(e) ? it(e) : e || [], !1).length
        }
    });
    var ft, dt = e.document, pt = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, mt = it.fn.init = function (e, t) {
        var n, r;
        if (!e)return this;
        if ("string" == typeof e) {
            if (n = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : pt.exec(e), !n || !n[1] && t)return !t || t.jquery ? (t || ft).find(e) : this.constructor(t).find(e);
            if (n[1]) {
                if (t = t instanceof it ? t[0] : t, it.merge(this, it.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : dt, !0)), ct.test(n[1]) && it.isPlainObject(t))for (n in t)it.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
                return this
            }
            if (r = dt.getElementById(n[2]), r && r.parentNode) {
                if (r.id !== n[2])return ft.find(e);
                this.length = 1, this[0] = r
            }
            return this.context = dt, this.selector = e, this
        }
        return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : it.isFunction(e) ? "undefined" != typeof ft.ready ? ft.ready(e) : e(it) : (void 0 !== e.selector && (this.selector = e.selector, this.context = e.context), it.makeArray(e, this))
    };
    mt.prototype = it.fn, ft = it(dt);
    var gt = /^(?:parents|prev(?:Until|All))/, vt = {children: !0, contents: !0, next: !0, prev: !0};
    it.extend({
        dir: function (e, t, n) {
            for (var r = [], i = e[t]; i && 9 !== i.nodeType && (void 0 === n || 1 !== i.nodeType || !it(i).is(n));)1 === i.nodeType && r.push(i), i = i[t];
            return r
        }, sibling: function (e, t) {
            for (var n = []; e; e = e.nextSibling)1 === e.nodeType && e !== t && n.push(e);
            return n
        }
    }), it.fn.extend({
        has: function (e) {
            var t, n = it(e, this), r = n.length;
            return this.filter(function () {
                for (t = 0; r > t; t++)if (it.contains(this, n[t]))return !0
            })
        }, closest: function (e, t) {
            for (var n, r = 0, i = this.length, a = [], o = ht.test(e) || "string" != typeof e ? it(e, t || this.context) : 0; i > r; r++)for (n = this[r]; n && n !== t; n = n.parentNode)if (n.nodeType < 11 && (o ? o.index(n) > -1 : 1 === n.nodeType && it.find.matchesSelector(n, e))) {
                a.push(n);
                break
            }
            return this.pushStack(a.length > 1 ? it.unique(a) : a)
        }, index: function (e) {
            return e ? "string" == typeof e ? it.inArray(this[0], it(e)) : it.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        }, add: function (e, t) {
            return this.pushStack(it.unique(it.merge(this.get(), it(e, t))))
        }, addBack: function (e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }), it.each({
        parent: function (e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        }, parents: function (e) {
            return it.dir(e, "parentNode")
        }, parentsUntil: function (e, t, n) {
            return it.dir(e, "parentNode", n)
        }, next: function (e) {
            return i(e, "nextSibling")
        }, prev: function (e) {
            return i(e, "previousSibling")
        }, nextAll: function (e) {
            return it.dir(e, "nextSibling")
        }, prevAll: function (e) {
            return it.dir(e, "previousSibling")
        }, nextUntil: function (e, t, n) {
            return it.dir(e, "nextSibling", n)
        }, prevUntil: function (e, t, n) {
            return it.dir(e, "previousSibling", n)
        }, siblings: function (e) {
            return it.sibling((e.parentNode || {}).firstChild, e)
        }, children: function (e) {
            return it.sibling(e.firstChild)
        }, contents: function (e) {
            return it.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : it.merge([], e.childNodes)
        }
    }, function (e, t) {
        it.fn[e] = function (n, r) {
            var i = it.map(this, t, n);
            return "Until" !== e.slice(-5) && (r = n), r && "string" == typeof r && (i = it.filter(r, i)), this.length > 1 && (vt[e] || (i = it.unique(i)), gt.test(e) && (i = i.reverse())), this.pushStack(i)
        }
    });
    var yt = /\S+/g, Et = {};
    it.Callbacks = function (e) {
        e = "string" == typeof e ? Et[e] || a(e) : it.extend({}, e);
        var t, n, r, i, o, s, l = [], u = !e.once && [], h = function (a) {
            for (n = e.memory && a, r = !0, o = s || 0, s = 0, i = l.length, t = !0; l && i > o; o++)if (l[o].apply(a[0], a[1]) === !1 && e.stopOnFalse) {
                n = !1;
                break
            }
            t = !1, l && (u ? u.length && h(u.shift()) : n ? l = [] : c.disable())
        }, c = {
            add: function () {
                if (l) {
                    var r = l.length;
                    !function a(t) {
                        it.each(t, function (t, n) {
                            var r = it.type(n);
                            "function" === r ? e.unique && c.has(n) || l.push(n) : n && n.length && "string" !== r && a(n)
                        })
                    }(arguments), t ? i = l.length : n && (s = r, h(n))
                }
                return this
            }, remove: function () {
                return l && it.each(arguments, function (e, n) {
                    for (var r; (r = it.inArray(n, l, r)) > -1;)l.splice(r, 1), t && (i >= r && i--, o >= r && o--)
                }), this
            }, has: function (e) {
                return e ? it.inArray(e, l) > -1 : !(!l || !l.length)
            }, empty: function () {
                return l = [], i = 0, this
            }, disable: function () {
                return l = u = n = void 0, this
            }, disabled: function () {
                return !l
            }, lock: function () {
                return u = void 0, n || c.disable(), this
            }, locked: function () {
                return !u
            }, fireWith: function (e, n) {
                return !l || r && !u || (n = n || [], n = [e, n.slice ? n.slice() : n], t ? u.push(n) : h(n)), this
            }, fire: function () {
                return c.fireWith(this, arguments), this
            }, fired: function () {
                return !!r
            }
        };
        return c
    }, it.extend({
        Deferred: function (e) {
            var t = [["resolve", "done", it.Callbacks("once memory"), "resolved"], ["reject", "fail", it.Callbacks("once memory"), "rejected"], ["notify", "progress", it.Callbacks("memory")]], n = "pending", r = {
                state: function () {
                    return n
                }, always: function () {
                    return i.done(arguments).fail(arguments), this
                }, then: function () {
                    var e = arguments;
                    return it.Deferred(function (n) {
                        it.each(t, function (t, a) {
                            var o = it.isFunction(e[t]) && e[t];
                            i[a[1]](function () {
                                var e = o && o.apply(this, arguments);
                                e && it.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[a[0] + "With"](this === r ? n.promise() : this, o ? [e] : arguments)
                            })
                        }), e = null
                    }).promise()
                }, promise: function (e) {
                    return null != e ? it.extend(e, r) : r
                }
            }, i = {};
            return r.pipe = r.then, it.each(t, function (e, a) {
                var o = a[2], s = a[3];
                r[a[1]] = o.add, s && o.add(function () {
                    n = s
                }, t[1 ^ e][2].disable, t[2][2].lock), i[a[0]] = function () {
                    return i[a[0] + "With"](this === i ? r : this, arguments), this
                }, i[a[0] + "With"] = o.fireWith
            }), r.promise(i), e && e.call(i, i), i
        }, when: function (e) {
            var t, n, r, i = 0, a = X.call(arguments), o = a.length, s = 1 !== o || e && it.isFunction(e.promise) ? o : 0, l = 1 === s ? e : it.Deferred(), u = function (e, n, r) {
                return function (i) {
                    n[e] = this, r[e] = arguments.length > 1 ? X.call(arguments) : i, r === t ? l.notifyWith(n, r) : --s || l.resolveWith(n, r)
                }
            };
            if (o > 1)for (t = new Array(o), n = new Array(o), r = new Array(o); o > i; i++)a[i] && it.isFunction(a[i].promise) ? a[i].promise().done(u(i, r, a)).fail(l.reject).progress(u(i, n, t)) : --s;
            return s || l.resolveWith(r, a), l.promise()
        }
    });
    var bt;
    it.fn.ready = function (e) {
        return it.ready.promise().done(e), this
    }, it.extend({
        isReady: !1, readyWait: 1, holdReady: function (e) {
            e ? it.readyWait++ : it.ready(!0)
        }, ready: function (e) {
            if (e === !0 ? !--it.readyWait : !it.isReady) {
                if (!dt.body)return setTimeout(it.ready);
                it.isReady = !0, e !== !0 && --it.readyWait > 0 || (bt.resolveWith(dt, [it]), it.fn.triggerHandler && (it(dt).triggerHandler("ready"), it(dt).off("ready")))
            }
        }
    }), it.ready.promise = function (t) {
        if (!bt)if (bt = it.Deferred(), "complete" === dt.readyState)setTimeout(it.ready); else if (dt.addEventListener)dt.addEventListener("DOMContentLoaded", s, !1), e.addEventListener("load", s, !1); else {
            dt.attachEvent("onreadystatechange", s), e.attachEvent("onload", s);
            var n = !1;
            try {
                n = null == e.frameElement && dt.documentElement
            } catch (r) {
            }
            n && n.doScroll && !function i() {
                if (!it.isReady) {
                    try {
                        n.doScroll("left")
                    } catch (e) {
                        return setTimeout(i, 50)
                    }
                    o(), it.ready()
                }
            }()
        }
        return bt.promise(t)
    };
    var xt, wt = "undefined";
    for (xt in it(nt))break;
    nt.ownLast = "0" !== xt, nt.inlineBlockNeedsLayout = !1, it(function () {
        var e, t, n, r;
        n = dt.getElementsByTagName("body")[0], n && n.style && (t = dt.createElement("div"), r = dt.createElement("div"), r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", n.appendChild(r).appendChild(t), typeof t.style.zoom !== wt && (t.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", nt.inlineBlockNeedsLayout = e = 3 === t.offsetWidth, e && (n.style.zoom = 1)), n.removeChild(r))
    }), function () {
        var e = dt.createElement("div");
        if (null == nt.deleteExpando) {
            nt.deleteExpando = !0;
            try {
                delete e.test
            } catch (t) {
                nt.deleteExpando = !1
            }
        }
        e = null
    }(), it.acceptData = function (e) {
        var t = it.noData[(e.nodeName + " ").toLowerCase()], n = +e.nodeType || 1;
        return 1 !== n && 9 !== n ? !1 : !t || t !== !0 && e.getAttribute("classid") === t
    };
    var Tt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, Ct = /([A-Z])/g;
    it.extend({
        cache: {},
        noData: {"applet ": !0, "embed ": !0, "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},
        hasData: function (e) {
            return e = e.nodeType ? it.cache[e[it.expando]] : e[it.expando], !!e && !u(e)
        },
        data: function (e, t, n) {
            return h(e, t, n)
        },
        removeData: function (e, t) {
            return c(e, t)
        },
        _data: function (e, t, n) {
            return h(e, t, n, !0)
        },
        _removeData: function (e, t) {
            return c(e, t, !0)
        }
    }), it.fn.extend({
        data: function (e, t) {
            var n, r, i, a = this[0], o = a && a.attributes;
            if (void 0 === e) {
                if (this.length && (i = it.data(a), 1 === a.nodeType && !it._data(a, "parsedAttrs"))) {
                    for (n = o.length; n--;)o[n] && (r = o[n].name, 0 === r.indexOf("data-") && (r = it.camelCase(r.slice(5)), l(a, r, i[r])));
                    it._data(a, "parsedAttrs", !0)
                }
                return i
            }
            return "object" == typeof e ? this.each(function () {
                it.data(this, e)
            }) : arguments.length > 1 ? this.each(function () {
                it.data(this, e, t)
            }) : a ? l(a, e, it.data(a, e)) : void 0
        }, removeData: function (e) {
            return this.each(function () {
                it.removeData(this, e)
            })
        }
    }), it.extend({
        queue: function (e, t, n) {
            var r;
            return e ? (t = (t || "fx") + "queue", r = it._data(e, t), n && (!r || it.isArray(n) ? r = it._data(e, t, it.makeArray(n)) : r.push(n)), r || []) : void 0
        }, dequeue: function (e, t) {
            t = t || "fx";
            var n = it.queue(e, t), r = n.length, i = n.shift(), a = it._queueHooks(e, t), o = function () {
                it.dequeue(e, t)
            };
            "inprogress" === i && (i = n.shift(), r--), i && ("fx" === t && n.unshift("inprogress"), delete a.stop, i.call(e, o, a)), !r && a && a.empty.fire()
        }, _queueHooks: function (e, t) {
            var n = t + "queueHooks";
            return it._data(e, n) || it._data(e, n, {
                    empty: it.Callbacks("once memory").add(function () {
                        it._removeData(e, t + "queue"), it._removeData(e, n)
                    })
                })
        }
    }), it.fn.extend({
        queue: function (e, t) {
            var n = 2;
            return "string" != typeof e && (t = e, e = "fx", n--), arguments.length < n ? it.queue(this[0], e) : void 0 === t ? this : this.each(function () {
                var n = it.queue(this, e, t);
                it._queueHooks(this, e), "fx" === e && "inprogress" !== n[0] && it.dequeue(this, e)
            })
        }, dequeue: function (e) {
            return this.each(function () {
                it.dequeue(this, e)
            })
        }, clearQueue: function (e) {
            return this.queue(e || "fx", [])
        }, promise: function (e, t) {
            var n, r = 1, i = it.Deferred(), a = this, o = this.length, s = function () {
                --r || i.resolveWith(a, [a])
            };
            for ("string" != typeof e && (t = e, e = void 0), e = e || "fx"; o--;)n = it._data(a[o], e + "queueHooks"), n && n.empty && (r++, n.empty.add(s));
            return s(), i.promise(t)
        }
    });
    var Rt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, _t = ["Top", "Right", "Bottom", "Left"], Bt = function (e, t) {
        return e = t || e, "none" === it.css(e, "display") || !it.contains(e.ownerDocument, e)
    }, Mt = it.access = function (e, t, n, r, i, a, o) {
        var s = 0, l = e.length, u = null == n;
        if ("object" === it.type(n)) {
            i = !0;
            for (s in n)it.access(e, t, s, n[s], !0, a, o)
        } else if (void 0 !== r && (i = !0, it.isFunction(r) || (o = !0), u && (o ? (t.call(e, r), t = null) : (u = t, t = function (e, t, n) {
                return u.call(it(e), n)
            })), t))for (; l > s; s++)t(e[s], n, o ? r : r.call(e[s], s, t(e[s], n)));
        return i ? e : u ? t.call(e) : l ? t(e[0], n) : a
    }, Ht = /^(?:checkbox|radio)$/i;
    !function () {
        var e = dt.createElement("input"), t = dt.createElement("div"), n = dt.createDocumentFragment();
        if (t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", nt.leadingWhitespace = 3 === t.firstChild.nodeType, nt.tbody = !t.getElementsByTagName("tbody").length, nt.htmlSerialize = !!t.getElementsByTagName("link").length, nt.html5Clone = "<:nav></:nav>" !== dt.createElement("nav").cloneNode(!0).outerHTML, e.type = "checkbox", e.checked = !0, n.appendChild(e), nt.appendChecked = e.checked, t.innerHTML = "<textarea>x</textarea>", nt.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue, n.appendChild(t), t.innerHTML = "<input type='radio' checked='checked' name='t'/>", nt.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, nt.noCloneEvent = !0, t.attachEvent && (t.attachEvent("onclick", function () {
                nt.noCloneEvent = !1
            }), t.cloneNode(!0).click()), null == nt.deleteExpando) {
            nt.deleteExpando = !0;
            try {
                delete t.test
            } catch (r) {
                nt.deleteExpando = !1
            }
        }
    }(), function () {
        var t, n, r = dt.createElement("div");
        for (t in{
            submit: !0,
            change: !0,
            focusin: !0
        })n = "on" + t, (nt[t + "Bubbles"] = n in e) || (r.setAttribute(n, "t"), nt[t + "Bubbles"] = r.attributes[n].expando === !1);
        r = null
    }();
    var St = /^(?:input|select|textarea)$/i, Dt = /^key/, Ft = /^(?:mouse|pointer|contextmenu)|click/, kt = /^(?:focusinfocus|focusoutblur)$/, Ot = /^([^.]*)(?:\.(.+)|)$/;
    it.event = {
        global: {},
        add: function (e, t, n, r, i) {
            var a, o, s, l, u, h, c, A, f, d, p, m = it._data(e);
            if (m) {
                for (n.handler && (l = n, n = l.handler, i = l.selector), n.guid || (n.guid = it.guid++), (o = m.events) || (o = m.events = {}), (h = m.handle) || (h = m.handle = function (e) {
                    return typeof it === wt || e && it.event.triggered === e.type ? void 0 : it.event.dispatch.apply(h.elem, arguments)
                }, h.elem = e), t = (t || "").match(yt) || [""], s = t.length; s--;)a = Ot.exec(t[s]) || [], f = p = a[1], d = (a[2] || "").split(".").sort(), f && (u = it.event.special[f] || {}, f = (i ? u.delegateType : u.bindType) || f, u = it.event.special[f] || {}, c = it.extend({
                    type: f,
                    origType: p,
                    data: r,
                    handler: n,
                    guid: n.guid,
                    selector: i,
                    needsContext: i && it.expr.match.needsContext.test(i),
                    namespace: d.join(".")
                }, l), (A = o[f]) || (A = o[f] = [], A.delegateCount = 0, u.setup && u.setup.call(e, r, d, h) !== !1 || (e.addEventListener ? e.addEventListener(f, h, !1) : e.attachEvent && e.attachEvent("on" + f, h))), u.add && (u.add.call(e, c), c.handler.guid || (c.handler.guid = n.guid)), i ? A.splice(A.delegateCount++, 0, c) : A.push(c), it.event.global[f] = !0);
                e = null
            }
        },
        remove: function (e, t, n, r, i) {
            var a, o, s, l, u, h, c, A, f, d, p, m = it.hasData(e) && it._data(e);
            if (m && (h = m.events)) {
                for (t = (t || "").match(yt) || [""], u = t.length; u--;)if (s = Ot.exec(t[u]) || [], f = p = s[1], d = (s[2] || "").split(".").sort(), f) {
                    for (c = it.event.special[f] || {}, f = (r ? c.delegateType : c.bindType) || f, A = h[f] || [], s = s[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = a = A.length; a--;)o = A[a], !i && p !== o.origType || n && n.guid !== o.guid || s && !s.test(o.namespace) || r && r !== o.selector && ("**" !== r || !o.selector) || (A.splice(a, 1), o.selector && A.delegateCount--, c.remove && c.remove.call(e, o));
                    l && !A.length && (c.teardown && c.teardown.call(e, d, m.handle) !== !1 || it.removeEvent(e, f, m.handle), delete h[f])
                } else for (f in h)it.event.remove(e, f + t[u], n, r, !0);
                it.isEmptyObject(h) && (delete m.handle, it._removeData(e, "events"))
            }
        },
        trigger: function (t, n, r, i) {
            var a, o, s, l, u, h, c, A = [r || dt], f = tt.call(t, "type") ? t.type : t, d = tt.call(t, "namespace") ? t.namespace.split(".") : [];
            if (s = h = r = r || dt, 3 !== r.nodeType && 8 !== r.nodeType && !kt.test(f + it.event.triggered) && (f.indexOf(".") >= 0 && (d = f.split("."), f = d.shift(), d.sort()), o = f.indexOf(":") < 0 && "on" + f, t = t[it.expando] ? t : new it.Event(f, "object" == typeof t && t), t.isTrigger = i ? 2 : 3, t.namespace = d.join("."), t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = r), n = null == n ? [t] : it.makeArray(n, [t]), u = it.event.special[f] || {}, i || !u.trigger || u.trigger.apply(r, n) !== !1)) {
                if (!i && !u.noBubble && !it.isWindow(r)) {
                    for (l = u.delegateType || f, kt.test(l + f) || (s = s.parentNode); s; s = s.parentNode)A.push(s), h = s;
                    h === (r.ownerDocument || dt) && A.push(h.defaultView || h.parentWindow || e)
                }
                for (c = 0; (s = A[c++]) && !t.isPropagationStopped();)t.type = c > 1 ? l : u.bindType || f, a = (it._data(s, "events") || {})[t.type] && it._data(s, "handle"), a && a.apply(s, n), a = o && s[o], a && a.apply && it.acceptData(s) && (t.result = a.apply(s, n), t.result === !1 && t.preventDefault());
                if (t.type = f, !i && !t.isDefaultPrevented() && (!u._default || u._default.apply(A.pop(), n) === !1) && it.acceptData(r) && o && r[f] && !it.isWindow(r)) {
                    h = r[o], h && (r[o] = null), it.event.triggered = f;
                    try {
                        r[f]()
                    } catch (p) {
                    }
                    it.event.triggered = void 0, h && (r[o] = h)
                }
                return t.result
            }
        },
        dispatch: function (e) {
            e = it.event.fix(e);
            var t, n, r, i, a, o = [], s = X.call(arguments), l = (it._data(this, "events") || {})[e.type] || [], u = it.event.special[e.type] || {};
            if (s[0] = e, e.delegateTarget = this, !u.preDispatch || u.preDispatch.call(this, e) !== !1) {
                for (o = it.event.handlers.call(this, e, l), t = 0; (i = o[t++]) && !e.isPropagationStopped();)for (e.currentTarget = i.elem, a = 0; (r = i.handlers[a++]) && !e.isImmediatePropagationStopped();)(!e.namespace_re || e.namespace_re.test(r.namespace)) && (e.handleObj = r, e.data = r.data, n = ((it.event.special[r.origType] || {}).handle || r.handler).apply(i.elem, s), void 0 !== n && (e.result = n) === !1 && (e.preventDefault(), e.stopPropagation()));
                return u.postDispatch && u.postDispatch.call(this, e), e.result
            }
        },
        handlers: function (e, t) {
            var n, r, i, a, o = [], s = t.delegateCount, l = e.target;
            if (s && l.nodeType && (!e.button || "click" !== e.type))for (; l != this; l = l.parentNode || this)if (1 === l.nodeType && (l.disabled !== !0 || "click" !== e.type)) {
                for (i = [], a = 0; s > a; a++)r = t[a], n = r.selector + " ", void 0 === i[n] && (i[n] = r.needsContext ? it(n, this).index(l) >= 0 : it.find(n, this, null, [l]).length), i[n] && i.push(r);
                i.length && o.push({elem: l, handlers: i})
            }
            return s < t.length && o.push({elem: this, handlers: t.slice(s)}), o
        },
        fix: function (e) {
            if (e[it.expando])return e;
            var t, n, r, i = e.type, a = e, o = this.fixHooks[i];
            for (o || (this.fixHooks[i] = o = Ft.test(i) ? this.mouseHooks : Dt.test(i) ? this.keyHooks : {}), r = o.props ? this.props.concat(o.props) : this.props, e = new it.Event(a), t = r.length; t--;)n = r[t], e[n] = a[n];
            return e.target || (e.target = a.srcElement || dt), 3 === e.target.nodeType && (e.target = e.target.parentNode), e.metaKey = !!e.metaKey, o.filter ? o.filter(e, a) : e
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "), filter: function (e, t) {
                return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function (e, t) {
                var n, r, i, a = t.button, o = t.fromElement;
                return null == e.pageX && null != t.clientX && (r = e.target.ownerDocument || dt, i = r.documentElement, n = r.body, e.pageX = t.clientX + (i && i.scrollLeft || n && n.scrollLeft || 0) - (i && i.clientLeft || n && n.clientLeft || 0), e.pageY = t.clientY + (i && i.scrollTop || n && n.scrollTop || 0) - (i && i.clientTop || n && n.clientTop || 0)), !e.relatedTarget && o && (e.relatedTarget = o === e.target ? t.toElement : o), e.which || void 0 === a || (e.which = 1 & a ? 1 : 2 & a ? 3 : 4 & a ? 2 : 0), e
            }
        },
        special: {
            load: {noBubble: !0}, focus: {
                trigger: function () {
                    if (this !== d() && this.focus)try {
                        return this.focus(), !1
                    } catch (e) {
                    }
                }, delegateType: "focusin"
            }, blur: {
                trigger: function () {
                    return this === d() && this.blur ? (this.blur(), !1) : void 0
                }, delegateType: "focusout"
            }, click: {
                trigger: function () {
                    return it.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : void 0
                }, _default: function (e) {
                    return it.nodeName(e.target, "a")
                }
            }, beforeunload: {
                postDispatch: function (e) {
                    void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function (e, t, n, r) {
            var i = it.extend(new it.Event, n, {type: e, isSimulated: !0, originalEvent: {}});
            r ? it.event.trigger(i, null, t) : it.event.dispatch.call(t, i), i.isDefaultPrevented() && n.preventDefault()
        }
    }, it.removeEvent = dt.removeEventListener ? function (e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n, !1)
    } : function (e, t, n) {
        var r = "on" + t;
        e.detachEvent && (typeof e[r] === wt && (e[r] = null), e.detachEvent(r, n))
    }, it.Event = function (e, t) {
        return this instanceof it.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && e.returnValue === !1 ? A : f) : this.type = e, t && it.extend(this, t), this.timeStamp = e && e.timeStamp || it.now(), void(this[it.expando] = !0)) : new it.Event(e, t)
    }, it.Event.prototype = {
        isDefaultPrevented: f,
        isPropagationStopped: f,
        isImmediatePropagationStopped: f,
        preventDefault: function () {
            var e = this.originalEvent;
            this.isDefaultPrevented = A, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
        },
        stopPropagation: function () {
            var e = this.originalEvent;
            this.isPropagationStopped = A, e && (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0)
        },
        stopImmediatePropagation: function () {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = A, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation()
        }
    }, it.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function (e, t) {
        it.event.special[e] = {
            delegateType: t, bindType: t, handle: function (e) {
                var n, r = this, i = e.relatedTarget, a = e.handleObj;
                return (!i || i !== r && !it.contains(r, i)) && (e.type = a.origType, n = a.handler.apply(this, arguments), e.type = t), n
            }
        }
    }), nt.submitBubbles || (it.event.special.submit = {
        setup: function () {
            return it.nodeName(this, "form") ? !1 : void it.event.add(this, "click._submit keypress._submit", function (e) {
                var t = e.target, n = it.nodeName(t, "input") || it.nodeName(t, "button") ? t.form : void 0;
                n && !it._data(n, "submitBubbles") && (it.event.add(n, "submit._submit", function (e) {
                    e._submit_bubble = !0
                }), it._data(n, "submitBubbles", !0))
            })
        }, postDispatch: function (e) {
            e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && it.event.simulate("submit", this.parentNode, e, !0))
        }, teardown: function () {
            return it.nodeName(this, "form") ? !1 : void it.event.remove(this, "._submit")
        }
    }), nt.changeBubbles || (it.event.special.change = {
        setup: function () {
            return St.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (it.event.add(this, "propertychange._change", function (e) {
                "checked" === e.originalEvent.propertyName && (this._just_changed = !0)
            }), it.event.add(this, "click._change", function (e) {
                this._just_changed && !e.isTrigger && (this._just_changed = !1), it.event.simulate("change", this, e, !0)
            })), !1) : void it.event.add(this, "beforeactivate._change", function (e) {
                var t = e.target;
                St.test(t.nodeName) && !it._data(t, "changeBubbles") && (it.event.add(t, "change._change", function (e) {
                    !this.parentNode || e.isSimulated || e.isTrigger || it.event.simulate("change", this.parentNode, e, !0)
                }), it._data(t, "changeBubbles", !0))
            })
        }, handle: function (e) {
            var t = e.target;
            return this !== t || e.isSimulated || e.isTrigger || "radio" !== t.type && "checkbox" !== t.type ? e.handleObj.handler.apply(this, arguments) : void 0
        }, teardown: function () {
            return it.event.remove(this, "._change"), !St.test(this.nodeName)
        }
    }), nt.focusinBubbles || it.each({focus: "focusin", blur: "focusout"}, function (e, t) {
        var n = function (e) {
            it.event.simulate(t, e.target, it.event.fix(e), !0)
        };
        it.event.special[t] = {
            setup: function () {
                var r = this.ownerDocument || this, i = it._data(r, t);
                i || r.addEventListener(e, n, !0), it._data(r, t, (i || 0) + 1)
            }, teardown: function () {
                var r = this.ownerDocument || this, i = it._data(r, t) - 1;
                i ? it._data(r, t, i) : (r.removeEventListener(e, n, !0), it._removeData(r, t))
            }
        }
    }), it.fn.extend({
        on: function (e, t, n, r, i) {
            var a, o;
            if ("object" == typeof e) {
                "string" != typeof t && (n = n || t, t = void 0);
                for (a in e)this.on(a, t, n, e[a], i);
                return this
            }
            if (null == n && null == r ? (r = t, n = t = void 0) : null == r && ("string" == typeof t ? (r = n, n = void 0) : (r = n, n = t, t = void 0)), r === !1)r = f; else if (!r)return this;
            return 1 === i && (o = r, r = function (e) {
                return it().off(e), o.apply(this, arguments)
            }, r.guid = o.guid || (o.guid = it.guid++)), this.each(function () {
                it.event.add(this, e, r, n, t)
            })
        }, one: function (e, t, n, r) {
            return this.on(e, t, n, r, 1)
        }, off: function (e, t, n) {
            var r, i;
            if (e && e.preventDefault && e.handleObj)return r = e.handleObj, it(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
            if ("object" == typeof e) {
                for (i in e)this.off(i, t, e[i]);
                return this
            }
            return (t === !1 || "function" == typeof t) && (n = t, t = void 0), n === !1 && (n = f), this.each(function () {
                it.event.remove(this, e, n, t)
            })
        }, trigger: function (e, t) {
            return this.each(function () {
                it.event.trigger(e, t, this)
            })
        }, triggerHandler: function (e, t) {
            var n = this[0];
            return n ? it.event.trigger(e, t, n, !0) : void 0
        }
    });
    var Pt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", Lt = / jQuery\d+="(?:null|\d+)"/g, zt = new RegExp("<(?:" + Pt + ")[\\s/>]", "i"), It = /^\s+/, Gt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Nt = /<([\w:]+)/, Vt = /<tbody/i, Ut = /<|&#?\w+;/, jt = /<(?:script|style|link)/i, Qt = /checked\s*(?:[^=]|=\s*.checked.)/i, Wt = /^$|\/(?:java|ecma)script/i, Yt = /^true\/(.*)/, qt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, Xt = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: nt.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    }, Zt = p(dt), Kt = Zt.appendChild(dt.createElement("div"));
    Xt.optgroup = Xt.option, Xt.tbody = Xt.tfoot = Xt.colgroup = Xt.caption = Xt.thead, Xt.th = Xt.td, it.extend({
        clone: function (e, t, n) {
            var r, i, a, o, s, l = it.contains(e.ownerDocument, e);
            if (nt.html5Clone || it.isXMLDoc(e) || !zt.test("<" + e.nodeName + ">") ? a = e.cloneNode(!0) : (Kt.innerHTML = e.outerHTML, Kt.removeChild(a = Kt.firstChild)), !(nt.noCloneEvent && nt.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || it.isXMLDoc(e)))for (r = m(a), s = m(e), o = 0; null != (i = s[o]); ++o)r[o] && w(i, r[o]);
            if (t)if (n)for (s = s || m(e), r = r || m(a), o = 0; null != (i = s[o]); o++)x(i, r[o]); else x(e, a);
            return r = m(a, "script"), r.length > 0 && b(r, !l && m(e, "script")), r = s = i = null, a
        }, buildFragment: function (e, t, n, r) {
            for (var i, a, o, s, l, u, h, c = e.length, A = p(t), f = [], d = 0; c > d; d++)if (a = e[d], a || 0 === a)if ("object" === it.type(a))it.merge(f, a.nodeType ? [a] : a); else if (Ut.test(a)) {
                for (s = s || A.appendChild(t.createElement("div")), l = (Nt.exec(a) || ["", ""])[1].toLowerCase(), h = Xt[l] || Xt._default, s.innerHTML = h[1] + a.replace(Gt, "<$1></$2>") + h[2], i = h[0]; i--;)s = s.lastChild;
                if (!nt.leadingWhitespace && It.test(a) && f.push(t.createTextNode(It.exec(a)[0])), !nt.tbody)for (a = "table" !== l || Vt.test(a) ? "<table>" !== h[1] || Vt.test(a) ? 0 : s : s.firstChild, i = a && a.childNodes.length; i--;)it.nodeName(u = a.childNodes[i], "tbody") && !u.childNodes.length && a.removeChild(u);
                for (it.merge(f, s.childNodes), s.textContent = ""; s.firstChild;)s.removeChild(s.firstChild);
                s = A.lastChild
            } else f.push(t.createTextNode(a));
            for (s && A.removeChild(s), nt.appendChecked || it.grep(m(f, "input"), g), d = 0; a = f[d++];)if ((!r || -1 === it.inArray(a, r)) && (o = it.contains(a.ownerDocument, a), s = m(A.appendChild(a), "script"), o && b(s), n))for (i = 0; a = s[i++];)Wt.test(a.type || "") && n.push(a);
            return s = null, A
        }, cleanData: function (e, t) {
            for (var n, r, i, a, o = 0, s = it.expando, l = it.cache, u = nt.deleteExpando, h = it.event.special; null != (n = e[o]); o++)if ((t || it.acceptData(n)) && (i = n[s], a = i && l[i])) {
                if (a.events)for (r in a.events)h[r] ? it.event.remove(n, r) : it.removeEvent(n, r, a.handle);
                l[i] && (delete l[i], u ? delete n[s] : typeof n.removeAttribute !== wt ? n.removeAttribute(s) : n[s] = null, q.push(i))
            }
        }
    }), it.fn.extend({
        text: function (e) {
            return Mt(this, function (e) {
                return void 0 === e ? it.text(this) : this.empty().append((this[0] && this[0].ownerDocument || dt).createTextNode(e))
            }, null, e, arguments.length)
        }, append: function () {
            return this.domManip(arguments, function (e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = v(this, e);
                    t.appendChild(e)
                }
            })
        }, prepend: function () {
            return this.domManip(arguments, function (e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = v(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        }, before: function () {
            return this.domManip(arguments, function (e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        }, after: function () {
            return this.domManip(arguments, function (e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        }, remove: function (e, t) {
            for (var n, r = e ? it.filter(e, this) : this, i = 0; null != (n = r[i]); i++)t || 1 !== n.nodeType || it.cleanData(m(n)), n.parentNode && (t && it.contains(n.ownerDocument, n) && b(m(n, "script")), n.parentNode.removeChild(n));
            return this
        }, empty: function () {
            for (var e, t = 0; null != (e = this[t]); t++) {
                for (1 === e.nodeType && it.cleanData(m(e, !1)); e.firstChild;)e.removeChild(e.firstChild);
                e.options && it.nodeName(e, "select") && (e.options.length = 0)
            }
            return this
        }, clone: function (e, t) {
            return e = null == e ? !1 : e, t = null == t ? e : t, this.map(function () {
                return it.clone(this, e, t)
            })
        }, html: function (e) {
            return Mt(this, function (e) {
                var t = this[0] || {}, n = 0, r = this.length;
                if (void 0 === e)return 1 === t.nodeType ? t.innerHTML.replace(Lt, "") : void 0;
                if (!("string" != typeof e || jt.test(e) || !nt.htmlSerialize && zt.test(e) || !nt.leadingWhitespace && It.test(e) || Xt[(Nt.exec(e) || ["", ""])[1].toLowerCase()])) {
                    e = e.replace(Gt, "<$1></$2>");
                    try {
                        for (; r > n; n++)t = this[n] || {}, 1 === t.nodeType && (it.cleanData(m(t, !1)), t.innerHTML = e);
                        t = 0
                    } catch (i) {
                    }
                }
                t && this.empty().append(e)
            }, null, e, arguments.length)
        }, replaceWith: function () {
            var e = arguments[0];
            return this.domManip(arguments, function (t) {
                e = this.parentNode, it.cleanData(m(this)), e && e.replaceChild(t, this)
            }), e && (e.length || e.nodeType) ? this : this.remove()
        }, detach: function (e) {
            return this.remove(e, !0)
        }, domManip: function (e, t) {
            e = Z.apply([], e);
            var n, r, i, a, o, s, l = 0, u = this.length, h = this, c = u - 1, A = e[0], f = it.isFunction(A);
            if (f || u > 1 && "string" == typeof A && !nt.checkClone && Qt.test(A))return this.each(function (n) {
                var r = h.eq(n);
                f && (e[0] = A.call(this, n, r.html())), r.domManip(e, t)
            });
            if (u && (s = it.buildFragment(e, this[0].ownerDocument, !1, this), n = s.firstChild, 1 === s.childNodes.length && (s = n), n)) {
                for (a = it.map(m(s, "script"), y), i = a.length; u > l; l++)r = s, l !== c && (r = it.clone(r, !0, !0), i && it.merge(a, m(r, "script"))), t.call(this[l], r, l);
                if (i)for (o = a[a.length - 1].ownerDocument, it.map(a, E), l = 0; i > l; l++)r = a[l], Wt.test(r.type || "") && !it._data(r, "globalEval") && it.contains(o, r) && (r.src ? it._evalUrl && it._evalUrl(r.src) : it.globalEval((r.text || r.textContent || r.innerHTML || "").replace(qt, "")));
                s = n = null
            }
            return this
        }
    }), it.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (e, t) {
        it.fn[e] = function (e) {
            for (var n, r = 0, i = [], a = it(e), o = a.length - 1; o >= r; r++)n = r === o ? this : this.clone(!0), it(a[r])[t](n), K.apply(i, n.get());
            return this.pushStack(i)
        }
    });
    var $t, Jt = {};
    !function () {
        var e;
        nt.shrinkWrapBlocks = function () {
            if (null != e)return e;
            e = !1;
            var t, n, r;
            return n = dt.getElementsByTagName("body")[0], n && n.style ? (t = dt.createElement("div"), r = dt.createElement("div"), r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", n.appendChild(r).appendChild(t), typeof t.style.zoom !== wt && (t.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", t.appendChild(dt.createElement("div")).style.width = "5px", e = 3 !== t.offsetWidth), n.removeChild(r), e) : void 0
        }
    }();
    var en, tn, nn = /^margin/, rn = new RegExp("^(" + Rt + ")(?!px)[a-z%]+$", "i"), an = /^(top|right|bottom|left)$/;
    e.getComputedStyle ? (en = function (e) {
        return e.ownerDocument.defaultView.getComputedStyle(e, null)
    }, tn = function (e, t, n) {
        var r, i, a, o, s = e.style;
        return n = n || en(e), o = n ? n.getPropertyValue(t) || n[t] : void 0, n && ("" !== o || it.contains(e.ownerDocument, e) || (o = it.style(e, t)), rn.test(o) && nn.test(t) && (r = s.width, i = s.minWidth, a = s.maxWidth, s.minWidth = s.maxWidth = s.width = o, o = n.width, s.width = r, s.minWidth = i, s.maxWidth = a)), void 0 === o ? o : o + ""
    }) : dt.documentElement.currentStyle && (en = function (e) {
        return e.currentStyle
    }, tn = function (e, t, n) {
        var r, i, a, o, s = e.style;
        return n = n || en(e), o = n ? n[t] : void 0, null == o && s && s[t] && (o = s[t]), rn.test(o) && !an.test(t) && (r = s.left, i = e.runtimeStyle, a = i && i.left, a && (i.left = e.currentStyle.left), s.left = "fontSize" === t ? "1em" : o, o = s.pixelLeft + "px", s.left = r, a && (i.left = a)), void 0 === o ? o : o + "" || "auto"
    }), function () {
        function t() {
            var t, n, r, i;
            n = dt.getElementsByTagName("body")[0], n && n.style && (t = dt.createElement("div"), r = dt.createElement("div"), r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", n.appendChild(r).appendChild(t), t.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", a = o = !1, l = !0, e.getComputedStyle && (a = "1%" !== (e.getComputedStyle(t, null) || {}).top, o = "4px" === (e.getComputedStyle(t, null) || {width: "4px"}).width, i = t.appendChild(dt.createElement("div")), i.style.cssText = t.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", i.style.marginRight = i.style.width = "0", t.style.width = "1px", l = !parseFloat((e.getComputedStyle(i, null) || {}).marginRight)), t.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", i = t.getElementsByTagName("td"), i[0].style.cssText = "margin:0;border:0;padding:0;display:none", s = 0 === i[0].offsetHeight, s && (i[0].style.display = "", i[1].style.display = "none", s = 0 === i[0].offsetHeight), n.removeChild(r))
        }

        var n, r, i, a, o, s, l;
        n = dt.createElement("div"), n.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", i = n.getElementsByTagName("a")[0], r = i && i.style, r && (r.cssText = "float:left;opacity:.5", nt.opacity = "0.5" === r.opacity, nt.cssFloat = !!r.cssFloat, n.style.backgroundClip = "content-box", n.cloneNode(!0).style.backgroundClip = "", nt.clearCloneStyle = "content-box" === n.style.backgroundClip, nt.boxSizing = "" === r.boxSizing || "" === r.MozBoxSizing || "" === r.WebkitBoxSizing, it.extend(nt, {
            reliableHiddenOffsets: function () {
                return null == s && t(), s
            }, boxSizingReliable: function () {
                return null == o && t(), o
            }, pixelPosition: function () {
                return null == a && t(), a
            }, reliableMarginRight: function () {
                return null == l && t(), l
            }
        }))
    }(), it.swap = function (e, t, n, r) {
        var i, a, o = {};
        for (a in t)o[a] = e.style[a], e.style[a] = t[a];
        i = n.apply(e, r || []);
        for (a in t)e.style[a] = o[a];
        return i
    };
    var on = /alpha\([^)]*\)/i, sn = /opacity\s*=\s*([^)]*)/, ln = /^(none|table(?!-c[ea]).+)/, un = new RegExp("^(" + Rt + ")(.*)$", "i"), hn = new RegExp("^([+-])=(" + Rt + ")", "i"), cn = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }, An = {letterSpacing: "0", fontWeight: "400"}, fn = ["Webkit", "O", "Moz", "ms"];
    it.extend({
        cssHooks: {
            opacity: {
                get: function (e, t) {
                    if (t) {
                        var n = tn(e, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {"float": nt.cssFloat ? "cssFloat" : "styleFloat"},
        style: function (e, t, n, r) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var i, a, o, s = it.camelCase(t), l = e.style;
                if (t = it.cssProps[s] || (it.cssProps[s] = _(l, s)), o = it.cssHooks[t] || it.cssHooks[s], void 0 === n)return o && "get" in o && void 0 !== (i = o.get(e, !1, r)) ? i : l[t];
                if (a = typeof n, "string" === a && (i = hn.exec(n)) && (n = (i[1] + 1) * i[2] + parseFloat(it.css(e, t)), a = "number"), null != n && n === n && ("number" !== a || it.cssNumber[s] || (n += "px"), nt.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (l[t] = "inherit"), !(o && "set" in o && void 0 === (n = o.set(e, n, r)))))try {
                    l[t] = n
                } catch (u) {
                }
            }
        },
        css: function (e, t, n, r) {
            var i, a, o, s = it.camelCase(t);
            return t = it.cssProps[s] || (it.cssProps[s] = _(e.style, s)), o = it.cssHooks[t] || it.cssHooks[s], o && "get" in o && (a = o.get(e, !0, n)), void 0 === a && (a = tn(e, t, r)), "normal" === a && t in An && (a = An[t]), "" === n || n ? (i = parseFloat(a), n === !0 || it.isNumeric(i) ? i || 0 : a) : a
        }
    }), it.each(["height", "width"], function (e, t) {
        it.cssHooks[t] = {
            get: function (e, n, r) {
                return n ? ln.test(it.css(e, "display")) && 0 === e.offsetWidth ? it.swap(e, cn, function () {
                    return S(e, t, r)
                }) : S(e, t, r) : void 0
            }, set: function (e, n, r) {
                var i = r && en(e);
                return M(e, n, r ? H(e, t, r, nt.boxSizing && "border-box" === it.css(e, "boxSizing", !1, i), i) : 0)
            }
        }
    }), nt.opacity || (it.cssHooks.opacity = {
        get: function (e, t) {
            return sn.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
        }, set: function (e, t) {
            var n = e.style, r = e.currentStyle, i = it.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : "", a = r && r.filter || n.filter || "";
            n.zoom = 1, (t >= 1 || "" === t) && "" === it.trim(a.replace(on, "")) && n.removeAttribute && (n.removeAttribute("filter"), "" === t || r && !r.filter) || (n.filter = on.test(a) ? a.replace(on, i) : a + " " + i)
        }
    }), it.cssHooks.marginRight = R(nt.reliableMarginRight, function (e, t) {
        return t ? it.swap(e, {display: "inline-block"}, tn, [e, "marginRight"]) : void 0
    }), it.each({margin: "", padding: "", border: "Width"}, function (e, t) {
        it.cssHooks[e + t] = {
            expand: function (n) {
                for (var r = 0, i = {}, a = "string" == typeof n ? n.split(" ") : [n]; 4 > r; r++)i[e + _t[r] + t] = a[r] || a[r - 2] || a[0];
                return i
            }
        }, nn.test(e) || (it.cssHooks[e + t].set = M)
    }), it.fn.extend({
        css: function (e, t) {
            return Mt(this, function (e, t, n) {
                var r, i, a = {}, o = 0;
                if (it.isArray(t)) {
                    for (r = en(e), i = t.length; i > o; o++)a[t[o]] = it.css(e, t[o], !1, r);
                    return a
                }
                return void 0 !== n ? it.style(e, t, n) : it.css(e, t)
            }, e, t, arguments.length > 1)
        }, show: function () {
            return B(this, !0)
        }, hide: function () {
            return B(this)
        }, toggle: function (e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function () {
                Bt(this) ? it(this).show() : it(this).hide()
            })
        }
    }), it.Tween = D, D.prototype = {
        constructor: D, init: function (e, t, n, r, i, a) {
            this.elem = e, this.prop = n, this.easing = i || "swing", this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = a || (it.cssNumber[n] ? "" : "px")
        }, cur: function () {
            var e = D.propHooks[this.prop];
            return e && e.get ? e.get(this) : D.propHooks._default.get(this)
        }, run: function (e) {
            var t, n = D.propHooks[this.prop];
            return this.pos = t = this.options.duration ? it.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : D.propHooks._default.set(this), this
        }
    }, D.prototype.init.prototype = D.prototype, D.propHooks = {
        _default: {
            get: function (e) {
                var t;
                return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = it.css(e.elem, e.prop, ""), t && "auto" !== t ? t : 0) : e.elem[e.prop]
            }, set: function (e) {
                it.fx.step[e.prop] ? it.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[it.cssProps[e.prop]] || it.cssHooks[e.prop]) ? it.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    }, D.propHooks.scrollTop = D.propHooks.scrollLeft = {
        set: function (e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, it.easing = {
        linear: function (e) {
            return e
        }, swing: function (e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    }, it.fx = D.prototype.init, it.fx.step = {};
    var dn, pn, mn = /^(?:toggle|show|hide)$/, gn = new RegExp("^(?:([+-])=|)(" + Rt + ")([a-z%]*)$", "i"), vn = /queueHooks$/, yn = [P], En = {
        "*": [function (e, t) {
            var n = this.createTween(e, t), r = n.cur(), i = gn.exec(t), a = i && i[3] || (it.cssNumber[e] ? "" : "px"), o = (it.cssNumber[e] || "px" !== a && +r) && gn.exec(it.css(n.elem, e)), s = 1, l = 20;
            if (o && o[3] !== a) {
                a = a || o[3], i = i || [], o = +r || 1;
                do s = s || ".5", o /= s, it.style(n.elem, e, o + a); while (s !== (s = n.cur() / r) && 1 !== s && --l)
            }
            return i && (o = n.start = +o || +r || 0, n.unit = a, n.end = i[1] ? o + (i[1] + 1) * i[2] : +i[2]), n
        }]
    };
    it.Animation = it.extend(z, {
        tweener: function (e, t) {
            it.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
            for (var n, r = 0, i = e.length; i > r; r++)n = e[r], En[n] = En[n] || [], En[n].unshift(t)
        }, prefilter: function (e, t) {
            t ? yn.unshift(e) : yn.push(e)
        }
    }), it.speed = function (e, t, n) {
        var r = e && "object" == typeof e ? it.extend({}, e) : {
            complete: n || !n && t || it.isFunction(e) && e,
            duration: e,
            easing: n && t || t && !it.isFunction(t) && t
        };
        return r.duration = it.fx.off ? 0 : "number" == typeof r.duration ? r.duration : r.duration in it.fx.speeds ? it.fx.speeds[r.duration] : it.fx.speeds._default, (null == r.queue || r.queue === !0) && (r.queue = "fx"), r.old = r.complete, r.complete = function () {
            it.isFunction(r.old) && r.old.call(this), r.queue && it.dequeue(this, r.queue)
        }, r
    }, it.fn.extend({
        fadeTo: function (e, t, n, r) {
            return this.filter(Bt).css("opacity", 0).show().end().animate({opacity: t}, e, n, r)
        }, animate: function (e, t, n, r) {
            var i = it.isEmptyObject(e), a = it.speed(t, n, r), o = function () {
                var t = z(this, it.extend({}, e), a);
                (i || it._data(this, "finish")) && t.stop(!0)
            };
            return o.finish = o, i || a.queue === !1 ? this.each(o) : this.queue(a.queue, o)
        }, stop: function (e, t, n) {
            var r = function (e) {
                var t = e.stop;
                delete e.stop, t(n)
            };
            return "string" != typeof e && (n = t, t = e, e = void 0), t && e !== !1 && this.queue(e || "fx", []), this.each(function () {
                var t = !0, i = null != e && e + "queueHooks", a = it.timers, o = it._data(this);
                if (i)o[i] && o[i].stop && r(o[i]); else for (i in o)o[i] && o[i].stop && vn.test(i) && r(o[i]);
                for (i = a.length; i--;)a[i].elem !== this || null != e && a[i].queue !== e || (a[i].anim.stop(n), t = !1, a.splice(i, 1));
                (t || !n) && it.dequeue(this, e)
            })
        }, finish: function (e) {
            return e !== !1 && (e = e || "fx"), this.each(function () {
                var t, n = it._data(this), r = n[e + "queue"], i = n[e + "queueHooks"], a = it.timers, o = r ? r.length : 0;
                for (n.finish = !0, it.queue(this, e, []), i && i.stop && i.stop.call(this, !0), t = a.length; t--;)a[t].elem === this && a[t].queue === e && (a[t].anim.stop(!0), a.splice(t, 1));
                for (t = 0; o > t; t++)r[t] && r[t].finish && r[t].finish.call(this);
                delete n.finish
            })
        }
    }), it.each(["toggle", "show", "hide"], function (e, t) {
        var n = it.fn[t];
        it.fn[t] = function (e, r, i) {
            return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(k(t, !0), e, r, i)
        }
    }), it.each({
        slideDown: k("show"),
        slideUp: k("hide"),
        slideToggle: k("toggle"),
        fadeIn: {opacity: "show"},
        fadeOut: {opacity: "hide"},
        fadeToggle: {opacity: "toggle"}
    }, function (e, t) {
        it.fn[e] = function (e, n, r) {
            return this.animate(t, e, n, r)
        }
    }), it.timers = [], it.fx.tick = function () {
        var e, t = it.timers, n = 0;
        for (dn = it.now(); n < t.length; n++)e = t[n], e() || t[n] !== e || t.splice(n--, 1);
        t.length || it.fx.stop(), dn = void 0
    }, it.fx.timer = function (e) {
        it.timers.push(e), e() ? it.fx.start() : it.timers.pop()
    }, it.fx.interval = 13, it.fx.start = function () {
        pn || (pn = setInterval(it.fx.tick, it.fx.interval))
    }, it.fx.stop = function () {
        clearInterval(pn), pn = null
    }, it.fx.speeds = {slow: 600, fast: 200, _default: 400}, it.fn.delay = function (e, t) {
        return e = it.fx ? it.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function (t, n) {
            var r = setTimeout(t, e);
            n.stop = function () {
                clearTimeout(r)
            }
        })
    }, function () {
        var e, t, n, r, i;
        t = dt.createElement("div"), t.setAttribute("className", "t"), t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", r = t.getElementsByTagName("a")[0], n = dt.createElement("select"), i = n.appendChild(dt.createElement("option")), e = t.getElementsByTagName("input")[0], r.style.cssText = "top:1px", nt.getSetAttribute = "t" !== t.className, nt.style = /top/.test(r.getAttribute("style")), nt.hrefNormalized = "/a" === r.getAttribute("href"), nt.checkOn = !!e.value, nt.optSelected = i.selected, nt.enctype = !!dt.createElement("form").enctype, n.disabled = !0, nt.optDisabled = !i.disabled, e = dt.createElement("input"), e.setAttribute("value", ""), nt.input = "" === e.getAttribute("value"), e.value = "t", e.setAttribute("type", "radio"), nt.radioValue = "t" === e.value
    }();
    var bn = /\r/g;
    it.fn.extend({
        val: function (e) {
            var t, n, r, i = this[0];
            {
                if (arguments.length)return r = it.isFunction(e), this.each(function (n) {
                    var i;
                    1 === this.nodeType && (i = r ? e.call(this, n, it(this).val()) : e, null == i ? i = "" : "number" == typeof i ? i += "" : it.isArray(i) && (i = it.map(i, function (e) {
                        return null == e ? "" : e + ""
                    })), t = it.valHooks[this.type] || it.valHooks[this.nodeName.toLowerCase()], t && "set" in t && void 0 !== t.set(this, i, "value") || (this.value = i))
                });
                if (i)return t = it.valHooks[i.type] || it.valHooks[i.nodeName.toLowerCase()], t && "get" in t && void 0 !== (n = t.get(i, "value")) ? n : (n = i.value, "string" == typeof n ? n.replace(bn, "") : null == n ? "" : n)
            }
        }
    }), it.extend({
        valHooks: {
            option: {
                get: function (e) {
                    var t = it.find.attr(e, "value");
                    return null != t ? t : it.trim(it.text(e))
                }
            }, select: {
                get: function (e) {
                    for (var t, n, r = e.options, i = e.selectedIndex, a = "select-one" === e.type || 0 > i, o = a ? null : [], s = a ? i + 1 : r.length, l = 0 > i ? s : a ? i : 0; s > l; l++)if (n = r[l], !(!n.selected && l !== i || (nt.optDisabled ? n.disabled : null !== n.getAttribute("disabled")) || n.parentNode.disabled && it.nodeName(n.parentNode, "optgroup"))) {
                        if (t = it(n).val(), a)return t;
                        o.push(t)
                    }
                    return o
                }, set: function (e, t) {
                    for (var n, r, i = e.options, a = it.makeArray(t), o = i.length; o--;)if (r = i[o], it.inArray(it.valHooks.option.get(r), a) >= 0)try {
                        r.selected = n = !0
                    } catch (s) {
                        r.scrollHeight
                    } else r.selected = !1;
                    return n || (e.selectedIndex = -1), i
                }
            }
        }
    }), it.each(["radio", "checkbox"], function () {
        it.valHooks[this] = {
            set: function (e, t) {
                return it.isArray(t) ? e.checked = it.inArray(it(e).val(), t) >= 0 : void 0
            }
        }, nt.checkOn || (it.valHooks[this].get = function (e) {
            return null === e.getAttribute("value") ? "on" : e.value
        })
    });
    var xn, wn, Tn = it.expr.attrHandle, Cn = /^(?:checked|selected)$/i, Rn = nt.getSetAttribute, _n = nt.input;
    it.fn.extend({
        attr: function (e, t) {
            return Mt(this, it.attr, e, t, arguments.length > 1)
        }, removeAttr: function (e) {
            return this.each(function () {
                it.removeAttr(this, e)
            })
        }
    }), it.extend({
        attr: function (e, t, n) {
            var r, i, a = e.nodeType;
            if (e && 3 !== a && 8 !== a && 2 !== a)return typeof e.getAttribute === wt ? it.prop(e, t, n) : (1 === a && it.isXMLDoc(e) || (t = t.toLowerCase(), r = it.attrHooks[t] || (it.expr.match.bool.test(t) ? wn : xn)), void 0 === n ? r && "get" in r && null !== (i = r.get(e, t)) ? i : (i = it.find.attr(e, t), null == i ? void 0 : i) : null !== n ? r && "set" in r && void 0 !== (i = r.set(e, n, t)) ? i : (e.setAttribute(t, n + ""), n) : void it.removeAttr(e, t))
        }, removeAttr: function (e, t) {
            var n, r, i = 0, a = t && t.match(yt);
            if (a && 1 === e.nodeType)for (; n = a[i++];)r = it.propFix[n] || n, it.expr.match.bool.test(n) ? _n && Rn || !Cn.test(n) ? e[r] = !1 : e[it.camelCase("default-" + n)] = e[r] = !1 : it.attr(e, n, ""), e.removeAttribute(Rn ? n : r)
        }, attrHooks: {
            type: {
                set: function (e, t) {
                    if (!nt.radioValue && "radio" === t && it.nodeName(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t), n && (e.value = n), t
                    }
                }
            }
        }
    }), wn = {
        set: function (e, t, n) {
            return t === !1 ? it.removeAttr(e, n) : _n && Rn || !Cn.test(n) ? e.setAttribute(!Rn && it.propFix[n] || n, n) : e[it.camelCase("default-" + n)] = e[n] = !0, n
        }
    }, it.each(it.expr.match.bool.source.match(/\w+/g), function (e, t) {
        var n = Tn[t] || it.find.attr;
        Tn[t] = _n && Rn || !Cn.test(t) ? function (e, t, r) {
            var i, a;
            return r || (a = Tn[t], Tn[t] = i, i = null != n(e, t, r) ? t.toLowerCase() : null, Tn[t] = a), i
        } : function (e, t, n) {
            return n ? void 0 : e[it.camelCase("default-" + t)] ? t.toLowerCase() : null
        }
    }), _n && Rn || (it.attrHooks.value = {
        set: function (e, t, n) {
            return it.nodeName(e, "input") ? void(e.defaultValue = t) : xn && xn.set(e, t, n)
        }
    }), Rn || (xn = {
        set: function (e, t, n) {
            var r = e.getAttributeNode(n);
            return r || e.setAttributeNode(r = e.ownerDocument.createAttribute(n)), r.value = t += "", "value" === n || t === e.getAttribute(n) ? t : void 0
        }
    }, Tn.id = Tn.name = Tn.coords = function (e, t, n) {
        var r;
        return n ? void 0 : (r = e.getAttributeNode(t)) && "" !== r.value ? r.value : null
    }, it.valHooks.button = {
        get: function (e, t) {
            var n = e.getAttributeNode(t);
            return n && n.specified ? n.value : void 0
        }, set: xn.set
    }, it.attrHooks.contenteditable = {
        set: function (e, t, n) {
            xn.set(e, "" === t ? !1 : t, n)
        }
    }, it.each(["width", "height"], function (e, t) {
        it.attrHooks[t] = {
            set: function (e, n) {
                return "" === n ? (e.setAttribute(t, "auto"), n) : void 0
            }
        }
    })), nt.style || (it.attrHooks.style = {
        get: function (e) {
            return e.style.cssText || void 0
        }, set: function (e, t) {
            return e.style.cssText = t + ""
        }
    });
    var Bn = /^(?:input|select|textarea|button|object)$/i, Mn = /^(?:a|area)$/i;
    it.fn.extend({
        prop: function (e, t) {
            return Mt(this, it.prop, e, t, arguments.length > 1)
        }, removeProp: function (e) {
            return e = it.propFix[e] || e, this.each(function () {
                try {
                    this[e] = void 0, delete this[e]
                } catch (t) {
                }
            })
        }
    }), it.extend({
        propFix: {"for": "htmlFor", "class": "className"}, prop: function (e, t, n) {
            var r, i, a, o = e.nodeType;
            if (e && 3 !== o && 8 !== o && 2 !== o)return a = 1 !== o || !it.isXMLDoc(e), a && (t = it.propFix[t] || t, i = it.propHooks[t]), void 0 !== n ? i && "set" in i && void 0 !== (r = i.set(e, n, t)) ? r : e[t] = n : i && "get" in i && null !== (r = i.get(e, t)) ? r : e[t]
        }, propHooks: {
            tabIndex: {
                get: function (e) {
                    var t = it.find.attr(e, "tabindex");
                    return t ? parseInt(t, 10) : Bn.test(e.nodeName) || Mn.test(e.nodeName) && e.href ? 0 : -1
                }
            }
        }
    }), nt.hrefNormalized || it.each(["href", "src"], function (e, t) {
        it.propHooks[t] = {
            get: function (e) {
                return e.getAttribute(t, 4)
            }
        }
    }), nt.optSelected || (it.propHooks.selected = {
        get: function (e) {
            var t = e.parentNode;
            return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex), null
        }
    }), it.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
        it.propFix[this.toLowerCase()] = this
    }), nt.enctype || (it.propFix.enctype = "encoding");
    var Hn = /[\t\r\n\f]/g;
    it.fn.extend({
        addClass: function (e) {
            var t, n, r, i, a, o, s = 0, l = this.length, u = "string" == typeof e && e;
            if (it.isFunction(e))return this.each(function (t) {
                it(this).addClass(e.call(this, t, this.className))
            });
            if (u)for (t = (e || "").match(yt) || []; l > s; s++)if (n = this[s], r = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(Hn, " ") : " ")) {
                for (a = 0; i = t[a++];)r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                o = it.trim(r), n.className !== o && (n.className = o)
            }
            return this
        }, removeClass: function (e) {
            var t, n, r, i, a, o, s = 0, l = this.length, u = 0 === arguments.length || "string" == typeof e && e;
            if (it.isFunction(e))return this.each(function (t) {
                it(this).removeClass(e.call(this, t, this.className))
            });
            if (u)for (t = (e || "").match(yt) || []; l > s; s++)if (n = this[s], r = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(Hn, " ") : "")) {
                for (a = 0; i = t[a++];)for (; r.indexOf(" " + i + " ") >= 0;)r = r.replace(" " + i + " ", " ");
                o = e ? it.trim(r) : "", n.className !== o && (n.className = o)
            }
            return this
        }, toggleClass: function (e, t) {
            var n = typeof e;
            return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : this.each(it.isFunction(e) ? function (n) {
                it(this).toggleClass(e.call(this, n, this.className, t), t)
            } : function () {
                if ("string" === n)for (var t, r = 0, i = it(this), a = e.match(yt) || []; t = a[r++];)i.hasClass(t) ? i.removeClass(t) : i.addClass(t); else(n === wt || "boolean" === n) && (this.className && it._data(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : it._data(this, "__className__") || "")
            })
        }, hasClass: function (e) {
            for (var t = " " + e + " ", n = 0, r = this.length; r > n; n++)if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(Hn, " ").indexOf(t) >= 0)return !0;
            return !1
        }
    }), it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (e, t) {
        it.fn[t] = function (e, n) {
            return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
        }
    }), it.fn.extend({
        hover: function (e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        }, bind: function (e, t, n) {
            return this.on(e, null, t, n)
        }, unbind: function (e, t) {
            return this.off(e, null, t)
        }, delegate: function (e, t, n, r) {
            return this.on(t, e, n, r)
        }, undelegate: function (e, t, n) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
        }
    });
    var Sn = it.now(), Dn = /\?/, Fn = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    it.parseJSON = function (t) {
        if (e.JSON && e.JSON.parse)return e.JSON.parse(t + "");
        var n, r = null, i = it.trim(t + "");
        return i && !it.trim(i.replace(Fn, function (e, t, i, a) {
            return n && t && (r = 0), 0 === r ? e : (n = i || t, r += !a - !i, "")
        })) ? Function("return " + i)() : it.error("Invalid JSON: " + t)
    }, it.parseXML = function (t) {
        var n, r;
        if (!t || "string" != typeof t)return null;
        try {
            e.DOMParser ? (r = new DOMParser, n = r.parseFromString(t, "text/xml")) : (n = new ActiveXObject("Microsoft.XMLDOM"), n.async = "false", n.loadXML(t))
        } catch (i) {
            n = void 0
        }
        return n && n.documentElement && !n.getElementsByTagName("parsererror").length || it.error("Invalid XML: " + t), n
    };
    var kn, On, Pn = /#.*$/, Ln = /([?&])_=[^&]*/, zn = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, In = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Gn = /^(?:GET|HEAD)$/, Nn = /^\/\//, Vn = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Un = {}, jn = {}, Qn = "*/".concat("*");
    try {
        On = location.href
    } catch (Wn) {
        On = dt.createElement("a"), On.href = "", On = On.href
    }
    kn = Vn.exec(On.toLowerCase()) || [], it.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: On,
            type: "GET",
            isLocal: In.test(kn[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Qn,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {xml: /xml/, html: /html/, json: /json/},
            responseFields: {xml: "responseXML", text: "responseText", json: "responseJSON"},
            converters: {"* text": String, "text html": !0, "text json": it.parseJSON, "text xml": it.parseXML},
            flatOptions: {url: !0, context: !0}
        },
        ajaxSetup: function (e, t) {
            return t ? N(N(e, it.ajaxSettings), t) : N(it.ajaxSettings, e)
        },
        ajaxPrefilter: I(Un),
        ajaxTransport: I(jn),
        ajax: function (e, t) {
            function n(e, t, n, r) {
                var i, h, g, v, E, x = t;
                2 !== y && (y = 2, s && clearTimeout(s), u = void 0, o = r || "", b.readyState = e > 0 ? 4 : 0, i = e >= 200 && 300 > e || 304 === e, n && (v = V(c, b, n)), v = U(c, v, b, i), i ? (c.ifModified && (E = b.getResponseHeader("Last-Modified"), E && (it.lastModified[a] = E), E = b.getResponseHeader("etag"), E && (it.etag[a] = E)), 204 === e || "HEAD" === c.type ? x = "nocontent" : 304 === e ? x = "notmodified" : (x = v.state, h = v.data, g = v.error, i = !g)) : (g = x, (e || !x) && (x = "error", 0 > e && (e = 0))), b.status = e, b.statusText = (t || x) + "", i ? d.resolveWith(A, [h, x, b]) : d.rejectWith(A, [b, x, g]), b.statusCode(m), m = void 0, l && f.trigger(i ? "ajaxSuccess" : "ajaxError", [b, c, i ? h : g]), p.fireWith(A, [b, x]), l && (f.trigger("ajaxComplete", [b, c]), --it.active || it.event.trigger("ajaxStop")))
            }

            "object" == typeof e && (t = e, e = void 0), t = t || {};
            var r, i, a, o, s, l, u, h, c = it.ajaxSetup({}, t), A = c.context || c, f = c.context && (A.nodeType || A.jquery) ? it(A) : it.event, d = it.Deferred(), p = it.Callbacks("once memory"), m = c.statusCode || {}, g = {}, v = {}, y = 0, E = "canceled", b = {
                readyState: 0,
                getResponseHeader: function (e) {
                    var t;
                    if (2 === y) {
                        if (!h)for (h = {}; t = zn.exec(o);)h[t[1].toLowerCase()] = t[2];
                        t = h[e.toLowerCase()]
                    }
                    return null == t ? null : t
                },
                getAllResponseHeaders: function () {
                    return 2 === y ? o : null
                },
                setRequestHeader: function (e, t) {
                    var n = e.toLowerCase();
                    return y || (e = v[n] = v[n] || e, g[e] = t), this
                },
                overrideMimeType: function (e) {
                    return y || (c.mimeType = e), this
                },
                statusCode: function (e) {
                    var t;
                    if (e)if (2 > y)for (t in e)m[t] = [m[t], e[t]]; else b.always(e[b.status]);
                    return this
                },
                abort: function (e) {
                    var t = e || E;
                    return u && u.abort(t), n(0, t), this
                }
            };
            if (d.promise(b).complete = p.add, b.success = b.done, b.error = b.fail, c.url = ((e || c.url || On) + "").replace(Pn, "").replace(Nn, kn[1] + "//"), c.type = t.method || t.type || c.method || c.type, c.dataTypes = it.trim(c.dataType || "*").toLowerCase().match(yt) || [""], null == c.crossDomain && (r = Vn.exec(c.url.toLowerCase()), c.crossDomain = !(!r || r[1] === kn[1] && r[2] === kn[2] && (r[3] || ("http:" === r[1] ? "80" : "443")) === (kn[3] || ("http:" === kn[1] ? "80" : "443")))), c.data && c.processData && "string" != typeof c.data && (c.data = it.param(c.data, c.traditional)), G(Un, c, t, b), 2 === y)return b;
            l = c.global, l && 0 === it.active++ && it.event.trigger("ajaxStart"), c.type = c.type.toUpperCase(), c.hasContent = !Gn.test(c.type), a = c.url, c.hasContent || (c.data && (a = c.url += (Dn.test(a) ? "&" : "?") + c.data, delete c.data), c.cache === !1 && (c.url = Ln.test(a) ? a.replace(Ln, "$1_=" + Sn++) : a + (Dn.test(a) ? "&" : "?") + "_=" + Sn++)), c.ifModified && (it.lastModified[a] && b.setRequestHeader("If-Modified-Since", it.lastModified[a]), it.etag[a] && b.setRequestHeader("If-None-Match", it.etag[a])), (c.data && c.hasContent && c.contentType !== !1 || t.contentType) && b.setRequestHeader("Content-Type", c.contentType), b.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + ("*" !== c.dataTypes[0] ? ", " + Qn + "; q=0.01" : "") : c.accepts["*"]);
            for (i in c.headers)b.setRequestHeader(i, c.headers[i]);
            if (c.beforeSend && (c.beforeSend.call(A, b, c) === !1 || 2 === y))return b.abort();
            E = "abort";
            for (i in{success: 1, error: 1, complete: 1})b[i](c[i]);
            if (u = G(jn, c, t, b)) {
                b.readyState = 1, l && f.trigger("ajaxSend", [b, c]), c.async && c.timeout > 0 && (s = setTimeout(function () {
                    b.abort("timeout")
                }, c.timeout));
                try {
                    y = 1, u.send(g, n)
                } catch (x) {
                    if (!(2 > y))throw x;
                    n(-1, x)
                }
            } else n(-1, "No Transport");
            return b
        },
        getJSON: function (e, t, n) {
            return it.get(e, t, n, "json")
        },
        getScript: function (e, t) {
            return it.get(e, void 0, t, "script")
        }
    }), it.each(["get", "post"], function (e, t) {
        it[t] = function (e, n, r, i) {
            return it.isFunction(n) && (i = i || r, r = n, n = void 0), it.ajax({
                url: e,
                type: t,
                dataType: i,
                data: n,
                success: r
            })
        }
    }), it.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (e, t) {
        it.fn[t] = function (e) {
            return this.on(t, e)
        }
    }), it._evalUrl = function (e) {
        return it.ajax({url: e, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0})
    }, it.fn.extend({
        wrapAll: function (e) {
            if (it.isFunction(e))return this.each(function (t) {
                it(this).wrapAll(e.call(this, t))
            });
            if (this[0]) {
                var t = it(e, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && t.insertBefore(this[0]), t.map(function () {
                    for (var e = this; e.firstChild && 1 === e.firstChild.nodeType;)e = e.firstChild;
                    return e
                }).append(this)
            }
            return this
        }, wrapInner: function (e) {
            return this.each(it.isFunction(e) ? function (t) {
                it(this).wrapInner(e.call(this, t))
            } : function () {
                var t = it(this), n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e)
            })
        }, wrap: function (e) {
            var t = it.isFunction(e);
            return this.each(function (n) {
                it(this).wrapAll(t ? e.call(this, n) : e)
            })
        }, unwrap: function () {
            return this.parent().each(function () {
                it.nodeName(this, "body") || it(this).replaceWith(this.childNodes)
            }).end()
        }
    }), it.expr.filters.hidden = function (e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !nt.reliableHiddenOffsets() && "none" === (e.style && e.style.display || it.css(e, "display"))
    }, it.expr.filters.visible = function (e) {
        return !it.expr.filters.hidden(e)
    };
    var Yn = /%20/g, qn = /\[\]$/, Xn = /\r?\n/g, Zn = /^(?:submit|button|image|reset|file)$/i, Kn = /^(?:input|select|textarea|keygen)/i;
    it.param = function (e, t) {
        var n, r = [], i = function (e, t) {
            t = it.isFunction(t) ? t() : null == t ? "" : t, r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
        };
        if (void 0 === t && (t = it.ajaxSettings && it.ajaxSettings.traditional), it.isArray(e) || e.jquery && !it.isPlainObject(e))it.each(e, function () {
            i(this.name, this.value)
        }); else for (n in e)j(n, e[n], t, i);
        return r.join("&").replace(Yn, "+")
    }, it.fn.extend({
        serialize: function () {
            return it.param(this.serializeArray())
        }, serializeArray: function () {
            return this.map(function () {
                var e = it.prop(this, "elements");
                return e ? it.makeArray(e) : this
            }).filter(function () {
                var e = this.type;
                return this.name && !it(this).is(":disabled") && Kn.test(this.nodeName) && !Zn.test(e) && (this.checked || !Ht.test(e))
            }).map(function (e, t) {
                var n = it(this).val();
                return null == n ? null : it.isArray(n) ? it.map(n, function (e) {
                    return {name: t.name, value: e.replace(Xn, "\r\n")}
                }) : {name: t.name, value: n.replace(Xn, "\r\n")}
            }).get()
        }
    }), it.ajaxSettings.xhr = void 0 !== e.ActiveXObject ? function () {
        return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && Q() || W()
    } : Q;
    var $n = 0, Jn = {}, er = it.ajaxSettings.xhr();
    e.ActiveXObject && it(e).on("unload", function () {
        for (var e in Jn)Jn[e](void 0, !0)
    }), nt.cors = !!er && "withCredentials" in er, er = nt.ajax = !!er, er && it.ajaxTransport(function (e) {
        if (!e.crossDomain || nt.cors) {
            var t;
            return {
                send: function (n, r) {
                    var i, a = e.xhr(), o = ++$n;
                    if (a.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)for (i in e.xhrFields)a[i] = e.xhrFields[i];
                    e.mimeType && a.overrideMimeType && a.overrideMimeType(e.mimeType), e.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest");
                    for (i in n)void 0 !== n[i] && a.setRequestHeader(i, n[i] + "");
                    a.send(e.hasContent && e.data || null), t = function (n, i) {
                        var s, l, u;
                        if (t && (i || 4 === a.readyState))if (delete Jn[o], t = void 0, a.onreadystatechange = it.noop, i)4 !== a.readyState && a.abort(); else {
                            u = {}, s = a.status, "string" == typeof a.responseText && (u.text = a.responseText);
                            try {
                                l = a.statusText
                            } catch (h) {
                                l = ""
                            }
                            s || !e.isLocal || e.crossDomain ? 1223 === s && (s = 204) : s = u.text ? 200 : 404
                        }
                        u && r(s, l, u, a.getAllResponseHeaders())
                    }, e.async ? 4 === a.readyState ? setTimeout(t) : a.onreadystatechange = Jn[o] = t : t()
                }, abort: function () {
                    t && t(void 0, !0)
                }
            }
        }
    }), it.ajaxSetup({
        accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
        contents: {script: /(?:java|ecma)script/},
        converters: {
            "text script": function (e) {
                return it.globalEval(e), e
            }
        }
    }), it.ajaxPrefilter("script", function (e) {
        void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET", e.global = !1)
    }), it.ajaxTransport("script", function (e) {
        if (e.crossDomain) {
            var t, n = dt.head || it("head")[0] || dt.documentElement;
            return {
                send: function (r, i) {
                    t = dt.createElement("script"), t.async = !0, e.scriptCharset && (t.charset = e.scriptCharset), t.src = e.url, t.onload = t.onreadystatechange = function (e, n) {
                        (n || !t.readyState || /loaded|complete/.test(t.readyState)) && (t.onload = t.onreadystatechange = null, t.parentNode && t.parentNode.removeChild(t), t = null, n || i(200, "success"))
                    }, n.insertBefore(t, n.firstChild)
                }, abort: function () {
                    t && t.onload(void 0, !0)
                }
            }
        }
    });
    var tr = [], nr = /(=)\?(?=&|$)|\?\?/;
    it.ajaxSetup({
        jsonp: "callback", jsonpCallback: function () {
            var e = tr.pop() || it.expando + "_" + Sn++;
            return this[e] = !0, e
        }
    }), it.ajaxPrefilter("json jsonp", function (t, n, r) {
        var i, a, o, s = t.jsonp !== !1 && (nr.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && nr.test(t.data) && "data");
        return s || "jsonp" === t.dataTypes[0] ? (i = t.jsonpCallback = it.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(nr, "$1" + i) : t.jsonp !== !1 && (t.url += (Dn.test(t.url) ? "&" : "?") + t.jsonp + "=" + i), t.converters["script json"] = function () {
            return o || it.error(i + " was not called"), o[0]
        }, t.dataTypes[0] = "json", a = e[i], e[i] = function () {
            o = arguments
        }, r.always(function () {
            e[i] = a, t[i] && (t.jsonpCallback = n.jsonpCallback, tr.push(i)), o && it.isFunction(a) && a(o[0]), o = a = void 0
        }), "script") : void 0
    }), it.parseHTML = function (e, t, n) {
        if (!e || "string" != typeof e)return null;
        "boolean" == typeof t && (n = t, t = !1), t = t || dt;
        var r = ct.exec(e), i = !n && [];
        return r ? [t.createElement(r[1])] : (r = it.buildFragment([e], t, i), i && i.length && it(i).remove(), it.merge([], r.childNodes))
    };
    var rr = it.fn.load;
    it.fn.load = function (e, t, n) {
        if ("string" != typeof e && rr)return rr.apply(this, arguments);
        var r, i, a, o = this, s = e.indexOf(" ");
        return s >= 0 && (r = it.trim(e.slice(s, e.length)), e = e.slice(0, s)), it.isFunction(t) ? (n = t, t = void 0) : t && "object" == typeof t && (a = "POST"), o.length > 0 && it.ajax({
            url: e,
            type: a,
            dataType: "html",
            data: t
        }).done(function (e) {
            i = arguments, o.html(r ? it("<div>").append(it.parseHTML(e)).find(r) : e)
        }).complete(n && function (e, t) {
                o.each(n, i || [e.responseText, t, e])
            }), this
    }, it.expr.filters.animated = function (e) {
        return it.grep(it.timers, function (t) {
            return e === t.elem
        }).length
    };
    var ir = e.document.documentElement;
    it.offset = {
        setOffset: function (e, t, n) {
            var r, i, a, o, s, l, u, h = it.css(e, "position"), c = it(e), A = {};
            "static" === h && (e.style.position = "relative"), s = c.offset(), a = it.css(e, "top"), l = it.css(e, "left"), u = ("absolute" === h || "fixed" === h) && it.inArray("auto", [a, l]) > -1, u ? (r = c.position(), o = r.top, i = r.left) : (o = parseFloat(a) || 0, i = parseFloat(l) || 0), it.isFunction(t) && (t = t.call(e, n, s)), null != t.top && (A.top = t.top - s.top + o), null != t.left && (A.left = t.left - s.left + i), "using" in t ? t.using.call(e, A) : c.css(A)
        }
    }, it.fn.extend({
        offset: function (e) {
            if (arguments.length)return void 0 === e ? this : this.each(function (t) {
                it.offset.setOffset(this, e, t)
            });
            var t, n, r = {top: 0, left: 0}, i = this[0], a = i && i.ownerDocument;
            if (a)return t = a.documentElement, it.contains(t, i) ? (typeof i.getBoundingClientRect !== wt && (r = i.getBoundingClientRect()), n = Y(a), {
                top: r.top + (n.pageYOffset || t.scrollTop) - (t.clientTop || 0),
                left: r.left + (n.pageXOffset || t.scrollLeft) - (t.clientLeft || 0)
            }) : r
        }, position: function () {
            if (this[0]) {
                var e, t, n = {top: 0, left: 0}, r = this[0];
                return "fixed" === it.css(r, "position") ? t = r.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), it.nodeName(e[0], "html") || (n = e.offset()), n.top += it.css(e[0], "borderTopWidth", !0), n.left += it.css(e[0], "borderLeftWidth", !0)), {
                    top: t.top - n.top - it.css(r, "marginTop", !0),
                    left: t.left - n.left - it.css(r, "marginLeft", !0)
                }
            }
        }, offsetParent: function () {
            return this.map(function () {
                for (var e = this.offsetParent || ir; e && !it.nodeName(e, "html") && "static" === it.css(e, "position");)e = e.offsetParent;
                return e || ir
            })
        }
    }), it.each({scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function (e, t) {
        var n = /Y/.test(t);
        it.fn[e] = function (r) {
            return Mt(this, function (e, r, i) {
                var a = Y(e);
                return void 0 === i ? a ? t in a ? a[t] : a.document.documentElement[r] : e[r] : void(a ? a.scrollTo(n ? it(a).scrollLeft() : i, n ? i : it(a).scrollTop()) : e[r] = i)
            }, e, r, arguments.length, null)
        }
    }), it.each(["top", "left"], function (e, t) {
        it.cssHooks[t] = R(nt.pixelPosition, function (e, n) {
            return n ? (n = tn(e, t), rn.test(n) ? it(e).position()[t] + "px" : n) : void 0
        })
    }), it.each({Height: "height", Width: "width"}, function (e, t) {
        it.each({padding: "inner" + e, content: t, "": "outer" + e}, function (n, r) {
            it.fn[r] = function (r, i) {
                var a = arguments.length && (n || "boolean" != typeof r), o = n || (r === !0 || i === !0 ? "margin" : "border");
                return Mt(this, function (t, n, r) {
                    var i;
                    return it.isWindow(t) ? t.document.documentElement["client" + e] : 9 === t.nodeType ? (i = t.documentElement, Math.max(t.body["scroll" + e], i["scroll" + e], t.body["offset" + e], i["offset" + e], i["client" + e])) : void 0 === r ? it.css(t, n, o) : it.style(t, n, r, o)
                }, t, a ? r : void 0, a, null)
            }
        })
    }), it.fn.size = function () {
        return this.length
    }, it.fn.andSelf = it.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () {
        return it
    });
    var ar = e.jQuery, or = e.$;
    return it.noConflict = function (t) {
        return e.$ === it && (e.$ = or), t && e.jQuery === it && (e.jQuery = ar), it
    }, typeof t === wt && (e.jQuery = e.$ = it), it
}), function () {
    var e = this, t = e._, n = Array.prototype, r = Object.prototype, i = Function.prototype, a = n.push, o = n.slice, s = n.concat, l = r.toString, u = r.hasOwnProperty, h = Array.isArray, c = Object.keys, A = i.bind, f = function (e) {
        return e instanceof f ? e : this instanceof f ? void(this._wrapped = e) : new f(e)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = f), exports._ = f) : e._ = f, f.VERSION = "1.7.0";
    var d = function (e, t, n) {
        if (void 0 === t)return e;
        switch (null == n ? 3 : n) {
            case 1:
                return function (n) {
                    return e.call(t, n)
                };
            case 2:
                return function (n, r) {
                    return e.call(t, n, r)
                };
            case 3:
                return function (n, r, i) {
                    return e.call(t, n, r, i)
                };
            case 4:
                return function (n, r, i, a) {
                    return e.call(t, n, r, i, a)
                }
        }
        return function () {
            return e.apply(t, arguments)
        }
    };
    f.iteratee = function (e, t, n) {
        return null == e ? f.identity : f.isFunction(e) ? d(e, t, n) : f.isObject(e) ? f.matches(e) : f.property(e)
    }, f.each = f.forEach = function (e, t, n) {
        if (null == e)return e;
        t = d(t, n);
        var r, i = e.length;
        if (i === +i)for (r = 0; i > r; r++)t(e[r], r, e); else {
            var a = f.keys(e);
            for (r = 0, i = a.length; i > r; r++)t(e[a[r]], a[r], e)
        }
        return e
    }, f.map = f.collect = function (e, t, n) {
        if (null == e)return [];
        t = f.iteratee(t, n);
        for (var r, i = e.length !== +e.length && f.keys(e), a = (i || e).length, o = Array(a), s = 0; a > s; s++)r = i ? i[s] : s, o[s] = t(e[r], r, e);
        return o
    };
    var p = "Reduce of empty array with no initial value";
    f.reduce = f.foldl = f.inject = function (e, t, n, r) {
        null == e && (e = []), t = d(t, r, 4);
        var i, a = e.length !== +e.length && f.keys(e), o = (a || e).length, s = 0;
        if (arguments.length < 3) {
            if (!o)throw new TypeError(p);
            n = e[a ? a[s++] : s++]
        }
        for (; o > s; s++)i = a ? a[s] : s, n = t(n, e[i], i, e);
        return n
    }, f.reduceRight = f.foldr = function (e, t, n, r) {
        null == e && (e = []), t = d(t, r, 4);
        var i, a = e.length !== +e.length && f.keys(e), o = (a || e).length;
        if (arguments.length < 3) {
            if (!o)throw new TypeError(p);
            n = e[a ? a[--o] : --o]
        }
        for (; o--;)i = a ? a[o] : o, n = t(n, e[i], i, e);
        return n
    }, f.find = f.detect = function (e, t, n) {
        var r;
        return t = f.iteratee(t, n), f.some(e, function (e, n, i) {
            return t(e, n, i) ? (r = e, !0) : void 0
        }), r
    }, f.filter = f.select = function (e, t, n) {
        var r = [];
        return null == e ? r : (t = f.iteratee(t, n), f.each(e, function (e, n, i) {
            t(e, n, i) && r.push(e)
        }), r)
    }, f.reject = function (e, t, n) {
        return f.filter(e, f.negate(f.iteratee(t)), n)
    }, f.every = f.all = function (e, t, n) {
        if (null == e)return !0;
        t = f.iteratee(t, n);
        var r, i, a = e.length !== +e.length && f.keys(e), o = (a || e).length;
        for (r = 0; o > r; r++)if (i = a ? a[r] : r, !t(e[i], i, e))return !1;
        return !0
    }, f.some = f.any = function (e, t, n) {
        if (null == e)return !1;
        t = f.iteratee(t, n);
        var r, i, a = e.length !== +e.length && f.keys(e), o = (a || e).length;
        for (r = 0; o > r; r++)if (i = a ? a[r] : r, t(e[i], i, e))return !0;
        return !1
    }, f.contains = f.include = function (e, t) {
        return null == e ? !1 : (e.length !== +e.length && (e = f.values(e)), f.indexOf(e, t) >= 0)
    }, f.invoke = function (e, t) {
        var n = o.call(arguments, 2), r = f.isFunction(t);
        return f.map(e, function (e) {
            return (r ? t : e[t]).apply(e, n)
        })
    }, f.pluck = function (e, t) {
        return f.map(e, f.property(t))
    }, f.where = function (e, t) {
        return f.filter(e, f.matches(t))
    }, f.findWhere = function (e, t) {
        return f.find(e, f.matches(t))
    }, f.max = function (e, t, n) {
        var r, i, a = -1 / 0, o = -1 / 0;
        if (null == t && null != e) {
            e = e.length === +e.length ? e : f.values(e);
            for (var s = 0, l = e.length; l > s; s++)r = e[s], r > a && (a = r)
        } else t = f.iteratee(t, n), f.each(e, function (e, n, r) {
            i = t(e, n, r), (i > o || i === -1 / 0 && a === -1 / 0) && (a = e, o = i)
        });
        return a
    }, f.min = function (e, t, n) {
        var r, i, a = 1 / 0, o = 1 / 0;
        if (null == t && null != e) {
            e = e.length === +e.length ? e : f.values(e);
            for (var s = 0, l = e.length; l > s; s++)r = e[s], a > r && (a = r)
        } else t = f.iteratee(t, n), f.each(e, function (e, n, r) {
            i = t(e, n, r), (o > i || 1 / 0 === i && 1 / 0 === a) && (a = e, o = i)
        });
        return a
    }, f.shuffle = function (e) {
        for (var t, n = e && e.length === +e.length ? e : f.values(e), r = n.length, i = Array(r), a = 0; r > a; a++)t = f.random(0, a), t !== a && (i[a] = i[t]), i[t] = n[a];
        return i
    }, f.sample = function (e, t, n) {
        return null == t || n ? (e.length !== +e.length && (e = f.values(e)), e[f.random(e.length - 1)]) : f.shuffle(e).slice(0, Math.max(0, t))
    }, f.sortBy = function (e, t, n) {
        return t = f.iteratee(t, n), f.pluck(f.map(e, function (e, n, r) {
            return {value: e, index: n, criteria: t(e, n, r)}
        }).sort(function (e, t) {
            var n = e.criteria, r = t.criteria;
            if (n !== r) {
                if (n > r || void 0 === n)return 1;
                if (r > n || void 0 === r)return -1
            }
            return e.index - t.index
        }), "value")
    };
    var m = function (e) {
        return function (t, n, r) {
            var i = {};
            return n = f.iteratee(n, r), f.each(t, function (r, a) {
                var o = n(r, a, t);
                e(i, r, o)
            }), i
        }
    };
    f.groupBy = m(function (e, t, n) {
        f.has(e, n) ? e[n].push(t) : e[n] = [t]
    }), f.indexBy = m(function (e, t, n) {
        e[n] = t
    }), f.countBy = m(function (e, t, n) {
        f.has(e, n) ? e[n]++ : e[n] = 1
    }), f.sortedIndex = function (e, t, n, r) {
        n = f.iteratee(n, r, 1);
        for (var i = n(t), a = 0, o = e.length; o > a;) {
            var s = a + o >>> 1;
            n(e[s]) < i ? a = s + 1 : o = s
        }
        return a
    }, f.toArray = function (e) {
        return e ? f.isArray(e) ? o.call(e) : e.length === +e.length ? f.map(e, f.identity) : f.values(e) : []
    }, f.size = function (e) {
        return null == e ? 0 : e.length === +e.length ? e.length : f.keys(e).length
    }, f.partition = function (e, t, n) {
        t = f.iteratee(t, n);
        var r = [], i = [];
        return f.each(e, function (e, n, a) {
            (t(e, n, a) ? r : i).push(e)
        }), [r, i]
    }, f.first = f.head = f.take = function (e, t, n) {
        return null == e ? void 0 : null == t || n ? e[0] : 0 > t ? [] : o.call(e, 0, t)
    }, f.initial = function (e, t, n) {
        return o.call(e, 0, Math.max(0, e.length - (null == t || n ? 1 : t)))
    }, f.last = function (e, t, n) {
        return null == e ? void 0 : null == t || n ? e[e.length - 1] : o.call(e, Math.max(e.length - t, 0))
    }, f.rest = f.tail = f.drop = function (e, t, n) {
        return o.call(e, null == t || n ? 1 : t)
    }, f.compact = function (e) {
        return f.filter(e, f.identity)
    };
    var g = function (e, t, n, r) {
        if (t && f.every(e, f.isArray))return s.apply(r, e);
        for (var i = 0, o = e.length; o > i; i++) {
            var l = e[i];
            f.isArray(l) || f.isArguments(l) ? t ? a.apply(r, l) : g(l, t, n, r) : n || r.push(l)
        }
        return r
    };
    f.flatten = function (e, t) {
        return g(e, t, !1, [])
    }, f.without = function (e) {
        return f.difference(e, o.call(arguments, 1))
    }, f.uniq = f.unique = function (e, t, n, r) {
        if (null == e)return [];
        f.isBoolean(t) || (r = n, n = t, t = !1), null != n && (n = f.iteratee(n, r));
        for (var i = [], a = [], o = 0, s = e.length; s > o; o++) {
            var l = e[o];
            if (t)o && a === l || i.push(l), a = l; else if (n) {
                var u = n(l, o, e);
                f.indexOf(a, u) < 0 && (a.push(u), i.push(l))
            } else f.indexOf(i, l) < 0 && i.push(l)
        }
        return i
    }, f.union = function () {
        return f.uniq(g(arguments, !0, !0, []))
    }, f.intersection = function (e) {
        if (null == e)return [];
        for (var t = [], n = arguments.length, r = 0, i = e.length; i > r; r++) {
            var a = e[r];
            if (!f.contains(t, a)) {
                for (var o = 1; n > o && f.contains(arguments[o], a); o++);
                o === n && t.push(a)
            }
        }
        return t
    }, f.difference = function (e) {
        var t = g(o.call(arguments, 1), !0, !0, []);
        return f.filter(e, function (e) {
            return !f.contains(t, e)
        })
    }, f.zip = function (e) {
        if (null == e)return [];
        for (var t = f.max(arguments, "length").length, n = Array(t), r = 0; t > r; r++)n[r] = f.pluck(arguments, r);
        return n
    }, f.object = function (e, t) {
        if (null == e)return {};
        for (var n = {}, r = 0, i = e.length; i > r; r++)t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
        return n
    }, f.indexOf = function (e, t, n) {
        if (null == e)return -1;
        var r = 0, i = e.length;
        if (n) {
            if ("number" != typeof n)return r = f.sortedIndex(e, t), e[r] === t ? r : -1;
            r = 0 > n ? Math.max(0, i + n) : n
        }
        for (; i > r; r++)if (e[r] === t)return r;
        return -1
    }, f.lastIndexOf = function (e, t, n) {
        if (null == e)return -1;
        var r = e.length;
        for ("number" == typeof n && (r = 0 > n ? r + n + 1 : Math.min(r, n + 1)); --r >= 0;)if (e[r] === t)return r;
        return -1
    }, f.range = function (e, t, n) {
        arguments.length <= 1 && (t = e || 0, e = 0), n = n || 1;
        for (var r = Math.max(Math.ceil((t - e) / n), 0), i = Array(r), a = 0; r > a; a++, e += n)i[a] = e;
        return i
    };
    var v = function () {
    };
    f.bind = function (e, t) {
        var n, r;
        if (A && e.bind === A)return A.apply(e, o.call(arguments, 1));
        if (!f.isFunction(e))throw new TypeError("Bind must be called on a function");
        return n = o.call(arguments, 2), r = function () {
            if (!(this instanceof r))return e.apply(t, n.concat(o.call(arguments)));
            v.prototype = e.prototype;
            var i = new v;
            v.prototype = null;
            var a = e.apply(i, n.concat(o.call(arguments)));
            return f.isObject(a) ? a : i
        }
    }, f.partial = function (e) {
        var t = o.call(arguments, 1);
        return function () {
            for (var n = 0, r = t.slice(), i = 0, a = r.length; a > i; i++)r[i] === f && (r[i] = arguments[n++]);
            for (; n < arguments.length;)r.push(arguments[n++]);
            return e.apply(this, r)
        }
    }, f.bindAll = function (e) {
        var t, n, r = arguments.length;
        if (1 >= r)throw new Error("bindAll must be passed function names");
        for (t = 1; r > t; t++)n = arguments[t], e[n] = f.bind(e[n], e);
        return e
    }, f.memoize = function (e, t) {
        var n = function (r) {
            var i = n.cache, a = t ? t.apply(this, arguments) : r;
            return f.has(i, a) || (i[a] = e.apply(this, arguments)), i[a]
        };
        return n.cache = {}, n
    }, f.delay = function (e, t) {
        var n = o.call(arguments, 2);
        return setTimeout(function () {
            return e.apply(null, n)
        }, t)
    }, f.defer = function (e) {
        return f.delay.apply(f, [e, 1].concat(o.call(arguments, 1)))
    }, f.throttle = function (e, t, n) {
        var r, i, a, o = null, s = 0;
        n || (n = {});
        var l = function () {
            s = n.leading === !1 ? 0 : f.now(), o = null, a = e.apply(r, i), o || (r = i = null)
        };
        return function () {
            var u = f.now();
            s || n.leading !== !1 || (s = u);
            var h = t - (u - s);
            return r = this, i = arguments, 0 >= h || h > t ? (clearTimeout(o), o = null, s = u, a = e.apply(r, i), o || (r = i = null)) : o || n.trailing === !1 || (o = setTimeout(l, h)), a
        }
    }, f.debounce = function (e, t, n) {
        var r, i, a, o, s, l = function () {
            var u = f.now() - o;
            t > u && u > 0 ? r = setTimeout(l, t - u) : (r = null, n || (s = e.apply(a, i), r || (a = i = null)))
        };
        return function () {
            a = this, i = arguments, o = f.now();
            var u = n && !r;
            return r || (r = setTimeout(l, t)), u && (s = e.apply(a, i), a = i = null), s
        }
    }, f.wrap = function (e, t) {
        return f.partial(t, e)
    }, f.negate = function (e) {
        return function () {
            return !e.apply(this, arguments)
        }
    }, f.compose = function () {
        var e = arguments, t = e.length - 1;
        return function () {
            for (var n = t, r = e[t].apply(this, arguments); n--;)r = e[n].call(this, r);
            return r
        }
    }, f.after = function (e, t) {
        return function () {
            return --e < 1 ? t.apply(this, arguments) : void 0
        }
    }, f.before = function (e, t) {
        var n;
        return function () {
            return --e > 0 ? n = t.apply(this, arguments) : t = null, n
        }
    }, f.once = f.partial(f.before, 2), f.keys = function (e) {
        if (!f.isObject(e))return [];
        if (c)return c(e);
        var t = [];
        for (var n in e)f.has(e, n) && t.push(n);
        return t
    }, f.values = function (e) {
        for (var t = f.keys(e), n = t.length, r = Array(n), i = 0; n > i; i++)r[i] = e[t[i]];
        return r
    }, f.pairs = function (e) {
        for (var t = f.keys(e), n = t.length, r = Array(n), i = 0; n > i; i++)r[i] = [t[i], e[t[i]]];
        return r
    }, f.invert = function (e) {
        for (var t = {}, n = f.keys(e), r = 0, i = n.length; i > r; r++)t[e[n[r]]] = n[r];
        return t
    }, f.functions = f.methods = function (e) {
        var t = [];
        for (var n in e)f.isFunction(e[n]) && t.push(n);
        return t.sort()
    }, f.extend = function (e) {
        if (!f.isObject(e))return e;
        for (var t, n, r = 1, i = arguments.length; i > r; r++) {
            t = arguments[r];
            for (n in t)u.call(t, n) && (e[n] = t[n])
        }
        return e
    }, f.pick = function (e, t, n) {
        var r, i = {};
        if (null == e)return i;
        if (f.isFunction(t)) {
            t = d(t, n);
            for (r in e) {
                var a = e[r];
                t(a, r, e) && (i[r] = a)
            }
        } else {
            var l = s.apply([], o.call(arguments, 1));
            e = new Object(e);
            for (var u = 0, h = l.length; h > u; u++)r = l[u], r in e && (i[r] = e[r])
        }
        return i
    }, f.omit = function (e, t, n) {
        if (f.isFunction(t))t = f.negate(t); else {
            var r = f.map(s.apply([], o.call(arguments, 1)), String);
            t = function (e, t) {
                return !f.contains(r, t)
            }
        }
        return f.pick(e, t, n)
    }, f.defaults = function (e) {
        if (!f.isObject(e))return e;
        for (var t = 1, n = arguments.length; n > t; t++) {
            var r = arguments[t];
            for (var i in r)void 0 === e[i] && (e[i] = r[i])
        }
        return e
    }, f.clone = function (e) {
        return f.isObject(e) ? f.isArray(e) ? e.slice() : f.extend({}, e) : e
    }, f.tap = function (e, t) {
        return t(e), e
    };
    var y = function (e, t, n, r) {
        if (e === t)return 0 !== e || 1 / e === 1 / t;
        if (null == e || null == t)return e === t;
        e instanceof f && (e = e._wrapped), t instanceof f && (t = t._wrapped);
        var i = l.call(e);
        if (i !== l.call(t))return !1;
        switch (i) {
            case"[object RegExp]":
            case"[object String]":
                return "" + e == "" + t;
            case"[object Number]":
                return +e !== +e ? +t !== +t : 0 === +e ? 1 / +e === 1 / t : +e === +t;
            case"[object Date]":
            case"[object Boolean]":
                return +e === +t
        }
        if ("object" != typeof e || "object" != typeof t)return !1;
        for (var a = n.length; a--;)if (n[a] === e)return r[a] === t;
        var o = e.constructor, s = t.constructor;
        if (o !== s && "constructor" in e && "constructor" in t && !(f.isFunction(o) && o instanceof o && f.isFunction(s) && s instanceof s))return !1;
        n.push(e), r.push(t);
        var u, h;
        if ("[object Array]" === i) {
            if (u = e.length, h = u === t.length)for (; u-- && (h = y(e[u], t[u], n, r)););
        } else {
            var c, A = f.keys(e);
            if (u = A.length, h = f.keys(t).length === u)for (; u-- && (c = A[u], h = f.has(t, c) && y(e[c], t[c], n, r)););
        }
        return n.pop(), r.pop(), h
    };
    f.isEqual = function (e, t) {
        return y(e, t, [], [])
    }, f.isEmpty = function (e) {
        if (null == e)return !0;
        if (f.isArray(e) || f.isString(e) || f.isArguments(e))return 0 === e.length;
        for (var t in e)if (f.has(e, t))return !1;
        return !0
    }, f.isElement = function (e) {
        return !(!e || 1 !== e.nodeType)
    }, f.isArray = h || function (e) {
            return "[object Array]" === l.call(e)
        }, f.isObject = function (e) {
        var t = typeof e;
        return "function" === t || "object" === t && !!e
    }, f.each(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function (e) {
        f["is" + e] = function (t) {
            return l.call(t) === "[object " + e + "]"
        }
    }), f.isArguments(arguments) || (f.isArguments = function (e) {
        return f.has(e, "callee")
    }), "function" != typeof/./ && (f.isFunction = function (e) {
        return "function" == typeof e || !1
    }), f.isFinite = function (e) {
        return isFinite(e) && !isNaN(parseFloat(e))
    }, f.isNaN = function (e) {
        return f.isNumber(e) && e !== +e
    }, f.isBoolean = function (e) {
        return e === !0 || e === !1 || "[object Boolean]" === l.call(e)
    }, f.isNull = function (e) {
        return null === e
    }, f.isUndefined = function (e) {
        return void 0 === e
    }, f.has = function (e, t) {
        return null != e && u.call(e, t)
    }, f.noConflict = function () {
        return e._ = t, this
    }, f.identity = function (e) {
        return e
    }, f.constant = function (e) {
        return function () {
            return e
        }
    }, f.noop = function () {
    }, f.property = function (e) {
        return function (t) {
            return t[e]
        }
    }, f.matches = function (e) {
        var t = f.pairs(e), n = t.length;
        return function (e) {
            if (null == e)return !n;
            e = new Object(e);
            for (var r = 0; n > r; r++) {
                var i = t[r], a = i[0];
                if (i[1] !== e[a] || !(a in e))return !1
            }
            return !0
        }
    }, f.times = function (e, t, n) {
        var r = Array(Math.max(0, e));
        t = d(t, n, 1);
        for (var i = 0; e > i; i++)r[i] = t(i);
        return r
    }, f.random = function (e, t) {
        return null == t && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1))
    }, f.now = Date.now || function () {
            return (new Date).getTime()
        };
    var E = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }, b = f.invert(E), x = function (e) {
        var t = function (t) {
            return e[t]
        }, n = "(?:" + f.keys(e).join("|") + ")", r = RegExp(n), i = RegExp(n, "g");
        return function (e) {
            return e = null == e ? "" : "" + e, r.test(e) ? e.replace(i, t) : e
        }
    };
    f.escape = x(E), f.unescape = x(b), f.result = function (e, t) {
        if (null == e)return void 0;
        var n = e[t];
        return f.isFunction(n) ? e[t]() : n
    };
    var w = 0;
    f.uniqueId = function (e) {
        var t = ++w + "";
        return e ? e + t : t
    }, f.templateSettings = {evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g};
    var T = /(.)^/, C = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }, R = /\\|'|\r|\n|\u2028|\u2029/g, _ = function (e) {
        return "\\" + C[e]
    };
    f.template = function (e, t, n) {
        !t && n && (t = n), t = f.defaults({}, t, f.templateSettings);
        var r = RegExp([(t.escape || T).source, (t.interpolate || T).source, (t.evaluate || T).source].join("|") + "|$", "g"), i = 0, a = "__p+='";
        e.replace(r, function (t, n, r, o, s) {
            return a += e.slice(i, s).replace(R, _), i = s + t.length, n ? a += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : r ? a += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : o && (a += "';\n" + o + "\n__p+='"), t
        }), a += "';\n", t.variable || (a = "with(obj||{}){\n" + a + "}\n"), a = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + a + "return __p;\n";
        try {
            var o = new Function(t.variable || "obj", "_", a)
        } catch (s) {
            throw s.source = a, s
        }
        var l = function (e) {
            return o.call(this, e, f)
        }, u = t.variable || "obj";
        return l.source = "function(" + u + "){\n" + a + "}", l
    }, f.chain = function (e) {
        var t = f(e);
        return t._chain = !0, t
    };
    var B = function (e) {
        return this._chain ? f(e).chain() : e
    };
    f.mixin = function (e) {
        f.each(f.functions(e), function (t) {
            var n = f[t] = e[t];
            f.prototype[t] = function () {
                var e = [this._wrapped];
                return a.apply(e, arguments), B.call(this, n.apply(f, e))
            }
        })
    }, f.mixin(f), f.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (e) {
        var t = n[e];
        f.prototype[e] = function () {
            var n = this._wrapped;
            return t.apply(n, arguments), "shift" !== e && "splice" !== e || 0 !== n.length || delete n[0], B.call(this, n)
        }
    }), f.each(["concat", "join", "slice"], function (e) {
        var t = n[e];
        f.prototype[e] = function () {
            return B.call(this, t.apply(this._wrapped, arguments))
        }
    }), f.prototype.value = function () {
        return this._wrapped
    }, "function" == typeof define && define.amd && define("underscore", [], function () {
        return f
    })
}.call(this);
var colorbrewer = {
    YlGn: {
        3: ["#f7fcb9", "#addd8e", "#31a354"],
        4: ["#ffffcc", "#c2e699", "#78c679", "#238443"],
        5: ["#ffffcc", "#c2e699", "#78c679", "#31a354", "#006837"],
        6: ["#ffffcc", "#d9f0a3", "#addd8e", "#78c679", "#31a354", "#006837"],
        7: ["#ffffcc", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#005a32"],
        8: ["#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#005a32"],
        9: ["#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529"]
    },
    YlGnBu: {
        3: ["#edf8b1", "#7fcdbb", "#2c7fb8"],
        4: ["#ffffcc", "#a1dab4", "#41b6c4", "#225ea8"],
        5: ["#ffffcc", "#a1dab4", "#41b6c4", "#2c7fb8", "#253494"],
        6: ["#ffffcc", "#c7e9b4", "#7fcdbb", "#41b6c4", "#2c7fb8", "#253494"],
        7: ["#ffffcc", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#0c2c84"],
        8: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#0c2c84"],
        9: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58"]
    },
    GnBu: {
        3: ["#e0f3db", "#a8ddb5", "#43a2ca"],
        4: ["#f0f9e8", "#bae4bc", "#7bccc4", "#2b8cbe"],
        5: ["#f0f9e8", "#bae4bc", "#7bccc4", "#43a2ca", "#0868ac"],
        6: ["#f0f9e8", "#ccebc5", "#a8ddb5", "#7bccc4", "#43a2ca", "#0868ac"],
        7: ["#f0f9e8", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#08589e"],
        8: ["#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#08589e"],
        9: ["#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081"]
    },
    BuGn: {
        3: ["#e5f5f9", "#99d8c9", "#2ca25f"],
        4: ["#edf8fb", "#b2e2e2", "#66c2a4", "#238b45"],
        5: ["#edf8fb", "#b2e2e2", "#66c2a4", "#2ca25f", "#006d2c"],
        6: ["#edf8fb", "#ccece6", "#99d8c9", "#66c2a4", "#2ca25f", "#006d2c"],
        7: ["#edf8fb", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#005824"],
        8: ["#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#005824"],
        9: ["#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b"]
    },
    PuBuGn: {
        3: ["#ece2f0", "#a6bddb", "#1c9099"],
        4: ["#f6eff7", "#bdc9e1", "#67a9cf", "#02818a"],
        5: ["#f6eff7", "#bdc9e1", "#67a9cf", "#1c9099", "#016c59"],
        6: ["#f6eff7", "#d0d1e6", "#a6bddb", "#67a9cf", "#1c9099", "#016c59"],
        7: ["#f6eff7", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016450"],
        8: ["#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016450"],
        9: ["#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636"]
    },
    PuBu: {
        3: ["#ece7f2", "#a6bddb", "#2b8cbe"],
        4: ["#f1eef6", "#bdc9e1", "#74a9cf", "#0570b0"],
        5: ["#f1eef6", "#bdc9e1", "#74a9cf", "#2b8cbe", "#045a8d"],
        6: ["#f1eef6", "#d0d1e6", "#a6bddb", "#74a9cf", "#2b8cbe", "#045a8d"],
        7: ["#f1eef6", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#034e7b"],
        8: ["#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#034e7b"],
        9: ["#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858"]
    },
    BuPu: {
        3: ["#e0ecf4", "#9ebcda", "#8856a7"],
        4: ["#edf8fb", "#b3cde3", "#8c96c6", "#88419d"],
        5: ["#edf8fb", "#b3cde3", "#8c96c6", "#8856a7", "#810f7c"],
        6: ["#edf8fb", "#bfd3e6", "#9ebcda", "#8c96c6", "#8856a7", "#810f7c"],
        7: ["#edf8fb", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#6e016b"],
        8: ["#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#6e016b"],
        9: ["#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b"]
    },
    RdPu: {
        3: ["#fde0dd", "#fa9fb5", "#c51b8a"],
        4: ["#feebe2", "#fbb4b9", "#f768a1", "#ae017e"],
        5: ["#feebe2", "#fbb4b9", "#f768a1", "#c51b8a", "#7a0177"],
        6: ["#feebe2", "#fcc5c0", "#fa9fb5", "#f768a1", "#c51b8a", "#7a0177"],
        7: ["#feebe2", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177"],
        8: ["#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177"],
        9: ["#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a"]
    },
    PuRd: {
        3: ["#e7e1ef", "#c994c7", "#dd1c77"],
        4: ["#f1eef6", "#d7b5d8", "#df65b0", "#ce1256"],
        5: ["#f1eef6", "#d7b5d8", "#df65b0", "#dd1c77", "#980043"],
        6: ["#f1eef6", "#d4b9da", "#c994c7", "#df65b0", "#dd1c77", "#980043"],
        7: ["#f1eef6", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#91003f"],
        8: ["#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#91003f"],
        9: ["#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f"]
    },
    OrRd: {
        3: ["#fee8c8", "#fdbb84", "#e34a33"],
        4: ["#fef0d9", "#fdcc8a", "#fc8d59", "#d7301f"],
        5: ["#fef0d9", "#fdcc8a", "#fc8d59", "#e34a33", "#b30000"],
        6: ["#fef0d9", "#fdd49e", "#fdbb84", "#fc8d59", "#e34a33", "#b30000"],
        7: ["#fef0d9", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#990000"],
        8: ["#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#990000"],
        9: ["#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000"]
    },
    YlOrRd: {
        3: ["#ffeda0", "#feb24c", "#f03b20"],
        4: ["#ffffb2", "#fecc5c", "#fd8d3c", "#e31a1c"],
        5: ["#ffffb2", "#fecc5c", "#fd8d3c", "#f03b20", "#bd0026"],
        6: ["#ffffb2", "#fed976", "#feb24c", "#fd8d3c", "#f03b20", "#bd0026"],
        7: ["#ffffb2", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#b10026"],
        8: ["#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#b10026"],
        9: ["#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026"]
    },
    YlOrBr: {
        3: ["#fff7bc", "#fec44f", "#d95f0e"],
        4: ["#ffffd4", "#fed98e", "#fe9929", "#cc4c02"],
        5: ["#ffffd4", "#fed98e", "#fe9929", "#d95f0e", "#993404"],
        6: ["#ffffd4", "#fee391", "#fec44f", "#fe9929", "#d95f0e", "#993404"],
        7: ["#ffffd4", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#8c2d04"],
        8: ["#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#8c2d04"],
        9: ["#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506"]
    },
    Purples: {
        3: ["#efedf5", "#bcbddc", "#756bb1"],
        4: ["#f2f0f7", "#cbc9e2", "#9e9ac8", "#6a51a3"],
        5: ["#f2f0f7", "#cbc9e2", "#9e9ac8", "#756bb1", "#54278f"],
        6: ["#f2f0f7", "#dadaeb", "#bcbddc", "#9e9ac8", "#756bb1", "#54278f"],
        7: ["#f2f0f7", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#4a1486"],
        8: ["#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#4a1486"],
        9: ["#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d"]
    },
    Blues: {
        3: ["#deebf7", "#9ecae1", "#3182bd"],
        4: ["#eff3ff", "#bdd7e7", "#6baed6", "#2171b5"],
        5: ["#eff3ff", "#bdd7e7", "#6baed6", "#3182bd", "#08519c"],
        6: ["#eff3ff", "#c6dbef", "#9ecae1", "#6baed6", "#3182bd", "#08519c"],
        7: ["#eff3ff", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#084594"],
        8: ["#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#084594"],
        9: ["#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b"]
    },
    Greens: {
        3: ["#e5f5e0", "#a1d99b", "#31a354"],
        4: ["#edf8e9", "#bae4b3", "#74c476", "#238b45"],
        5: ["#edf8e9", "#bae4b3", "#74c476", "#31a354", "#006d2c"],
        6: ["#edf8e9", "#c7e9c0", "#a1d99b", "#74c476", "#31a354", "#006d2c"],
        7: ["#edf8e9", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#005a32"],
        8: ["#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#005a32"],
        9: ["#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b"]
    },
    Oranges: {
        3: ["#fee6ce", "#fdae6b", "#e6550d"],
        4: ["#feedde", "#fdbe85", "#fd8d3c", "#d94701"],
        5: ["#feedde", "#fdbe85", "#fd8d3c", "#e6550d", "#a63603"],
        6: ["#feedde", "#fdd0a2", "#fdae6b", "#fd8d3c", "#e6550d", "#a63603"],
        7: ["#feedde", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#8c2d04"],
        8: ["#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#8c2d04"],
        9: ["#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704"]
    },
    Reds: {
        3: ["#fee0d2", "#fc9272", "#de2d26"],
        4: ["#fee5d9", "#fcae91", "#fb6a4a", "#cb181d"],
        5: ["#fee5d9", "#fcae91", "#fb6a4a", "#de2d26", "#a50f15"],
        6: ["#fee5d9", "#fcbba1", "#fc9272", "#fb6a4a", "#de2d26", "#a50f15"],
        7: ["#fee5d9", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#99000d"],
        8: ["#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#99000d"],
        9: ["#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d"]
    },
    Greys: {
        3: ["#f0f0f0", "#bdbdbd", "#636363"],
        4: ["#f7f7f7", "#cccccc", "#969696", "#525252"],
        5: ["#f7f7f7", "#cccccc", "#969696", "#636363", "#252525"],
        6: ["#f7f7f7", "#d9d9d9", "#bdbdbd", "#969696", "#636363", "#252525"],
        7: ["#f7f7f7", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525"],
        8: ["#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525"],
        9: ["#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000"]
    },
    PuOr: {
        3: ["#f1a340", "#f7f7f7", "#998ec3"],
        4: ["#e66101", "#fdb863", "#b2abd2", "#5e3c99"],
        5: ["#e66101", "#fdb863", "#f7f7f7", "#b2abd2", "#5e3c99"],
        6: ["#b35806", "#f1a340", "#fee0b6", "#d8daeb", "#998ec3", "#542788"],
        7: ["#b35806", "#f1a340", "#fee0b6", "#f7f7f7", "#d8daeb", "#998ec3", "#542788"],
        8: ["#b35806", "#e08214", "#fdb863", "#fee0b6", "#d8daeb", "#b2abd2", "#8073ac", "#542788"],
        9: ["#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788"],
        10: ["#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b"],
        11: ["#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b"]
    },
    BrBG: {
        3: ["#d8b365", "#f5f5f5", "#5ab4ac"],
        4: ["#a6611a", "#dfc27d", "#80cdc1", "#018571"],
        5: ["#a6611a", "#dfc27d", "#f5f5f5", "#80cdc1", "#018571"],
        6: ["#8c510a", "#d8b365", "#f6e8c3", "#c7eae5", "#5ab4ac", "#01665e"],
        7: ["#8c510a", "#d8b365", "#f6e8c3", "#f5f5f5", "#c7eae5", "#5ab4ac", "#01665e"],
        8: ["#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#c7eae5", "#80cdc1", "#35978f", "#01665e"],
        9: ["#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e"],
        10: ["#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30"],
        11: ["#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30"]
    },
    PRGn: {
        3: ["#af8dc3", "#f7f7f7", "#7fbf7b"],
        4: ["#7b3294", "#c2a5cf", "#a6dba0", "#008837"],
        5: ["#7b3294", "#c2a5cf", "#f7f7f7", "#a6dba0", "#008837"],
        6: ["#762a83", "#af8dc3", "#e7d4e8", "#d9f0d3", "#7fbf7b", "#1b7837"],
        7: ["#762a83", "#af8dc3", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#7fbf7b", "#1b7837"],
        8: ["#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837"],
        9: ["#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837"],
        10: ["#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b"],
        11: ["#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b"]
    },
    PiYG: {
        3: ["#e9a3c9", "#f7f7f7", "#a1d76a"],
        4: ["#d01c8b", "#f1b6da", "#b8e186", "#4dac26"],
        5: ["#d01c8b", "#f1b6da", "#f7f7f7", "#b8e186", "#4dac26"],
        6: ["#c51b7d", "#e9a3c9", "#fde0ef", "#e6f5d0", "#a1d76a", "#4d9221"],
        7: ["#c51b7d", "#e9a3c9", "#fde0ef", "#f7f7f7", "#e6f5d0", "#a1d76a", "#4d9221"],
        8: ["#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221"],
        9: ["#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221"],
        10: ["#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419"],
        11: ["#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419"]
    },
    RdBu: {
        3: ["#ef8a62", "#f7f7f7", "#67a9cf"],
        4: ["#ca0020", "#f4a582", "#92c5de", "#0571b0"],
        5: ["#ca0020", "#f4a582", "#f7f7f7", "#92c5de", "#0571b0"],
        6: ["#b2182b", "#ef8a62", "#fddbc7", "#d1e5f0", "#67a9cf", "#2166ac"],
        7: ["#b2182b", "#ef8a62", "#fddbc7", "#f7f7f7", "#d1e5f0", "#67a9cf", "#2166ac"],
        8: ["#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac"],
        9: ["#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac"],
        10: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061"],
        11: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061"]
    },
    RdGy: {
        3: ["#ef8a62", "#ffffff", "#999999"],
        4: ["#ca0020", "#f4a582", "#bababa", "#404040"],
        5: ["#ca0020", "#f4a582", "#ffffff", "#bababa", "#404040"],
        6: ["#b2182b", "#ef8a62", "#fddbc7", "#e0e0e0", "#999999", "#4d4d4d"],
        7: ["#b2182b", "#ef8a62", "#fddbc7", "#ffffff", "#e0e0e0", "#999999", "#4d4d4d"],
        8: ["#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#e0e0e0", "#bababa", "#878787", "#4d4d4d"],
        9: ["#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d"],
        10: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a"],
        11: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a"]
    },
    RdYlBu: {
        3: ["#fc8d59", "#ffffbf", "#91bfdb"],
        4: ["#d7191c", "#fdae61", "#abd9e9", "#2c7bb6"],
        5: ["#d7191c", "#fdae61", "#ffffbf", "#abd9e9", "#2c7bb6"],
        6: ["#d73027", "#fc8d59", "#fee090", "#e0f3f8", "#91bfdb", "#4575b4"],
        7: ["#d73027", "#fc8d59", "#fee090", "#ffffbf", "#e0f3f8", "#91bfdb", "#4575b4"],
        8: ["#d73027", "#f46d43", "#fdae61", "#fee090", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4"],
        9: ["#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4"],
        10: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695"],
        11: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695"]
    },
    Spectral: {
        3: ["#fc8d59", "#ffffbf", "#99d594"],
        4: ["#d7191c", "#fdae61", "#abdda4", "#2b83ba"],
        5: ["#d7191c", "#fdae61", "#ffffbf", "#abdda4", "#2b83ba"],
        6: ["#d53e4f", "#fc8d59", "#fee08b", "#e6f598", "#99d594", "#3288bd"],
        7: ["#d53e4f", "#fc8d59", "#fee08b", "#ffffbf", "#e6f598", "#99d594", "#3288bd"],
        8: ["#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#e6f598", "#abdda4", "#66c2a5", "#3288bd"],
        9: ["#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd"],
        10: ["#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"],
        11: ["#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"]
    },
    RdYlGn: {
        3: ["#fc8d59", "#ffffbf", "#91cf60"],
        4: ["#d7191c", "#fdae61", "#a6d96a", "#1a9641"],
        5: ["#d7191c", "#fdae61", "#ffffbf", "#a6d96a", "#1a9641"],
        6: ["#d73027", "#fc8d59", "#fee08b", "#d9ef8b", "#91cf60", "#1a9850"],
        7: ["#d73027", "#fc8d59", "#fee08b", "#ffffbf", "#d9ef8b", "#91cf60", "#1a9850"],
        8: ["#d73027", "#f46d43", "#fdae61", "#fee08b", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850"],
        9: ["#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850"],
        10: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837"],
        11: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837"]
    },
    Accent: {
        3: ["#7fc97f", "#beaed4", "#fdc086"],
        4: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99"],
        5: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0"],
        6: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f"],
        7: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17"],
        8: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666"]
    },
    Dark2: {
        3: ["#1b9e77", "#d95f02", "#7570b3"],
        4: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a"],
        5: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e"],
        6: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02"],
        7: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d"],
        8: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666"]
    },
    Paired: {
        3: ["#a6cee3", "#1f78b4", "#b2df8a"],
        4: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c"],
        5: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99"],
        6: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c"],
        7: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f"],
        8: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00"],
        9: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6"],
        10: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a"],
        11: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99"],
        12: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928"]
    },
    Pastel1: {
        3: ["#fbb4ae", "#b3cde3", "#ccebc5"],
        4: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4"],
        5: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6"],
        6: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc"],
        7: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd"],
        8: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec"],
        9: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2"]
    },
    Pastel2: {
        3: ["#b3e2cd", "#fdcdac", "#cbd5e8"],
        4: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4"],
        5: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9"],
        6: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae"],
        7: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc"],
        8: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc"]
    },
    Set1: {
        3: ["#e41a1c", "#377eb8", "#4daf4a"],
        4: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3"],
        5: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00"],
        6: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33"],
        7: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628"],
        8: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf"],
        9: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999"]
    },
    Set2: {
        3: ["#66c2a5", "#fc8d62", "#8da0cb"],
        4: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3"],
        5: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854"],
        6: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f"],
        7: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494"],
        8: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3"]
    },
    Set3: {
        3: ["#8dd3c7", "#ffffb3", "#bebada"],
        4: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072"],
        5: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3"],
        6: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462"],
        7: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69"],
        8: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5"],
        9: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9"],
        10: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd"],
        11: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5"],
        12: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f"]
    }
};
!function () {
    function e(e) {
        return e && (e.ownerDocument || e.document || e).documentElement
    }

    function t(e) {
        return e && (e.ownerDocument && e.ownerDocument.defaultView || e.document && e || e.defaultView)
    }

    function n(e, t) {
        return t > e ? -1 : e > t ? 1 : e >= t ? 0 : 0 / 0
    }

    function r(e) {
        return null === e ? 0 / 0 : +e
    }

    function i(e) {
        return !isNaN(e)
    }

    function a(e) {
        return {
            left: function (t, n, r, i) {
                for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = t.length); i > r;) {
                    var a = r + i >>> 1;
                    e(t[a], n) < 0 ? r = a + 1 : i = a
                }
                return r
            }, right: function (t, n, r, i) {
                for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = t.length); i > r;) {
                    var a = r + i >>> 1;
                    e(t[a], n) > 0 ? i = a : r = a + 1
                }
                return r
            }
        }
    }

    function o(e) {
        return e.length
    }

    function s(e) {
        for (var t = 1; e * t % 1;)t *= 10;
        return t
    }

    function l(e, t) {
        for (var n in t)Object.defineProperty(e.prototype, n, {value: t[n], enumerable: !1})
    }

    function u() {
        this._ = Object.create(null)
    }

    function h(e) {
        return (e += "") === ps || e[0] === ms ? ms + e : e
    }

    function c(e) {
        return (e += "")[0] === ms ? e.slice(1) : e
    }

    function A(e) {
        return h(e) in this._
    }

    function f(e) {
        return (e = h(e)) in this._ && delete this._[e]
    }

    function d() {
        var e = [];
        for (var t in this._)e.push(c(t));
        return e
    }

    function p() {
        var e = 0;
        for (var t in this._)++e;
        return e
    }

    function m() {
        for (var e in this._)return !1;
        return !0
    }

    function g() {
        this._ = Object.create(null)
    }

    function v(e) {
        return e
    }

    function y(e, t, n) {
        return function () {
            var r = n.apply(t, arguments);
            return r === t ? e : r
        }
    }

    function E(e, t) {
        if (t in e)return t;
        t = t.charAt(0).toUpperCase() + t.slice(1);
        for (var n = 0, r = gs.length; r > n; ++n) {
            var i = gs[n] + t;
            if (i in e)return i
        }
    }

    function b() {
    }

    function x() {
    }

    function w(e) {
        function t() {
            for (var t, r = n, i = -1, a = r.length; ++i < a;)(t = r[i].on) && t.apply(this, arguments);
            return e
        }

        var n = [], r = new u;
        return t.on = function (t, i) {
            var a, o = r.get(t);
            return arguments.length < 2 ? o && o.on : (o && (o.on = null, n = n.slice(0, a = n.indexOf(o)).concat(n.slice(a + 1)), r.remove(t)), i && n.push(r.set(t, {on: i})), e)
        }, t
    }

    function T() {
        ns.event.preventDefault()
    }

    function C() {
        for (var e, t = ns.event; e = t.sourceEvent;)t = e;
        return t
    }

    function R(e) {
        for (var t = new x, n = 0, r = arguments.length; ++n < r;)t[arguments[n]] = w(t);
        return t.of = function (n, r) {
            return function (i) {
                try {
                    var a = i.sourceEvent = ns.event;
                    i.target = e, ns.event = i, t[i.type].apply(n, r)
                } finally {
                    ns.event = a
                }
            }
        }, t
    }

    function _(e) {
        return ys(e, ws), e
    }

    function B(e) {
        return "function" == typeof e ? e : function () {
            return Es(e, this)
        }
    }

    function M(e) {
        return "function" == typeof e ? e : function () {
            return bs(e, this)
        }
    }

    function H(e, t) {
        function n() {
            this.removeAttribute(e)
        }

        function r() {
            this.removeAttributeNS(e.space, e.local)
        }

        function i() {
            this.setAttribute(e, t)
        }

        function a() {
            this.setAttributeNS(e.space, e.local, t)
        }

        function o() {
            var n = t.apply(this, arguments);
            null == n ? this.removeAttribute(e) : this.setAttribute(e, n)
        }

        function s() {
            var n = t.apply(this, arguments);
            null == n ? this.removeAttributeNS(e.space, e.local) : this.setAttributeNS(e.space, e.local, n)
        }

        return e = ns.ns.qualify(e), null == t ? e.local ? r : n : "function" == typeof t ? e.local ? s : o : e.local ? a : i
    }

    function S(e) {
        return e.trim().replace(/\s+/g, " ")
    }

    function D(e) {
        return new RegExp("(?:^|\\s+)" + ns.requote(e) + "(?:\\s+|$)", "g")
    }

    function F(e) {
        return (e + "").trim().split(/^|\s+/)
    }

    function k(e, t) {
        function n() {
            for (var n = -1; ++n < i;)e[n](this, t)
        }

        function r() {
            for (var n = -1, r = t.apply(this, arguments); ++n < i;)e[n](this, r)
        }

        e = F(e).map(O);
        var i = e.length;
        return "function" == typeof t ? r : n
    }

    function O(e) {
        var t = D(e);
        return function (n, r) {
            if (i = n.classList)return r ? i.add(e) : i.remove(e);
            var i = n.getAttribute("class") || "";
            r ? (t.lastIndex = 0, t.test(i) || n.setAttribute("class", S(i + " " + e))) : n.setAttribute("class", S(i.replace(t, " ")))
        }
    }

    function P(e, t, n) {
        function r() {
            this.style.removeProperty(e)
        }

        function i() {
            this.style.setProperty(e, t, n)
        }

        function a() {
            var r = t.apply(this, arguments);
            null == r ? this.style.removeProperty(e) : this.style.setProperty(e, r, n)
        }

        return null == t ? r : "function" == typeof t ? a : i
    }

    function L(e, t) {
        function n() {
            delete this[e]
        }

        function r() {
            this[e] = t
        }

        function i() {
            var n = t.apply(this, arguments);
            null == n ? delete this[e] : this[e] = n
        }

        return null == t ? n : "function" == typeof t ? i : r
    }

    function z(e) {
        function t() {
            var t = this.ownerDocument, n = this.namespaceURI;
            return n ? t.createElementNS(n, e) : t.createElement(e)
        }

        function n() {
            return this.ownerDocument.createElementNS(e.space, e.local)
        }

        return "function" == typeof e ? e : (e = ns.ns.qualify(e)).local ? n : t
    }

    function I() {
        var e = this.parentNode;
        e && e.removeChild(this)
    }

    function G(e) {
        return {__data__: e}
    }

    function N(e) {
        return function () {
            return xs(this, e)
        }
    }

    function V(e) {
        return arguments.length || (e = n), function (t, n) {
            return t && n ? e(t.__data__, n.__data__) : !t - !n
        }
    }

    function U(e, t) {
        for (var n = 0, r = e.length; r > n; n++)for (var i, a = e[n], o = 0, s = a.length; s > o; o++)(i = a[o]) && t(i, o, n);
        return e
    }

    function j(e) {
        return ys(e, Cs), e
    }

    function Q(e) {
        var t, n;
        return function (r, i, a) {
            var o, s = e[a].update, l = s.length;
            for (a != n && (n = a, t = 0), i >= t && (t = i + 1); !(o = s[t]) && ++t < l;);
            return o
        }
    }

    function W(e, t, n) {
        function r() {
            var t = this[o];
            t && (this.removeEventListener(e, t, t.$), delete this[o])
        }

        function i() {
            var i = l(t, is(arguments));
            r.call(this), this.addEventListener(e, this[o] = i, i.$ = n), i._ = t
        }

        function a() {
            var t, n = new RegExp("^__on([^.]+)" + ns.requote(e) + "$");
            for (var r in this)if (t = r.match(n)) {
                var i = this[r];
                this.removeEventListener(t[1], i, i.$), delete this[r]
            }
        }

        var o = "__on" + e, s = e.indexOf("."), l = Y;
        s > 0 && (e = e.slice(0, s));
        var u = Rs.get(e);
        return u && (e = u, l = q), s ? t ? i : r : t ? b : a
    }

    function Y(e, t) {
        return function (n) {
            var r = ns.event;
            ns.event = n, t[0] = this.__data__;
            try {
                e.apply(this, t)
            } finally {
                ns.event = r
            }
        }
    }

    function q(e, t) {
        var n = Y(e, t);
        return function (e) {
            var t = this, r = e.relatedTarget;
            r && (r === t || 8 & r.compareDocumentPosition(t)) || n.call(t, e)
        }
    }

    function X(n) {
        var r = ".dragsuppress-" + ++Bs, i = "click" + r, a = ns.select(t(n)).on("touchmove" + r, T).on("dragstart" + r, T).on("selectstart" + r, T);
        if (null == _s && (_s = "onselectstart" in n ? !1 : E(n.style, "userSelect")), _s) {
            var o = e(n).style, s = o[_s];
            o[_s] = "none"
        }
        return function (e) {
            if (a.on(r, null), _s && (o[_s] = s), e) {
                var t = function () {
                    a.on(i, null)
                };
                a.on(i, function () {
                    T(), t()
                }, !0), setTimeout(t, 0)
            }
        }
    }

    function Z(e, n) {
        n.changedTouches && (n = n.changedTouches[0]);
        var r = e.ownerSVGElement || e;
        if (r.createSVGPoint) {
            var i = r.createSVGPoint();
            if (0 > Ms) {
                var a = t(e);
                if (a.scrollX || a.scrollY) {
                    r = ns.select("body").append("svg").style({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        margin: 0,
                        padding: 0,
                        border: "none"
                    }, "important");
                    var o = r[0][0].getScreenCTM();
                    Ms = !(o.f || o.e), r.remove()
                }
            }
            return Ms ? (i.x = n.pageX, i.y = n.pageY) : (i.x = n.clientX, i.y = n.clientY), i = i.matrixTransform(e.getScreenCTM().inverse()), [i.x, i.y]
        }
        var s = e.getBoundingClientRect();
        return [n.clientX - s.left - e.clientLeft, n.clientY - s.top - e.clientTop]
    }

    function K() {
        return ns.event.changedTouches[0].identifier
    }

    function $(e) {
        return e > 0 ? 1 : 0 > e ? -1 : 0
    }

    function J(e, t, n) {
        return (t[0] - e[0]) * (n[1] - e[1]) - (t[1] - e[1]) * (n[0] - e[0])
    }

    function et(e) {
        return e > 1 ? 0 : -1 > e ? Ds : Math.acos(e)
    }

    function tt(e) {
        return e > 1 ? Os : -1 > e ? -Os : Math.asin(e)
    }

    function nt(e) {
        return ((e = Math.exp(e)) - 1 / e) / 2
    }

    function rt(e) {
        return ((e = Math.exp(e)) + 1 / e) / 2
    }

    function it(e) {
        return ((e = Math.exp(2 * e)) - 1) / (e + 1)
    }

    function at(e) {
        return (e = Math.sin(e / 2)) * e
    }

    function ot() {
    }

    function st(e, t, n) {
        return this instanceof st ? (this.h = +e, this.s = +t, void(this.l = +n)) : arguments.length < 2 ? e instanceof st ? new st(e.h, e.s, e.l) : bt("" + e, xt, st) : new st(e, t, n)
    }

    function lt(e, t, n) {
        function r(e) {
            return e > 360 ? e -= 360 : 0 > e && (e += 360), 60 > e ? a + (o - a) * e / 60 : 180 > e ? o : 240 > e ? a + (o - a) * (240 - e) / 60 : a
        }

        function i(e) {
            return Math.round(255 * r(e))
        }

        var a, o;
        return e = isNaN(e) ? 0 : (e %= 360) < 0 ? e + 360 : e, t = isNaN(t) ? 0 : 0 > t ? 0 : t > 1 ? 1 : t, n = 0 > n ? 0 : n > 1 ? 1 : n, o = .5 >= n ? n * (1 + t) : n + t - n * t, a = 2 * n - o, new gt(i(e + 120), i(e), i(e - 120))
    }

    function ut(e, t, n) {
        return this instanceof ut ? (this.h = +e, this.c = +t, void(this.l = +n)) : arguments.length < 2 ? e instanceof ut ? new ut(e.h, e.c, e.l) : e instanceof ct ? ft(e.l, e.a, e.b) : ft((e = wt((e = ns.rgb(e)).r, e.g, e.b)).l, e.a, e.b) : new ut(e, t, n)
    }

    function ht(e, t, n) {
        return isNaN(e) && (e = 0), isNaN(t) && (t = 0), new ct(n, Math.cos(e *= Ps) * t, Math.sin(e) * t)
    }

    function ct(e, t, n) {
        return this instanceof ct ? (this.l = +e, this.a = +t, void(this.b = +n)) : arguments.length < 2 ? e instanceof ct ? new ct(e.l, e.a, e.b) : e instanceof ut ? ht(e.h, e.c, e.l) : wt((e = gt(e)).r, e.g, e.b) : new ct(e, t, n)
    }

    function At(e, t, n) {
        var r = (e + 16) / 116, i = r + t / 500, a = r - n / 200;
        return i = dt(i) * Ys, r = dt(r) * qs, a = dt(a) * Xs, new gt(mt(3.2404542 * i - 1.5371385 * r - .4985314 * a), mt(-.969266 * i + 1.8760108 * r + .041556 * a), mt(.0556434 * i - .2040259 * r + 1.0572252 * a))
    }

    function ft(e, t, n) {
        return e > 0 ? new ut(Math.atan2(n, t) * Ls, Math.sqrt(t * t + n * n), e) : new ut(0 / 0, 0 / 0, e)
    }

    function dt(e) {
        return e > .206893034 ? e * e * e : (e - 4 / 29) / 7.787037
    }

    function pt(e) {
        return e > .008856 ? Math.pow(e, 1 / 3) : 7.787037 * e + 4 / 29
    }

    function mt(e) {
        return Math.round(255 * (.00304 >= e ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055))
    }

    function gt(e, t, n) {
        return this instanceof gt ? (this.r = ~~e, this.g = ~~t, void(this.b = ~~n)) : arguments.length < 2 ? e instanceof gt ? new gt(e.r, e.g, e.b) : bt("" + e, gt, lt) : new gt(e, t, n)
    }

    function vt(e) {
        return new gt(e >> 16, e >> 8 & 255, 255 & e)
    }

    function yt(e) {
        return vt(e) + ""
    }

    function Et(e) {
        return 16 > e ? "0" + Math.max(0, e).toString(16) : Math.min(255, e).toString(16)
    }

    function bt(e, t, n) {
        var r, i, a, o = 0, s = 0, l = 0;
        if (r = /([a-z]+)\((.*)\)/i.exec(e))switch (i = r[2].split(","), r[1]) {
            case"hsl":
                return n(parseFloat(i[0]), parseFloat(i[1]) / 100, parseFloat(i[2]) / 100);
            case"rgb":
                return t(Ct(i[0]), Ct(i[1]), Ct(i[2]))
        }
        return (a = $s.get(e.toLowerCase())) ? t(a.r, a.g, a.b) : (null == e || "#" !== e.charAt(0) || isNaN(a = parseInt(e.slice(1), 16)) || (4 === e.length ? (o = (3840 & a) >> 4, o = o >> 4 | o, s = 240 & a, s = s >> 4 | s, l = 15 & a, l = l << 4 | l) : 7 === e.length && (o = (16711680 & a) >> 16, s = (65280 & a) >> 8, l = 255 & a)), t(o, s, l))
    }

    function xt(e, t, n) {
        var r, i, a = Math.min(e /= 255, t /= 255, n /= 255), o = Math.max(e, t, n), s = o - a, l = (o + a) / 2;
        return s ? (i = .5 > l ? s / (o + a) : s / (2 - o - a), r = e == o ? (t - n) / s + (n > t ? 6 : 0) : t == o ? (n - e) / s + 2 : (e - t) / s + 4, r *= 60) : (r = 0 / 0, i = l > 0 && 1 > l ? 0 : r), new st(r, i, l)
    }

    function wt(e, t, n) {
        e = Tt(e), t = Tt(t), n = Tt(n);
        var r = pt((.4124564 * e + .3575761 * t + .1804375 * n) / Ys), i = pt((.2126729 * e + .7151522 * t + .072175 * n) / qs), a = pt((.0193339 * e + .119192 * t + .9503041 * n) / Xs);
        return ct(116 * i - 16, 500 * (r - i), 200 * (i - a))
    }

    function Tt(e) {
        return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)
    }

    function Ct(e) {
        var t = parseFloat(e);
        return "%" === e.charAt(e.length - 1) ? Math.round(2.55 * t) : t
    }

    function Rt(e) {
        return "function" == typeof e ? e : function () {
            return e
        }
    }

    function _t(e) {
        return function (t, n, r) {
            return 2 === arguments.length && "function" == typeof n && (r = n, n = null), Bt(t, n, e, r)
        }
    }

    function Bt(e, t, n, r) {
        function i() {
            var e, t = l.status;
            if (!t && Ht(l) || t >= 200 && 300 > t || 304 === t) {
                try {
                    e = n.call(a, l)
                } catch (r) {
                    return void o.error.call(a, r)
                }
                o.load.call(a, e)
            } else o.error.call(a, l)
        }

        var a = {}, o = ns.dispatch("beforesend", "progress", "load", "error"), s = {}, l = new XMLHttpRequest, u = null;
        return !this.XDomainRequest || "withCredentials" in l || !/^(http(s)?:)?\/\//.test(e) || (l = new XDomainRequest), "onload" in l ? l.onload = l.onerror = i : l.onreadystatechange = function () {
            l.readyState > 3 && i()
        }, l.onprogress = function (e) {
            var t = ns.event;
            ns.event = e;
            try {
                o.progress.call(a, l)
            } finally {
                ns.event = t
            }
        }, a.header = function (e, t) {
            return e = (e + "").toLowerCase(), arguments.length < 2 ? s[e] : (null == t ? delete s[e] : s[e] = t + "", a)
        }, a.mimeType = function (e) {
            return arguments.length ? (t = null == e ? null : e + "", a) : t
        }, a.responseType = function (e) {
            return arguments.length ? (u = e, a) : u
        }, a.response = function (e) {
            return n = e, a
        }, ["get", "post"].forEach(function (e) {
            a[e] = function () {
                return a.send.apply(a, [e].concat(is(arguments)))
            }
        }), a.send = function (n, r, i) {
            if (2 === arguments.length && "function" == typeof r && (i = r, r = null), l.open(n, e, !0), null == t || "accept" in s || (s.accept = t + ",*/*"), l.setRequestHeader)for (var h in s)l.setRequestHeader(h, s[h]);
            return null != t && l.overrideMimeType && l.overrideMimeType(t), null != u && (l.responseType = u), null != i && a.on("error", i).on("load", function (e) {
                i(null, e)
            }), o.beforesend.call(a, l), l.send(null == r ? null : r), a
        }, a.abort = function () {
            return l.abort(), a
        }, ns.rebind(a, o, "on"), null == r ? a : a.get(Mt(r))
    }

    function Mt(e) {
        return 1 === e.length ? function (t, n) {
            e(null == t ? n : null)
        } : e
    }

    function Ht(e) {
        var t = e.responseType;
        return t && "text" !== t ? e.response : e.responseText
    }

    function St() {
        var e = Dt(), t = Ft() - e;
        t > 24 ? (isFinite(t) && (clearTimeout(nl), nl = setTimeout(St, t)), tl = 0) : (tl = 1, il(St))
    }

    function Dt() {
        var e = Date.now();
        for (rl = Js; rl;)e >= rl.t && (rl.f = rl.c(e - rl.t)), rl = rl.n;
        return e
    }

    function Ft() {
        for (var e, t = Js, n = 1 / 0; t;)t.f ? t = e ? e.n = t.n : Js = t.n : (t.t < n && (n = t.t), t = (e = t).n);
        return el = e, n
    }

    function kt(e, t) {
        return t - (e ? Math.ceil(Math.log(e) / Math.LN10) : 1)
    }

    function Ot(e, t) {
        var n = Math.pow(10, 3 * ds(8 - t));
        return {
            scale: t > 8 ? function (e) {
                return e / n
            } : function (e) {
                return e * n
            }, symbol: e
        }
    }

    function Pt(e) {
        var t = e.decimal, n = e.thousands, r = e.grouping, i = e.currency, a = r && n ? function (e, t) {
            for (var i = e.length, a = [], o = 0, s = r[0], l = 0; i > 0 && s > 0 && (l + s + 1 > t && (s = Math.max(1, t - l)), a.push(e.substring(i -= s, i + s)), !((l += s + 1) > t));)s = r[o = (o + 1) % r.length];
            return a.reverse().join(n)
        } : v;
        return function (e) {
            var n = ol.exec(e), r = n[1] || " ", o = n[2] || ">", s = n[3] || "-", l = n[4] || "", u = n[5], h = +n[6], c = n[7], A = n[8], f = n[9], d = 1, p = "", m = "", g = !1, v = !0;
            switch (A && (A = +A.substring(1)), (u || "0" === r && "=" === o) && (u = r = "0", o = "="), f) {
                case"n":
                    c = !0, f = "g";
                    break;
                case"%":
                    d = 100, m = "%", f = "f";
                    break;
                case"p":
                    d = 100, m = "%", f = "r";
                    break;
                case"b":
                case"o":
                case"x":
                case"X":
                    "#" === l && (p = "0" + f.toLowerCase());
                case"c":
                    v = !1;
                case"d":
                    g = !0, A = 0;
                    break;
                case"s":
                    d = -1, f = "r"
            }
            "$" === l && (p = i[0], m = i[1]), "r" != f || A || (f = "g"), null != A && ("g" == f ? A = Math.max(1, Math.min(21, A)) : ("e" == f || "f" == f) && (A = Math.max(0, Math.min(20, A)))), f = sl.get(f) || Lt;
            var y = u && c;
            return function (e) {
                var n = m;
                if (g && e % 1)return "";
                var i = 0 > e || 0 === e && 0 > 1 / e ? (e = -e, "-") : "-" === s ? "" : s;
                if (0 > d) {
                    var l = ns.formatPrefix(e, A);
                    e = l.scale(e), n = l.symbol + m
                } else e *= d;
                e = f(e, A);
                var E, b, x = e.lastIndexOf(".");
                if (0 > x) {
                    var w = v ? e.lastIndexOf("e") : -1;
                    0 > w ? (E = e, b = "") : (E = e.substring(0, w), b = e.substring(w))
                } else E = e.substring(0, x), b = t + e.substring(x + 1);
                !u && c && (E = a(E, 1 / 0));
                var T = p.length + E.length + b.length + (y ? 0 : i.length), C = h > T ? new Array(T = h - T + 1).join(r) : "";
                return y && (E = a(C + E, C.length ? h - b.length : 1 / 0)), i += p, e = E + b, ("<" === o ? i + e + C : ">" === o ? C + i + e : "^" === o ? C.substring(0, T >>= 1) + i + e + C.substring(T) : i + (y ? e : C + e)) + n
            }
        }
    }

    function Lt(e) {
        return e + ""
    }

    function zt() {
        this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0])
    }

    function It(e, t, n) {
        function r(t) {
            var n = e(t), r = a(n, 1);
            return r - t > t - n ? n : r
        }

        function i(n) {
            return t(n = e(new ul(n - 1)), 1), n
        }

        function a(e, n) {
            return t(e = new ul(+e), n), e
        }

        function o(e, r, a) {
            var o = i(e), s = [];
            if (a > 1)for (; r > o;)n(o) % a || s.push(new Date(+o)), t(o, 1); else for (; r > o;)s.push(new Date(+o)), t(o, 1);
            return s
        }

        function s(e, t, n) {
            try {
                ul = zt;
                var r = new zt;
                return r._ = e, o(r, t, n)
            } finally {
                ul = Date
            }
        }

        e.floor = e, e.round = r, e.ceil = i, e.offset = a, e.range = o;
        var l = e.utc = Gt(e);
        return l.floor = l, l.round = Gt(r), l.ceil = Gt(i), l.offset = Gt(a), l.range = s, e
    }

    function Gt(e) {
        return function (t, n) {
            try {
                ul = zt;
                var r = new zt;
                return r._ = t, e(r, n)._
            } finally {
                ul = Date
            }
        }
    }

    function Nt(e) {
        function t(e) {
            function t(t) {
                for (var n, i, a, o = [], s = -1, l = 0; ++s < r;)37 === e.charCodeAt(s) && (o.push(e.slice(l, s)), null != (i = cl[n = e.charAt(++s)]) && (n = e.charAt(++s)), (a = B[n]) && (n = a(t, null == i ? "e" === n ? " " : "0" : i)), o.push(n), l = s + 1);
                return o.push(e.slice(l, s)), o.join("")
            }

            var r = e.length;
            return t.parse = function (t) {
                var r = {y: 1900, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0, Z: null}, i = n(r, e, t, 0);
                if (i != t.length)return null;
                "p" in r && (r.H = r.H % 12 + 12 * r.p);
                var a = null != r.Z && ul !== zt, o = new (a ? zt : ul);
                return "j" in r ? o.setFullYear(r.y, 0, r.j) : "w" in r && ("W" in r || "U" in r) ? (o.setFullYear(r.y, 0, 1), o.setFullYear(r.y, 0, "W" in r ? (r.w + 6) % 7 + 7 * r.W - (o.getDay() + 5) % 7 : r.w + 7 * r.U - (o.getDay() + 6) % 7)) : o.setFullYear(r.y, r.m, r.d), o.setHours(r.H + (r.Z / 100 | 0), r.M + r.Z % 100, r.S, r.L), a ? o._ : o
            }, t.toString = function () {
                return e
            }, t
        }

        function n(e, t, n, r) {
            for (var i, a, o, s = 0, l = t.length, u = n.length; l > s;) {
                if (r >= u)return -1;
                if (i = t.charCodeAt(s++), 37 === i) {
                    if (o = t.charAt(s++), a = M[o in cl ? t.charAt(s++) : o], !a || (r = a(e, n, r)) < 0)return -1
                } else if (i != n.charCodeAt(r++))return -1
            }
            return r
        }

        function r(e, t, n) {
            x.lastIndex = 0;
            var r = x.exec(t.slice(n));
            return r ? (e.w = w.get(r[0].toLowerCase()), n + r[0].length) : -1
        }

        function i(e, t, n) {
            E.lastIndex = 0;
            var r = E.exec(t.slice(n));
            return r ? (e.w = b.get(r[0].toLowerCase()), n + r[0].length) : -1
        }

        function a(e, t, n) {
            R.lastIndex = 0;
            var r = R.exec(t.slice(n));
            return r ? (e.m = _.get(r[0].toLowerCase()), n + r[0].length) : -1
        }

        function o(e, t, n) {
            T.lastIndex = 0;
            var r = T.exec(t.slice(n));
            return r ? (e.m = C.get(r[0].toLowerCase()), n + r[0].length) : -1
        }

        function s(e, t, r) {
            return n(e, B.c.toString(), t, r)
        }

        function l(e, t, r) {
            return n(e, B.x.toString(), t, r)
        }

        function u(e, t, r) {
            return n(e, B.X.toString(), t, r)
        }

        function h(e, t, n) {
            var r = y.get(t.slice(n, n += 2).toLowerCase());
            return null == r ? -1 : (e.p = r, n)
        }

        var c = e.dateTime, A = e.date, f = e.time, d = e.periods, p = e.days, m = e.shortDays, g = e.months, v = e.shortMonths;
        t.utc = function (e) {
            function n(e) {
                try {
                    ul = zt;
                    var t = new ul;
                    return t._ = e, r(t)
                } finally {
                    ul = Date
                }
            }

            var r = t(e);
            return n.parse = function (e) {
                try {
                    ul = zt;
                    var t = r.parse(e);
                    return t && t._
                } finally {
                    ul = Date
                }
            }, n.toString = r.toString, n
        }, t.multi = t.utc.multi = ln;
        var y = ns.map(), E = Ut(p), b = jt(p), x = Ut(m), w = jt(m), T = Ut(g), C = jt(g), R = Ut(v), _ = jt(v);
        d.forEach(function (e, t) {
            y.set(e.toLowerCase(), t)
        });
        var B = {
            a: function (e) {
                return m[e.getDay()]
            }, A: function (e) {
                return p[e.getDay()]
            }, b: function (e) {
                return v[e.getMonth()]
            }, B: function (e) {
                return g[e.getMonth()]
            }, c: t(c), d: function (e, t) {
                return Vt(e.getDate(), t, 2)
            }, e: function (e, t) {
                return Vt(e.getDate(), t, 2)
            }, H: function (e, t) {
                return Vt(e.getHours(), t, 2)
            }, I: function (e, t) {
                return Vt(e.getHours() % 12 || 12, t, 2)
            }, j: function (e, t) {
                return Vt(1 + ll.dayOfYear(e), t, 3)
            }, L: function (e, t) {
                return Vt(e.getMilliseconds(), t, 3)
            }, m: function (e, t) {
                return Vt(e.getMonth() + 1, t, 2)
            }, M: function (e, t) {
                return Vt(e.getMinutes(), t, 2)
            }, p: function (e) {
                return d[+(e.getHours() >= 12)]
            }, S: function (e, t) {
                return Vt(e.getSeconds(), t, 2)
            }, U: function (e, t) {
                return Vt(ll.sundayOfYear(e), t, 2)
            }, w: function (e) {
                return e.getDay()
            }, W: function (e, t) {
                return Vt(ll.mondayOfYear(e), t, 2)
            }, x: t(A), X: t(f), y: function (e, t) {
                return Vt(e.getFullYear() % 100, t, 2)
            }, Y: function (e, t) {
                return Vt(e.getFullYear() % 1e4, t, 4)
            }, Z: on, "%": function () {
                return "%"
            }
        }, M = {
            a: r,
            A: i,
            b: a,
            B: o,
            c: s,
            d: Jt,
            e: Jt,
            H: tn,
            I: tn,
            j: en,
            L: an,
            m: $t,
            M: nn,
            p: h,
            S: rn,
            U: Wt,
            w: Qt,
            W: Yt,
            x: l,
            X: u,
            y: Xt,
            Y: qt,
            Z: Zt,
            "%": sn
        };
        return t
    }

    function Vt(e, t, n) {
        var r = 0 > e ? "-" : "", i = (r ? -e : e) + "", a = i.length;
        return r + (n > a ? new Array(n - a + 1).join(t) + i : i)
    }

    function Ut(e) {
        return new RegExp("^(?:" + e.map(ns.requote).join("|") + ")", "i")
    }

    function jt(e) {
        for (var t = new u, n = -1, r = e.length; ++n < r;)t.set(e[n].toLowerCase(), n);
        return t
    }

    function Qt(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 1));
        return r ? (e.w = +r[0], n + r[0].length) : -1
    }

    function Wt(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n));
        return r ? (e.U = +r[0], n + r[0].length) : -1
    }

    function Yt(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n));
        return r ? (e.W = +r[0], n + r[0].length) : -1
    }

    function qt(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 4));
        return r ? (e.y = +r[0], n + r[0].length) : -1
    }

    function Xt(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 2));
        return r ? (e.y = Kt(+r[0]), n + r[0].length) : -1
    }

    function Zt(e, t, n) {
        return /^[+-]\d{4}$/.test(t = t.slice(n, n + 5)) ? (e.Z = -t, n + 5) : -1
    }

    function Kt(e) {
        return e + (e > 68 ? 1900 : 2e3)
    }

    function $t(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 2));
        return r ? (e.m = r[0] - 1, n + r[0].length) : -1
    }

    function Jt(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 2));
        return r ? (e.d = +r[0], n + r[0].length) : -1
    }

    function en(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 3));
        return r ? (e.j = +r[0], n + r[0].length) : -1
    }

    function tn(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 2));
        return r ? (e.H = +r[0], n + r[0].length) : -1
    }

    function nn(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 2));
        return r ? (e.M = +r[0], n + r[0].length) : -1
    }

    function rn(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 2));
        return r ? (e.S = +r[0], n + r[0].length) : -1
    }

    function an(e, t, n) {
        Al.lastIndex = 0;
        var r = Al.exec(t.slice(n, n + 3));
        return r ? (e.L = +r[0], n + r[0].length) : -1
    }

    function on(e) {
        var t = e.getTimezoneOffset(), n = t > 0 ? "-" : "+", r = ds(t) / 60 | 0, i = ds(t) % 60;
        return n + Vt(r, "0", 2) + Vt(i, "0", 2)
    }

    function sn(e, t, n) {
        fl.lastIndex = 0;
        var r = fl.exec(t.slice(n, n + 1));
        return r ? n + r[0].length : -1
    }

    function ln(e) {
        for (var t = e.length, n = -1; ++n < t;)e[n][0] = this(e[n][0]);
        return function (t) {
            for (var n = 0, r = e[n]; !r[1](t);)r = e[++n];
            return r[0](t)
        }
    }

    function un() {
    }

    function hn(e, t, n) {
        var r = n.s = e + t, i = r - e, a = r - i;
        n.t = e - a + (t - i)
    }

    function cn(e, t) {
        e && gl.hasOwnProperty(e.type) && gl[e.type](e, t)
    }

    function An(e, t, n) {
        var r, i = -1, a = e.length - n;
        for (t.lineStart(); ++i < a;)r = e[i], t.point(r[0], r[1], r[2]);
        t.lineEnd()
    }

    function fn(e, t) {
        var n = -1, r = e.length;
        for (t.polygonStart(); ++n < r;)An(e[n], t, 1);
        t.polygonEnd()
    }

    function dn() {
        function e(e, t) {
            e *= Ps, t = t * Ps / 2 + Ds / 4;
            var n = e - r, o = n >= 0 ? 1 : -1, s = o * n, l = Math.cos(t), u = Math.sin(t), h = a * u, c = i * l + h * Math.cos(s), A = h * o * Math.sin(s);
            yl.add(Math.atan2(A, c)), r = e, i = l, a = u
        }

        var t, n, r, i, a;
        El.point = function (o, s) {
            El.point = e, r = (t = o) * Ps, i = Math.cos(s = (n = s) * Ps / 2 + Ds / 4), a = Math.sin(s)
        }, El.lineEnd = function () {
            e(t, n)
        }
    }

    function pn(e) {
        var t = e[0], n = e[1], r = Math.cos(n);
        return [r * Math.cos(t), r * Math.sin(t), Math.sin(n)]
    }

    function mn(e, t) {
        return e[0] * t[0] + e[1] * t[1] + e[2] * t[2]
    }

    function gn(e, t) {
        return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
    }

    function vn(e, t) {
        e[0] += t[0], e[1] += t[1], e[2] += t[2]
    }

    function yn(e, t) {
        return [e[0] * t, e[1] * t, e[2] * t]
    }

    function En(e) {
        var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
        e[0] /= t, e[1] /= t, e[2] /= t
    }

    function bn(e) {
        return [Math.atan2(e[1], e[0]), tt(e[2])]
    }

    function xn(e, t) {
        return ds(e[0] - t[0]) < Hs && ds(e[1] - t[1]) < Hs
    }

    function wn(e, t) {
        e *= Ps;
        var n = Math.cos(t *= Ps);
        Tn(n * Math.cos(e), n * Math.sin(e), Math.sin(t))
    }

    function Tn(e, t, n) {
        ++bl, wl += (e - wl) / bl, Tl += (t - Tl) / bl, Cl += (n - Cl) / bl
    }

    function Cn() {
        function e(e, i) {
            e *= Ps;
            var a = Math.cos(i *= Ps), o = a * Math.cos(e), s = a * Math.sin(e), l = Math.sin(i), u = Math.atan2(Math.sqrt((u = n * l - r * s) * u + (u = r * o - t * l) * u + (u = t * s - n * o) * u), t * o + n * s + r * l);
            xl += u, Rl += u * (t + (t = o)), _l += u * (n + (n = s)), Bl += u * (r + (r = l)), Tn(t, n, r)
        }

        var t, n, r;
        Dl.point = function (i, a) {
            i *= Ps;
            var o = Math.cos(a *= Ps);
            t = o * Math.cos(i), n = o * Math.sin(i), r = Math.sin(a), Dl.point = e, Tn(t, n, r)
        }
    }

    function Rn() {
        Dl.point = wn
    }

    function _n() {
        function e(e, t) {
            e *= Ps;
            var n = Math.cos(t *= Ps), o = n * Math.cos(e), s = n * Math.sin(e), l = Math.sin(t), u = i * l - a * s, h = a * o - r * l, c = r * s - i * o, A = Math.sqrt(u * u + h * h + c * c), f = r * o + i * s + a * l, d = A && -et(f) / A, p = Math.atan2(A, f);
            Ml += d * u, Hl += d * h, Sl += d * c, xl += p, Rl += p * (r + (r = o)), _l += p * (i + (i = s)), Bl += p * (a + (a = l)), Tn(r, i, a)
        }

        var t, n, r, i, a;
        Dl.point = function (o, s) {
            t = o, n = s, Dl.point = e, o *= Ps;
            var l = Math.cos(s *= Ps);
            r = l * Math.cos(o), i = l * Math.sin(o), a = Math.sin(s), Tn(r, i, a)
        }, Dl.lineEnd = function () {
            e(t, n), Dl.lineEnd = Rn, Dl.point = wn
        }
    }

    function Bn(e, t) {
        function n(n, r) {
            return n = e(n, r), t(n[0], n[1])
        }

        return e.invert && t.invert && (n.invert = function (n, r) {
            return n = t.invert(n, r), n && e.invert(n[0], n[1])
        }), n
    }

    function Mn() {
        return !0
    }

    function Hn(e, t, n, r, i) {
        var a = [], o = [];
        if (e.forEach(function (e) {
                if (!((t = e.length - 1) <= 0)) {
                    var t, n = e[0], r = e[t];
                    if (xn(n, r)) {
                        i.lineStart();
                        for (var s = 0; t > s; ++s)i.point((n = e[s])[0], n[1]);
                        return void i.lineEnd()
                    }
                    var l = new Dn(n, e, null, !0), u = new Dn(n, null, l, !1);
                    l.o = u, a.push(l), o.push(u), l = new Dn(r, e, null, !1), u = new Dn(r, null, l, !0), l.o = u, a.push(l), o.push(u)
                }
            }), o.sort(t), Sn(a), Sn(o), a.length) {
            for (var s = 0, l = n, u = o.length; u > s; ++s)o[s].e = l = !l;
            for (var h, c, A = a[0]; ;) {
                for (var f = A, d = !0; f.v;)if ((f = f.n) === A)return;
                h = f.z, i.lineStart();
                do {
                    if (f.v = f.o.v = !0, f.e) {
                        if (d)for (var s = 0, u = h.length; u > s; ++s)i.point((c = h[s])[0], c[1]); else r(f.x, f.n.x, 1, i);
                        f = f.n
                    } else {
                        if (d) {
                            h = f.p.z;
                            for (var s = h.length - 1; s >= 0; --s)i.point((c = h[s])[0], c[1])
                        } else r(f.x, f.p.x, -1, i);
                        f = f.p
                    }
                    f = f.o, h = f.z, d = !d
                } while (!f.v);
                i.lineEnd()
            }
        }
    }

    function Sn(e) {
        if (t = e.length) {
            for (var t, n, r = 0, i = e[0]; ++r < t;)i.n = n = e[r], n.p = i, i = n;
            i.n = n = e[0], n.p = i
        }
    }

    function Dn(e, t, n, r) {
        this.x = e, this.z = t, this.o = n, this.e = r, this.v = !1, this.n = this.p = null
    }

    function Fn(e, t, n, r) {
        return function (i, a) {
            function o(t, n) {
                var r = i(t, n);
                e(t = r[0], n = r[1]) && a.point(t, n)
            }

            function s(e, t) {
                var n = i(e, t);
                m.point(n[0], n[1])
            }

            function l() {
                v.point = s, m.lineStart()
            }

            function u() {
                v.point = o, m.lineEnd()
            }

            function h(e, t) {
                p.push([e, t]);
                var n = i(e, t);
                E.point(n[0], n[1])
            }

            function c() {
                E.lineStart(), p = []
            }

            function A() {
                h(p[0][0], p[0][1]), E.lineEnd();
                var e, t = E.clean(), n = y.buffer(), r = n.length;
                if (p.pop(), d.push(p), p = null, r)if (1 & t) {
                    e = n[0];
                    var i, r = e.length - 1, o = -1;
                    if (r > 0) {
                        for (b || (a.polygonStart(), b = !0), a.lineStart(); ++o < r;)a.point((i = e[o])[0], i[1]);
                        a.lineEnd()
                    }
                } else r > 1 && 2 & t && n.push(n.pop().concat(n.shift())), f.push(n.filter(kn))
            }

            var f, d, p, m = t(a), g = i.invert(r[0], r[1]), v = {
                point: o,
                lineStart: l,
                lineEnd: u,
                polygonStart: function () {
                    v.point = h, v.lineStart = c, v.lineEnd = A, f = [], d = []
                },
                polygonEnd: function () {
                    v.point = o, v.lineStart = l, v.lineEnd = u, f = ns.merge(f);
                    var e = Gn(g, d);
                    f.length ? (b || (a.polygonStart(), b = !0), Hn(f, Pn, e, n, a)) : e && (b || (a.polygonStart(), b = !0), a.lineStart(), n(null, null, 1, a), a.lineEnd()), b && (a.polygonEnd(), b = !1), f = d = null
                },
                sphere: function () {
                    a.polygonStart(), a.lineStart(), n(null, null, 1, a), a.lineEnd(), a.polygonEnd()
                }
            }, y = On(), E = t(y), b = !1;
            return v
        }
    }

    function kn(e) {
        return e.length > 1
    }

    function On() {
        var e, t = [];
        return {
            lineStart: function () {
                t.push(e = [])
            }, point: function (t, n) {
                e.push([t, n])
            }, lineEnd: b, buffer: function () {
                var n = t;
                return t = [], e = null, n
            }, rejoin: function () {
                t.length > 1 && t.push(t.pop().concat(t.shift()))
            }
        }
    }

    function Pn(e, t) {
        return ((e = e.x)[0] < 0 ? e[1] - Os - Hs : Os - e[1]) - ((t = t.x)[0] < 0 ? t[1] - Os - Hs : Os - t[1])
    }

    function Ln(e) {
        var t, n = 0 / 0, r = 0 / 0, i = 0 / 0;
        return {
            lineStart: function () {
                e.lineStart(), t = 1
            }, point: function (a, o) {
                var s = a > 0 ? Ds : -Ds, l = ds(a - n);
                ds(l - Ds) < Hs ? (e.point(n, r = (r + o) / 2 > 0 ? Os : -Os), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(s, r), e.point(a, r), t = 0) : i !== s && l >= Ds && (ds(n - i) < Hs && (n -= i * Hs), ds(a - s) < Hs && (a -= s * Hs), r = zn(n, r, a, o), e.point(i, r), e.lineEnd(), e.lineStart(), e.point(s, r), t = 0), e.point(n = a, r = o), i = s
            }, lineEnd: function () {
                e.lineEnd(), n = r = 0 / 0
            }, clean: function () {
                return 2 - t
            }
        }
    }

    function zn(e, t, n, r) {
        var i, a, o = Math.sin(e - n);
        return ds(o) > Hs ? Math.atan((Math.sin(t) * (a = Math.cos(r)) * Math.sin(n) - Math.sin(r) * (i = Math.cos(t)) * Math.sin(e)) / (i * a * o)) : (t + r) / 2
    }

    function In(e, t, n, r) {
        var i;
        if (null == e)i = n * Os, r.point(-Ds, i), r.point(0, i), r.point(Ds, i), r.point(Ds, 0), r.point(Ds, -i), r.point(0, -i), r.point(-Ds, -i), r.point(-Ds, 0), r.point(-Ds, i); else if (ds(e[0] - t[0]) > Hs) {
            var a = e[0] < t[0] ? Ds : -Ds;
            i = n * a / 2, r.point(-a, i), r.point(0, i), r.point(a, i)
        } else r.point(t[0], t[1])
    }

    function Gn(e, t) {
        var n = e[0], r = e[1], i = [Math.sin(n), -Math.cos(n), 0], a = 0, o = 0;
        yl.reset();
        for (var s = 0, l = t.length; l > s; ++s) {
            var u = t[s], h = u.length;
            if (h)for (var c = u[0], A = c[0], f = c[1] / 2 + Ds / 4, d = Math.sin(f), p = Math.cos(f), m = 1; ;) {
                m === h && (m = 0), e = u[m];
                var g = e[0], v = e[1] / 2 + Ds / 4, y = Math.sin(v), E = Math.cos(v), b = g - A, x = b >= 0 ? 1 : -1, w = x * b, T = w > Ds, C = d * y;
                if (yl.add(Math.atan2(C * x * Math.sin(w), p * E + C * Math.cos(w))), a += T ? b + x * Fs : b, T ^ A >= n ^ g >= n) {
                    var R = gn(pn(c), pn(e));
                    En(R);
                    var _ = gn(i, R);
                    En(_);
                    var B = (T ^ b >= 0 ? -1 : 1) * tt(_[2]);
                    (r > B || r === B && (R[0] || R[1])) && (o += T ^ b >= 0 ? 1 : -1)
                }
                if (!m++)break;
                A = g, d = y, p = E, c = e
            }
        }
        return (-Hs > a || Hs > a && 0 > yl) ^ 1 & o
    }

    function Nn(e) {
        function t(e, t) {
            return Math.cos(e) * Math.cos(t) > a
        }

        function n(e) {
            var n, a, l, u, h;
            return {
                lineStart: function () {
                    u = l = !1, h = 1
                }, point: function (c, A) {
                    var f, d = [c, A], p = t(c, A), m = o ? p ? 0 : i(c, A) : p ? i(c + (0 > c ? Ds : -Ds), A) : 0;
                    if (!n && (u = l = p) && e.lineStart(), p !== l && (f = r(n, d), (xn(n, f) || xn(d, f)) && (d[0] += Hs, d[1] += Hs, p = t(d[0], d[1]))), p !== l)h = 0, p ? (e.lineStart(), f = r(d, n), e.point(f[0], f[1])) : (f = r(n, d), e.point(f[0], f[1]), e.lineEnd()), n = f; else if (s && n && o ^ p) {
                        var g;
                        m & a || !(g = r(d, n, !0)) || (h = 0, o ? (e.lineStart(), e.point(g[0][0], g[0][1]), e.point(g[1][0], g[1][1]), e.lineEnd()) : (e.point(g[1][0], g[1][1]), e.lineEnd(), e.lineStart(), e.point(g[0][0], g[0][1])))
                    }
                    !p || n && xn(n, d) || e.point(d[0], d[1]), n = d, l = p, a = m
                }, lineEnd: function () {
                    l && e.lineEnd(), n = null
                }, clean: function () {
                    return h | (u && l) << 1
                }
            }
        }

        function r(e, t, n) {
            var r = pn(e), i = pn(t), o = [1, 0, 0], s = gn(r, i), l = mn(s, s), u = s[0], h = l - u * u;
            if (!h)return !n && e;
            var c = a * l / h, A = -a * u / h, f = gn(o, s), d = yn(o, c), p = yn(s, A);
            vn(d, p);
            var m = f, g = mn(d, m), v = mn(m, m), y = g * g - v * (mn(d, d) - 1);
            if (!(0 > y)) {
                var E = Math.sqrt(y), b = yn(m, (-g - E) / v);
                if (vn(b, d), b = bn(b), !n)return b;
                var x, w = e[0], T = t[0], C = e[1], R = t[1];
                w > T && (x = w, w = T, T = x);
                var _ = T - w, B = ds(_ - Ds) < Hs, M = B || Hs > _;
                if (!B && C > R && (x = C, C = R, R = x), M ? B ? C + R > 0 ^ b[1] < (ds(b[0] - w) < Hs ? C : R) : C <= b[1] && b[1] <= R : _ > Ds ^ (w <= b[0] && b[0] <= T)) {
                    var H = yn(m, (-g + E) / v);
                    return vn(H, d), [b, bn(H)]
                }
            }
        }

        function i(t, n) {
            var r = o ? e : Ds - e, i = 0;
            return -r > t ? i |= 1 : t > r && (i |= 2), -r > n ? i |= 4 : n > r && (i |= 8), i
        }

        var a = Math.cos(e), o = a > 0, s = ds(a) > Hs, l = dr(e, 6 * Ps);
        return Fn(t, n, l, o ? [0, -e] : [-Ds, e - Ds])
    }

    function Vn(e, t, n, r) {
        return function (i) {
            var a, o = i.a, s = i.b, l = o.x, u = o.y, h = s.x, c = s.y, A = 0, f = 1, d = h - l, p = c - u;
            if (a = e - l, d || !(a > 0)) {
                if (a /= d, 0 > d) {
                    if (A > a)return;
                    f > a && (f = a)
                } else if (d > 0) {
                    if (a > f)return;
                    a > A && (A = a)
                }
                if (a = n - l, d || !(0 > a)) {
                    if (a /= d, 0 > d) {
                        if (a > f)return;
                        a > A && (A = a)
                    } else if (d > 0) {
                        if (A > a)return;
                        f > a && (f = a)
                    }
                    if (a = t - u, p || !(a > 0)) {
                        if (a /= p, 0 > p) {
                            if (A > a)return;
                            f > a && (f = a)
                        } else if (p > 0) {
                            if (a > f)return;
                            a > A && (A = a)
                        }
                        if (a = r - u, p || !(0 > a)) {
                            if (a /= p, 0 > p) {
                                if (a > f)return;
                                a > A && (A = a)
                            } else if (p > 0) {
                                if (A > a)return;
                                f > a && (f = a)
                            }
                            return A > 0 && (i.a = {x: l + A * d, y: u + A * p}), 1 > f && (i.b = {
                                x: l + f * d,
                                y: u + f * p
                            }), i
                        }
                    }
                }
            }
        }
    }

    function Un(e, t, n, r) {
        function i(r, i) {
            return ds(r[0] - e) < Hs ? i > 0 ? 0 : 3 : ds(r[0] - n) < Hs ? i > 0 ? 2 : 1 : ds(r[1] - t) < Hs ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2
        }

        function a(e, t) {
            return o(e.x, t.x)
        }

        function o(e, t) {
            var n = i(e, 1), r = i(t, 1);
            return n !== r ? n - r : 0 === n ? t[1] - e[1] : 1 === n ? e[0] - t[0] : 2 === n ? e[1] - t[1] : t[0] - e[0]
        }

        return function (s) {
            function l(e) {
                for (var t = 0, n = m.length, r = e[1], i = 0; n > i; ++i)for (var a, o = 1, s = m[i], l = s.length, u = s[0]; l > o; ++o)a = s[o], u[1] <= r ? a[1] > r && J(u, a, e) > 0 && ++t : a[1] <= r && J(u, a, e) < 0 && --t, u = a;
                return 0 !== t
            }

            function u(a, s, l, u) {
                var h = 0, c = 0;
                if (null == a || (h = i(a, l)) !== (c = i(s, l)) || o(a, s) < 0 ^ l > 0) {
                    do u.point(0 === h || 3 === h ? e : n, h > 1 ? r : t); while ((h = (h + l + 4) % 4) !== c)
                } else u.point(s[0], s[1])
            }

            function h(i, a) {
                return i >= e && n >= i && a >= t && r >= a
            }

            function c(e, t) {
                h(e, t) && s.point(e, t)
            }

            function A() {
                M.point = d, m && m.push(g = []), T = !0, w = !1, b = x = 0 / 0
            }

            function f() {
                p && (d(v, y), E && w && _.rejoin(), p.push(_.buffer())), M.point = c, w && s.lineEnd()
            }

            function d(e, t) {
                e = Math.max(-kl, Math.min(kl, e)), t = Math.max(-kl, Math.min(kl, t));
                var n = h(e, t);
                if (m && g.push([e, t]), T)v = e, y = t, E = n, T = !1, n && (s.lineStart(), s.point(e, t)); else if (n && w)s.point(e, t); else {
                    var r = {a: {x: b, y: x}, b: {x: e, y: t}};
                    B(r) ? (w || (s.lineStart(), s.point(r.a.x, r.a.y)), s.point(r.b.x, r.b.y), n || s.lineEnd(), C = !1) : n && (s.lineStart(), s.point(e, t), C = !1)
                }
                b = e, x = t, w = n
            }

            var p, m, g, v, y, E, b, x, w, T, C, R = s, _ = On(), B = Vn(e, t, n, r), M = {
                point: c,
                lineStart: A,
                lineEnd: f,
                polygonStart: function () {
                    s = _, p = [], m = [], C = !0
                },
                polygonEnd: function () {
                    s = R, p = ns.merge(p);
                    var t = l([e, r]), n = C && t, i = p.length;
                    (n || i) && (s.polygonStart(), n && (s.lineStart(), u(null, null, 1, s), s.lineEnd()), i && Hn(p, a, t, u, s), s.polygonEnd()), p = m = g = null
                }
            };
            return M
        }
    }

    function jn(e) {
        var t = 0, n = Ds / 3, r = or(e), i = r(t, n);
        return i.parallels = function (e) {
            return arguments.length ? r(t = e[0] * Ds / 180, n = e[1] * Ds / 180) : [t / Ds * 180, n / Ds * 180]
        }, i
    }

    function Qn(e, t) {
        function n(e, t) {
            var n = Math.sqrt(a - 2 * i * Math.sin(t)) / i;
            return [n * Math.sin(e *= i), o - n * Math.cos(e)]
        }

        var r = Math.sin(e), i = (r + Math.sin(t)) / 2, a = 1 + r * (2 * i - r), o = Math.sqrt(a) / i;
        return n.invert = function (e, t) {
            var n = o - t;
            return [Math.atan2(e, n) / i, tt((a - (e * e + n * n) * i * i) / (2 * i))]
        }, n
    }

    function Wn() {
        function e(e, t) {
            Pl += i * e - r * t, r = e, i = t
        }

        var t, n, r, i;
        Nl.point = function (a, o) {
            Nl.point = e, t = r = a, n = i = o
        }, Nl.lineEnd = function () {
            e(t, n)
        }
    }

    function Yn(e, t) {
        Ll > e && (Ll = e), e > Il && (Il = e), zl > t && (zl = t), t > Gl && (Gl = t)
    }

    function qn() {
        function e(e, t) {
            o.push("M", e, ",", t, a)
        }

        function t(e, t) {
            o.push("M", e, ",", t), s.point = n
        }

        function n(e, t) {
            o.push("L", e, ",", t)
        }

        function r() {
            s.point = e
        }

        function i() {
            o.push("Z")
        }

        var a = Xn(4.5), o = [], s = {
            point: e, lineStart: function () {
                s.point = t
            }, lineEnd: r, polygonStart: function () {
                s.lineEnd = i
            }, polygonEnd: function () {
                s.lineEnd = r, s.point = e
            }, pointRadius: function (e) {
                return a = Xn(e), s
            }, result: function () {
                if (o.length) {
                    var e = o.join("");
                    return o = [], e
                }
            }
        };
        return s
    }

    function Xn(e) {
        return "m0," + e + "a" + e + "," + e + " 0 1,1 0," + -2 * e + "a" + e + "," + e + " 0 1,1 0," + 2 * e + "z"
    }

    function Zn(e, t) {
        wl += e, Tl += t, ++Cl
    }

    function Kn() {
        function e(e, r) {
            var i = e - t, a = r - n, o = Math.sqrt(i * i + a * a);
            Rl += o * (t + e) / 2, _l += o * (n + r) / 2, Bl += o, Zn(t = e, n = r)
        }

        var t, n;
        Ul.point = function (r, i) {
            Ul.point = e, Zn(t = r, n = i)
        }
    }

    function $n() {
        Ul.point = Zn
    }

    function Jn() {
        function e(e, t) {
            var n = e - r, a = t - i, o = Math.sqrt(n * n + a * a);
            Rl += o * (r + e) / 2, _l += o * (i + t) / 2, Bl += o, o = i * e - r * t, Ml += o * (r + e), Hl += o * (i + t), Sl += 3 * o, Zn(r = e, i = t)
        }

        var t, n, r, i;
        Ul.point = function (a, o) {
            Ul.point = e, Zn(t = r = a, n = i = o)
        }, Ul.lineEnd = function () {
            e(t, n)
        }
    }

    function er(e) {
        function t(t, n) {
            e.moveTo(t + o, n), e.arc(t, n, o, 0, Fs)
        }

        function n(t, n) {
            e.moveTo(t, n), s.point = r
        }

        function r(t, n) {
            e.lineTo(t, n)
        }

        function i() {
            s.point = t
        }

        function a() {
            e.closePath()
        }

        var o = 4.5, s = {
            point: t, lineStart: function () {
                s.point = n
            }, lineEnd: i, polygonStart: function () {
                s.lineEnd = a
            }, polygonEnd: function () {
                s.lineEnd = i, s.point = t
            }, pointRadius: function (e) {
                return o = e, s
            }, result: b
        };
        return s
    }

    function tr(e) {
        function t(e) {
            return (s ? r : n)(e)
        }

        function n(t) {
            return ir(t, function (n, r) {
                n = e(n, r), t.point(n[0], n[1])
            })
        }

        function r(t) {
            function n(n, r) {
                n = e(n, r), t.point(n[0], n[1])
            }

            function r() {
                y = 0 / 0, T.point = a, t.lineStart()
            }

            function a(n, r) {
                var a = pn([n, r]), o = e(n, r);
                i(y, E, v, b, x, w, y = o[0], E = o[1], v = n, b = a[0], x = a[1], w = a[2], s, t), t.point(y, E)
            }

            function o() {
                T.point = n, t.lineEnd()
            }

            function l() {
                r(), T.point = u, T.lineEnd = h
            }

            function u(e, t) {
                a(c = e, A = t), f = y, d = E, p = b, m = x, g = w, T.point = a
            }

            function h() {
                i(y, E, v, b, x, w, f, d, c, p, m, g, s, t), T.lineEnd = o, o()
            }

            var c, A, f, d, p, m, g, v, y, E, b, x, w, T = {
                point: n, lineStart: r, lineEnd: o, polygonStart: function () {
                    t.polygonStart(), T.lineStart = l
                }, polygonEnd: function () {
                    t.polygonEnd(), T.lineStart = r
                }
            };
            return T
        }

        function i(t, n, r, s, l, u, h, c, A, f, d, p, m, g) {
            var v = h - t, y = c - n, E = v * v + y * y;
            if (E > 4 * a && m--) {
                var b = s + f, x = l + d, w = u + p, T = Math.sqrt(b * b + x * x + w * w), C = Math.asin(w /= T), R = ds(ds(w) - 1) < Hs || ds(r - A) < Hs ? (r + A) / 2 : Math.atan2(x, b), _ = e(R, C), B = _[0], M = _[1], H = B - t, S = M - n, D = y * H - v * S;
                (D * D / E > a || ds((v * H + y * S) / E - .5) > .3 || o > s * f + l * d + u * p) && (i(t, n, r, s, l, u, B, M, R, b /= T, x /= T, w, m, g), g.point(B, M), i(B, M, R, b, x, w, h, c, A, f, d, p, m, g))
            }
        }

        var a = .5, o = Math.cos(30 * Ps), s = 16;
        return t.precision = function (e) {
            return arguments.length ? (s = (a = e * e) > 0 && 16, t) : Math.sqrt(a)
        }, t
    }

    function nr(e) {
        var t = tr(function (t, n) {
            return e([t * Ls, n * Ls])
        });
        return function (e) {
            return sr(t(e))
        }
    }

    function rr(e) {
        this.stream = e
    }

    function ir(e, t) {
        return {
            point: t, sphere: function () {
                e.sphere()
            }, lineStart: function () {
                e.lineStart()
            }, lineEnd: function () {
                e.lineEnd()
            }, polygonStart: function () {
                e.polygonStart()
            }, polygonEnd: function () {
                e.polygonEnd()
            }
        }
    }

    function ar(e) {
        return or(function () {
            return e
        })()
    }

    function or(e) {
        function t(e) {
            return e = s(e[0] * Ps, e[1] * Ps), [e[0] * A + l, u - e[1] * A]
        }

        function n(e) {
            return e = s.invert((e[0] - l) / A, (u - e[1]) / A), e && [e[0] * Ls, e[1] * Ls]
        }

        function r() {
            s = Bn(o = hr(g, y, E), a);
            var e = a(p, m);
            return l = f - e[0] * A, u = d + e[1] * A, i()
        }

        function i() {
            return h && (h.valid = !1, h = null), t
        }

        var a, o, s, l, u, h, c = tr(function (e, t) {
            return e = a(e, t), [e[0] * A + l, u - e[1] * A]
        }), A = 150, f = 480, d = 250, p = 0, m = 0, g = 0, y = 0, E = 0, b = Fl, x = v, w = null, T = null;
        return t.stream = function (e) {
            return h && (h.valid = !1), h = sr(b(o, c(x(e)))), h.valid = !0, h
        }, t.clipAngle = function (e) {
            return arguments.length ? (b = null == e ? (w = e, Fl) : Nn((w = +e) * Ps), i()) : w
        }, t.clipExtent = function (e) {
            return arguments.length ? (T = e, x = e ? Un(e[0][0], e[0][1], e[1][0], e[1][1]) : v, i()) : T
        }, t.scale = function (e) {
            return arguments.length ? (A = +e, r()) : A
        }, t.translate = function (e) {
            return arguments.length ? (f = +e[0], d = +e[1], r()) : [f, d]
        }, t.center = function (e) {
            return arguments.length ? (p = e[0] % 360 * Ps, m = e[1] % 360 * Ps, r()) : [p * Ls, m * Ls]
        }, t.rotate = function (e) {
            return arguments.length ? (g = e[0] % 360 * Ps, y = e[1] % 360 * Ps, E = e.length > 2 ? e[2] % 360 * Ps : 0, r()) : [g * Ls, y * Ls, E * Ls]
        }, ns.rebind(t, c, "precision"), function () {
            return a = e.apply(this, arguments), t.invert = a.invert && n, r()
        }
    }

    function sr(e) {
        return ir(e, function (t, n) {
            e.point(t * Ps, n * Ps)
        })
    }

    function lr(e, t) {
        return [e, t]
    }

    function ur(e, t) {
        return [e > Ds ? e - Fs : -Ds > e ? e + Fs : e, t]
    }

    function hr(e, t, n) {
        return e ? t || n ? Bn(Ar(e), fr(t, n)) : Ar(e) : t || n ? fr(t, n) : ur
    }

    function cr(e) {
        return function (t, n) {
            return t += e, [t > Ds ? t - Fs : -Ds > t ? t + Fs : t, n]
        }
    }

    function Ar(e) {
        var t = cr(e);
        return t.invert = cr(-e), t
    }

    function fr(e, t) {
        function n(e, t) {
            var n = Math.cos(t), s = Math.cos(e) * n, l = Math.sin(e) * n, u = Math.sin(t), h = u * r + s * i;
            return [Math.atan2(l * a - h * o, s * r - u * i), tt(h * a + l * o)]
        }

        var r = Math.cos(e), i = Math.sin(e), a = Math.cos(t), o = Math.sin(t);
        return n.invert = function (e, t) {
            var n = Math.cos(t), s = Math.cos(e) * n, l = Math.sin(e) * n, u = Math.sin(t), h = u * a - l * o;
            return [Math.atan2(l * a + u * o, s * r + h * i), tt(h * r - s * i)]
        }, n
    }

    function dr(e, t) {
        var n = Math.cos(e), r = Math.sin(e);
        return function (i, a, o, s) {
            var l = o * t;
            null != i ? (i = pr(n, i), a = pr(n, a), (o > 0 ? a > i : i > a) && (i += o * Fs)) : (i = e + o * Fs, a = e - .5 * l);
            for (var u, h = i; o > 0 ? h > a : a > h; h -= l)s.point((u = bn([n, -r * Math.cos(h), -r * Math.sin(h)]))[0], u[1])
        }
    }

    function pr(e, t) {
        var n = pn(t);
        n[0] -= e, En(n);
        var r = et(-n[1]);
        return ((-n[2] < 0 ? -r : r) + 2 * Math.PI - Hs) % (2 * Math.PI)
    }

    function mr(e, t, n) {
        var r = ns.range(e, t - Hs, n).concat(t);
        return function (e) {
            return r.map(function (t) {
                return [e, t]
            })
        }
    }

    function gr(e, t, n) {
        var r = ns.range(e, t - Hs, n).concat(t);
        return function (e) {
            return r.map(function (t) {
                return [t, e]
            })
        }
    }

    function vr(e) {
        return e.source
    }

    function yr(e) {
        return e.target
    }

    function Er(e, t, n, r) {
        var i = Math.cos(t), a = Math.sin(t), o = Math.cos(r), s = Math.sin(r), l = i * Math.cos(e), u = i * Math.sin(e), h = o * Math.cos(n), c = o * Math.sin(n), A = 2 * Math.asin(Math.sqrt(at(r - t) + i * o * at(n - e))), f = 1 / Math.sin(A), d = A ? function (e) {
            var t = Math.sin(e *= A) * f, n = Math.sin(A - e) * f, r = n * l + t * h, i = n * u + t * c, o = n * a + t * s;
            return [Math.atan2(i, r) * Ls, Math.atan2(o, Math.sqrt(r * r + i * i)) * Ls]
        } : function () {
            return [e * Ls, t * Ls]
        };
        return d.distance = A, d
    }

    function br() {
        function e(e, i) {
            var a = Math.sin(i *= Ps), o = Math.cos(i), s = ds((e *= Ps) - t), l = Math.cos(s);
            jl += Math.atan2(Math.sqrt((s = o * Math.sin(s)) * s + (s = r * a - n * o * l) * s), n * a + r * o * l), t = e, n = a, r = o
        }

        var t, n, r;
        Ql.point = function (i, a) {
            t = i * Ps, n = Math.sin(a *= Ps), r = Math.cos(a), Ql.point = e
        }, Ql.lineEnd = function () {
            Ql.point = Ql.lineEnd = b
        }
    }

    function xr(e, t) {
        function n(t, n) {
            var r = Math.cos(t), i = Math.cos(n), a = e(r * i);
            return [a * i * Math.sin(t), a * Math.sin(n)]
        }

        return n.invert = function (e, n) {
            var r = Math.sqrt(e * e + n * n), i = t(r), a = Math.sin(i), o = Math.cos(i);
            return [Math.atan2(e * a, r * o), Math.asin(r && n * a / r)]
        }, n
    }

    function wr(e, t) {
        function n(e, t) {
            o > 0 ? -Os + Hs > t && (t = -Os + Hs) : t > Os - Hs && (t = Os - Hs);
            var n = o / Math.pow(i(t), a);
            return [n * Math.sin(a * e), o - n * Math.cos(a * e)]
        }

        var r = Math.cos(e), i = function (e) {
            return Math.tan(Ds / 4 + e / 2)
        }, a = e === t ? Math.sin(e) : Math.log(r / Math.cos(t)) / Math.log(i(t) / i(e)), o = r * Math.pow(i(e), a) / a;
        return a ? (n.invert = function (e, t) {
            var n = o - t, r = $(a) * Math.sqrt(e * e + n * n);
            return [Math.atan2(e, n) / a, 2 * Math.atan(Math.pow(o / r, 1 / a)) - Os]
        }, n) : Cr
    }

    function Tr(e, t) {
        function n(e, t) {
            var n = a - t;
            return [n * Math.sin(i * e), a - n * Math.cos(i * e)]
        }

        var r = Math.cos(e), i = e === t ? Math.sin(e) : (r - Math.cos(t)) / (t - e), a = r / i + e;
        return ds(i) < Hs ? lr : (n.invert = function (e, t) {
            var n = a - t;
            return [Math.atan2(e, n) / i, a - $(i) * Math.sqrt(e * e + n * n)]
        }, n)
    }

    function Cr(e, t) {
        return [e, Math.log(Math.tan(Ds / 4 + t / 2))]
    }

    function Rr(e) {
        var t, n = ar(e), r = n.scale, i = n.translate, a = n.clipExtent;
        return n.scale = function () {
            var e = r.apply(n, arguments);
            return e === n ? t ? n.clipExtent(null) : n : e
        }, n.translate = function () {
            var e = i.apply(n, arguments);
            return e === n ? t ? n.clipExtent(null) : n : e
        }, n.clipExtent = function (e) {
            var o = a.apply(n, arguments);
            if (o === n) {
                if (t = null == e) {
                    var s = Ds * r(), l = i();
                    a([[l[0] - s, l[1] - s], [l[0] + s, l[1] + s]])
                }
            } else t && (o = null);
            return o
        }, n.clipExtent(null)
    }

    function _r(e, t) {
        return [Math.log(Math.tan(Ds / 4 + t / 2)), -e]
    }

    function Br(e) {
        return e[0]
    }

    function Mr(e) {
        return e[1]
    }

    function Hr(e) {
        for (var t = e.length, n = [0, 1], r = 2, i = 2; t > i; i++) {
            for (; r > 1 && J(e[n[r - 2]], e[n[r - 1]], e[i]) <= 0;)--r;
            n[r++] = i
        }
        return n.slice(0, r)
    }

    function Sr(e, t) {
        return e[0] - t[0] || e[1] - t[1]
    }

    function Dr(e, t, n) {
        return (n[0] - t[0]) * (e[1] - t[1]) < (n[1] - t[1]) * (e[0] - t[0])
    }

    function Fr(e, t, n, r) {
        var i = e[0], a = n[0], o = t[0] - i, s = r[0] - a, l = e[1], u = n[1], h = t[1] - l, c = r[1] - u, A = (s * (l - u) - c * (i - a)) / (c * o - s * h);
        return [i + A * o, l + A * h]
    }

    function kr(e) {
        var t = e[0], n = e[e.length - 1];
        return !(t[0] - n[0] || t[1] - n[1])
    }

    function Or() {
        ni(this), this.edge = this.site = this.circle = null
    }

    function Pr(e) {
        var t = ru.pop() || new Or;
        return t.site = e, t
    }

    function Lr(e) {
        Yr(e), eu.remove(e), ru.push(e), ni(e)
    }

    function zr(e) {
        var t = e.circle, n = t.x, r = t.cy, i = {x: n, y: r}, a = e.P, o = e.N, s = [e];
        Lr(e);
        for (var l = a; l.circle && ds(n - l.circle.x) < Hs && ds(r - l.circle.cy) < Hs;)a = l.P, s.unshift(l), Lr(l), l = a;
        s.unshift(l), Yr(l);
        for (var u = o; u.circle && ds(n - u.circle.x) < Hs && ds(r - u.circle.cy) < Hs;)o = u.N, s.push(u), Lr(u), u = o;
        s.push(u), Yr(u);
        var h, c = s.length;
        for (h = 1; c > h; ++h)u = s[h], l = s[h - 1], Jr(u.edge, l.site, u.site, i);
        l = s[0], u = s[c - 1], u.edge = Kr(l.site, u.site, null, i), Wr(l), Wr(u)
    }

    function Ir(e) {
        for (var t, n, r, i, a = e.x, o = e.y, s = eu._; s;)if (r = Gr(s, o) - a, r > Hs)s = s.L; else {
            if (i = a - Nr(s, o), !(i > Hs)) {
                r > -Hs ? (t = s.P, n = s) : i > -Hs ? (t = s, n = s.N) : t = n = s;
                break
            }
            if (!s.R) {
                t = s;
                break
            }
            s = s.R
        }
        var l = Pr(e);
        if (eu.insert(t, l), t || n) {
            if (t === n)return Yr(t), n = Pr(t.site), eu.insert(l, n), l.edge = n.edge = Kr(t.site, l.site), Wr(t), void Wr(n);
            if (!n)return void(l.edge = Kr(t.site, l.site));
            Yr(t), Yr(n);
            var u = t.site, h = u.x, c = u.y, A = e.x - h, f = e.y - c, d = n.site, p = d.x - h, m = d.y - c, g = 2 * (A * m - f * p), v = A * A + f * f, y = p * p + m * m, E = {
                x: (m * v - f * y) / g + h,
                y: (A * y - p * v) / g + c
            };
            Jr(n.edge, u, d, E), l.edge = Kr(u, e, null, E), n.edge = Kr(e, d, null, E), Wr(t), Wr(n)
        }
    }

    function Gr(e, t) {
        var n = e.site, r = n.x, i = n.y, a = i - t;
        if (!a)return r;
        var o = e.P;
        if (!o)return -1 / 0;
        n = o.site;
        var s = n.x, l = n.y, u = l - t;
        if (!u)return s;
        var h = s - r, c = 1 / a - 1 / u, A = h / u;
        return c ? (-A + Math.sqrt(A * A - 2 * c * (h * h / (-2 * u) - l + u / 2 + i - a / 2))) / c + r : (r + s) / 2
    }

    function Nr(e, t) {
        var n = e.N;
        if (n)return Gr(n, t);
        var r = e.site;
        return r.y === t ? r.x : 1 / 0
    }

    function Vr(e) {
        this.site = e, this.edges = []
    }

    function Ur(e) {
        for (var t, n, r, i, a, o, s, l, u, h, c = e[0][0], A = e[1][0], f = e[0][1], d = e[1][1], p = Jl, m = p.length; m--;)if (a = p[m], a && a.prepare())for (s = a.edges, l = s.length, o = 0; l > o;)h = s[o].end(), r = h.x, i = h.y, u = s[++o % l].start(), t = u.x, n = u.y, (ds(r - t) > Hs || ds(i - n) > Hs) && (s.splice(o, 0, new ei($r(a.site, h, ds(r - c) < Hs && d - i > Hs ? {
            x: c,
            y: ds(t - c) < Hs ? n : d
        } : ds(i - d) < Hs && A - r > Hs ? {x: ds(n - d) < Hs ? t : A, y: d} : ds(r - A) < Hs && i - f > Hs ? {
            x: A,
            y: ds(t - A) < Hs ? n : f
        } : ds(i - f) < Hs && r - c > Hs ? {x: ds(n - f) < Hs ? t : c, y: f} : null), a.site, null)), ++l)
    }

    function jr(e, t) {
        return t.angle - e.angle
    }

    function Qr() {
        ni(this), this.x = this.y = this.arc = this.site = this.cy = null
    }

    function Wr(e) {
        var t = e.P, n = e.N;
        if (t && n) {
            var r = t.site, i = e.site, a = n.site;
            if (r !== a) {
                var o = i.x, s = i.y, l = r.x - o, u = r.y - s, h = a.x - o, c = a.y - s, A = 2 * (l * c - u * h);
                if (!(A >= -Ss)) {
                    var f = l * l + u * u, d = h * h + c * c, p = (c * f - u * d) / A, m = (l * d - h * f) / A, c = m + s, g = iu.pop() || new Qr;
                    g.arc = e, g.site = i, g.x = p + o, g.y = c + Math.sqrt(p * p + m * m), g.cy = c, e.circle = g;
                    for (var v = null, y = nu._; y;)if (g.y < y.y || g.y === y.y && g.x <= y.x) {
                        if (!y.L) {
                            v = y.P;
                            break
                        }
                        y = y.L
                    } else {
                        if (!y.R) {
                            v = y;
                            break
                        }
                        y = y.R
                    }
                    nu.insert(v, g), v || (tu = g)
                }
            }
        }
    }

    function Yr(e) {
        var t = e.circle;
        t && (t.P || (tu = t.N), nu.remove(t), iu.push(t), ni(t), e.circle = null)
    }

    function qr(e) {
        for (var t, n = $l, r = Vn(e[0][0], e[0][1], e[1][0], e[1][1]), i = n.length; i--;)t = n[i], (!Xr(t, e) || !r(t) || ds(t.a.x - t.b.x) < Hs && ds(t.a.y - t.b.y) < Hs) && (t.a = t.b = null, n.splice(i, 1))
    }

    function Xr(e, t) {
        var n = e.b;
        if (n)return !0;
        var r, i, a = e.a, o = t[0][0], s = t[1][0], l = t[0][1], u = t[1][1], h = e.l, c = e.r, A = h.x, f = h.y, d = c.x, p = c.y, m = (A + d) / 2, g = (f + p) / 2;
        if (p === f) {
            if (o > m || m >= s)return;
            if (A > d) {
                if (a) {
                    if (a.y >= u)return
                } else a = {x: m, y: l};
                n = {x: m, y: u}
            } else {
                if (a) {
                    if (a.y < l)return
                } else a = {x: m, y: u};
                n = {x: m, y: l}
            }
        } else if (r = (A - d) / (p - f), i = g - r * m, -1 > r || r > 1)if (A > d) {
            if (a) {
                if (a.y >= u)return
            } else a = {x: (l - i) / r, y: l};
            n = {x: (u - i) / r, y: u}
        } else {
            if (a) {
                if (a.y < l)return
            } else a = {x: (u - i) / r, y: u};
            n = {x: (l - i) / r, y: l}
        } else if (p > f) {
            if (a) {
                if (a.x >= s)return
            } else a = {x: o, y: r * o + i};
            n = {x: s, y: r * s + i}
        } else {
            if (a) {
                if (a.x < o)return
            } else a = {x: s, y: r * s + i};
            n = {x: o, y: r * o + i}
        }
        return e.a = a, e.b = n, !0
    }

    function Zr(e, t) {
        this.l = e, this.r = t, this.a = this.b = null
    }

    function Kr(e, t, n, r) {
        var i = new Zr(e, t);
        return $l.push(i), n && Jr(i, e, t, n), r && Jr(i, t, e, r), Jl[e.i].edges.push(new ei(i, e, t)), Jl[t.i].edges.push(new ei(i, t, e)), i
    }

    function $r(e, t, n) {
        var r = new Zr(e, null);
        return r.a = t, r.b = n, $l.push(r), r
    }

    function Jr(e, t, n, r) {
        e.a || e.b ? e.l === n ? e.b = r : e.a = r : (e.a = r, e.l = t, e.r = n)
    }

    function ei(e, t, n) {
        var r = e.a, i = e.b;
        this.edge = e, this.site = t, this.angle = n ? Math.atan2(n.y - t.y, n.x - t.x) : e.l === t ? Math.atan2(i.x - r.x, r.y - i.y) : Math.atan2(r.x - i.x, i.y - r.y)
    }

    function ti() {
        this._ = null
    }

    function ni(e) {
        e.U = e.C = e.L = e.R = e.P = e.N = null
    }

    function ri(e, t) {
        var n = t, r = t.R, i = n.U;
        i ? i.L === n ? i.L = r : i.R = r : e._ = r, r.U = i, n.U = r, n.R = r.L, n.R && (n.R.U = n), r.L = n
    }

    function ii(e, t) {
        var n = t, r = t.L, i = n.U;
        i ? i.L === n ? i.L = r : i.R = r : e._ = r, r.U = i, n.U = r, n.L = r.R, n.L && (n.L.U = n), r.R = n
    }

    function ai(e) {
        for (; e.L;)e = e.L;
        return e
    }

    function oi(e, t) {
        var n, r, i, a = e.sort(si).pop();
        for ($l = [], Jl = new Array(e.length), eu = new ti, nu = new ti; ;)if (i = tu, a && (!i || a.y < i.y || a.y === i.y && a.x < i.x))(a.x !== n || a.y !== r) && (Jl[a.i] = new Vr(a), Ir(a), n = a.x, r = a.y), a = e.pop(); else {
            if (!i)break;
            zr(i.arc)
        }
        t && (qr(t), Ur(t));
        var o = {cells: Jl, edges: $l};
        return eu = nu = $l = Jl = null, o
    }

    function si(e, t) {
        return t.y - e.y || t.x - e.x
    }

    function li(e, t, n) {
        return (e.x - n.x) * (t.y - e.y) - (e.x - t.x) * (n.y - e.y)
    }

    function ui(e) {
        return e.x
    }

    function hi(e) {
        return e.y
    }

    function ci() {
        return {leaf: !0, nodes: [], point: null, x: null, y: null}
    }

    function Ai(e, t, n, r, i, a) {
        if (!e(t, n, r, i, a)) {
            var o = .5 * (n + i), s = .5 * (r + a), l = t.nodes;
            l[0] && Ai(e, l[0], n, r, o, s), l[1] && Ai(e, l[1], o, r, i, s), l[2] && Ai(e, l[2], n, s, o, a), l[3] && Ai(e, l[3], o, s, i, a)
        }
    }

    function fi(e, t, n, r, i, a, o) {
        var s, l = 1 / 0;
        return function u(e, h, c, A, f) {
            if (!(h > a || c > o || r > A || i > f)) {
                if (d = e.point) {
                    var d, p = t - e.x, m = n - e.y, g = p * p + m * m;
                    if (l > g) {
                        var v = Math.sqrt(l = g);
                        r = t - v, i = n - v, a = t + v, o = n + v, s = d
                    }
                }
                for (var y = e.nodes, E = .5 * (h + A), b = .5 * (c + f), x = t >= E, w = n >= b, T = w << 1 | x, C = T + 4; C > T; ++T)if (e = y[3 & T])switch (3 & T) {
                    case 0:
                        u(e, h, c, E, b);
                        break;
                    case 1:
                        u(e, E, c, A, b);
                        break;
                    case 2:
                        u(e, h, b, E, f);
                        break;
                    case 3:
                        u(e, E, b, A, f)
                }
            }
        }(e, r, i, a, o), s
    }

    function di(e, t) {
        e = ns.rgb(e), t = ns.rgb(t);
        var n = e.r, r = e.g, i = e.b, a = t.r - n, o = t.g - r, s = t.b - i;
        return function (e) {
            return "#" + Et(Math.round(n + a * e)) + Et(Math.round(r + o * e)) + Et(Math.round(i + s * e))
        }
    }

    function pi(e, t) {
        var n, r = {}, i = {};
        for (n in e)n in t ? r[n] = vi(e[n], t[n]) : i[n] = e[n];
        for (n in t)n in e || (i[n] = t[n]);
        return function (e) {
            for (n in r)i[n] = r[n](e);
            return i
        }
    }

    function mi(e, t) {
        return e = +e, t = +t, function (n) {
            return e * (1 - n) + t * n
        }
    }

    function gi(e, t) {
        var n, r, i, a = ou.lastIndex = su.lastIndex = 0, o = -1, s = [], l = [];
        for (e += "", t += ""; (n = ou.exec(e)) && (r = su.exec(t));)(i = r.index) > a && (i = t.slice(a, i), s[o] ? s[o] += i : s[++o] = i), (n = n[0]) === (r = r[0]) ? s[o] ? s[o] += r : s[++o] = r : (s[++o] = null, l.push({
            i: o,
            x: mi(n, r)
        })), a = su.lastIndex;
        return a < t.length && (i = t.slice(a), s[o] ? s[o] += i : s[++o] = i), s.length < 2 ? l[0] ? (t = l[0].x, function (e) {
            return t(e) + ""
        }) : function () {
            return t
        } : (t = l.length, function (e) {
            for (var n, r = 0; t > r; ++r)s[(n = l[r]).i] = n.x(e);
            return s.join("")
        })
    }

    function vi(e, t) {
        for (var n, r = ns.interpolators.length; --r >= 0 && !(n = ns.interpolators[r](e, t)););
        return n
    }

    function yi(e, t) {
        var n, r = [], i = [], a = e.length, o = t.length, s = Math.min(e.length, t.length);
        for (n = 0; s > n; ++n)r.push(vi(e[n], t[n]));
        for (; a > n; ++n)i[n] = e[n];
        for (; o > n; ++n)i[n] = t[n];
        return function (e) {
            for (n = 0; s > n; ++n)i[n] = r[n](e);
            return i
        }
    }

    function Ei(e) {
        return function (t) {
            return 0 >= t ? 0 : t >= 1 ? 1 : e(t)
        }
    }

    function bi(e) {
        return function (t) {
            return 1 - e(1 - t)
        }
    }

    function xi(e) {
        return function (t) {
            return .5 * (.5 > t ? e(2 * t) : 2 - e(2 - 2 * t))
        }
    }

    function wi(e) {
        return e * e
    }

    function Ti(e) {
        return e * e * e
    }

    function Ci(e) {
        if (0 >= e)return 0;
        if (e >= 1)return 1;
        var t = e * e, n = t * e;
        return 4 * (.5 > e ? n : 3 * (e - t) + n - .75)
    }

    function Ri(e) {
        return function (t) {
            return Math.pow(t, e)
        }
    }

    function _i(e) {
        return 1 - Math.cos(e * Os)
    }

    function Bi(e) {
        return Math.pow(2, 10 * (e - 1))
    }

    function Mi(e) {
        return 1 - Math.sqrt(1 - e * e)
    }

    function Hi(e, t) {
        var n;
        return arguments.length < 2 && (t = .45), arguments.length ? n = t / Fs * Math.asin(1 / e) : (e = 1, n = t / 4), function (r) {
            return 1 + e * Math.pow(2, -10 * r) * Math.sin((r - n) * Fs / t)
        }
    }

    function Si(e) {
        return e || (e = 1.70158), function (t) {
            return t * t * ((e + 1) * t - e)
        }
    }

    function Di(e) {
        return 1 / 2.75 > e ? 7.5625 * e * e : 2 / 2.75 > e ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : 2.5 / 2.75 > e ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
    }

    function Fi(e, t) {
        e = ns.hcl(e), t = ns.hcl(t);
        var n = e.h, r = e.c, i = e.l, a = t.h - n, o = t.c - r, s = t.l - i;
        return isNaN(o) && (o = 0, r = isNaN(r) ? t.c : r), isNaN(a) ? (a = 0, n = isNaN(n) ? t.h : n) : a > 180 ? a -= 360 : -180 > a && (a += 360), function (e) {
            return ht(n + a * e, r + o * e, i + s * e) + ""
        }
    }

    function ki(e, t) {
        e = ns.hsl(e), t = ns.hsl(t);
        var n = e.h, r = e.s, i = e.l, a = t.h - n, o = t.s - r, s = t.l - i;
        return isNaN(o) && (o = 0, r = isNaN(r) ? t.s : r), isNaN(a) ? (a = 0, n = isNaN(n) ? t.h : n) : a > 180 ? a -= 360 : -180 > a && (a += 360), function (e) {
            return lt(n + a * e, r + o * e, i + s * e) + ""
        }
    }

    function Oi(e, t) {
        e = ns.lab(e), t = ns.lab(t);
        var n = e.l, r = e.a, i = e.b, a = t.l - n, o = t.a - r, s = t.b - i;
        return function (e) {
            return At(n + a * e, r + o * e, i + s * e) + ""
        }
    }

    function Pi(e, t) {
        return t -= e, function (n) {
            return Math.round(e + t * n)
        }
    }

    function Li(e) {
        var t = [e.a, e.b], n = [e.c, e.d], r = Ii(t), i = zi(t, n), a = Ii(Gi(n, t, -i)) || 0;
        t[0] * n[1] < n[0] * t[1] && (t[0] *= -1, t[1] *= -1, r *= -1, i *= -1), this.rotate = (r ? Math.atan2(t[1], t[0]) : Math.atan2(-n[0], n[1])) * Ls, this.translate = [e.e, e.f], this.scale = [r, a], this.skew = a ? Math.atan2(i, a) * Ls : 0
    }

    function zi(e, t) {
        return e[0] * t[0] + e[1] * t[1]
    }

    function Ii(e) {
        var t = Math.sqrt(zi(e, e));
        return t && (e[0] /= t, e[1] /= t), t
    }

    function Gi(e, t, n) {
        return e[0] += n * t[0], e[1] += n * t[1], e
    }

    function Ni(e, t) {
        var n, r = [], i = [], a = ns.transform(e), o = ns.transform(t), s = a.translate, l = o.translate, u = a.rotate, h = o.rotate, c = a.skew, A = o.skew, f = a.scale, d = o.scale;
        return s[0] != l[0] || s[1] != l[1] ? (r.push("translate(", null, ",", null, ")"), i.push({
            i: 1,
            x: mi(s[0], l[0])
        }, {
            i: 3,
            x: mi(s[1], l[1])
        })) : r.push(l[0] || l[1] ? "translate(" + l + ")" : ""), u != h ? (u - h > 180 ? h += 360 : h - u > 180 && (u += 360), i.push({
            i: r.push(r.pop() + "rotate(", null, ")") - 2,
            x: mi(u, h)
        })) : h && r.push(r.pop() + "rotate(" + h + ")"), c != A ? i.push({
            i: r.push(r.pop() + "skewX(", null, ")") - 2,
            x: mi(c, A)
        }) : A && r.push(r.pop() + "skewX(" + A + ")"), f[0] != d[0] || f[1] != d[1] ? (n = r.push(r.pop() + "scale(", null, ",", null, ")"), i.push({
            i: n - 4,
            x: mi(f[0], d[0])
        }, {
            i: n - 2,
            x: mi(f[1], d[1])
        })) : (1 != d[0] || 1 != d[1]) && r.push(r.pop() + "scale(" + d + ")"), n = i.length, function (e) {
            for (var t, a = -1; ++a < n;)r[(t = i[a]).i] = t.x(e);
            return r.join("")
        }
    }

    function Vi(e, t) {
        return t = (t -= e = +e) || 1 / t, function (n) {
            return (n - e) / t
        }
    }

    function Ui(e, t) {
        return t = (t -= e = +e) || 1 / t, function (n) {
            return Math.max(0, Math.min(1, (n - e) / t))
        }
    }

    function ji(e) {
        for (var t = e.source, n = e.target, r = Wi(t, n), i = [t]; t !== r;)t = t.parent, i.push(t);
        for (var a = i.length; n !== r;)i.splice(a, 0, n), n = n.parent;
        return i
    }

    function Qi(e) {
        for (var t = [], n = e.parent; null != n;)t.push(e), e = n, n = n.parent;
        return t.push(e), t
    }

    function Wi(e, t) {
        if (e === t)return e;
        for (var n = Qi(e), r = Qi(t), i = n.pop(), a = r.pop(), o = null; i === a;)o = i, i = n.pop(), a = r.pop();
        return o
    }

    function Yi(e) {
        e.fixed |= 2
    }

    function qi(e) {
        e.fixed &= -7
    }

    function Xi(e) {
        e.fixed |= 4, e.px = e.x, e.py = e.y
    }

    function Zi(e) {
        e.fixed &= -5
    }

    function Ki(e, t, n) {
        var r = 0, i = 0;
        if (e.charge = 0, !e.leaf)for (var a, o = e.nodes, s = o.length, l = -1; ++l < s;)a = o[l], null != a && (Ki(a, t, n), e.charge += a.charge, r += a.charge * a.cx, i += a.charge * a.cy);
        if (e.point) {
            e.leaf || (e.point.x += Math.random() - .5, e.point.y += Math.random() - .5);
            var u = t * n[e.point.index];
            e.charge += e.pointCharge = u, r += u * e.point.x, i += u * e.point.y
        }
        e.cx = r / e.charge, e.cy = i / e.charge
    }

    function $i(e, t) {
        return ns.rebind(e, t, "sort", "children", "value"), e.nodes = e, e.links = ia, e
    }

    function Ji(e, t) {
        for (var n = [e]; null != (e = n.pop());)if (t(e), (i = e.children) && (r = i.length))for (var r, i; --r >= 0;)n.push(i[r])
    }

    function ea(e, t) {
        for (var n = [e], r = []; null != (e = n.pop());)if (r.push(e), (a = e.children) && (i = a.length))for (var i, a, o = -1; ++o < i;)n.push(a[o]);
        for (; null != (e = r.pop());)t(e)
    }

    function ta(e) {
        return e.children
    }

    function na(e) {
        return e.value
    }

    function ra(e, t) {
        return t.value - e.value
    }

    function ia(e) {
        return ns.merge(e.map(function (e) {
            return (e.children || []).map(function (t) {
                return {source: e, target: t}
            })
        }))
    }

    function aa(e) {
        return e.x
    }

    function oa(e) {
        return e.y
    }

    function sa(e, t, n) {
        e.y0 = t, e.y = n
    }

    function la(e) {
        return ns.range(e.length)
    }

    function ua(e) {
        for (var t = -1, n = e[0].length, r = []; ++t < n;)r[t] = 0;
        return r
    }

    function ha(e) {
        for (var t, n = 1, r = 0, i = e[0][1], a = e.length; a > n; ++n)(t = e[n][1]) > i && (r = n, i = t);
        return r
    }

    function ca(e) {
        return e.reduce(Aa, 0)
    }

    function Aa(e, t) {
        return e + t[1]
    }

    function fa(e, t) {
        return da(e, Math.ceil(Math.log(t.length) / Math.LN2 + 1))
    }

    function da(e, t) {
        for (var n = -1, r = +e[0], i = (e[1] - r) / t, a = []; ++n <= t;)a[n] = i * n + r;
        return a
    }

    function pa(e) {
        return [ns.min(e), ns.max(e)]
    }

    function ma(e, t) {
        return e.value - t.value
    }

    function ga(e, t) {
        var n = e._pack_next;
        e._pack_next = t, t._pack_prev = e, t._pack_next = n, n._pack_prev = t
    }

    function va(e, t) {
        e._pack_next = t, t._pack_prev = e
    }

    function ya(e, t) {
        var n = t.x - e.x, r = t.y - e.y, i = e.r + t.r;
        return .999 * i * i > n * n + r * r
    }

    function Ea(e) {
        function t(e) {
            h = Math.min(e.x - e.r, h), c = Math.max(e.x + e.r, c), A = Math.min(e.y - e.r, A), f = Math.max(e.y + e.r, f)
        }

        if ((n = e.children) && (u = n.length)) {
            var n, r, i, a, o, s, l, u, h = 1 / 0, c = -1 / 0, A = 1 / 0, f = -1 / 0;
            if (n.forEach(ba), r = n[0], r.x = -r.r, r.y = 0, t(r), u > 1 && (i = n[1], i.x = i.r, i.y = 0, t(i), u > 2))for (a = n[2], Ta(r, i, a), t(a), ga(r, a), r._pack_prev = a, ga(a, i), i = r._pack_next, o = 3; u > o; o++) {
                Ta(r, i, a = n[o]);
                var d = 0, p = 1, m = 1;
                for (s = i._pack_next; s !== i; s = s._pack_next, p++)if (ya(s, a)) {
                    d = 1;
                    break
                }
                if (1 == d)for (l = r._pack_prev; l !== s._pack_prev && !ya(l, a); l = l._pack_prev, m++);
                d ? (m > p || p == m && i.r < r.r ? va(r, i = s) : va(r = l, i), o--) : (ga(r, a), i = a, t(a))
            }
            var g = (h + c) / 2, v = (A + f) / 2, y = 0;
            for (o = 0; u > o; o++)a = n[o], a.x -= g, a.y -= v, y = Math.max(y, a.r + Math.sqrt(a.x * a.x + a.y * a.y));
            e.r = y, n.forEach(xa)
        }
    }

    function ba(e) {
        e._pack_next = e._pack_prev = e
    }

    function xa(e) {
        delete e._pack_next, delete e._pack_prev
    }

    function wa(e, t, n, r) {
        var i = e.children;
        if (e.x = t += r * e.x, e.y = n += r * e.y, e.r *= r, i)for (var a = -1, o = i.length; ++a < o;)wa(i[a], t, n, r)
    }

    function Ta(e, t, n) {
        var r = e.r + n.r, i = t.x - e.x, a = t.y - e.y;
        if (r && (i || a)) {
            var o = t.r + n.r, s = i * i + a * a;
            o *= o, r *= r;
            var l = .5 + (r - o) / (2 * s), u = Math.sqrt(Math.max(0, 2 * o * (r + s) - (r -= s) * r - o * o)) / (2 * s);
            n.x = e.x + l * i + u * a, n.y = e.y + l * a - u * i
        } else n.x = e.x + r, n.y = e.y
    }

    function Ca(e, t) {
        return e.parent == t.parent ? 1 : 2
    }

    function Ra(e) {
        var t = e.children;
        return t.length ? t[0] : e.t
    }

    function _a(e) {
        var t, n = e.children;
        return (t = n.length) ? n[t - 1] : e.t
    }

    function Ba(e, t, n) {
        var r = n / (t.i - e.i);
        t.c -= r, t.s += n, e.c += r, t.z += n, t.m += n
    }

    function Ma(e) {
        for (var t, n = 0, r = 0, i = e.children, a = i.length; --a >= 0;)t = i[a], t.z += n, t.m += n, n += t.s + (r += t.c)
    }

    function Ha(e, t, n) {
        return e.a.parent === t.parent ? e.a : n
    }

    function Sa(e) {
        return 1 + ns.max(e, function (e) {
                return e.y
            })
    }

    function Da(e) {
        return e.reduce(function (e, t) {
                return e + t.x
            }, 0) / e.length
    }

    function Fa(e) {
        var t = e.children;
        return t && t.length ? Fa(t[0]) : e
    }

    function ka(e) {
        var t, n = e.children;
        return n && (t = n.length) ? ka(n[t - 1]) : e
    }

    function Oa(e) {
        return {x: e.x, y: e.y, dx: e.dx, dy: e.dy}
    }

    function Pa(e, t) {
        var n = e.x + t[3], r = e.y + t[0], i = e.dx - t[1] - t[3], a = e.dy - t[0] - t[2];
        return 0 > i && (n += i / 2, i = 0), 0 > a && (r += a / 2, a = 0), {x: n, y: r, dx: i, dy: a}
    }

    function La(e) {
        var t = e[0], n = e[e.length - 1];
        return n > t ? [t, n] : [n, t]
    }

    function za(e) {
        return e.rangeExtent ? e.rangeExtent() : La(e.range())
    }

    function Ia(e, t, n, r) {
        var i = n(e[0], e[1]), a = r(t[0], t[1]);
        return function (e) {
            return a(i(e))
        }
    }

    function Ga(e, t) {
        var n, r = 0, i = e.length - 1, a = e[r], o = e[i];
        return a > o && (n = r, r = i, i = n, n = a, a = o, o = n), e[r] = t.floor(a), e[i] = t.ceil(o), e
    }

    function Na(e) {
        return e ? {
            floor: function (t) {
                return Math.floor(t / e) * e
            }, ceil: function (t) {
                return Math.ceil(t / e) * e
            }
        } : vu
    }

    function Va(e, t, n, r) {
        var i = [], a = [], o = 0, s = Math.min(e.length, t.length) - 1;
        for (e[s] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++o <= s;)i.push(n(e[o - 1], e[o])), a.push(r(t[o - 1], t[o]));
        return function (t) {
            var n = ns.bisect(e, t, 1, s) - 1;
            return a[n](i[n](t))
        }
    }

    function Ua(e, t, n, r) {
        function i() {
            var i = Math.min(e.length, t.length) > 2 ? Va : Ia, l = r ? Ui : Vi;
            return o = i(e, t, l, n), s = i(t, e, l, vi), a
        }

        function a(e) {
            return o(e)
        }

        var o, s;
        return a.invert = function (e) {
            return s(e)
        }, a.domain = function (t) {
            return arguments.length ? (e = t.map(Number), i()) : e
        }, a.range = function (e) {
            return arguments.length ? (t = e, i()) : t
        }, a.rangeRound = function (e) {
            return a.range(e).interpolate(Pi)
        }, a.clamp = function (e) {
            return arguments.length ? (r = e, i()) : r
        }, a.interpolate = function (e) {
            return arguments.length ? (n = e, i()) : n
        }, a.ticks = function (t) {
            return Ya(e, t)
        }, a.tickFormat = function (t, n) {
            return qa(e, t, n)
        }, a.nice = function (t) {
            return Qa(e, t), i()
        }, a.copy = function () {
            return Ua(e, t, n, r)
        }, i()
    }

    function ja(e, t) {
        return ns.rebind(e, t, "range", "rangeRound", "interpolate", "clamp")
    }

    function Qa(e, t) {
        return Ga(e, Na(Wa(e, t)[2]))
    }

    function Wa(e, t) {
        null == t && (t = 10);
        var n = La(e), r = n[1] - n[0], i = Math.pow(10, Math.floor(Math.log(r / t) / Math.LN10)), a = t / r * i;
        return .15 >= a ? i *= 10 : .35 >= a ? i *= 5 : .75 >= a && (i *= 2), n[0] = Math.ceil(n[0] / i) * i, n[1] = Math.floor(n[1] / i) * i + .5 * i, n[2] = i, n
    }

    function Ya(e, t) {
        return ns.range.apply(ns, Wa(e, t))
    }

    function qa(e, t, n) {
        var r = Wa(e, t);
        if (n) {
            var i = ol.exec(n);
            if (i.shift(), "s" === i[8]) {
                var a = ns.formatPrefix(Math.max(ds(r[0]), ds(r[1])));
                return i[7] || (i[7] = "." + Xa(a.scale(r[2]))), i[8] = "f", n = ns.format(i.join("")), function (e) {
                    return n(a.scale(e)) + a.symbol
                }
            }
            i[7] || (i[7] = "." + Za(i[8], r)), n = i.join("")
        } else n = ",." + Xa(r[2]) + "f";
        return ns.format(n)
    }

    function Xa(e) {
        return -Math.floor(Math.log(e) / Math.LN10 + .01)
    }

    function Za(e, t) {
        var n = Xa(t[2]);
        return e in yu ? Math.abs(n - Xa(Math.max(ds(t[0]), ds(t[1])))) + +("e" !== e) : n - 2 * ("%" === e)
    }

    function Ka(e, t, n, r) {
        function i(e) {
            return (n ? Math.log(0 > e ? 0 : e) : -Math.log(e > 0 ? 0 : -e)) / Math.log(t)
        }

        function a(e) {
            return n ? Math.pow(t, e) : -Math.pow(t, -e)
        }

        function o(t) {
            return e(i(t))
        }

        return o.invert = function (t) {
            return a(e.invert(t))
        }, o.domain = function (t) {
            return arguments.length ? (n = t[0] >= 0, e.domain((r = t.map(Number)).map(i)), o) : r
        }, o.base = function (n) {
            return arguments.length ? (t = +n, e.domain(r.map(i)), o) : t
        }, o.nice = function () {
            var t = Ga(r.map(i), n ? Math : bu);
            return e.domain(t), r = t.map(a), o
        }, o.ticks = function () {
            var e = La(r), o = [], s = e[0], l = e[1], u = Math.floor(i(s)), h = Math.ceil(i(l)), c = t % 1 ? 2 : t;
            if (isFinite(h - u)) {
                if (n) {
                    for (; h > u; u++)for (var A = 1; c > A; A++)o.push(a(u) * A);
                    o.push(a(u))
                } else for (o.push(a(u)); u++ < h;)for (var A = c - 1; A > 0; A--)o.push(a(u) * A);
                for (u = 0; o[u] < s; u++);
                for (h = o.length; o[h - 1] > l; h--);
                o = o.slice(u, h)
            }
            return o
        }, o.tickFormat = function (e, t) {
            if (!arguments.length)return Eu;
            arguments.length < 2 ? t = Eu : "function" != typeof t && (t = ns.format(t));
            var r, s = Math.max(.1, e / o.ticks().length), l = n ? (r = 1e-12, Math.ceil) : (r = -1e-12, Math.floor);
            return function (e) {
                return e / a(l(i(e) + r)) <= s ? t(e) : ""
            }
        }, o.copy = function () {
            return Ka(e.copy(), t, n, r)
        }, ja(o, e)
    }

    function $a(e, t, n) {
        function r(t) {
            return e(i(t))
        }

        var i = Ja(t), a = Ja(1 / t);
        return r.invert = function (t) {
            return a(e.invert(t))
        }, r.domain = function (t) {
            return arguments.length ? (e.domain((n = t.map(Number)).map(i)), r) : n
        }, r.ticks = function (e) {
            return Ya(n, e)
        }, r.tickFormat = function (e, t) {
            return qa(n, e, t)
        }, r.nice = function (e) {
            return r.domain(Qa(n, e))
        }, r.exponent = function (o) {
            return arguments.length ? (i = Ja(t = o), a = Ja(1 / t), e.domain(n.map(i)), r) : t
        }, r.copy = function () {
            return $a(e.copy(), t, n)
        }, ja(r, e)
    }

    function Ja(e) {
        return function (t) {
            return 0 > t ? -Math.pow(-t, e) : Math.pow(t, e)
        }
    }

    function eo(e, t) {
        function n(n) {
            return a[((i.get(n) || ("range" === t.t ? i.set(n, e.push(n)) : 0 / 0)) - 1) % a.length]
        }

        function r(t, n) {
            return ns.range(e.length).map(function (e) {
                return t + n * e
            })
        }

        var i, a, o;
        return n.domain = function (r) {
            if (!arguments.length)return e;
            e = [], i = new u;
            for (var a, o = -1, s = r.length; ++o < s;)i.has(a = r[o]) || i.set(a, e.push(a));
            return n[t.t].apply(n, t.a)
        }, n.range = function (e) {
            return arguments.length ? (a = e, o = 0, t = {t: "range", a: arguments}, n) : a
        }, n.rangePoints = function (i, s) {
            arguments.length < 2 && (s = 0);
            var l = i[0], u = i[1], h = e.length < 2 ? (l = (l + u) / 2, 0) : (u - l) / (e.length - 1 + s);
            return a = r(l + h * s / 2, h), o = 0, t = {t: "rangePoints", a: arguments}, n
        }, n.rangeRoundPoints = function (i, s) {
            arguments.length < 2 && (s = 0);
            var l = i[0], u = i[1], h = e.length < 2 ? (l = u = Math.round((l + u) / 2), 0) : (u - l) / (e.length - 1 + s) | 0;
            return a = r(l + Math.round(h * s / 2 + (u - l - (e.length - 1 + s) * h) / 2), h), o = 0, t = {
                t: "rangeRoundPoints",
                a: arguments
            }, n
        }, n.rangeBands = function (i, s, l) {
            arguments.length < 2 && (s = 0), arguments.length < 3 && (l = s);
            var u = i[1] < i[0], h = i[u - 0], c = i[1 - u], A = (c - h) / (e.length - s + 2 * l);
            return a = r(h + A * l, A), u && a.reverse(), o = A * (1 - s), t = {t: "rangeBands", a: arguments}, n
        }, n.rangeRoundBands = function (i, s, l) {
            arguments.length < 2 && (s = 0), arguments.length < 3 && (l = s);
            var u = i[1] < i[0], h = i[u - 0], c = i[1 - u], A = Math.floor((c - h) / (e.length - s + 2 * l));
            return a = r(h + Math.round((c - h - (e.length - s) * A) / 2), A), u && a.reverse(), o = Math.round(A * (1 - s)), t = {
                t: "rangeRoundBands",
                a: arguments
            }, n
        }, n.rangeBand = function () {
            return o
        }, n.rangeExtent = function () {
            return La(t.a[0])
        }, n.copy = function () {
            return eo(e, t)
        }, n.domain(e)
    }

    function to(e, t) {
        function a() {
            var n = 0, r = t.length;
            for (s = []; ++n < r;)s[n - 1] = ns.quantile(e, n / r);
            return o
        }

        function o(e) {
            return isNaN(e = +e) ? void 0 : t[ns.bisect(s, e)]
        }

        var s;
        return o.domain = function (t) {
            return arguments.length ? (e = t.map(r).filter(i).sort(n), a()) : e
        }, o.range = function (e) {
            return arguments.length ? (t = e, a()) : t
        }, o.quantiles = function () {
            return s
        }, o.invertExtent = function (n) {
            return n = t.indexOf(n), 0 > n ? [0 / 0, 0 / 0] : [n > 0 ? s[n - 1] : e[0], n < s.length ? s[n] : e[e.length - 1]]
        }, o.copy = function () {
            return to(e, t)
        }, a()
    }

    function no(e, t, n) {
        function r(t) {
            return n[Math.max(0, Math.min(o, Math.floor(a * (t - e))))]
        }

        function i() {
            return a = n.length / (t - e), o = n.length - 1, r
        }

        var a, o;
        return r.domain = function (n) {
            return arguments.length ? (e = +n[0], t = +n[n.length - 1], i()) : [e, t]
        }, r.range = function (e) {
            return arguments.length ? (n = e, i()) : n
        }, r.invertExtent = function (t) {
            return t = n.indexOf(t), t = 0 > t ? 0 / 0 : t / a + e, [t, t + 1 / a]
        }, r.copy = function () {
            return no(e, t, n)
        }, i()
    }

    function ro(e, t) {
        function n(n) {
            return n >= n ? t[ns.bisect(e, n)] : void 0
        }

        return n.domain = function (t) {
            return arguments.length ? (e = t, n) : e
        }, n.range = function (e) {
            return arguments.length ? (t = e, n) : t
        }, n.invertExtent = function (n) {
            return n = t.indexOf(n), [e[n - 1], e[n]]
        }, n.copy = function () {
            return ro(e, t)
        }, n
    }

    function io(e) {
        function t(e) {
            return +e
        }

        return t.invert = t, t.domain = t.range = function (n) {
            return arguments.length ? (e = n.map(t), t) : e
        }, t.ticks = function (t) {
            return Ya(e, t)
        }, t.tickFormat = function (t, n) {
            return qa(e, t, n)
        }, t.copy = function () {
            return io(e)
        }, t
    }

    function ao() {
        return 0
    }

    function oo(e) {
        return e.innerRadius
    }

    function so(e) {
        return e.outerRadius
    }

    function lo(e) {
        return e.startAngle
    }

    function uo(e) {
        return e.endAngle
    }

    function ho(e) {
        return e && e.padAngle
    }

    function co(e, t, n, r) {
        return (e - n) * t - (t - r) * e > 0 ? 0 : 1
    }

    function Ao(e, t, n, r, i) {
        var a = e[0] - t[0], o = e[1] - t[1], s = (i ? r : -r) / Math.sqrt(a * a + o * o), l = s * o, u = -s * a, h = e[0] + l, c = e[1] + u, A = t[0] + l, f = t[1] + u, d = (h + A) / 2, p = (c + f) / 2, m = A - h, g = f - c, v = m * m + g * g, y = n - r, E = h * f - A * c, b = (0 > g ? -1 : 1) * Math.sqrt(y * y * v - E * E), x = (E * g - m * b) / v, w = (-E * m - g * b) / v, T = (E * g + m * b) / v, C = (-E * m + g * b) / v, R = x - d, _ = w - p, B = T - d, M = C - p;
        return R * R + _ * _ > B * B + M * M && (x = T, w = C), [[x - l, w - u], [x * n / y, w * n / y]]
    }

    function fo(e) {
        function t(t) {
            function o() {
                u.push("M", a(e(h), s))
            }

            for (var l, u = [], h = [], c = -1, A = t.length, f = Rt(n), d = Rt(r); ++c < A;)i.call(this, l = t[c], c) ? h.push([+f.call(this, l, c), +d.call(this, l, c)]) : h.length && (o(), h = []);
            return h.length && o(), u.length ? u.join("") : null
        }

        var n = Br, r = Mr, i = Mn, a = po, o = a.key, s = .7;
        return t.x = function (e) {
            return arguments.length ? (n = e, t) : n
        }, t.y = function (e) {
            return arguments.length ? (r = e, t) : r
        }, t.defined = function (e) {
            return arguments.length ? (i = e, t) : i
        }, t.interpolate = function (e) {
            return arguments.length ? (o = "function" == typeof e ? a = e : (a = _u.get(e) || po).key, t) : o
        }, t.tension = function (e) {
            return arguments.length ? (s = e, t) : s
        }, t
    }

    function po(e) {
        return e.join("L")
    }

    function mo(e) {
        return po(e) + "Z"
    }

    function go(e) {
        for (var t = 0, n = e.length, r = e[0], i = [r[0], ",", r[1]]; ++t < n;)i.push("H", (r[0] + (r = e[t])[0]) / 2, "V", r[1]);
        return n > 1 && i.push("H", r[0]), i.join("")
    }

    function vo(e) {
        for (var t = 0, n = e.length, r = e[0], i = [r[0], ",", r[1]]; ++t < n;)i.push("V", (r = e[t])[1], "H", r[0]);
        return i.join("")
    }

    function yo(e) {
        for (var t = 0, n = e.length, r = e[0], i = [r[0], ",", r[1]]; ++t < n;)i.push("H", (r = e[t])[0], "V", r[1]);
        return i.join("")
    }

    function Eo(e, t) {
        return e.length < 4 ? po(e) : e[1] + wo(e.slice(1, -1), To(e, t))
    }

    function bo(e, t) {
        return e.length < 3 ? po(e) : e[0] + wo((e.push(e[0]), e), To([e[e.length - 2]].concat(e, [e[1]]), t))
    }

    function xo(e, t) {
        return e.length < 3 ? po(e) : e[0] + wo(e, To(e, t))
    }

    function wo(e, t) {
        if (t.length < 1 || e.length != t.length && e.length != t.length + 2)return po(e);
        var n = e.length != t.length, r = "", i = e[0], a = e[1], o = t[0], s = o, l = 1;
        if (n && (r += "Q" + (a[0] - 2 * o[0] / 3) + "," + (a[1] - 2 * o[1] / 3) + "," + a[0] + "," + a[1], i = e[1], l = 2), t.length > 1) {
            s = t[1], a = e[l], l++, r += "C" + (i[0] + o[0]) + "," + (i[1] + o[1]) + "," + (a[0] - s[0]) + "," + (a[1] - s[1]) + "," + a[0] + "," + a[1];
            for (var u = 2; u < t.length; u++, l++)a = e[l], s = t[u], r += "S" + (a[0] - s[0]) + "," + (a[1] - s[1]) + "," + a[0] + "," + a[1]
        }
        if (n) {
            var h = e[l];
            r += "Q" + (a[0] + 2 * s[0] / 3) + "," + (a[1] + 2 * s[1] / 3) + "," + h[0] + "," + h[1]
        }
        return r
    }

    function To(e, t) {
        for (var n, r = [], i = (1 - t) / 2, a = e[0], o = e[1], s = 1, l = e.length; ++s < l;)n = a, a = o, o = e[s], r.push([i * (o[0] - n[0]), i * (o[1] - n[1])]);
        return r
    }

    function Co(e) {
        if (e.length < 3)return po(e);
        var t = 1, n = e.length, r = e[0], i = r[0], a = r[1], o = [i, i, i, (r = e[1])[0]], s = [a, a, a, r[1]], l = [i, ",", a, "L", Mo(Hu, o), ",", Mo(Hu, s)];
        for (e.push(e[n - 1]); ++t <= n;)r = e[t], o.shift(), o.push(r[0]), s.shift(), s.push(r[1]), Ho(l, o, s);
        return e.pop(), l.push("L", r), l.join("")
    }

    function Ro(e) {
        if (e.length < 4)return po(e);
        for (var t, n = [], r = -1, i = e.length, a = [0], o = [0]; ++r < 3;)t = e[r], a.push(t[0]), o.push(t[1]);
        for (n.push(Mo(Hu, a) + "," + Mo(Hu, o)), --r; ++r < i;)t = e[r], a.shift(), a.push(t[0]), o.shift(), o.push(t[1]), Ho(n, a, o);
        return n.join("")
    }

    function _o(e) {
        for (var t, n, r = -1, i = e.length, a = i + 4, o = [], s = []; ++r < 4;)n = e[r % i], o.push(n[0]), s.push(n[1]);
        for (t = [Mo(Hu, o), ",", Mo(Hu, s)], --r; ++r < a;)n = e[r % i], o.shift(), o.push(n[0]), s.shift(), s.push(n[1]), Ho(t, o, s);
        return t.join("")
    }

    function Bo(e, t) {
        var n = e.length - 1;
        if (n)for (var r, i, a = e[0][0], o = e[0][1], s = e[n][0] - a, l = e[n][1] - o, u = -1; ++u <= n;)r = e[u], i = u / n, r[0] = t * r[0] + (1 - t) * (a + i * s), r[1] = t * r[1] + (1 - t) * (o + i * l);
        return Co(e)
    }

    function Mo(e, t) {
        return e[0] * t[0] + e[1] * t[1] + e[2] * t[2] + e[3] * t[3]
    }

    function Ho(e, t, n) {
        e.push("C", Mo(Bu, t), ",", Mo(Bu, n), ",", Mo(Mu, t), ",", Mo(Mu, n), ",", Mo(Hu, t), ",", Mo(Hu, n))
    }

    function So(e, t) {
        return (t[1] - e[1]) / (t[0] - e[0])
    }

    function Do(e) {
        for (var t = 0, n = e.length - 1, r = [], i = e[0], a = e[1], o = r[0] = So(i, a); ++t < n;)r[t] = (o + (o = So(i = a, a = e[t + 1]))) / 2;
        return r[t] = o, r
    }

    function Fo(e) {
        for (var t, n, r, i, a = [], o = Do(e), s = -1, l = e.length - 1; ++s < l;)t = So(e[s], e[s + 1]), ds(t) < Hs ? o[s] = o[s + 1] = 0 : (n = o[s] / t, r = o[s + 1] / t, i = n * n + r * r, i > 9 && (i = 3 * t / Math.sqrt(i), o[s] = i * n, o[s + 1] = i * r));
        for (s = -1; ++s <= l;)i = (e[Math.min(l, s + 1)][0] - e[Math.max(0, s - 1)][0]) / (6 * (1 + o[s] * o[s])), a.push([i || 0, o[s] * i || 0]);
        return a
    }

    function ko(e) {
        return e.length < 3 ? po(e) : e[0] + wo(e, Fo(e))
    }

    function Oo(e) {
        for (var t, n, r, i = -1, a = e.length; ++i < a;)t = e[i], n = t[0], r = t[1] - Os, t[0] = n * Math.cos(r), t[1] = n * Math.sin(r);
        return e
    }

    function Po(e) {
        function t(t) {
            function l() {
                p.push("M", s(e(g), c), h, u(e(m.reverse()), c), "Z")
            }

            for (var A, f, d, p = [], m = [], g = [], v = -1, y = t.length, E = Rt(n), b = Rt(i), x = n === r ? function () {
                return f
            } : Rt(r), w = i === a ? function () {
                return d
            } : Rt(a); ++v < y;)o.call(this, A = t[v], v) ? (m.push([f = +E.call(this, A, v), d = +b.call(this, A, v)]), g.push([+x.call(this, A, v), +w.call(this, A, v)])) : m.length && (l(), m = [], g = []);
            return m.length && l(), p.length ? p.join("") : null
        }

        var n = Br, r = Br, i = 0, a = Mr, o = Mn, s = po, l = s.key, u = s, h = "L", c = .7;
        return t.x = function (e) {
            return arguments.length ? (n = r = e, t) : r
        }, t.x0 = function (e) {
            return arguments.length ? (n = e, t) : n
        }, t.x1 = function (e) {
            return arguments.length ? (r = e, t) : r
        }, t.y = function (e) {
            return arguments.length ? (i = a = e, t) : a
        }, t.y0 = function (e) {
            return arguments.length ? (i = e, t) : i
        }, t.y1 = function (e) {
            return arguments.length ? (a = e, t) : a
        }, t.defined = function (e) {
            return arguments.length ? (o = e, t) : o
        }, t.interpolate = function (e) {
            return arguments.length ? (l = "function" == typeof e ? s = e : (s = _u.get(e) || po).key, u = s.reverse || s, h = s.closed ? "M" : "L", t) : l
        }, t.tension = function (e) {
            return arguments.length ? (c = e, t) : c
        }, t
    }

    function Lo(e) {
        return e.radius
    }

    function zo(e) {
        return [e.x, e.y]
    }

    function Io(e) {
        return function () {
            var t = e.apply(this, arguments), n = t[0], r = t[1] - Os;
            return [n * Math.cos(r), n * Math.sin(r)]
        }
    }

    function Go() {
        return 64
    }

    function No() {
        return "circle"
    }

    function Vo(e) {
        var t = Math.sqrt(e / Ds);
        return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z"
    }

    function Uo(e) {
        return function () {
            var t, n;
            (t = this[e]) && (n = t[t.active]) && (--t.count ? delete t[t.active] : delete this[e], t.active += .5, n.event && n.event.interrupt.call(this, this.__data__, n.index))
        }
    }

    function jo(e, t, n) {
        return ys(e, Lu), e.namespace = t, e.id = n, e
    }

    function Qo(e, t, n, r) {
        var i = e.id, a = e.namespace;
        return U(e, "function" == typeof n ? function (e, o, s) {
            e[a][i].tween.set(t, r(n.call(e, e.__data__, o, s)))
        } : (n = r(n), function (e) {
            e[a][i].tween.set(t, n)
        }))
    }

    function Wo(e) {
        return null == e && (e = ""), function () {
            this.textContent = e
        }
    }

    function Yo(e) {
        return null == e ? "__transition__" : "__transition_" + e + "__"
    }

    function qo(e, t, n, r, i) {
        var a = e[n] || (e[n] = {active: 0, count: 0}), o = a[r];
        if (!o) {
            var s = i.time;
            o = a[r] = {
                tween: new u,
                time: s,
                delay: i.delay,
                duration: i.duration,
                ease: i.ease,
                index: t
            }, i = null, ++a.count, ns.timer(function (i) {
                function l(n) {
                    if (a.active > r)return h();
                    var i = a[a.active];
                    i && (--a.count, delete a[a.active], i.event && i.event.interrupt.call(e, e.__data__, i.index)), a.active = r, o.event && o.event.start.call(e, e.__data__, t), o.tween.forEach(function (n, r) {
                        (r = r.call(e, e.__data__, t)) && p.push(r)
                    }), A = o.ease, c = o.duration, ns.timer(function () {
                        return d.c = u(n || 1) ? Mn : u, 1
                    }, 0, s)
                }

                function u(n) {
                    if (a.active !== r)return 1;
                    for (var i = n / c, s = A(i), l = p.length; l > 0;)p[--l].call(e, s);
                    return i >= 1 ? (o.event && o.event.end.call(e, e.__data__, t), h()) : void 0
                }

                function h() {
                    return --a.count ? delete a[r] : delete e[n], 1
                }

                var c, A, f = o.delay, d = rl, p = [];
                return d.t = f + s, i >= f ? l(i - f) : void(d.c = l)
            }, 0, s)
        }
    }

    function Xo(e, t, n) {
        e.attr("transform", function (e) {
            var r = t(e);
            return "translate(" + (isFinite(r) ? r : n(e)) + ",0)"
        })
    }

    function Zo(e, t, n) {
        e.attr("transform", function (e) {
            var r = t(e);
            return "translate(0," + (isFinite(r) ? r : n(e)) + ")"
        })
    }

    function Ko(e) {
        return e.toISOString()
    }

    function $o(e, t, n) {
        function r(t) {
            return e(t)
        }

        function i(e, n) {
            var r = e[1] - e[0], i = r / n, a = ns.bisect(Wu, i);
            return a == Wu.length ? [t.year, Wa(e.map(function (e) {
                return e / 31536e6
            }), n)[2]] : a ? t[i / Wu[a - 1] < Wu[a] / i ? a - 1 : a] : [Xu, Wa(e, n)[2]]
        }

        return r.invert = function (t) {
            return Jo(e.invert(t))
        }, r.domain = function (t) {
            return arguments.length ? (e.domain(t), r) : e.domain().map(Jo)
        }, r.nice = function (e, t) {
            function n(n) {
                return !isNaN(n) && !e.range(n, Jo(+n + 1), t).length
            }

            var a = r.domain(), o = La(a), s = null == e ? i(o, 10) : "number" == typeof e && i(o, e);
            return s && (e = s[0], t = s[1]), r.domain(Ga(a, t > 1 ? {
                floor: function (t) {
                    for (; n(t = e.floor(t));)t = Jo(t - 1);
                    return t
                }, ceil: function (t) {
                    for (; n(t = e.ceil(t));)t = Jo(+t + 1);
                    return t
                }
            } : e))
        }, r.ticks = function (e, t) {
            var n = La(r.domain()), a = null == e ? i(n, 10) : "number" == typeof e ? i(n, e) : !e.range && [{range: e}, t];
            return a && (e = a[0], t = a[1]), e.range(n[0], Jo(+n[1] + 1), 1 > t ? 1 : t)
        }, r.tickFormat = function () {
            return n
        }, r.copy = function () {
            return $o(e.copy(), t, n)
        }, ja(r, e)
    }

    function Jo(e) {
        return new Date(e)
    }

    function es(e) {
        return JSON.parse(e.responseText)
    }

    function ts(e) {
        var t = as.createRange();
        return t.selectNode(as.body), t.createContextualFragment(e.responseText)
    }

    var ns = {version: "3.5.5"}, rs = [].slice, is = function (e) {
        return rs.call(e)
    }, as = this.document;
    if (as)try {
        is(as.documentElement.childNodes)[0].nodeType
    } catch (os) {
        is = function (e) {
            for (var t = e.length, n = new Array(t); t--;)n[t] = e[t];
            return n
        }
    }
    if (Date.now || (Date.now = function () {
            return +new Date
        }), as)try {
        as.createElement("DIV").style.setProperty("opacity", 0, "")
    } catch (ss) {
        var ls = this.Element.prototype, us = ls.setAttribute, hs = ls.setAttributeNS, cs = this.CSSStyleDeclaration.prototype, As = cs.setProperty;
        ls.setAttribute = function (e, t) {
            us.call(this, e, t + "")
        }, ls.setAttributeNS = function (e, t, n) {
            hs.call(this, e, t, n + "")
        }, cs.setProperty = function (e, t, n) {
            As.call(this, e, t + "", n)
        }
    }
    ns.ascending = n, ns.descending = function (e, t) {
        return e > t ? -1 : t > e ? 1 : t >= e ? 0 : 0 / 0
    }, ns.min = function (e, t) {
        var n, r, i = -1, a = e.length;
        if (1 === arguments.length) {
            for (; ++i < a;)if (null != (r = e[i]) && r >= r) {
                n = r;
                break
            }
            for (; ++i < a;)null != (r = e[i]) && n > r && (n = r)
        } else {
            for (; ++i < a;)if (null != (r = t.call(e, e[i], i)) && r >= r) {
                n = r;
                break
            }
            for (; ++i < a;)null != (r = t.call(e, e[i], i)) && n > r && (n = r)
        }
        return n
    }, ns.max = function (e, t) {
        var n, r, i = -1, a = e.length;
        if (1 === arguments.length) {
            for (; ++i < a;)if (null != (r = e[i]) && r >= r) {
                n = r;
                break
            }
            for (; ++i < a;)null != (r = e[i]) && r > n && (n = r)
        } else {
            for (; ++i < a;)if (null != (r = t.call(e, e[i], i)) && r >= r) {
                n = r;
                break
            }
            for (; ++i < a;)null != (r = t.call(e, e[i], i)) && r > n && (n = r)
        }
        return n
    }, ns.extent = function (e, t) {
        var n, r, i, a = -1, o = e.length;
        if (1 === arguments.length) {
            for (; ++a < o;)if (null != (r = e[a]) && r >= r) {
                n = i = r;
                break
            }
            for (; ++a < o;)null != (r = e[a]) && (n > r && (n = r), r > i && (i = r))
        } else {
            for (; ++a < o;)if (null != (r = t.call(e, e[a], a)) && r >= r) {
                n = i = r;
                break
            }
            for (; ++a < o;)null != (r = t.call(e, e[a], a)) && (n > r && (n = r), r > i && (i = r))
        }
        return [n, i]
    }, ns.sum = function (e, t) {
        var n, r = 0, a = e.length, o = -1;
        if (1 === arguments.length)for (; ++o < a;)i(n = +e[o]) && (r += n); else for (; ++o < a;)i(n = +t.call(e, e[o], o)) && (r += n);
        return r
    }, ns.mean = function (e, t) {
        var n, a = 0, o = e.length, s = -1, l = o;
        if (1 === arguments.length)for (; ++s < o;)i(n = r(e[s])) ? a += n : --l; else for (; ++s < o;)i(n = r(t.call(e, e[s], s))) ? a += n : --l;
        return l ? a / l : void 0
    }, ns.quantile = function (e, t) {
        var n = (e.length - 1) * t + 1, r = Math.floor(n), i = +e[r - 1], a = n - r;
        return a ? i + a * (e[r] - i) : i
    }, ns.median = function (e, t) {
        var a, o = [], s = e.length, l = -1;
        if (1 === arguments.length)for (; ++l < s;)i(a = r(e[l])) && o.push(a); else for (; ++l < s;)i(a = r(t.call(e, e[l], l))) && o.push(a);
        return o.length ? ns.quantile(o.sort(n), .5) : void 0
    }, ns.variance = function (e, t) {
        var n, a, o = e.length, s = 0, l = 0, u = -1, h = 0;
        if (1 === arguments.length)for (; ++u < o;)i(n = r(e[u])) && (a = n - s, s += a / ++h, l += a * (n - s)); else for (; ++u < o;)i(n = r(t.call(e, e[u], u))) && (a = n - s, s += a / ++h, l += a * (n - s));
        return h > 1 ? l / (h - 1) : void 0
    }, ns.deviation = function () {
        var e = ns.variance.apply(this, arguments);
        return e ? Math.sqrt(e) : e
    };
    var fs = a(n);
    ns.bisectLeft = fs.left, ns.bisect = ns.bisectRight = fs.right, ns.bisector = function (e) {
        return a(1 === e.length ? function (t, r) {
            return n(e(t), r)
        } : e)
    }, ns.shuffle = function (e, t, n) {
        (a = arguments.length) < 3 && (n = e.length, 2 > a && (t = 0));
        for (var r, i, a = n - t; a;)i = Math.random() * a-- | 0, r = e[a + t], e[a + t] = e[i + t], e[i + t] = r;
        return e
    }, ns.permute = function (e, t) {
        for (var n = t.length, r = new Array(n); n--;)r[n] = e[t[n]];
        return r
    }, ns.pairs = function (e) {
        for (var t, n = 0, r = e.length - 1, i = e[0], a = new Array(0 > r ? 0 : r); r > n;)a[n] = [t = i, i = e[++n]];
        return a
    }, ns.zip = function () {
        if (!(r = arguments.length))return [];
        for (var e = -1, t = ns.min(arguments, o), n = new Array(t); ++e < t;)for (var r, i = -1, a = n[e] = new Array(r); ++i < r;)a[i] = arguments[i][e];
        return n
    }, ns.transpose = function (e) {
        return ns.zip.apply(ns, e)
    }, ns.keys = function (e) {
        var t = [];
        for (var n in e)t.push(n);
        return t
    }, ns.values = function (e) {
        var t = [];
        for (var n in e)t.push(e[n]);
        return t
    }, ns.entries = function (e) {
        var t = [];
        for (var n in e)t.push({key: n, value: e[n]});
        return t
    }, ns.merge = function (e) {
        for (var t, n, r, i = e.length, a = -1, o = 0; ++a < i;)o += e[a].length;
        for (n = new Array(o); --i >= 0;)for (r = e[i], t = r.length; --t >= 0;)n[--o] = r[t];
        return n
    };
    var ds = Math.abs;
    ns.range = function (e, t, n) {
        if (arguments.length < 3 && (n = 1, arguments.length < 2 && (t = e, e = 0)), (t - e) / n === 1 / 0)throw new Error("infinite range");
        var r, i = [], a = s(ds(n)), o = -1;
        if (e *= a, t *= a, n *= a, 0 > n)for (; (r = e + n * ++o) > t;)i.push(r / a); else for (; (r = e + n * ++o) < t;)i.push(r / a);
        return i
    }, ns.map = function (e, t) {
        var n = new u;
        if (e instanceof u)e.forEach(function (e, t) {
            n.set(e, t)
        }); else if (Array.isArray(e)) {
            var r, i = -1, a = e.length;
            if (1 === arguments.length)for (; ++i < a;)n.set(i, e[i]); else for (; ++i < a;)n.set(t.call(e, r = e[i], i), r)
        } else for (var o in e)n.set(o, e[o]);
        return n
    };
    var ps = "__proto__", ms = "\x00";
    l(u, {
        has: A, get: function (e) {
            return this._[h(e)]
        }, set: function (e, t) {
            return this._[h(e)] = t
        }, remove: f, keys: d, values: function () {
            var e = [];
            for (var t in this._)e.push(this._[t]);
            return e
        }, entries: function () {
            var e = [];
            for (var t in this._)e.push({key: c(t), value: this._[t]});
            return e
        }, size: p, empty: m, forEach: function (e) {
            for (var t in this._)e.call(this, c(t), this._[t])
        }
    }), ns.nest = function () {
        function e(t, o, s) {
            if (s >= a.length)return r ? r.call(i, o) : n ? o.sort(n) : o;
            for (var l, h, c, A, f = -1, d = o.length, p = a[s++], m = new u; ++f < d;)(A = m.get(l = p(h = o[f]))) ? A.push(h) : m.set(l, [h]);
            return t ? (h = t(), c = function (n, r) {
                h.set(n, e(t, r, s))
            }) : (h = {}, c = function (n, r) {
                h[n] = e(t, r, s)
            }), m.forEach(c), h
        }

        function t(e, n) {
            if (n >= a.length)return e;
            var r = [], i = o[n++];
            return e.forEach(function (e, i) {
                r.push({key: e, values: t(i, n)})
            }), i ? r.sort(function (e, t) {
                return i(e.key, t.key)
            }) : r
        }

        var n, r, i = {}, a = [], o = [];
        return i.map = function (t, n) {
            return e(n, t, 0)
        }, i.entries = function (n) {
            return t(e(ns.map, n, 0), 0)
        }, i.key = function (e) {
            return a.push(e), i
        }, i.sortKeys = function (e) {
            return o[a.length - 1] = e, i
        }, i.sortValues = function (e) {
            return n = e, i
        }, i.rollup = function (e) {
            return r = e, i
        }, i
    }, ns.set = function (e) {
        var t = new g;
        if (e)for (var n = 0, r = e.length; r > n; ++n)t.add(e[n]);
        return t
    }, l(g, {
        has: A, add: function (e) {
            return this._[h(e += "")] = !0, e
        }, remove: f, values: d, size: p, empty: m, forEach: function (e) {
            for (var t in this._)e.call(this, c(t))
        }
    }), ns.behavior = {}, ns.rebind = function (e, t) {
        for (var n, r = 1, i = arguments.length; ++r < i;)e[n = arguments[r]] = y(e, t, t[n]);
        return e
    };
    var gs = ["webkit", "ms", "moz", "Moz", "o", "O"];
    ns.dispatch = function () {
        for (var e = new x, t = -1, n = arguments.length; ++t < n;)e[arguments[t]] = w(e);
        return e
    }, x.prototype.on = function (e, t) {
        var n = e.indexOf("."), r = "";
        if (n >= 0 && (r = e.slice(n + 1), e = e.slice(0, n)), e)return arguments.length < 2 ? this[e].on(r) : this[e].on(r, t);
        if (2 === arguments.length) {
            if (null == t)for (e in this)this.hasOwnProperty(e) && this[e].on(r, null);
            return this
        }
    }, ns.event = null, ns.requote = function (e) {
        return e.replace(vs, "\\$&")
    };
    var vs = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g, ys = {}.__proto__ ? function (e, t) {
        e.__proto__ = t
    } : function (e, t) {
        for (var n in t)e[n] = t[n]
    }, Es = function (e, t) {
        return t.querySelector(e)
    }, bs = function (e, t) {
        return t.querySelectorAll(e)
    }, xs = function (e, t) {
        var n = e.matches || e[E(e, "matchesSelector")];
        return (xs = function (e, t) {
            return n.call(e, t)
        })(e, t)
    };
    "function" == typeof Sizzle && (Es = function (e, t) {
        return Sizzle(e, t)[0] || null
    }, bs = Sizzle, xs = Sizzle.matchesSelector), ns.selection = function () {
        return ns.select(as.documentElement)
    };
    var ws = ns.selection.prototype = [];
    ws.select = function (e) {
        var t, n, r, i, a = [];
        e = B(e);
        for (var o = -1, s = this.length; ++o < s;) {
            a.push(t = []), t.parentNode = (r = this[o]).parentNode;
            for (var l = -1, u = r.length; ++l < u;)(i = r[l]) ? (t.push(n = e.call(i, i.__data__, l, o)), n && "__data__" in i && (n.__data__ = i.__data__)) : t.push(null)
        }
        return _(a)
    }, ws.selectAll = function (e) {
        var t, n, r = [];
        e = M(e);
        for (var i = -1, a = this.length; ++i < a;)for (var o = this[i], s = -1, l = o.length; ++s < l;)(n = o[s]) && (r.push(t = is(e.call(n, n.__data__, s, i))), t.parentNode = n);
        return _(r)
    };
    var Ts = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: "http://www.w3.org/1999/xhtml",
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/"
    };
    ns.ns = {
        prefix: Ts, qualify: function (e) {
            var t = e.indexOf(":"), n = e;
            return t >= 0 && (n = e.slice(0, t), e = e.slice(t + 1)), Ts.hasOwnProperty(n) ? {
                space: Ts[n],
                local: e
            } : e
        }
    }, ws.attr = function (e, t) {
        if (arguments.length < 2) {
            if ("string" == typeof e) {
                var n = this.node();
                return e = ns.ns.qualify(e), e.local ? n.getAttributeNS(e.space, e.local) : n.getAttribute(e)
            }
            for (t in e)this.each(H(t, e[t]));
            return this
        }
        return this.each(H(e, t))
    }, ws.classed = function (e, t) {
        if (arguments.length < 2) {
            if ("string" == typeof e) {
                var n = this.node(), r = (e = F(e)).length, i = -1;
                if (t = n.classList) {
                    for (; ++i < r;)if (!t.contains(e[i]))return !1
                } else for (t = n.getAttribute("class"); ++i < r;)if (!D(e[i]).test(t))return !1;
                return !0
            }
            for (t in e)this.each(k(t, e[t]));
            return this
        }
        return this.each(k(e, t))
    }, ws.style = function (e, n, r) {
        var i = arguments.length;
        if (3 > i) {
            if ("string" != typeof e) {
                2 > i && (n = "");
                for (r in e)this.each(P(r, e[r], n));
                return this
            }
            if (2 > i) {
                var a = this.node();
                return t(a).getComputedStyle(a, null).getPropertyValue(e)
            }
            r = ""
        }
        return this.each(P(e, n, r))
    }, ws.property = function (e, t) {
        if (arguments.length < 2) {
            if ("string" == typeof e)return this.node()[e];
            for (t in e)this.each(L(t, e[t]));
            return this
        }
        return this.each(L(e, t))
    }, ws.text = function (e) {
        return arguments.length ? this.each("function" == typeof e ? function () {
            var t = e.apply(this, arguments);
            this.textContent = null == t ? "" : t
        } : null == e ? function () {
            this.textContent = ""
        } : function () {
            this.textContent = e
        }) : this.node().textContent
    }, ws.html = function (e) {
        return arguments.length ? this.each("function" == typeof e ? function () {
            var t = e.apply(this, arguments);
            this.innerHTML = null == t ? "" : t
        } : null == e ? function () {
            this.innerHTML = ""
        } : function () {
            this.innerHTML = e
        }) : this.node().innerHTML
    }, ws.append = function (e) {
        return e = z(e), this.select(function () {
            return this.appendChild(e.apply(this, arguments))
        })
    }, ws.insert = function (e, t) {
        return e = z(e), t = B(t), this.select(function () {
            return this.insertBefore(e.apply(this, arguments), t.apply(this, arguments) || null)
        })
    }, ws.remove = function () {
        return this.each(I)
    }, ws.data = function (e, t) {
        function n(e, n) {
            var r, i, a, o = e.length, c = n.length, A = Math.min(o, c), f = new Array(c), d = new Array(c), p = new Array(o);
            if (t) {
                var m, g = new u, v = new Array(o);
                for (r = -1; ++r < o;)g.has(m = t.call(i = e[r], i.__data__, r)) ? p[r] = i : g.set(m, i), v[r] = m;
                for (r = -1; ++r < c;)(i = g.get(m = t.call(n, a = n[r], r))) ? i !== !0 && (f[r] = i, i.__data__ = a) : d[r] = G(a), g.set(m, !0);
                for (r = -1; ++r < o;)g.get(v[r]) !== !0 && (p[r] = e[r])
            } else {
                for (r = -1; ++r < A;)i = e[r], a = n[r], i ? (i.__data__ = a, f[r] = i) : d[r] = G(a);
                for (; c > r; ++r)d[r] = G(n[r]);
                for (; o > r; ++r)p[r] = e[r]
            }
            d.update = f, d.parentNode = f.parentNode = p.parentNode = e.parentNode, s.push(d), l.push(f), h.push(p)
        }

        var r, i, a = -1, o = this.length;
        if (!arguments.length) {
            for (e = new Array(o = (r = this[0]).length); ++a < o;)(i = r[a]) && (e[a] = i.__data__);
            return e
        }
        var s = j([]), l = _([]), h = _([]);
        if ("function" == typeof e)for (; ++a < o;)n(r = this[a], e.call(r, r.parentNode.__data__, a)); else for (; ++a < o;)n(r = this[a], e);
        return l.enter = function () {
            return s
        }, l.exit = function () {
            return h
        }, l
    }, ws.datum = function (e) {
        return arguments.length ? this.property("__data__", e) : this.property("__data__")
    }, ws.filter = function (e) {
        var t, n, r, i = [];
        "function" != typeof e && (e = N(e));
        for (var a = 0, o = this.length; o > a; a++) {
            i.push(t = []), t.parentNode = (n = this[a]).parentNode;
            for (var s = 0, l = n.length; l > s; s++)(r = n[s]) && e.call(r, r.__data__, s, a) && t.push(r)
        }
        return _(i)
    }, ws.order = function () {
        for (var e = -1, t = this.length; ++e < t;)for (var n, r = this[e], i = r.length - 1, a = r[i]; --i >= 0;)(n = r[i]) && (a && a !== n.nextSibling && a.parentNode.insertBefore(n, a), a = n);
        return this
    }, ws.sort = function (e) {
        e = V.apply(this, arguments);
        for (var t = -1, n = this.length; ++t < n;)this[t].sort(e);
        return this.order()
    }, ws.each = function (e) {
        return U(this, function (t, n, r) {
            e.call(t, t.__data__, n, r)
        })
    }, ws.call = function (e) {
        var t = is(arguments);
        return e.apply(t[0] = this, t), this
    }, ws.empty = function () {
        return !this.node()
    }, ws.node = function () {
        for (var e = 0, t = this.length; t > e; e++)for (var n = this[e], r = 0, i = n.length; i > r; r++) {
            var a = n[r];
            if (a)return a
        }
        return null
    }, ws.size = function () {
        var e = 0;
        return U(this, function () {
            ++e
        }), e
    };
    var Cs = [];
    ns.selection.enter = j, ns.selection.enter.prototype = Cs, Cs.append = ws.append, Cs.empty = ws.empty, Cs.node = ws.node, Cs.call = ws.call, Cs.size = ws.size, Cs.select = function (e) {
        for (var t, n, r, i, a, o = [], s = -1, l = this.length; ++s < l;) {
            r = (i = this[s]).update, o.push(t = []), t.parentNode = i.parentNode;
            for (var u = -1, h = i.length; ++u < h;)(a = i[u]) ? (t.push(r[u] = n = e.call(i.parentNode, a.__data__, u, s)), n.__data__ = a.__data__) : t.push(null)
        }
        return _(o)
    }, Cs.insert = function (e, t) {
        return arguments.length < 2 && (t = Q(this)), ws.insert.call(this, e, t)
    }, ns.select = function (t) {
        var n;
        return "string" == typeof t ? (n = [Es(t, as)], n.parentNode = as.documentElement) : (n = [t], n.parentNode = e(t)), _([n])
    }, ns.selectAll = function (e) {
        var t;
        return "string" == typeof e ? (t = is(bs(e, as)), t.parentNode = as.documentElement) : (t = e, t.parentNode = null), _([t])
    }, ws.on = function (e, t, n) {
        var r = arguments.length;
        if (3 > r) {
            if ("string" != typeof e) {
                2 > r && (t = !1);
                for (n in e)this.each(W(n, e[n], t));
                return this
            }
            if (2 > r)return (r = this.node()["__on" + e]) && r._;
            n = !1
        }
        return this.each(W(e, t, n))
    };
    var Rs = ns.map({mouseenter: "mouseover", mouseleave: "mouseout"});
    as && Rs.forEach(function (e) {
        "on" + e in as && Rs.remove(e)
    });
    var _s, Bs = 0;
    ns.mouse = function (e) {
        return Z(e, C())
    };
    var Ms = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
    ns.touch = function (e, t, n) {
        if (arguments.length < 3 && (n = t, t = C().changedTouches), t)for (var r, i = 0, a = t.length; a > i; ++i)if ((r = t[i]).identifier === n)return Z(e, r)
    }, ns.behavior.drag = function () {
        function e() {
            this.on("mousedown.drag", a).on("touchstart.drag", o)
        }

        function n(e, t, n, a, o) {
            return function () {
                function s() {
                    var e, n, r = t(A, p);
                    r && (e = r[0] - y[0], n = r[1] - y[1], d |= e | n, y = r, f({
                        type: "drag",
                        x: r[0] + u[0],
                        y: r[1] + u[1],
                        dx: e,
                        dy: n
                    }))
                }

                function l() {
                    t(A, p) && (g.on(a + m, null).on(o + m, null), v(d && ns.event.target === c), f({type: "dragend"}))
                }

                var u, h = this, c = ns.event.target, A = h.parentNode, f = r.of(h, arguments), d = 0, p = e(), m = ".drag" + (null == p ? "" : "-" + p), g = ns.select(n(c)).on(a + m, s).on(o + m, l), v = X(c), y = t(A, p);
                i ? (u = i.apply(h, arguments), u = [u.x - y[0], u.y - y[1]]) : u = [0, 0], f({type: "dragstart"})
            }
        }

        var r = R(e, "drag", "dragstart", "dragend"), i = null, a = n(b, ns.mouse, t, "mousemove", "mouseup"), o = n(K, ns.touch, v, "touchmove", "touchend");
        return e.origin = function (t) {
            return arguments.length ? (i = t, e) : i
        }, ns.rebind(e, r, "on")
    }, ns.touches = function (e, t) {
        return arguments.length < 2 && (t = C().touches), t ? is(t).map(function (t) {
            var n = Z(e, t);
            return n.identifier = t.identifier, n
        }) : []
    };
    var Hs = 1e-6, Ss = Hs * Hs, Ds = Math.PI, Fs = 2 * Ds, ks = Fs - Hs, Os = Ds / 2, Ps = Ds / 180, Ls = 180 / Ds, zs = Math.SQRT2, Is = 2, Gs = 4;
    ns.interpolateZoom = function (e, t) {
        function n(e) {
            var t = e * v;
            if (g) {
                var n = rt(p), o = a / (Is * A) * (n * it(zs * t + p) - nt(p));
                return [r + o * u, i + o * h, a * n / rt(zs * t + p)]
            }
            return [r + e * u, i + e * h, a * Math.exp(zs * t)]
        }

        var r = e[0], i = e[1], a = e[2], o = t[0], s = t[1], l = t[2], u = o - r, h = s - i, c = u * u + h * h, A = Math.sqrt(c), f = (l * l - a * a + Gs * c) / (2 * a * Is * A), d = (l * l - a * a - Gs * c) / (2 * l * Is * A), p = Math.log(Math.sqrt(f * f + 1) - f), m = Math.log(Math.sqrt(d * d + 1) - d), g = m - p, v = (g || Math.log(l / a)) / zs;
        return n.duration = 1e3 * v, n
    }, ns.behavior.zoom = function () {
        function e(e) {
            e.on(S, c).on(Vs + ".zoom", f).on("dblclick.zoom", d).on(k, A)
        }

        function n(e) {
            return [(e[0] - C.x) / C.k, (e[1] - C.y) / C.k]
        }

        function r(e) {
            return [e[0] * C.k + C.x, e[1] * C.k + C.y]
        }

        function i(e) {
            C.k = Math.max(B[0], Math.min(B[1], e))
        }

        function a(e, t) {
            t = r(t), C.x += e[0] - t[0], C.y += e[1] - t[1]
        }

        function o(t, n, r, o) {
            t.__chart__ = {
                x: C.x,
                y: C.y,
                k: C.k
            }, i(Math.pow(2, o)), a(m = n, r), t = ns.select(t), M > 0 && (t = t.transition().duration(M)), t.call(e.event)
        }

        function s() {
            b && b.domain(E.range().map(function (e) {
                return (e - C.x) / C.k
            }).map(E.invert)), w && w.domain(x.range().map(function (e) {
                return (e - C.y) / C.k
            }).map(x.invert))
        }

        function l(e) {
            H++ || e({type: "zoomstart"})
        }

        function u(e) {
            s(), e({type: "zoom", scale: C.k, translate: [C.x, C.y]})
        }

        function h(e) {
            --H || e({type: "zoomend"}), m = null
        }

        function c() {
            function e() {
                c = 1, a(ns.mouse(i), f), u(s)
            }

            function r() {
                A.on(D, null).on(F, null), d(c && ns.event.target === o), h(s)
            }

            var i = this, o = ns.event.target, s = O.of(i, arguments), c = 0, A = ns.select(t(i)).on(D, e).on(F, r), f = n(ns.mouse(i)), d = X(i);
            Pu.call(i), l(s)
        }

        function A() {
            function e() {
                var e = ns.touches(d);
                return f = C.k, e.forEach(function (e) {
                    e.identifier in m && (m[e.identifier] = n(e))
                }), e
            }

            function t() {
                var t = ns.event.target;
                ns.select(t).on(E, r).on(b, s), x.push(t);
                for (var n = ns.event.changedTouches, i = 0, a = n.length; a > i; ++i)m[n[i].identifier] = null;
                var l = e(), u = Date.now();
                if (1 === l.length) {
                    if (500 > u - y) {
                        var h = l[0];
                        o(d, h, m[h.identifier], Math.floor(Math.log(C.k) / Math.LN2) + 1), T()
                    }
                    y = u
                } else if (l.length > 1) {
                    var h = l[0], c = l[1], A = h[0] - c[0], f = h[1] - c[1];
                    g = A * A + f * f
                }
            }

            function r() {
                var e, t, n, r, o = ns.touches(d);
                Pu.call(d);
                for (var s = 0, l = o.length; l > s; ++s, r = null)if (n = o[s], r = m[n.identifier]) {
                    if (t)break;
                    e = n, t = r
                }
                if (r) {
                    var h = (h = n[0] - e[0]) * h + (h = n[1] - e[1]) * h, c = g && Math.sqrt(h / g);
                    e = [(e[0] + n[0]) / 2, (e[1] + n[1]) / 2], t = [(t[0] + r[0]) / 2, (t[1] + r[1]) / 2], i(c * f)
                }
                y = null, a(e, t), u(p)
            }

            function s() {
                if (ns.event.touches.length) {
                    for (var t = ns.event.changedTouches, n = 0, r = t.length; r > n; ++n)delete m[t[n].identifier];
                    for (var i in m)return void e()
                }
                ns.selectAll(x).on(v, null), w.on(S, c).on(k, A), R(), h(p)
            }

            var f, d = this, p = O.of(d, arguments), m = {}, g = 0, v = ".zoom-" + ns.event.changedTouches[0].identifier, E = "touchmove" + v, b = "touchend" + v, x = [], w = ns.select(d), R = X(d);
            t(), l(p), w.on(S, null).on(k, t)
        }

        function f() {
            var e = O.of(this, arguments);
            v ? clearTimeout(v) : (p = n(m = g || ns.mouse(this)), Pu.call(this), l(e)), v = setTimeout(function () {
                v = null, h(e)
            }, 50), T(), i(Math.pow(2, .002 * Ns()) * C.k), a(m, p), u(e)
        }

        function d() {
            var e = ns.mouse(this), t = Math.log(C.k) / Math.LN2;
            o(this, e, n(e), ns.event.shiftKey ? Math.ceil(t) - 1 : Math.floor(t) + 1)
        }

        var p, m, g, v, y, E, b, x, w, C = {
            x: 0,
            y: 0,
            k: 1
        }, _ = [960, 500], B = Us, M = 250, H = 0, S = "mousedown.zoom", D = "mousemove.zoom", F = "mouseup.zoom", k = "touchstart.zoom", O = R(e, "zoomstart", "zoom", "zoomend");
        return Vs || (Vs = "onwheel" in as ? (Ns = function () {
            return -ns.event.deltaY * (ns.event.deltaMode ? 120 : 1)
        }, "wheel") : "onmousewheel" in as ? (Ns = function () {
            return ns.event.wheelDelta
        }, "mousewheel") : (Ns = function () {
            return -ns.event.detail
        }, "MozMousePixelScroll")), e.event = function (e) {
            e.each(function () {
                var e = O.of(this, arguments), t = C;
                ku ? ns.select(this).transition().each("start.zoom", function () {
                    C = this.__chart__ || {x: 0, y: 0, k: 1}, l(e)
                }).tween("zoom:zoom", function () {
                    var n = _[0], r = _[1], i = m ? m[0] : n / 2, a = m ? m[1] : r / 2, o = ns.interpolateZoom([(i - C.x) / C.k, (a - C.y) / C.k, n / C.k], [(i - t.x) / t.k, (a - t.y) / t.k, n / t.k]);
                    return function (t) {
                        var r = o(t), s = n / r[2];
                        this.__chart__ = C = {x: i - r[0] * s, y: a - r[1] * s, k: s}, u(e)
                    }
                }).each("interrupt.zoom", function () {
                    h(e)
                }).each("end.zoom", function () {
                    h(e)
                }) : (this.__chart__ = C, l(e), u(e), h(e))
            })
        }, e.translate = function (t) {
            return arguments.length ? (C = {x: +t[0], y: +t[1], k: C.k}, s(), e) : [C.x, C.y]
        }, e.scale = function (t) {
            return arguments.length ? (C = {x: C.x, y: C.y, k: +t}, s(), e) : C.k
        }, e.scaleExtent = function (t) {
            return arguments.length ? (B = null == t ? Us : [+t[0], +t[1]], e) : B
        }, e.center = function (t) {
            return arguments.length ? (g = t && [+t[0], +t[1]], e) : g
        }, e.size = function (t) {
            return arguments.length ? (_ = t && [+t[0], +t[1]], e) : _
        }, e.duration = function (t) {
            return arguments.length ? (M = +t, e) : M
        }, e.x = function (t) {
            return arguments.length ? (b = t, E = t.copy(), C = {x: 0, y: 0, k: 1}, e) : b
        }, e.y = function (t) {
            return arguments.length ? (w = t, x = t.copy(), C = {x: 0, y: 0, k: 1}, e) : w
        }, ns.rebind(e, O, "on")
    };
    var Ns, Vs, Us = [0, 1 / 0];
    ns.color = ot, ot.prototype.toString = function () {
        return this.rgb() + ""
    }, ns.hsl = st;
    var js = st.prototype = new ot;
    js.brighter = function (e) {
        return e = Math.pow(.7, arguments.length ? e : 1), new st(this.h, this.s, this.l / e)
    }, js.darker = function (e) {
        return e = Math.pow(.7, arguments.length ? e : 1), new st(this.h, this.s, e * this.l)
    }, js.rgb = function () {
        return lt(this.h, this.s, this.l)
    }, ns.hcl = ut;
    var Qs = ut.prototype = new ot;
    Qs.brighter = function (e) {
        return new ut(this.h, this.c, Math.min(100, this.l + Ws * (arguments.length ? e : 1)))
    }, Qs.darker = function (e) {
        return new ut(this.h, this.c, Math.max(0, this.l - Ws * (arguments.length ? e : 1)))
    }, Qs.rgb = function () {
        return ht(this.h, this.c, this.l).rgb()
    }, ns.lab = ct;
    var Ws = 18, Ys = .95047, qs = 1, Xs = 1.08883, Zs = ct.prototype = new ot;
    Zs.brighter = function (e) {
        return new ct(Math.min(100, this.l + Ws * (arguments.length ? e : 1)), this.a, this.b)
    }, Zs.darker = function (e) {
        return new ct(Math.max(0, this.l - Ws * (arguments.length ? e : 1)), this.a, this.b)
    }, Zs.rgb = function () {
        return At(this.l, this.a, this.b)
    }, ns.rgb = gt;
    var Ks = gt.prototype = new ot;
    Ks.brighter = function (e) {
        e = Math.pow(.7, arguments.length ? e : 1);
        var t = this.r, n = this.g, r = this.b, i = 30;
        return t || n || r ? (t && i > t && (t = i), n && i > n && (n = i), r && i > r && (r = i), new gt(Math.min(255, t / e), Math.min(255, n / e), Math.min(255, r / e))) : new gt(i, i, i)
    }, Ks.darker = function (e) {
        return e = Math.pow(.7, arguments.length ? e : 1), new gt(e * this.r, e * this.g, e * this.b)
    }, Ks.hsl = function () {
        return xt(this.r, this.g, this.b)
    }, Ks.toString = function () {
        return "#" + Et(this.r) + Et(this.g) + Et(this.b)
    };
    var $s = ns.map({
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    });
    $s.forEach(function (e, t) {
        $s.set(e, vt(t))
    }), ns.functor = Rt, ns.xhr = _t(v), ns.dsv = function (e, t) {
        function n(e, n, a) {
            arguments.length < 3 && (a = n, n = null);
            var o = Bt(e, t, null == n ? r : i(n), a);
            return o.row = function (e) {
                return arguments.length ? o.response(null == (n = e) ? r : i(e)) : n
            }, o
        }

        function r(e) {
            return n.parse(e.responseText)
        }

        function i(e) {
            return function (t) {
                return n.parse(t.responseText, e)
            }
        }

        function a(t) {
            return t.map(o).join(e)
        }

        function o(e) {
            return s.test(e) ? '"' + e.replace(/\"/g, '""') + '"' : e
        }

        var s = new RegExp('["' + e + "\n]"), l = e.charCodeAt(0);
        return n.parse = function (e, t) {
            var r;
            return n.parseRows(e, function (e, n) {
                if (r)return r(e, n - 1);
                var i = new Function("d", "return {" + e.map(function (e, t) {
                        return JSON.stringify(e) + ": d[" + t + "]"
                    }).join(",") + "}");
                r = t ? function (e, n) {
                    return t(i(e), n)
                } : i
            })
        }, n.parseRows = function (e, t) {
            function n() {
                if (h >= u)return o;
                if (i)return i = !1, a;
                var t = h;
                if (34 === e.charCodeAt(t)) {
                    for (var n = t; n++ < u;)if (34 === e.charCodeAt(n)) {
                        if (34 !== e.charCodeAt(n + 1))break;
                        ++n
                    }
                    h = n + 2;
                    var r = e.charCodeAt(n + 1);
                    return 13 === r ? (i = !0, 10 === e.charCodeAt(n + 2) && ++h) : 10 === r && (i = !0), e.slice(t + 1, n).replace(/""/g, '"')
                }
                for (; u > h;) {
                    var r = e.charCodeAt(h++), s = 1;
                    if (10 === r)i = !0; else if (13 === r)i = !0, 10 === e.charCodeAt(h) && (++h, ++s); else if (r !== l)continue;
                    return e.slice(t, h - s)
                }
                return e.slice(t)
            }

            for (var r, i, a = {}, o = {}, s = [], u = e.length, h = 0, c = 0; (r = n()) !== o;) {
                for (var A = []; r !== a && r !== o;)A.push(r), r = n();
                t && null == (A = t(A, c++)) || s.push(A)
            }
            return s
        }, n.format = function (t) {
            if (Array.isArray(t[0]))return n.formatRows(t);
            var r = new g, i = [];
            return t.forEach(function (e) {
                for (var t in e)r.has(t) || i.push(r.add(t))
            }), [i.map(o).join(e)].concat(t.map(function (t) {
                return i.map(function (e) {
                    return o(t[e])
                }).join(e)
            })).join("\n")
        }, n.formatRows = function (e) {
            return e.map(a).join("\n")
        }, n
    }, ns.csv = ns.dsv(",", "text/csv"), ns.tsv = ns.dsv("	", "text/tab-separated-values");
    var Js, el, tl, nl, rl, il = this[E(this, "requestAnimationFrame")] || function (e) {
            setTimeout(e, 17)
        };
    ns.timer = function (e, t, n) {
        var r = arguments.length;
        2 > r && (t = 0), 3 > r && (n = Date.now());
        var i = n + t, a = {c: e, t: i, f: !1, n: null};
        el ? el.n = a : Js = a, el = a, tl || (nl = clearTimeout(nl), tl = 1, il(St))
    }, ns.timer.flush = function () {
        Dt(), Ft()
    }, ns.round = function (e, t) {
        return t ? Math.round(e * (t = Math.pow(10, t))) / t : Math.round(e)
    };
    var al = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map(Ot);
    ns.formatPrefix = function (e, t) {
        var n = 0;
        return e && (0 > e && (e *= -1), t && (e = ns.round(e, kt(e, t))), n = 1 + Math.floor(1e-12 + Math.log(e) / Math.LN10), n = Math.max(-24, Math.min(24, 3 * Math.floor((n - 1) / 3)))), al[8 + n / 3]
    };
    var ol = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i, sl = ns.map({
        b: function (e) {
            return e.toString(2)
        }, c: function (e) {
            return String.fromCharCode(e)
        }, o: function (e) {
            return e.toString(8)
        }, x: function (e) {
            return e.toString(16)
        }, X: function (e) {
            return e.toString(16).toUpperCase()
        }, g: function (e, t) {
            return e.toPrecision(t)
        }, e: function (e, t) {
            return e.toExponential(t)
        }, f: function (e, t) {
            return e.toFixed(t)
        }, r: function (e, t) {
            return (e = ns.round(e, kt(e, t))).toFixed(Math.max(0, Math.min(20, kt(e * (1 + 1e-15), t))))
        }
    }), ll = ns.time = {}, ul = Date;
    zt.prototype = {
        getDate: function () {
            return this._.getUTCDate()
        }, getDay: function () {
            return this._.getUTCDay()
        }, getFullYear: function () {
            return this._.getUTCFullYear()
        }, getHours: function () {
            return this._.getUTCHours()
        }, getMilliseconds: function () {
            return this._.getUTCMilliseconds()
        }, getMinutes: function () {
            return this._.getUTCMinutes()
        }, getMonth: function () {
            return this._.getUTCMonth()
        }, getSeconds: function () {
            return this._.getUTCSeconds()
        }, getTime: function () {
            return this._.getTime()
        }, getTimezoneOffset: function () {
            return 0
        }, valueOf: function () {
            return this._.valueOf()
        }, setDate: function () {
            hl.setUTCDate.apply(this._, arguments)
        }, setDay: function () {
            hl.setUTCDay.apply(this._, arguments)
        }, setFullYear: function () {
            hl.setUTCFullYear.apply(this._, arguments)
        }, setHours: function () {
            hl.setUTCHours.apply(this._, arguments)
        }, setMilliseconds: function () {
            hl.setUTCMilliseconds.apply(this._, arguments)
        }, setMinutes: function () {
            hl.setUTCMinutes.apply(this._, arguments)
        }, setMonth: function () {
            hl.setUTCMonth.apply(this._, arguments)
        }, setSeconds: function () {
            hl.setUTCSeconds.apply(this._, arguments)
        }, setTime: function () {
            hl.setTime.apply(this._, arguments)
        }
    };
    var hl = Date.prototype;
    ll.year = It(function (e) {
        return e = ll.day(e), e.setMonth(0, 1), e
    }, function (e, t) {
        e.setFullYear(e.getFullYear() + t)
    }, function (e) {
        return e.getFullYear()
    }), ll.years = ll.year.range, ll.years.utc = ll.year.utc.range, ll.day = It(function (e) {
        var t = new ul(2e3, 0);
        return t.setFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t
    }, function (e, t) {
        e.setDate(e.getDate() + t)
    }, function (e) {
        return e.getDate() - 1
    }), ll.days = ll.day.range, ll.days.utc = ll.day.utc.range, ll.dayOfYear = function (e) {
        var t = ll.year(e);
        return Math.floor((e - t - 6e4 * (e.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5)
    }, ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"].forEach(function (e, t) {
        t = 7 - t;
        var n = ll[e] = It(function (e) {
            return (e = ll.day(e)).setDate(e.getDate() - (e.getDay() + t) % 7), e
        }, function (e, t) {
            e.setDate(e.getDate() + 7 * Math.floor(t))
        }, function (e) {
            var n = ll.year(e).getDay();
            return Math.floor((ll.dayOfYear(e) + (n + t) % 7) / 7) - (n !== t)
        });
        ll[e + "s"] = n.range, ll[e + "s"].utc = n.utc.range, ll[e + "OfYear"] = function (e) {
            var n = ll.year(e).getDay();
            return Math.floor((ll.dayOfYear(e) + (n + t) % 7) / 7)
        }
    }), ll.week = ll.sunday, ll.weeks = ll.sunday.range, ll.weeks.utc = ll.sunday.utc.range, ll.weekOfYear = ll.sundayOfYear;
    var cl = {"-": "", _: " ", 0: "0"}, Al = /^\s*\d+/, fl = /^%/;
    ns.locale = function (e) {
        return {numberFormat: Pt(e), timeFormat: Nt(e)}
    };
    var dl = ns.locale({
        decimal: ".",
        thousands: ",",
        grouping: [3],
        currency: ["$", ""],
        dateTime: "%a %b %e %X %Y",
        date: "%m/%d/%Y",
        time: "%H:%M:%S",
        periods: ["AM", "PM"],
        days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    });
    ns.format = dl.numberFormat, ns.geo = {}, un.prototype = {
        s: 0, t: 0, add: function (e) {
            hn(e, this.t, pl), hn(pl.s, this.s, this), this.s ? this.t += pl.t : this.s = pl.t
        }, reset: function () {
            this.s = this.t = 0
        }, valueOf: function () {
            return this.s
        }
    };
    var pl = new un;
    ns.geo.stream = function (e, t) {
        e && ml.hasOwnProperty(e.type) ? ml[e.type](e, t) : cn(e, t)
    };
    var ml = {
        Feature: function (e, t) {
            cn(e.geometry, t)
        }, FeatureCollection: function (e, t) {
            for (var n = e.features, r = -1, i = n.length; ++r < i;)cn(n[r].geometry, t)
        }
    }, gl = {
        Sphere: function (e, t) {
            t.sphere()
        }, Point: function (e, t) {
            e = e.coordinates, t.point(e[0], e[1], e[2])
        }, MultiPoint: function (e, t) {
            for (var n = e.coordinates, r = -1, i = n.length; ++r < i;)e = n[r], t.point(e[0], e[1], e[2])
        }, LineString: function (e, t) {
            An(e.coordinates, t, 0)
        }, MultiLineString: function (e, t) {
            for (var n = e.coordinates, r = -1, i = n.length; ++r < i;)An(n[r], t, 0)
        }, Polygon: function (e, t) {
            fn(e.coordinates, t)
        }, MultiPolygon: function (e, t) {
            for (var n = e.coordinates, r = -1, i = n.length; ++r < i;)fn(n[r], t)
        }, GeometryCollection: function (e, t) {
            for (var n = e.geometries, r = -1, i = n.length; ++r < i;)cn(n[r], t)
        }
    };
    ns.geo.area = function (e) {
        return vl = 0, ns.geo.stream(e, El), vl
    };
    var vl, yl = new un, El = {
        sphere: function () {
            vl += 4 * Ds
        }, point: b, lineStart: b, lineEnd: b, polygonStart: function () {
            yl.reset(), El.lineStart = dn
        }, polygonEnd: function () {
            var e = 2 * yl;
            vl += 0 > e ? 4 * Ds + e : e, El.lineStart = El.lineEnd = El.point = b
        }
    };
    ns.geo.bounds = function () {
        function e(e, t) {
            y.push(E = [h = e, A = e]), c > t && (c = t), t > f && (f = t)
        }

        function t(t, n) {
            var r = pn([t * Ps, n * Ps]);
            if (g) {
                var i = gn(g, r), a = [i[1], -i[0], 0], o = gn(a, i);
                En(o), o = bn(o);
                var l = t - d, u = l > 0 ? 1 : -1, p = o[0] * Ls * u, m = ds(l) > 180;
                if (m ^ (p > u * d && u * t > p)) {
                    var v = o[1] * Ls;
                    v > f && (f = v)
                } else if (p = (p + 360) % 360 - 180, m ^ (p > u * d && u * t > p)) {
                    var v = -o[1] * Ls;
                    c > v && (c = v)
                } else c > n && (c = n), n > f && (f = n);
                m ? d > t ? s(h, t) > s(h, A) && (A = t) : s(t, A) > s(h, A) && (h = t) : A >= h ? (h > t && (h = t), t > A && (A = t)) : t > d ? s(h, t) > s(h, A) && (A = t) : s(t, A) > s(h, A) && (h = t)
            } else e(t, n);
            g = r, d = t
        }

        function n() {
            b.point = t
        }

        function r() {
            E[0] = h, E[1] = A, b.point = e, g = null
        }

        function i(e, n) {
            if (g) {
                var r = e - d;
                v += ds(r) > 180 ? r + (r > 0 ? 360 : -360) : r
            } else p = e, m = n;
            El.point(e, n), t(e, n)
        }

        function a() {
            El.lineStart()
        }

        function o() {
            i(p, m), El.lineEnd(), ds(v) > Hs && (h = -(A = 180)), E[0] = h, E[1] = A, g = null
        }

        function s(e, t) {
            return (t -= e) < 0 ? t + 360 : t
        }

        function l(e, t) {
            return e[0] - t[0]
        }

        function u(e, t) {
            return t[0] <= t[1] ? t[0] <= e && e <= t[1] : e < t[0] || t[1] < e
        }

        var h, c, A, f, d, p, m, g, v, y, E, b = {
            point: e, lineStart: n, lineEnd: r, polygonStart: function () {
                b.point = i, b.lineStart = a, b.lineEnd = o, v = 0, El.polygonStart()
            }, polygonEnd: function () {
                El.polygonEnd(), b.point = e, b.lineStart = n, b.lineEnd = r, 0 > yl ? (h = -(A = 180), c = -(f = 90)) : v > Hs ? f = 90 : -Hs > v && (c = -90), E[0] = h, E[1] = A
            }
        };
        return function (e) {
            f = A = -(h = c = 1 / 0), y = [], ns.geo.stream(e, b);
            var t = y.length;
            if (t) {
                y.sort(l);
                for (var n, r = 1, i = y[0], a = [i]; t > r; ++r)n = y[r], u(n[0], i) || u(n[1], i) ? (s(i[0], n[1]) > s(i[0], i[1]) && (i[1] = n[1]), s(n[0], i[1]) > s(i[0], i[1]) && (i[0] = n[0])) : a.push(i = n);
                for (var o, n, d = -1 / 0, t = a.length - 1, r = 0, i = a[t]; t >= r; i = n, ++r)n = a[r], (o = s(i[1], n[0])) > d && (d = o, h = n[0], A = i[1])
            }
            return y = E = null, 1 / 0 === h || 1 / 0 === c ? [[0 / 0, 0 / 0], [0 / 0, 0 / 0]] : [[h, c], [A, f]]
        }
    }(), ns.geo.centroid = function (e) {
        bl = xl = wl = Tl = Cl = Rl = _l = Bl = Ml = Hl = Sl = 0, ns.geo.stream(e, Dl);
        var t = Ml, n = Hl, r = Sl, i = t * t + n * n + r * r;
        return Ss > i && (t = Rl, n = _l, r = Bl, Hs > xl && (t = wl, n = Tl, r = Cl), i = t * t + n * n + r * r, Ss > i) ? [0 / 0, 0 / 0] : [Math.atan2(n, t) * Ls, tt(r / Math.sqrt(i)) * Ls]
    };
    var bl, xl, wl, Tl, Cl, Rl, _l, Bl, Ml, Hl, Sl, Dl = {
        sphere: b,
        point: wn,
        lineStart: Cn,
        lineEnd: Rn,
        polygonStart: function () {
            Dl.lineStart = _n
        },
        polygonEnd: function () {
            Dl.lineStart = Cn
        }
    }, Fl = Fn(Mn, Ln, In, [-Ds, -Ds / 2]), kl = 1e9;
    ns.geo.clipExtent = function () {
        var e, t, n, r, i, a, o = {
            stream: function (e) {
                return i && (i.valid = !1), i = a(e), i.valid = !0, i
            }, extent: function (s) {
                return arguments.length ? (a = Un(e = +s[0][0], t = +s[0][1], n = +s[1][0], r = +s[1][1]), i && (i.valid = !1, i = null), o) : [[e, t], [n, r]]
            }
        };
        return o.extent([[0, 0], [960, 500]])
    }, (ns.geo.conicEqualArea = function () {
        return jn(Qn)
    }).raw = Qn, ns.geo.albers = function () {
        return ns.geo.conicEqualArea().rotate([96, 0]).center([-.6, 38.7]).parallels([29.5, 45.5]).scale(1070)
    }, ns.geo.albersUsa = function () {
        function e(e) {
            var a = e[0], o = e[1];
            return t = null, n(a, o), t || (r(a, o), t) || i(a, o), t
        }

        var t, n, r, i, a = ns.geo.albers(), o = ns.geo.conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), s = ns.geo.conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), l = {
            point: function (e, n) {
                t = [e, n]
            }
        };
        return e.invert = function (e) {
            var t = a.scale(), n = a.translate(), r = (e[0] - n[0]) / t, i = (e[1] - n[1]) / t;
            return (i >= .12 && .234 > i && r >= -.425 && -.214 > r ? o : i >= .166 && .234 > i && r >= -.214 && -.115 > r ? s : a).invert(e)
        }, e.stream = function (e) {
            var t = a.stream(e), n = o.stream(e), r = s.stream(e);
            return {
                point: function (e, i) {
                    t.point(e, i), n.point(e, i), r.point(e, i)
                }, sphere: function () {
                    t.sphere(), n.sphere(), r.sphere()
                }, lineStart: function () {
                    t.lineStart(), n.lineStart(), r.lineStart()
                }, lineEnd: function () {
                    t.lineEnd(), n.lineEnd(), r.lineEnd()
                }, polygonStart: function () {
                    t.polygonStart(), n.polygonStart(), r.polygonStart()
                }, polygonEnd: function () {
                    t.polygonEnd(), n.polygonEnd(), r.polygonEnd()
                }
            }
        }, e.precision = function (t) {
            return arguments.length ? (a.precision(t), o.precision(t), s.precision(t), e) : a.precision()
        }, e.scale = function (t) {
            return arguments.length ? (a.scale(t), o.scale(.35 * t), s.scale(t), e.translate(a.translate())) : a.scale()
        }, e.translate = function (t) {
            if (!arguments.length)return a.translate();
            var u = a.scale(), h = +t[0], c = +t[1];
            return n = a.translate(t).clipExtent([[h - .455 * u, c - .238 * u], [h + .455 * u, c + .238 * u]]).stream(l).point, r = o.translate([h - .307 * u, c + .201 * u]).clipExtent([[h - .425 * u + Hs, c + .12 * u + Hs], [h - .214 * u - Hs, c + .234 * u - Hs]]).stream(l).point, i = s.translate([h - .205 * u, c + .212 * u]).clipExtent([[h - .214 * u + Hs, c + .166 * u + Hs], [h - .115 * u - Hs, c + .234 * u - Hs]]).stream(l).point, e
        }, e.scale(1070)
    };
    var Ol, Pl, Ll, zl, Il, Gl, Nl = {
        point: b, lineStart: b, lineEnd: b, polygonStart: function () {
            Pl = 0, Nl.lineStart = Wn
        }, polygonEnd: function () {
            Nl.lineStart = Nl.lineEnd = Nl.point = b, Ol += ds(Pl / 2)
        }
    }, Vl = {point: Yn, lineStart: b, lineEnd: b, polygonStart: b, polygonEnd: b}, Ul = {
        point: Zn,
        lineStart: Kn,
        lineEnd: $n,
        polygonStart: function () {
            Ul.lineStart = Jn
        },
        polygonEnd: function () {
            Ul.point = Zn, Ul.lineStart = Kn, Ul.lineEnd = $n
        }
    };
    ns.geo.path = function () {
        function e(e) {
            return e && ("function" == typeof s && a.pointRadius(+s.apply(this, arguments)), o && o.valid || (o = i(a)), ns.geo.stream(e, o)), a.result()
        }

        function t() {
            return o = null, e
        }

        var n, r, i, a, o, s = 4.5;
        return e.area = function (e) {
            return Ol = 0, ns.geo.stream(e, i(Nl)), Ol
        }, e.centroid = function (e) {
            return wl = Tl = Cl = Rl = _l = Bl = Ml = Hl = Sl = 0, ns.geo.stream(e, i(Ul)), Sl ? [Ml / Sl, Hl / Sl] : Bl ? [Rl / Bl, _l / Bl] : Cl ? [wl / Cl, Tl / Cl] : [0 / 0, 0 / 0]
        }, e.bounds = function (e) {
            return Il = Gl = -(Ll = zl = 1 / 0), ns.geo.stream(e, i(Vl)), [[Ll, zl], [Il, Gl]]
        }, e.projection = function (e) {
            return arguments.length ? (i = (n = e) ? e.stream || nr(e) : v, t()) : n
        }, e.context = function (e) {
            return arguments.length ? (a = null == (r = e) ? new qn : new er(e), "function" != typeof s && a.pointRadius(s), t()) : r
        }, e.pointRadius = function (t) {
            return arguments.length ? (s = "function" == typeof t ? t : (a.pointRadius(+t), +t), e) : s
        }, e.projection(ns.geo.albersUsa()).context(null)
    }, ns.geo.transform = function (e) {
        return {
            stream: function (t) {
                var n = new rr(t);
                for (var r in e)n[r] = e[r];
                return n
            }
        }
    }, rr.prototype = {
        point: function (e, t) {
            this.stream.point(e, t)
        }, sphere: function () {
            this.stream.sphere()
        }, lineStart: function () {
            this.stream.lineStart()
        }, lineEnd: function () {
            this.stream.lineEnd()
        }, polygonStart: function () {
            this.stream.polygonStart()
        }, polygonEnd: function () {
            this.stream.polygonEnd()
        }
    }, ns.geo.projection = ar, ns.geo.projectionMutator = or, (ns.geo.equirectangular = function () {
        return ar(lr)
    }).raw = lr.invert = lr, ns.geo.rotation = function (e) {
        function t(t) {
            return t = e(t[0] * Ps, t[1] * Ps), t[0] *= Ls, t[1] *= Ls, t
        }

        return e = hr(e[0] % 360 * Ps, e[1] * Ps, e.length > 2 ? e[2] * Ps : 0), t.invert = function (t) {
            return t = e.invert(t[0] * Ps, t[1] * Ps), t[0] *= Ls, t[1] *= Ls, t
        }, t
    }, ur.invert = lr, ns.geo.circle = function () {
        function e() {
            var e = "function" == typeof r ? r.apply(this, arguments) : r, t = hr(-e[0] * Ps, -e[1] * Ps, 0).invert, i = [];
            return n(null, null, 1, {
                point: function (e, n) {
                    i.push(e = t(e, n)), e[0] *= Ls, e[1] *= Ls
                }
            }), {type: "Polygon", coordinates: [i]}
        }

        var t, n, r = [0, 0], i = 6;
        return e.origin = function (t) {
            return arguments.length ? (r = t, e) : r
        }, e.angle = function (r) {
            return arguments.length ? (n = dr((t = +r) * Ps, i * Ps), e) : t
        }, e.precision = function (r) {
            return arguments.length ? (n = dr(t * Ps, (i = +r) * Ps), e) : i
        }, e.angle(90)
    }, ns.geo.distance = function (e, t) {
        var n, r = (t[0] - e[0]) * Ps, i = e[1] * Ps, a = t[1] * Ps, o = Math.sin(r), s = Math.cos(r), l = Math.sin(i), u = Math.cos(i), h = Math.sin(a), c = Math.cos(a);
        return Math.atan2(Math.sqrt((n = c * o) * n + (n = u * h - l * c * s) * n), l * h + u * c * s)
    }, ns.geo.graticule = function () {
        function e() {
            return {type: "MultiLineString", coordinates: t()}
        }

        function t() {
            return ns.range(Math.ceil(a / m) * m, i, m).map(A).concat(ns.range(Math.ceil(u / g) * g, l, g).map(f)).concat(ns.range(Math.ceil(r / d) * d, n, d).filter(function (e) {
                return ds(e % m) > Hs
            }).map(h)).concat(ns.range(Math.ceil(s / p) * p, o, p).filter(function (e) {
                return ds(e % g) > Hs
            }).map(c))
        }

        var n, r, i, a, o, s, l, u, h, c, A, f, d = 10, p = d, m = 90, g = 360, v = 2.5;
        return e.lines = function () {
            return t().map(function (e) {
                return {type: "LineString", coordinates: e}
            })
        }, e.outline = function () {
            return {
                type: "Polygon",
                coordinates: [A(a).concat(f(l).slice(1), A(i).reverse().slice(1), f(u).reverse().slice(1))]
            }
        }, e.extent = function (t) {
            return arguments.length ? e.majorExtent(t).minorExtent(t) : e.minorExtent()
        }, e.majorExtent = function (t) {
            return arguments.length ? (a = +t[0][0], i = +t[1][0], u = +t[0][1], l = +t[1][1], a > i && (t = a, a = i, i = t), u > l && (t = u, u = l, l = t), e.precision(v)) : [[a, u], [i, l]]
        }, e.minorExtent = function (t) {
            return arguments.length ? (r = +t[0][0], n = +t[1][0], s = +t[0][1], o = +t[1][1], r > n && (t = r, r = n, n = t), s > o && (t = s, s = o, o = t), e.precision(v)) : [[r, s], [n, o]]
        }, e.step = function (t) {
            return arguments.length ? e.majorStep(t).minorStep(t) : e.minorStep()
        }, e.majorStep = function (t) {
            return arguments.length ? (m = +t[0], g = +t[1], e) : [m, g]
        }, e.minorStep = function (t) {
            return arguments.length ? (d = +t[0], p = +t[1], e) : [d, p]
        }, e.precision = function (t) {
            return arguments.length ? (v = +t, h = mr(s, o, 90), c = gr(r, n, v), A = mr(u, l, 90), f = gr(a, i, v), e) : v
        }, e.majorExtent([[-180, -90 + Hs], [180, 90 - Hs]]).minorExtent([[-180, -80 - Hs], [180, 80 + Hs]])
    }, ns.geo.greatArc = function () {
        function e() {
            return {type: "LineString", coordinates: [t || r.apply(this, arguments), n || i.apply(this, arguments)]}
        }

        var t, n, r = vr, i = yr;
        return e.distance = function () {
            return ns.geo.distance(t || r.apply(this, arguments), n || i.apply(this, arguments))
        }, e.source = function (n) {
            return arguments.length ? (r = n, t = "function" == typeof n ? null : n, e) : r
        }, e.target = function (t) {
            return arguments.length ? (i = t, n = "function" == typeof t ? null : t, e) : i
        }, e.precision = function () {
            return arguments.length ? e : 0
        }, e
    }, ns.geo.interpolate = function (e, t) {
        return Er(e[0] * Ps, e[1] * Ps, t[0] * Ps, t[1] * Ps)
    }, ns.geo.length = function (e) {
        return jl = 0, ns.geo.stream(e, Ql), jl
    };
    var jl, Ql = {
        sphere: b,
        point: b,
        lineStart: br,
        lineEnd: b,
        polygonStart: b,
        polygonEnd: b
    }, Wl = xr(function (e) {
        return Math.sqrt(2 / (1 + e))
    }, function (e) {
        return 2 * Math.asin(e / 2)
    });
    (ns.geo.azimuthalEqualArea = function () {
        return ar(Wl)
    }).raw = Wl;
    var Yl = xr(function (e) {
        var t = Math.acos(e);
        return t && t / Math.sin(t)
    }, v);
    (ns.geo.azimuthalEquidistant = function () {
        return ar(Yl)
    }).raw = Yl, (ns.geo.conicConformal = function () {
        return jn(wr)
    }).raw = wr, (ns.geo.conicEquidistant = function () {
        return jn(Tr)
    }).raw = Tr;
    var ql = xr(function (e) {
        return 1 / e
    }, Math.atan);
    (ns.geo.gnomonic = function () {
        return ar(ql)
    }).raw = ql, Cr.invert = function (e, t) {
        return [e, 2 * Math.atan(Math.exp(t)) - Os]
    }, (ns.geo.mercator = function () {
        return Rr(Cr)
    }).raw = Cr;
    var Xl = xr(function () {
        return 1
    }, Math.asin);
    (ns.geo.orthographic = function () {
        return ar(Xl)
    }).raw = Xl;
    var Zl = xr(function (e) {
        return 1 / (1 + e)
    }, function (e) {
        return 2 * Math.atan(e)
    });
    (ns.geo.stereographic = function () {
        return ar(Zl)
    }).raw = Zl, _r.invert = function (e, t) {
        return [-t, 2 * Math.atan(Math.exp(e)) - Os]
    }, (ns.geo.transverseMercator = function () {
        var e = Rr(_r), t = e.center, n = e.rotate;
        return e.center = function (e) {
            return e ? t([-e[1], e[0]]) : (e = t(), [e[1], -e[0]])
        }, e.rotate = function (e) {
            return e ? n([e[0], e[1], e.length > 2 ? e[2] + 90 : 90]) : (e = n(), [e[0], e[1], e[2] - 90])
        }, n([0, 0, 90])
    }).raw = _r, ns.geom = {}, ns.geom.hull = function (e) {
        function t(e) {
            if (e.length < 3)return [];
            var t, i = Rt(n), a = Rt(r), o = e.length, s = [], l = [];
            for (t = 0; o > t; t++)s.push([+i.call(this, e[t], t), +a.call(this, e[t], t), t]);
            for (s.sort(Sr), t = 0; o > t; t++)l.push([s[t][0], -s[t][1]]);
            var u = Hr(s), h = Hr(l), c = h[0] === u[0], A = h[h.length - 1] === u[u.length - 1], f = [];
            for (t = u.length - 1; t >= 0; --t)f.push(e[s[u[t]][2]]);
            for (t = +c; t < h.length - A; ++t)f.push(e[s[h[t]][2]]);
            return f
        }

        var n = Br, r = Mr;
        return arguments.length ? t(e) : (t.x = function (e) {
            return arguments.length ? (n = e, t) : n
        }, t.y = function (e) {
            return arguments.length ? (r = e, t) : r
        }, t)
    }, ns.geom.polygon = function (e) {
        return ys(e, Kl), e
    };
    var Kl = ns.geom.polygon.prototype = [];
    Kl.area = function () {
        for (var e, t = -1, n = this.length, r = this[n - 1], i = 0; ++t < n;)e = r, r = this[t], i += e[1] * r[0] - e[0] * r[1];
        return .5 * i
    }, Kl.centroid = function (e) {
        var t, n, r = -1, i = this.length, a = 0, o = 0, s = this[i - 1];
        for (arguments.length || (e = -1 / (6 * this.area())); ++r < i;)t = s, s = this[r], n = t[0] * s[1] - s[0] * t[1], a += (t[0] + s[0]) * n, o += (t[1] + s[1]) * n;
        return [a * e, o * e]
    }, Kl.clip = function (e) {
        for (var t, n, r, i, a, o, s = kr(e), l = -1, u = this.length - kr(this), h = this[u - 1]; ++l < u;) {
            for (t = e.slice(), e.length = 0, i = this[l], a = t[(r = t.length - s) - 1], n = -1; ++n < r;)o = t[n], Dr(o, h, i) ? (Dr(a, h, i) || e.push(Fr(a, o, h, i)), e.push(o)) : Dr(a, h, i) && e.push(Fr(a, o, h, i)), a = o;
            s && e.push(e[0]), h = i
        }
        return e
    };
    var $l, Jl, eu, tu, nu, ru = [], iu = [];
    Vr.prototype.prepare = function () {
        for (var e, t = this.edges, n = t.length; n--;)e = t[n].edge, e.b && e.a || t.splice(n, 1);
        return t.sort(jr), t.length
    }, ei.prototype = {
        start: function () {
            return this.edge.l === this.site ? this.edge.a : this.edge.b
        }, end: function () {
            return this.edge.l === this.site ? this.edge.b : this.edge.a
        }
    }, ti.prototype = {
        insert: function (e, t) {
            var n, r, i;
            if (e) {
                if (t.P = e, t.N = e.N, e.N && (e.N.P = t), e.N = t, e.R) {
                    for (e = e.R; e.L;)e = e.L;
                    e.L = t
                } else e.R = t;
                n = e
            } else this._ ? (e = ai(this._), t.P = null, t.N = e, e.P = e.L = t, n = e) : (t.P = t.N = null, this._ = t, n = null);
            for (t.L = t.R = null, t.U = n, t.C = !0, e = t; n && n.C;)r = n.U, n === r.L ? (i = r.R, i && i.C ? (n.C = i.C = !1, r.C = !0, e = r) : (e === n.R && (ri(this, n), e = n, n = e.U), n.C = !1, r.C = !0, ii(this, r))) : (i = r.L, i && i.C ? (n.C = i.C = !1, r.C = !0, e = r) : (e === n.L && (ii(this, n), e = n, n = e.U), n.C = !1, r.C = !0, ri(this, r))), n = e.U;
            this._.C = !1
        }, remove: function (e) {
            e.N && (e.N.P = e.P), e.P && (e.P.N = e.N), e.N = e.P = null;
            var t, n, r, i = e.U, a = e.L, o = e.R;
            if (n = a ? o ? ai(o) : a : o, i ? i.L === e ? i.L = n : i.R = n : this._ = n, a && o ? (r = n.C, n.C = e.C, n.L = a, a.U = n, n !== o ? (i = n.U, n.U = e.U, e = n.R, i.L = e, n.R = o, o.U = n) : (n.U = i, i = n, e = n.R)) : (r = e.C, e = n), e && (e.U = i), !r) {
                if (e && e.C)return void(e.C = !1);
                do {
                    if (e === this._)break;
                    if (e === i.L) {
                        if (t = i.R, t.C && (t.C = !1, i.C = !0, ri(this, i), t = i.R), t.L && t.L.C || t.R && t.R.C) {
                            t.R && t.R.C || (t.L.C = !1, t.C = !0, ii(this, t), t = i.R), t.C = i.C, i.C = t.R.C = !1, ri(this, i), e = this._;
                            break
                        }
                    } else if (t = i.L, t.C && (t.C = !1, i.C = !0, ii(this, i), t = i.L), t.L && t.L.C || t.R && t.R.C) {
                        t.L && t.L.C || (t.R.C = !1, t.C = !0, ri(this, t), t = i.L), t.C = i.C, i.C = t.L.C = !1, ii(this, i), e = this._;
                        break
                    }
                    t.C = !0, e = i, i = i.U
                } while (!e.C);
                e && (e.C = !1)
            }
        }
    }, ns.geom.voronoi = function (e) {
        function t(e) {
            var t = new Array(e.length), r = s[0][0], i = s[0][1], a = s[1][0], o = s[1][1];
            return oi(n(e), s).cells.forEach(function (n, s) {
                var l = n.edges, u = n.site, h = t[s] = l.length ? l.map(function (e) {
                    var t = e.start();
                    return [t.x, t.y]
                }) : u.x >= r && u.x <= a && u.y >= i && u.y <= o ? [[r, o], [a, o], [a, i], [r, i]] : [];
                h.point = e[s]
            }), t
        }

        function n(e) {
            return e.map(function (e, t) {
                return {x: Math.round(a(e, t) / Hs) * Hs, y: Math.round(o(e, t) / Hs) * Hs, i: t}
            })
        }

        var r = Br, i = Mr, a = r, o = i, s = au;
        return e ? t(e) : (t.links = function (e) {
            return oi(n(e)).edges.filter(function (e) {
                return e.l && e.r
            }).map(function (t) {
                return {source: e[t.l.i], target: e[t.r.i]}
            })
        }, t.triangles = function (e) {
            var t = [];
            return oi(n(e)).cells.forEach(function (n, r) {
                for (var i, a, o = n.site, s = n.edges.sort(jr), l = -1, u = s.length, h = s[u - 1].edge, c = h.l === o ? h.r : h.l; ++l < u;)i = h, a = c, h = s[l].edge, c = h.l === o ? h.r : h.l, r < a.i && r < c.i && li(o, a, c) < 0 && t.push([e[r], e[a.i], e[c.i]])
            }), t
        }, t.x = function (e) {
            return arguments.length ? (a = Rt(r = e), t) : r
        }, t.y = function (e) {
            return arguments.length ? (o = Rt(i = e), t) : i
        }, t.clipExtent = function (e) {
            return arguments.length ? (s = null == e ? au : e, t) : s === au ? null : s
        }, t.size = function (e) {
            return arguments.length ? t.clipExtent(e && [[0, 0], e]) : s === au ? null : s && s[1]
        }, t)
    };
    var au = [[-1e6, -1e6], [1e6, 1e6]];
    ns.geom.delaunay = function (e) {
        return ns.geom.voronoi().triangles(e)
    }, ns.geom.quadtree = function (e, t, n, r, i) {
        function a(e) {
            function a(e, t, n, r, i, a, o, s) {
                if (!isNaN(n) && !isNaN(r))if (e.leaf) {
                    var l = e.x, h = e.y;
                    if (null != l)if (ds(l - n) + ds(h - r) < .01)u(e, t, n, r, i, a, o, s); else {
                        var c = e.point;
                        e.x = e.y = e.point = null, u(e, c, l, h, i, a, o, s), u(e, t, n, r, i, a, o, s)
                    } else e.x = n, e.y = r, e.point = t
                } else u(e, t, n, r, i, a, o, s)
            }

            function u(e, t, n, r, i, o, s, l) {
                var u = .5 * (i + s), h = .5 * (o + l), c = n >= u, A = r >= h, f = A << 1 | c;
                e.leaf = !1, e = e.nodes[f] || (e.nodes[f] = ci()), c ? i = u : s = u, A ? o = h : l = h, a(e, t, n, r, i, o, s, l)
            }

            var h, c, A, f, d, p, m, g, v, y = Rt(s), E = Rt(l);
            if (null != t)p = t, m = n, g = r, v = i; else if (g = v = -(p = m = 1 / 0), c = [], A = [], d = e.length, o)for (f = 0; d > f; ++f)h = e[f], h.x < p && (p = h.x), h.y < m && (m = h.y), h.x > g && (g = h.x), h.y > v && (v = h.y), c.push(h.x), A.push(h.y); else for (f = 0; d > f; ++f) {
                var b = +y(h = e[f], f), x = +E(h, f);
                p > b && (p = b), m > x && (m = x), b > g && (g = b), x > v && (v = x), c.push(b), A.push(x)
            }
            var w = g - p, T = v - m;
            w > T ? v = m + w : g = p + T;
            var C = ci();
            if (C.add = function (e) {
                    a(C, e, +y(e, ++f), +E(e, f), p, m, g, v)
                }, C.visit = function (e) {
                    Ai(e, C, p, m, g, v)
                }, C.find = function (e) {
                    return fi(C, e[0], e[1], p, m, g, v)
                }, f = -1, null == t) {
                for (; ++f < d;)a(C, e[f], c[f], A[f], p, m, g, v);
                --f
            } else e.forEach(C.add);
            return c = A = e = h = null, C
        }

        var o, s = Br, l = Mr;
        return (o = arguments.length) ? (s = ui, l = hi, 3 === o && (i = n, r = t, n = t = 0), a(e)) : (a.x = function (e) {
            return arguments.length ? (s = e, a) : s
        }, a.y = function (e) {
            return arguments.length ? (l = e, a) : l
        }, a.extent = function (e) {
            return arguments.length ? (null == e ? t = n = r = i = null : (t = +e[0][0], n = +e[0][1], r = +e[1][0], i = +e[1][1]), a) : null == t ? null : [[t, n], [r, i]]
        }, a.size = function (e) {
            return arguments.length ? (null == e ? t = n = r = i = null : (t = n = 0, r = +e[0], i = +e[1]), a) : null == t ? null : [r - t, i - n]
        }, a)
    }, ns.interpolateRgb = di, ns.interpolateObject = pi, ns.interpolateNumber = mi, ns.interpolateString = gi;
    var ou = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, su = new RegExp(ou.source, "g");
    ns.interpolate = vi, ns.interpolators = [function (e, t) {
        var n = typeof t;
        return ("string" === n ? $s.has(t) || /^(#|rgb\(|hsl\()/.test(t) ? di : gi : t instanceof ot ? di : Array.isArray(t) ? yi : "object" === n && isNaN(t) ? pi : mi)(e, t)
    }], ns.interpolateArray = yi;
    var lu = function () {
        return v
    }, uu = ns.map({
        linear: lu, poly: Ri, quad: function () {
            return wi
        }, cubic: function () {
            return Ti
        }, sin: function () {
            return _i
        }, exp: function () {
            return Bi
        }, circle: function () {
            return Mi
        }, elastic: Hi, back: Si, bounce: function () {
            return Di
        }
    }), hu = ns.map({
        "in": v, out: bi, "in-out": xi, "out-in": function (e) {
            return xi(bi(e))
        }
    });
    ns.ease = function (e) {
        var t = e.indexOf("-"), n = t >= 0 ? e.slice(0, t) : e, r = t >= 0 ? e.slice(t + 1) : "in";
        return n = uu.get(n) || lu, r = hu.get(r) || v, Ei(r(n.apply(null, rs.call(arguments, 1))))
    }, ns.interpolateHcl = Fi, ns.interpolateHsl = ki, ns.interpolateLab = Oi, ns.interpolateRound = Pi, ns.transform = function (e) {
        var t = as.createElementNS(ns.ns.prefix.svg, "g");
        return (ns.transform = function (e) {
            if (null != e) {
                t.setAttribute("transform", e);
                var n = t.transform.baseVal.consolidate()
            }
            return new Li(n ? n.matrix : cu)
        })(e)
    }, Li.prototype.toString = function () {
        return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")"
    };
    var cu = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0};
    ns.interpolateTransform = Ni, ns.layout = {}, ns.layout.bundle = function () {
        return function (e) {
            for (var t = [], n = -1, r = e.length; ++n < r;)t.push(ji(e[n]));
            return t
        }
    }, ns.layout.chord = function () {
        function e() {
            var e, u, c, A, f, d = {}, p = [], m = ns.range(a), g = [];
            for (n = [], r = [], e = 0, A = -1; ++A < a;) {
                for (u = 0, f = -1; ++f < a;)u += i[A][f];
                p.push(u), g.push(ns.range(a)), e += u
            }
            for (o && m.sort(function (e, t) {
                return o(p[e], p[t])
            }), s && g.forEach(function (e, t) {
                e.sort(function (e, n) {
                    return s(i[t][e], i[t][n])
                })
            }), e = (Fs - h * a) / e, u = 0, A = -1; ++A < a;) {
                for (c = u, f = -1; ++f < a;) {
                    var v = m[A], y = g[v][f], E = i[v][y], b = u, x = u += E * e;
                    d[v + "-" + y] = {index: v, subindex: y, startAngle: b, endAngle: x, value: E}
                }
                r[v] = {index: v, startAngle: c, endAngle: u, value: (u - c) / e}, u += h
            }
            for (A = -1; ++A < a;)for (f = A - 1; ++f < a;) {
                var w = d[A + "-" + f], T = d[f + "-" + A];
                (w.value || T.value) && n.push(w.value < T.value ? {source: T, target: w} : {source: w, target: T})
            }
            l && t()
        }

        function t() {
            n.sort(function (e, t) {
                return l((e.source.value + e.target.value) / 2, (t.source.value + t.target.value) / 2)
            })
        }

        var n, r, i, a, o, s, l, u = {}, h = 0;
        return u.matrix = function (e) {
            return arguments.length ? (a = (i = e) && i.length, n = r = null, u) : i
        }, u.padding = function (e) {
            return arguments.length ? (h = e, n = r = null, u) : h
        }, u.sortGroups = function (e) {
            return arguments.length ? (o = e, n = r = null, u) : o
        }, u.sortSubgroups = function (e) {
            return arguments.length ? (s = e, n = null, u) : s
        }, u.sortChords = function (e) {
            return arguments.length ? (l = e, n && t(), u) : l
        }, u.chords = function () {
            return n || e(), n
        }, u.groups = function () {
            return r || e(), r
        }, u
    }, ns.layout.force = function () {
        function e(e) {
            return function (t, n, r, i) {
                if (t.point !== e) {
                    var a = t.cx - e.x, o = t.cy - e.y, s = i - n, l = a * a + o * o;
                    if (l > s * s / m) {
                        if (d > l) {
                            var u = t.charge / l;
                            e.px -= a * u, e.py -= o * u
                        }
                        return !0
                    }
                    if (t.point && l && d > l) {
                        var u = t.pointCharge / l;
                        e.px -= a * u, e.py -= o * u
                    }
                }
                return !t.charge
            }
        }

        function t(e) {
            e.px = ns.event.x, e.py = ns.event.y, s.resume()
        }

        var n, r, i, a, o, s = {}, l = ns.dispatch("start", "tick", "end"), u = [1, 1], h = .9, c = Au, A = fu, f = -30, d = du, p = .1, m = .64, g = [], y = [];
        return s.tick = function () {
            if ((r *= .99) < .005)return l.end({type: "end", alpha: r = 0}), !0;
            var t, n, s, c, A, d, m, v, E, b = g.length, x = y.length;
            for (n = 0; x > n; ++n)s = y[n], c = s.source, A = s.target, v = A.x - c.x, E = A.y - c.y, (d = v * v + E * E) && (d = r * a[n] * ((d = Math.sqrt(d)) - i[n]) / d, v *= d, E *= d, A.x -= v * (m = c.weight / (A.weight + c.weight)), A.y -= E * m, c.x += v * (m = 1 - m), c.y += E * m);
            if ((m = r * p) && (v = u[0] / 2, E = u[1] / 2, n = -1, m))for (; ++n < b;)s = g[n], s.x += (v - s.x) * m, s.y += (E - s.y) * m;
            if (f)for (Ki(t = ns.geom.quadtree(g), r, o), n = -1; ++n < b;)(s = g[n]).fixed || t.visit(e(s));
            for (n = -1; ++n < b;)s = g[n], s.fixed ? (s.x = s.px, s.y = s.py) : (s.x -= (s.px - (s.px = s.x)) * h, s.y -= (s.py - (s.py = s.y)) * h);
            l.tick({type: "tick", alpha: r})
        }, s.nodes = function (e) {
            return arguments.length ? (g = e, s) : g
        }, s.links = function (e) {
            return arguments.length ? (y = e, s) : y
        }, s.size = function (e) {
            return arguments.length ? (u = e, s) : u
        }, s.linkDistance = function (e) {
            return arguments.length ? (c = "function" == typeof e ? e : +e, s) : c
        }, s.distance = s.linkDistance, s.linkStrength = function (e) {
            return arguments.length ? (A = "function" == typeof e ? e : +e, s) : A
        }, s.friction = function (e) {
            return arguments.length ? (h = +e, s) : h
        }, s.charge = function (e) {
            return arguments.length ? (f = "function" == typeof e ? e : +e, s) : f
        }, s.chargeDistance = function (e) {
            return arguments.length ? (d = e * e, s) : Math.sqrt(d)
        }, s.gravity = function (e) {
            return arguments.length ? (p = +e, s) : p
        }, s.theta = function (e) {
            return arguments.length ? (m = e * e, s) : Math.sqrt(m)
        }, s.alpha = function (e) {
            return arguments.length ? (e = +e, r ? r = e > 0 ? e : 0 : e > 0 && (l.start({
                type: "start",
                alpha: r = e
            }), ns.timer(s.tick)), s) : r
        }, s.start = function () {
            function e(e, r) {
                if (!n) {
                    for (n = new Array(l), s = 0; l > s; ++s)n[s] = [];
                    for (s = 0; h > s; ++s) {
                        var i = y[s];
                        n[i.source.index].push(i.target), n[i.target.index].push(i.source)
                    }
                }
                for (var a, o = n[t], s = -1, u = o.length; ++s < u;)if (!isNaN(a = o[s][e]))return a;
                return Math.random() * r
            }

            var t, n, r, l = g.length, h = y.length, d = u[0], p = u[1];
            for (t = 0; l > t; ++t)(r = g[t]).index = t, r.weight = 0;
            for (t = 0; h > t; ++t)r = y[t], "number" == typeof r.source && (r.source = g[r.source]), "number" == typeof r.target && (r.target = g[r.target]), ++r.source.weight, ++r.target.weight;
            for (t = 0; l > t; ++t)r = g[t], isNaN(r.x) && (r.x = e("x", d)), isNaN(r.y) && (r.y = e("y", p)), isNaN(r.px) && (r.px = r.x), isNaN(r.py) && (r.py = r.y);
            if (i = [], "function" == typeof c)for (t = 0; h > t; ++t)i[t] = +c.call(this, y[t], t); else for (t = 0; h > t; ++t)i[t] = c;
            if (a = [], "function" == typeof A)for (t = 0; h > t; ++t)a[t] = +A.call(this, y[t], t); else for (t = 0; h > t; ++t)a[t] = A;
            if (o = [], "function" == typeof f)for (t = 0; l > t; ++t)o[t] = +f.call(this, g[t], t); else for (t = 0; l > t; ++t)o[t] = f;
            return s.resume()
        }, s.resume = function () {
            return s.alpha(.1)
        }, s.stop = function () {
            return s.alpha(0)
        }, s.drag = function () {
            return n || (n = ns.behavior.drag().origin(v).on("dragstart.force", Yi).on("drag.force", t).on("dragend.force", qi)), arguments.length ? void this.on("mouseover.force", Xi).on("mouseout.force", Zi).call(n) : n
        }, ns.rebind(s, l, "on")
    };
    var Au = 20, fu = 1, du = 1 / 0;
    ns.layout.hierarchy = function () {
        function e(i) {
            var a, o = [i], s = [];
            for (i.depth = 0; null != (a = o.pop());)if (s.push(a), (u = n.call(e, a, a.depth)) && (l = u.length)) {
                for (var l, u, h; --l >= 0;)o.push(h = u[l]), h.parent = a, h.depth = a.depth + 1;
                r && (a.value = 0), a.children = u
            } else r && (a.value = +r.call(e, a, a.depth) || 0), delete a.children;
            return ea(i, function (e) {
                var n, i;
                t && (n = e.children) && n.sort(t), r && (i = e.parent) && (i.value += e.value)
            }), s
        }

        var t = ra, n = ta, r = na;
        return e.sort = function (n) {
            return arguments.length ? (t = n, e) : t
        }, e.children = function (t) {
            return arguments.length ? (n = t, e) : n
        }, e.value = function (t) {
            return arguments.length ? (r = t, e) : r
        }, e.revalue = function (t) {
            return r && (Ji(t, function (e) {
                e.children && (e.value = 0)
            }), ea(t, function (t) {
                var n;
                t.children || (t.value = +r.call(e, t, t.depth) || 0), (n = t.parent) && (n.value += t.value)
            })), t
        }, e
    }, ns.layout.partition = function () {
        function e(t, n, r, i) {
            var a = t.children;
            if (t.x = n, t.y = t.depth * i, t.dx = r, t.dy = i, a && (o = a.length)) {
                var o, s, l, u = -1;
                for (r = t.value ? r / t.value : 0; ++u < o;)e(s = a[u], n, l = s.value * r, i), n += l
            }
        }

        function t(e) {
            var n = e.children, r = 0;
            if (n && (i = n.length))for (var i, a = -1; ++a < i;)r = Math.max(r, t(n[a]));
            return 1 + r
        }

        function n(n, a) {
            var o = r.call(this, n, a);
            return e(o[0], 0, i[0], i[1] / t(o[0])), o
        }

        var r = ns.layout.hierarchy(), i = [1, 1];
        return n.size = function (e) {
            return arguments.length ? (i = e, n) : i
        }, $i(n, r)
    }, ns.layout.pie = function () {
        function e(o) {
            var s, l = o.length, u = o.map(function (n, r) {
                return +t.call(e, n, r)
            }), h = +("function" == typeof r ? r.apply(this, arguments) : r), c = ("function" == typeof i ? i.apply(this, arguments) : i) - h, A = Math.min(Math.abs(c) / l, +("function" == typeof a ? a.apply(this, arguments) : a)), f = A * (0 > c ? -1 : 1), d = (c - l * f) / ns.sum(u), p = ns.range(l), m = [];
            return null != n && p.sort(n === pu ? function (e, t) {
                return u[t] - u[e]
            } : function (e, t) {
                return n(o[e], o[t])
            }), p.forEach(function (e) {
                m[e] = {data: o[e], value: s = u[e], startAngle: h, endAngle: h += s * d + f, padAngle: A}
            }), m
        }

        var t = Number, n = pu, r = 0, i = Fs, a = 0;
        return e.value = function (n) {
            return arguments.length ? (t = n, e) : t
        }, e.sort = function (t) {
            return arguments.length ? (n = t, e) : n
        }, e.startAngle = function (t) {
            return arguments.length ? (r = t, e) : r
        }, e.endAngle = function (t) {
            return arguments.length ? (i = t, e) : i
        }, e.padAngle = function (t) {
            return arguments.length ? (a = t, e) : a
        }, e
    };
    var pu = {};
    ns.layout.stack = function () {
        function e(s, l) {
            if (!(A = s.length))return s;
            var u = s.map(function (n, r) {
                return t.call(e, n, r)
            }), h = u.map(function (t) {
                return t.map(function (t, n) {
                    return [a.call(e, t, n), o.call(e, t, n)]
                })
            }), c = n.call(e, h, l);
            u = ns.permute(u, c), h = ns.permute(h, c);
            var A, f, d, p, m = r.call(e, h, l), g = u[0].length;
            for (d = 0; g > d; ++d)for (i.call(e, u[0][d], p = m[d], h[0][d][1]), f = 1; A > f; ++f)i.call(e, u[f][d], p += h[f - 1][d][1], h[f][d][1]);
            return s
        }

        var t = v, n = la, r = ua, i = sa, a = aa, o = oa;
        return e.values = function (n) {
            return arguments.length ? (t = n, e) : t
        }, e.order = function (t) {
            return arguments.length ? (n = "function" == typeof t ? t : mu.get(t) || la, e) : n
        }, e.offset = function (t) {
            return arguments.length ? (r = "function" == typeof t ? t : gu.get(t) || ua, e) : r
        }, e.x = function (t) {
            return arguments.length ? (a = t, e) : a
        }, e.y = function (t) {
            return arguments.length ? (o = t, e) : o
        }, e.out = function (t) {
            return arguments.length ? (i = t, e) : i
        }, e
    };
    var mu = ns.map({
        "inside-out": function (e) {
            var t, n, r = e.length, i = e.map(ha), a = e.map(ca), o = ns.range(r).sort(function (e, t) {
                return i[e] - i[t]
            }), s = 0, l = 0, u = [], h = [];
            for (t = 0; r > t; ++t)n = o[t], l > s ? (s += a[n], u.push(n)) : (l += a[n], h.push(n));
            return h.reverse().concat(u)
        }, reverse: function (e) {
            return ns.range(e.length).reverse()
        }, "default": la
    }), gu = ns.map({
        silhouette: function (e) {
            var t, n, r, i = e.length, a = e[0].length, o = [], s = 0, l = [];
            for (n = 0; a > n; ++n) {
                for (t = 0, r = 0; i > t; t++)r += e[t][n][1];
                r > s && (s = r), o.push(r)
            }
            for (n = 0; a > n; ++n)l[n] = (s - o[n]) / 2;
            return l
        }, wiggle: function (e) {
            var t, n, r, i, a, o, s, l, u, h = e.length, c = e[0], A = c.length, f = [];
            for (f[0] = l = u = 0, n = 1; A > n; ++n) {
                for (t = 0, i = 0; h > t; ++t)i += e[t][n][1];
                for (t = 0, a = 0, s = c[n][0] - c[n - 1][0]; h > t; ++t) {
                    for (r = 0, o = (e[t][n][1] - e[t][n - 1][1]) / (2 * s); t > r; ++r)o += (e[r][n][1] - e[r][n - 1][1]) / s;
                    a += o * e[t][n][1]
                }
                f[n] = l -= i ? a / i * s : 0, u > l && (u = l)
            }
            for (n = 0; A > n; ++n)f[n] -= u;
            return f
        }, expand: function (e) {
            var t, n, r, i = e.length, a = e[0].length, o = 1 / i, s = [];
            for (n = 0; a > n; ++n) {
                for (t = 0, r = 0; i > t; t++)r += e[t][n][1];
                if (r)for (t = 0; i > t; t++)e[t][n][1] /= r; else for (t = 0; i > t; t++)e[t][n][1] = o
            }
            for (n = 0; a > n; ++n)s[n] = 0;
            return s
        }, zero: ua
    });
    ns.layout.histogram = function () {
        function e(e, a) {
            for (var o, s, l = [], u = e.map(n, this), h = r.call(this, u, a), c = i.call(this, h, u, a), a = -1, A = u.length, f = c.length - 1, d = t ? 1 : 1 / A; ++a < f;)o = l[a] = [], o.dx = c[a + 1] - (o.x = c[a]), o.y = 0;
            if (f > 0)for (a = -1; ++a < A;)s = u[a], s >= h[0] && s <= h[1] && (o = l[ns.bisect(c, s, 1, f) - 1], o.y += d, o.push(e[a]));
            return l
        }

        var t = !0, n = Number, r = pa, i = fa;
        return e.value = function (t) {
            return arguments.length ? (n = t, e) : n
        }, e.range = function (t) {
            return arguments.length ? (r = Rt(t), e) : r
        }, e.bins = function (t) {
            return arguments.length ? (i = "number" == typeof t ? function (e) {
                return da(e, t)
            } : Rt(t), e) : i
        }, e.frequency = function (n) {
            return arguments.length ? (t = !!n, e) : t
        }, e
    }, ns.layout.pack = function () {
        function e(e, a) {
            var o = n.call(this, e, a), s = o[0], l = i[0], u = i[1], h = null == t ? Math.sqrt : "function" == typeof t ? t : function () {
                return t
            };
            if (s.x = s.y = 0, ea(s, function (e) {
                    e.r = +h(e.value)
                }), ea(s, Ea), r) {
                var c = r * (t ? 1 : Math.max(2 * s.r / l, 2 * s.r / u)) / 2;
                ea(s, function (e) {
                    e.r += c
                }), ea(s, Ea), ea(s, function (e) {
                    e.r -= c
                })
            }
            return wa(s, l / 2, u / 2, t ? 1 : 1 / Math.max(2 * s.r / l, 2 * s.r / u)), o
        }

        var t, n = ns.layout.hierarchy().sort(ma), r = 0, i = [1, 1];
        return e.size = function (t) {
            return arguments.length ? (i = t, e) : i
        }, e.radius = function (n) {
            return arguments.length ? (t = null == n || "function" == typeof n ? n : +n, e) : t
        }, e.padding = function (t) {
            return arguments.length ? (r = +t, e) : r
        }, $i(e, n)
    }, ns.layout.tree = function () {
        function e(e, i) {
            var h = o.call(this, e, i), c = h[0], A = t(c);
            if (ea(A, n), A.parent.m = -A.z, Ji(A, r), u)Ji(c, a); else {
                var f = c, d = c, p = c;
                Ji(c, function (e) {
                    e.x < f.x && (f = e), e.x > d.x && (d = e), e.depth > p.depth && (p = e)
                });
                var m = s(f, d) / 2 - f.x, g = l[0] / (d.x + s(d, f) / 2 + m), v = l[1] / (p.depth || 1);
                Ji(c, function (e) {
                    e.x = (e.x + m) * g, e.y = e.depth * v
                })
            }
            return h
        }

        function t(e) {
            for (var t, n = {
                A: null,
                children: [e]
            }, r = [n]; null != (t = r.pop());)for (var i, a = t.children, o = 0, s = a.length; s > o; ++o)r.push((a[o] = i = {
                _: a[o],
                parent: t,
                children: (i = a[o].children) && i.slice() || [],
                A: null,
                a: null,
                z: 0,
                m: 0,
                c: 0,
                s: 0,
                t: null,
                i: o
            }).a = i);
            return n.children[0]
        }

        function n(e) {
            var t = e.children, n = e.parent.children, r = e.i ? n[e.i - 1] : null;
            if (t.length) {
                Ma(e);
                var a = (t[0].z + t[t.length - 1].z) / 2;
                r ? (e.z = r.z + s(e._, r._), e.m = e.z - a) : e.z = a
            } else r && (e.z = r.z + s(e._, r._));
            e.parent.A = i(e, r, e.parent.A || n[0])
        }

        function r(e) {
            e._.x = e.z + e.parent.m, e.m += e.parent.m
        }

        function i(e, t, n) {
            if (t) {
                for (var r, i = e, a = e, o = t, l = i.parent.children[0], u = i.m, h = a.m, c = o.m, A = l.m; o = _a(o), i = Ra(i), o && i;)l = Ra(l), a = _a(a), a.a = e, r = o.z + c - i.z - u + s(o._, i._), r > 0 && (Ba(Ha(o, e, n), e, r), u += r, h += r), c += o.m, u += i.m, A += l.m, h += a.m;
                o && !_a(a) && (a.t = o, a.m += c - h), i && !Ra(l) && (l.t = i, l.m += u - A, n = e)
            }
            return n
        }

        function a(e) {
            e.x *= l[0], e.y = e.depth * l[1]
        }

        var o = ns.layout.hierarchy().sort(null).value(null), s = Ca, l = [1, 1], u = null;
        return e.separation = function (t) {
            return arguments.length ? (s = t, e) : s
        }, e.size = function (t) {
            return arguments.length ? (u = null == (l = t) ? a : null, e) : u ? null : l
        }, e.nodeSize = function (t) {
            return arguments.length ? (u = null == (l = t) ? null : a, e) : u ? l : null
        }, $i(e, o)
    }, ns.layout.cluster = function () {
        function e(e, a) {
            var o, s = t.call(this, e, a), l = s[0], u = 0;
            ea(l, function (e) {
                var t = e.children;
                t && t.length ? (e.x = Da(t), e.y = Sa(t)) : (e.x = o ? u += n(e, o) : 0, e.y = 0, o = e)
            });
            var h = Fa(l), c = ka(l), A = h.x - n(h, c) / 2, f = c.x + n(c, h) / 2;
            return ea(l, i ? function (e) {
                e.x = (e.x - l.x) * r[0], e.y = (l.y - e.y) * r[1]
            } : function (e) {
                e.x = (e.x - A) / (f - A) * r[0], e.y = (1 - (l.y ? e.y / l.y : 1)) * r[1]
            }), s
        }

        var t = ns.layout.hierarchy().sort(null).value(null), n = Ca, r = [1, 1], i = !1;
        return e.separation = function (t) {
            return arguments.length ? (n = t, e) : n
        }, e.size = function (t) {
            return arguments.length ? (i = null == (r = t), e) : i ? null : r
        }, e.nodeSize = function (t) {
            return arguments.length ? (i = null != (r = t), e) : i ? r : null
        }, $i(e, t)
    }, ns.layout.treemap = function () {
        function e(e, t) {
            for (var n, r, i = -1, a = e.length; ++i < a;)r = (n = e[i]).value * (0 > t ? 0 : t), n.area = isNaN(r) || 0 >= r ? 0 : r
        }

        function t(n) {
            var a = n.children;
            if (a && a.length) {
                var o, s, l, u = c(n), h = [], A = a.slice(), d = 1 / 0, p = "slice" === f ? u.dx : "dice" === f ? u.dy : "slice-dice" === f ? 1 & n.depth ? u.dy : u.dx : Math.min(u.dx, u.dy);
                for (e(A, u.dx * u.dy / n.value), h.area = 0; (l = A.length) > 0;)h.push(o = A[l - 1]), h.area += o.area, "squarify" !== f || (s = r(h, p)) <= d ? (A.pop(), d = s) : (h.area -= h.pop().area, i(h, p, u, !1), p = Math.min(u.dx, u.dy), h.length = h.area = 0, d = 1 / 0);
                h.length && (i(h, p, u, !0), h.length = h.area = 0), a.forEach(t)
            }
        }

        function n(t) {
            var r = t.children;
            if (r && r.length) {
                var a, o = c(t), s = r.slice(), l = [];
                for (e(s, o.dx * o.dy / t.value), l.area = 0; a = s.pop();)l.push(a), l.area += a.area, null != a.z && (i(l, a.z ? o.dx : o.dy, o, !s.length), l.length = l.area = 0);
                r.forEach(n)
            }
        }

        function r(e, t) {
            for (var n, r = e.area, i = 0, a = 1 / 0, o = -1, s = e.length; ++o < s;)(n = e[o].area) && (a > n && (a = n), n > i && (i = n));
            return r *= r, t *= t, r ? Math.max(t * i * d / r, r / (t * a * d)) : 1 / 0
        }

        function i(e, t, n, r) {
            var i, a = -1, o = e.length, s = n.x, u = n.y, h = t ? l(e.area / t) : 0;
            if (t == n.dx) {
                for ((r || h > n.dy) && (h = n.dy); ++a < o;)i = e[a], i.x = s, i.y = u, i.dy = h, s += i.dx = Math.min(n.x + n.dx - s, h ? l(i.area / h) : 0);
                i.z = !0, i.dx += n.x + n.dx - s, n.y += h, n.dy -= h
            } else {
                for ((r || h > n.dx) && (h = n.dx); ++a < o;)i = e[a], i.x = s, i.y = u, i.dx = h, u += i.dy = Math.min(n.y + n.dy - u, h ? l(i.area / h) : 0);
                i.z = !1, i.dy += n.y + n.dy - u, n.x += h, n.dx -= h
            }
        }

        function a(r) {
            var i = o || s(r), a = i[0];
            return a.x = 0, a.y = 0, a.dx = u[0], a.dy = u[1], o && s.revalue(a), e([a], a.dx * a.dy / a.value), (o ? n : t)(a), A && (o = i), i
        }

        var o, s = ns.layout.hierarchy(), l = Math.round, u = [1, 1], h = null, c = Oa, A = !1, f = "squarify", d = .5 * (1 + Math.sqrt(5));
        return a.size = function (e) {
            return arguments.length ? (u = e, a) : u
        }, a.padding = function (e) {
            function t(t) {
                var n = e.call(a, t, t.depth);
                return null == n ? Oa(t) : Pa(t, "number" == typeof n ? [n, n, n, n] : n)
            }

            function n(t) {
                return Pa(t, e)
            }

            if (!arguments.length)return h;
            var r;
            return c = null == (h = e) ? Oa : "function" == (r = typeof e) ? t : "number" === r ? (e = [e, e, e, e], n) : n, a
        }, a.round = function (e) {
            return arguments.length ? (l = e ? Math.round : Number, a) : l != Number
        }, a.sticky = function (e) {
            return arguments.length ? (A = e, o = null, a) : A
        }, a.ratio = function (e) {
            return arguments.length ? (d = e, a) : d
        }, a.mode = function (e) {
            return arguments.length ? (f = e + "", a) : f
        }, $i(a, s)
    }, ns.random = {
        normal: function (e, t) {
            var n = arguments.length;
            return 2 > n && (t = 1), 1 > n && (e = 0), function () {
                var n, r, i;
                do n = 2 * Math.random() - 1, r = 2 * Math.random() - 1, i = n * n + r * r; while (!i || i > 1);
                return e + t * n * Math.sqrt(-2 * Math.log(i) / i)
            }
        }, logNormal: function () {
            var e = ns.random.normal.apply(ns, arguments);
            return function () {
                return Math.exp(e())
            }
        }, bates: function (e) {
            var t = ns.random.irwinHall(e);
            return function () {
                return t() / e
            }
        }, irwinHall: function (e) {
            return function () {
                for (var t = 0, n = 0; e > n; n++)t += Math.random();
                return t
            }
        }
    }, ns.scale = {};
    var vu = {floor: v, ceil: v};
    ns.scale.linear = function () {
        return Ua([0, 1], [0, 1], vi, !1)
    };
    var yu = {s: 1, g: 1, p: 1, r: 1, e: 1};
    ns.scale.log = function () {
        return Ka(ns.scale.linear().domain([0, 1]), 10, !0, [1, 10])
    };
    var Eu = ns.format(".0e"), bu = {
        floor: function (e) {
            return -Math.ceil(-e)
        }, ceil: function (e) {
            return -Math.floor(-e)
        }
    };
    ns.scale.pow = function () {
        return $a(ns.scale.linear(), 1, [0, 1])
    }, ns.scale.sqrt = function () {
        return ns.scale.pow().exponent(.5)
    }, ns.scale.ordinal = function () {
        return eo([], {t: "range", a: [[]]})
    }, ns.scale.category10 = function () {
        return ns.scale.ordinal().range(xu)
    }, ns.scale.category20 = function () {
        return ns.scale.ordinal().range(wu)
    }, ns.scale.category20b = function () {
        return ns.scale.ordinal().range(Tu)
    }, ns.scale.category20c = function () {
        return ns.scale.ordinal().range(Cu)
    };
    var xu = [2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175].map(yt), wu = [2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725].map(yt), Tu = [3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654].map(yt), Cu = [3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081].map(yt);
    ns.scale.quantile = function () {
        return to([], [])
    }, ns.scale.quantize = function () {
        return no(0, 1, [0, 1])
    }, ns.scale.threshold = function () {
        return ro([.5], [0, 1])
    }, ns.scale.identity = function () {
        return io([0, 1])
    }, ns.svg = {}, ns.svg.arc = function () {
        function e() {
            var e = Math.max(0, +n.apply(this, arguments)), u = Math.max(0, +r.apply(this, arguments)), h = o.apply(this, arguments) - Os, c = s.apply(this, arguments) - Os, A = Math.abs(c - h), f = h > c ? 0 : 1;
            if (e > u && (d = u, u = e, e = d), A >= ks)return t(u, f) + (e ? t(e, 1 - f) : "") + "Z";
            var d, p, m, g, v, y, E, b, x, w, T, C, R = 0, _ = 0, B = [];
            if ((g = (+l.apply(this, arguments) || 0) / 2) && (m = a === Ru ? Math.sqrt(e * e + u * u) : +a.apply(this, arguments), f || (_ *= -1), u && (_ = tt(m / u * Math.sin(g))), e && (R = tt(m / e * Math.sin(g)))), u) {
                v = u * Math.cos(h + _), y = u * Math.sin(h + _), E = u * Math.cos(c - _), b = u * Math.sin(c - _);
                var M = Math.abs(c - h - 2 * _) <= Ds ? 0 : 1;
                if (_ && co(v, y, E, b) === f ^ M) {
                    var H = (h + c) / 2;
                    v = u * Math.cos(H), y = u * Math.sin(H), E = b = null
                }
            } else v = y = 0;
            if (e) {
                x = e * Math.cos(c - R), w = e * Math.sin(c - R), T = e * Math.cos(h + R), C = e * Math.sin(h + R);
                var S = Math.abs(h - c + 2 * R) <= Ds ? 0 : 1;
                if (R && co(x, w, T, C) === 1 - f ^ S) {
                    var D = (h + c) / 2;
                    x = e * Math.cos(D), w = e * Math.sin(D), T = C = null
                }
            } else x = w = 0;
            if ((d = Math.min(Math.abs(u - e) / 2, +i.apply(this, arguments))) > .001) {
                p = u > e ^ f ? 0 : 1;
                var F = null == T ? [x, w] : null == E ? [v, y] : Fr([v, y], [T, C], [E, b], [x, w]), k = v - F[0], O = y - F[1], P = E - F[0], L = b - F[1], z = 1 / Math.sin(Math.acos((k * P + O * L) / (Math.sqrt(k * k + O * O) * Math.sqrt(P * P + L * L))) / 2), I = Math.sqrt(F[0] * F[0] + F[1] * F[1]);
                if (null != E) {
                    var G = Math.min(d, (u - I) / (z + 1)), N = Ao(null == T ? [x, w] : [T, C], [v, y], u, G, f), V = Ao([E, b], [x, w], u, G, f);
                    d === G ? B.push("M", N[0], "A", G, ",", G, " 0 0,", p, " ", N[1], "A", u, ",", u, " 0 ", 1 - f ^ co(N[1][0], N[1][1], V[1][0], V[1][1]), ",", f, " ", V[1], "A", G, ",", G, " 0 0,", p, " ", V[0]) : B.push("M", N[0], "A", G, ",", G, " 0 1,", p, " ", V[0])
                } else B.push("M", v, ",", y);
                if (null != T) {
                    var U = Math.min(d, (e - I) / (z - 1)), j = Ao([v, y], [T, C], e, -U, f), Q = Ao([x, w], null == E ? [v, y] : [E, b], e, -U, f);
                    d === U ? B.push("L", Q[0], "A", U, ",", U, " 0 0,", p, " ", Q[1], "A", e, ",", e, " 0 ", f ^ co(Q[1][0], Q[1][1], j[1][0], j[1][1]), ",", 1 - f, " ", j[1], "A", U, ",", U, " 0 0,", p, " ", j[0]) : B.push("L", Q[0], "A", U, ",", U, " 0 0,", p, " ", j[0])
                } else B.push("L", x, ",", w)
            } else B.push("M", v, ",", y), null != E && B.push("A", u, ",", u, " 0 ", M, ",", f, " ", E, ",", b), B.push("L", x, ",", w), null != T && B.push("A", e, ",", e, " 0 ", S, ",", 1 - f, " ", T, ",", C);
            return B.push("Z"), B.join("")
        }

        function t(e, t) {
            return "M0," + e + "A" + e + "," + e + " 0 1," + t + " 0," + -e + "A" + e + "," + e + " 0 1," + t + " 0," + e
        }

        var n = oo, r = so, i = ao, a = Ru, o = lo, s = uo, l = ho;
        return e.innerRadius = function (t) {
            return arguments.length ? (n = Rt(t), e) : n
        }, e.outerRadius = function (t) {
            return arguments.length ? (r = Rt(t), e) : r
        }, e.cornerRadius = function (t) {
            return arguments.length ? (i = Rt(t), e) : i
        }, e.padRadius = function (t) {
            return arguments.length ? (a = t == Ru ? Ru : Rt(t), e) : a
        }, e.startAngle = function (t) {
            return arguments.length ? (o = Rt(t), e) : o
        }, e.endAngle = function (t) {
            return arguments.length ? (s = Rt(t), e) : s
        }, e.padAngle = function (t) {
            return arguments.length ? (l = Rt(t), e) : l
        }, e.centroid = function () {
            var e = (+n.apply(this, arguments) + +r.apply(this, arguments)) / 2, t = (+o.apply(this, arguments) + +s.apply(this, arguments)) / 2 - Os;
            return [Math.cos(t) * e, Math.sin(t) * e]
        }, e
    };
    var Ru = "auto";
    ns.svg.line = function () {
        return fo(v)
    };
    var _u = ns.map({
        linear: po,
        "linear-closed": mo,
        step: go,
        "step-before": vo,
        "step-after": yo,
        basis: Co,
        "basis-open": Ro,
        "basis-closed": _o,
        bundle: Bo,
        cardinal: xo,
        "cardinal-open": Eo,
        "cardinal-closed": bo,
        monotone: ko
    });
    _u.forEach(function (e, t) {
        t.key = e, t.closed = /-closed$/.test(e)
    });
    var Bu = [0, 2 / 3, 1 / 3, 0], Mu = [0, 1 / 3, 2 / 3, 0], Hu = [0, 1 / 6, 2 / 3, 1 / 6];
    ns.svg.line.radial = function () {
        var e = fo(Oo);
        return e.radius = e.x, delete e.x, e.angle = e.y, delete e.y, e
    }, vo.reverse = yo, yo.reverse = vo, ns.svg.area = function () {
        return Po(v)
    }, ns.svg.area.radial = function () {
        var e = Po(Oo);
        return e.radius = e.x, delete e.x, e.innerRadius = e.x0, delete e.x0, e.outerRadius = e.x1, delete e.x1, e.angle = e.y, delete e.y, e.startAngle = e.y0, delete e.y0, e.endAngle = e.y1, delete e.y1, e
    }, ns.svg.chord = function () {
        function e(e, s) {
            var l = t(this, a, e, s), u = t(this, o, e, s);
            return "M" + l.p0 + r(l.r, l.p1, l.a1 - l.a0) + (n(l, u) ? i(l.r, l.p1, l.r, l.p0) : i(l.r, l.p1, u.r, u.p0) + r(u.r, u.p1, u.a1 - u.a0) + i(u.r, u.p1, l.r, l.p0)) + "Z"
        }

        function t(e, t, n, r) {
            var i = t.call(e, n, r), a = s.call(e, i, r), o = l.call(e, i, r) - Os, h = u.call(e, i, r) - Os;
            return {r: a, a0: o, a1: h, p0: [a * Math.cos(o), a * Math.sin(o)], p1: [a * Math.cos(h), a * Math.sin(h)]}
        }

        function n(e, t) {
            return e.a0 == t.a0 && e.a1 == t.a1
        }

        function r(e, t, n) {
            return "A" + e + "," + e + " 0 " + +(n > Ds) + ",1 " + t
        }

        function i(e, t, n, r) {
            return "Q 0,0 " + r
        }

        var a = vr, o = yr, s = Lo, l = lo, u = uo;
        return e.radius = function (t) {
            return arguments.length ? (s = Rt(t), e) : s
        }, e.source = function (t) {
            return arguments.length ? (a = Rt(t), e) : a
        }, e.target = function (t) {
            return arguments.length ? (o = Rt(t), e) : o
        }, e.startAngle = function (t) {
            return arguments.length ? (l = Rt(t), e) : l
        }, e.endAngle = function (t) {
            return arguments.length ? (u = Rt(t), e) : u
        }, e
    }, ns.svg.diagonal = function () {
        function e(e, i) {
            var a = t.call(this, e, i), o = n.call(this, e, i), s = (a.y + o.y) / 2, l = [a, {x: a.x, y: s}, {
                x: o.x,
                y: s
            }, o];
            return l = l.map(r), "M" + l[0] + "C" + l[1] + " " + l[2] + " " + l[3]
        }

        var t = vr, n = yr, r = zo;
        return e.source = function (n) {
            return arguments.length ? (t = Rt(n), e) : t
        }, e.target = function (t) {
            return arguments.length ? (n = Rt(t), e) : n
        }, e.projection = function (t) {
            return arguments.length ? (r = t, e) : r
        }, e
    }, ns.svg.diagonal.radial = function () {
        var e = ns.svg.diagonal(), t = zo, n = e.projection;
        return e.projection = function (e) {
            return arguments.length ? n(Io(t = e)) : t
        }, e
    }, ns.svg.symbol = function () {
        function e(e, r) {
            return (Su.get(t.call(this, e, r)) || Vo)(n.call(this, e, r))
        }

        var t = No, n = Go;
        return e.type = function (n) {
            return arguments.length ? (t = Rt(n), e) : t
        }, e.size = function (t) {
            return arguments.length ? (n = Rt(t), e) : n
        }, e
    };
    var Su = ns.map({
        circle: Vo, cross: function (e) {
            var t = Math.sqrt(e / 5) / 2;
            return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z"
        }, diamond: function (e) {
            var t = Math.sqrt(e / (2 * Fu)), n = t * Fu;
            return "M0," + -t + "L" + n + ",0 0," + t + " " + -n + ",0Z"
        }, square: function (e) {
            var t = Math.sqrt(e) / 2;
            return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z"
        }, "triangle-down": function (e) {
            var t = Math.sqrt(e / Du), n = t * Du / 2;
            return "M0," + n + "L" + t + "," + -n + " " + -t + "," + -n + "Z"
        }, "triangle-up": function (e) {
            var t = Math.sqrt(e / Du), n = t * Du / 2;
            return "M0," + -n + "L" + t + "," + n + " " + -t + "," + n + "Z"
        }
    });
    ns.svg.symbolTypes = Su.keys();
    var Du = Math.sqrt(3), Fu = Math.tan(30 * Ps);
    ws.transition = function (e) {
        for (var t, n, r = ku || ++zu, i = Yo(e), a = [], o = Ou || {
                time: Date.now(),
                ease: Ci,
                delay: 0,
                duration: 250
            }, s = -1, l = this.length; ++s < l;) {
            a.push(t = []);
            for (var u = this[s], h = -1, c = u.length; ++h < c;)(n = u[h]) && qo(n, h, i, r, o), t.push(n)
        }
        return jo(a, i, r)
    }, ws.interrupt = function (e) {
        return this.each(null == e ? Pu : Uo(Yo(e)))
    };
    var ku, Ou, Pu = Uo(Yo()), Lu = [], zu = 0;
    Lu.call = ws.call, Lu.empty = ws.empty, Lu.node = ws.node, Lu.size = ws.size, ns.transition = function (e, t) {
        return e && e.transition ? ku ? e.transition(t) : e : ns.selection().transition(e)
    }, ns.transition.prototype = Lu, Lu.select = function (e) {
        var t, n, r, i = this.id, a = this.namespace, o = [];
        e = B(e);
        for (var s = -1, l = this.length; ++s < l;) {
            o.push(t = []);
            for (var u = this[s], h = -1, c = u.length; ++h < c;)(r = u[h]) && (n = e.call(r, r.__data__, h, s)) ? ("__data__" in r && (n.__data__ = r.__data__), qo(n, h, a, i, r[a][i]), t.push(n)) : t.push(null)
        }
        return jo(o, a, i)
    }, Lu.selectAll = function (e) {
        var t, n, r, i, a, o = this.id, s = this.namespace, l = [];
        e = M(e);
        for (var u = -1, h = this.length; ++u < h;)for (var c = this[u], A = -1, f = c.length; ++A < f;)if (r = c[A]) {
            a = r[s][o], n = e.call(r, r.__data__, A, u), l.push(t = []);
            for (var d = -1, p = n.length; ++d < p;)(i = n[d]) && qo(i, d, s, o, a), t.push(i)
        }
        return jo(l, s, o)
    }, Lu.filter = function (e) {
        var t, n, r, i = [];
        "function" != typeof e && (e = N(e));
        for (var a = 0, o = this.length; o > a; a++) {
            i.push(t = []);
            for (var n = this[a], s = 0, l = n.length; l > s; s++)(r = n[s]) && e.call(r, r.__data__, s, a) && t.push(r)
        }
        return jo(i, this.namespace, this.id)
    }, Lu.tween = function (e, t) {
        var n = this.id, r = this.namespace;
        return arguments.length < 2 ? this.node()[r][n].tween.get(e) : U(this, null == t ? function (t) {
            t[r][n].tween.remove(e)
        } : function (i) {
            i[r][n].tween.set(e, t)
        })
    }, Lu.attr = function (e, t) {
        function n() {
            this.removeAttribute(s)
        }

        function r() {
            this.removeAttributeNS(s.space, s.local)
        }

        function i(e) {
            return null == e ? n : (e += "", function () {
                var t, n = this.getAttribute(s);
                return n !== e && (t = o(n, e), function (e) {
                        this.setAttribute(s, t(e))
                    })
            })
        }

        function a(e) {
            return null == e ? r : (e += "", function () {
                var t, n = this.getAttributeNS(s.space, s.local);
                return n !== e && (t = o(n, e), function (e) {
                        this.setAttributeNS(s.space, s.local, t(e))
                    })
            })
        }

        if (arguments.length < 2) {
            for (t in e)this.attr(t, e[t]);
            return this
        }
        var o = "transform" == e ? Ni : vi, s = ns.ns.qualify(e);
        return Qo(this, "attr." + e, t, s.local ? a : i)
    }, Lu.attrTween = function (e, t) {
        function n(e, n) {
            var r = t.call(this, e, n, this.getAttribute(i));
            return r && function (e) {
                    this.setAttribute(i, r(e))
                }
        }

        function r(e, n) {
            var r = t.call(this, e, n, this.getAttributeNS(i.space, i.local));
            return r && function (e) {
                    this.setAttributeNS(i.space, i.local, r(e))
                }
        }

        var i = ns.ns.qualify(e);
        return this.tween("attr." + e, i.local ? r : n)
    }, Lu.style = function (e, n, r) {
        function i() {
            this.style.removeProperty(e)
        }

        function a(n) {
            return null == n ? i : (n += "", function () {
                var i, a = t(this).getComputedStyle(this, null).getPropertyValue(e);
                return a !== n && (i = vi(a, n), function (t) {
                        this.style.setProperty(e, i(t), r)
                    })
            })
        }

        var o = arguments.length;
        if (3 > o) {
            if ("string" != typeof e) {
                2 > o && (n = "");
                for (r in e)this.style(r, e[r], n);
                return this
            }
            r = ""
        }
        return Qo(this, "style." + e, n, a)
    }, Lu.styleTween = function (e, n, r) {
        function i(i, a) {
            var o = n.call(this, i, a, t(this).getComputedStyle(this, null).getPropertyValue(e));
            return o && function (t) {
                    this.style.setProperty(e, o(t), r)
                }
        }

        return arguments.length < 3 && (r = ""), this.tween("style." + e, i)
    }, Lu.text = function (e) {
        return Qo(this, "text", e, Wo)
    }, Lu.remove = function () {
        var e = this.namespace;
        return this.each("end.transition", function () {
            var t;
            this[e].count < 2 && (t = this.parentNode) && t.removeChild(this)
        })
    }, Lu.ease = function (e) {
        var t = this.id, n = this.namespace;
        return arguments.length < 1 ? this.node()[n][t].ease : ("function" != typeof e && (e = ns.ease.apply(ns, arguments)), U(this, function (r) {
            r[n][t].ease = e
        }))
    }, Lu.delay = function (e) {
        var t = this.id, n = this.namespace;
        return arguments.length < 1 ? this.node()[n][t].delay : U(this, "function" == typeof e ? function (r, i, a) {
            r[n][t].delay = +e.call(r, r.__data__, i, a)
        } : (e = +e, function (r) {
            r[n][t].delay = e
        }))
    }, Lu.duration = function (e) {
        var t = this.id, n = this.namespace;
        return arguments.length < 1 ? this.node()[n][t].duration : U(this, "function" == typeof e ? function (r, i, a) {
            r[n][t].duration = Math.max(1, e.call(r, r.__data__, i, a))
        } : (e = Math.max(1, e), function (r) {
            r[n][t].duration = e
        }))
    }, Lu.each = function (e, t) {
        var n = this.id, r = this.namespace;
        if (arguments.length < 2) {
            var i = Ou, a = ku;
            try {
                ku = n, U(this, function (t, i, a) {
                    Ou = t[r][n], e.call(t, t.__data__, i, a)
                })
            } finally {
                Ou = i, ku = a
            }
        } else U(this, function (i) {
            var a = i[r][n];
            (a.event || (a.event = ns.dispatch("start", "end", "interrupt"))).on(e, t)
        });
        return this
    }, Lu.transition = function () {
        for (var e, t, n, r, i = this.id, a = ++zu, o = this.namespace, s = [], l = 0, u = this.length; u > l; l++) {
            s.push(e = []);
            for (var t = this[l], h = 0, c = t.length; c > h; h++)(n = t[h]) && (r = n[o][i], qo(n, h, o, a, {
                time: r.time,
                ease: r.ease,
                delay: r.delay + r.duration,
                duration: r.duration
            })), e.push(n)
        }
        return jo(s, o, a)
    }, ns.svg.axis = function () {
        function e(e) {
            e.each(function () {
                var e, u = ns.select(this), h = this.__chart__ || n, c = this.__chart__ = n.copy(), A = null == l ? c.ticks ? c.ticks.apply(c, s) : c.domain() : l, f = null == t ? c.tickFormat ? c.tickFormat.apply(c, s) : v : t, d = u.selectAll(".tick").data(A, c), p = d.enter().insert("g", ".domain").attr("class", "tick").style("opacity", Hs), m = ns.transition(d.exit()).style("opacity", Hs).remove(), g = ns.transition(d.order()).style("opacity", 1), y = Math.max(i, 0) + o, E = za(c), b = u.selectAll(".domain").data([0]), x = (b.enter().append("path").attr("class", "domain"), ns.transition(b));
                p.append("line"), p.append("text");
                var w, T, C, R, _ = p.select("line"), B = g.select("line"), M = d.select("text").text(f), H = p.select("text"), S = g.select("text"), D = "top" === r || "left" === r ? -1 : 1;
                if ("bottom" === r || "top" === r ? (e = Xo, w = "x", C = "y", T = "x2", R = "y2", M.attr("dy", 0 > D ? "0em" : ".71em").style("text-anchor", "middle"), x.attr("d", "M" + E[0] + "," + D * a + "V0H" + E[1] + "V" + D * a)) : (e = Zo, w = "y", C = "x", T = "y2", R = "x2", M.attr("dy", ".32em").style("text-anchor", 0 > D ? "end" : "start"), x.attr("d", "M" + D * a + "," + E[0] + "H0V" + E[1] + "H" + D * a)), _.attr(R, D * i), H.attr(C, D * y), B.attr(T, 0).attr(R, D * i), S.attr(w, 0).attr(C, D * y), c.rangeBand) {
                    var F = c, k = F.rangeBand() / 2;
                    h = c = function (e) {
                        return F(e) + k
                    }
                } else h.rangeBand ? h = c : m.call(e, c, h);
                p.call(e, h, c), g.call(e, c, c)
            })
        }

        var t, n = ns.scale.linear(), r = Iu, i = 6, a = 6, o = 3, s = [10], l = null;
        return e.scale = function (t) {
            return arguments.length ? (n = t, e) : n
        }, e.orient = function (t) {
            return arguments.length ? (r = t in Gu ? t + "" : Iu, e) : r
        }, e.ticks = function () {
            return arguments.length ? (s = arguments, e) : s
        }, e.tickValues = function (t) {
            return arguments.length ? (l = t, e) : l
        }, e.tickFormat = function (n) {
            return arguments.length ? (t = n, e) : t
        }, e.tickSize = function (t) {
            var n = arguments.length;
            return n ? (i = +t, a = +arguments[n - 1], e) : i
        }, e.innerTickSize = function (t) {
            return arguments.length ? (i = +t, e) : i
        }, e.outerTickSize = function (t) {
            return arguments.length ? (a = +t, e) : a
        }, e.tickPadding = function (t) {
            return arguments.length ? (o = +t, e) : o
        }, e.tickSubdivide = function () {
            return arguments.length && e
        }, e
    };
    var Iu = "bottom", Gu = {top: 1, right: 1, bottom: 1, left: 1};
    ns.svg.brush = function () {
        function e(t) {
            t.each(function () {
                var t = ns.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", a).on("touchstart.brush", a), o = t.selectAll(".background").data([0]);
                o.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), t.selectAll(".extent").data([0]).enter().append("rect").attr("class", "extent").style("cursor", "move");
                var s = t.selectAll(".resize").data(p, v);
                s.exit().remove(), s.enter().append("g").attr("class", function (e) {
                    return "resize " + e
                }).style("cursor", function (e) {
                    return Nu[e]
                }).append("rect").attr("x", function (e) {
                    return /[ew]$/.test(e) ? -3 : null
                }).attr("y", function (e) {
                    return /^[ns]/.test(e) ? -3 : null
                }).attr("width", 6).attr("height", 6).style("visibility", "hidden"), s.style("display", e.empty() ? "none" : null);
                var l, c = ns.transition(t), A = ns.transition(o);
                u && (l = za(u), A.attr("x", l[0]).attr("width", l[1] - l[0]), r(c)), h && (l = za(h), A.attr("y", l[0]).attr("height", l[1] - l[0]), i(c)), n(c)
            })
        }

        function n(e) {
            e.selectAll(".resize").attr("transform", function (e) {
                return "translate(" + c[+/e$/.test(e)] + "," + A[+/^s/.test(e)] + ")"
            })
        }

        function r(e) {
            e.select(".extent").attr("x", c[0]), e.selectAll(".extent,.n>rect,.s>rect").attr("width", c[1] - c[0])
        }

        function i(e) {
            e.select(".extent").attr("y", A[0]), e.selectAll(".extent,.e>rect,.w>rect").attr("height", A[1] - A[0])
        }

        function a() {
            function a() {
                32 == ns.event.keyCode && (M || (y = null, S[0] -= c[1], S[1] -= A[1], M = 2), T())
            }

            function p() {
                32 == ns.event.keyCode && 2 == M && (S[0] += c[1], S[1] += A[1], M = 0, T())
            }

            function m() {
                var e = ns.mouse(b), t = !1;
                E && (e[0] += E[0], e[1] += E[1]), M || (ns.event.altKey ? (y || (y = [(c[0] + c[1]) / 2, (A[0] + A[1]) / 2]), S[0] = c[+(e[0] < y[0])], S[1] = A[+(e[1] < y[1])]) : y = null), _ && g(e, u, 0) && (r(C), t = !0), B && g(e, h, 1) && (i(C), t = !0), t && (n(C), w({
                    type: "brush",
                    mode: M ? "move" : "resize"
                }))
            }

            function g(e, t, n) {
                var r, i, a = za(t), l = a[0], u = a[1], h = S[n], p = n ? A : c, m = p[1] - p[0];
                return M && (l -= h, u -= m + h), r = (n ? d : f) ? Math.max(l, Math.min(u, e[n])) : e[n], M ? i = (r += h) + m : (y && (h = Math.max(l, Math.min(u, 2 * y[n] - r))), r > h ? (i = r, r = h) : i = h), p[0] != r || p[1] != i ? (n ? s = null : o = null, p[0] = r, p[1] = i, !0) : void 0
            }

            function v() {
                m(), C.style("pointer-events", "all").selectAll(".resize").style("display", e.empty() ? "none" : null), ns.select("body").style("cursor", null), D.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), H(), w({type: "brushend"})
            }

            var y, E, b = this, x = ns.select(ns.event.target), w = l.of(b, arguments), C = ns.select(b), R = x.datum(), _ = !/^(n|s)$/.test(R) && u, B = !/^(e|w)$/.test(R) && h, M = x.classed("extent"), H = X(b), S = ns.mouse(b), D = ns.select(t(b)).on("keydown.brush", a).on("keyup.brush", p);
            if (ns.event.changedTouches ? D.on("touchmove.brush", m).on("touchend.brush", v) : D.on("mousemove.brush", m).on("mouseup.brush", v), C.interrupt().selectAll("*").interrupt(), M)S[0] = c[0] - S[0], S[1] = A[0] - S[1]; else if (R) {
                var F = +/w$/.test(R), k = +/^n/.test(R);
                E = [c[1 - F] - S[0], A[1 - k] - S[1]], S[0] = c[F], S[1] = A[k]
            } else ns.event.altKey && (y = S.slice());
            C.style("pointer-events", "none").selectAll(".resize").style("display", null), ns.select("body").style("cursor", x.style("cursor")), w({type: "brushstart"}), m()
        }

        var o, s, l = R(e, "brushstart", "brush", "brushend"), u = null, h = null, c = [0, 0], A = [0, 0], f = !0, d = !0, p = Vu[0];
        return e.event = function (e) {
            e.each(function () {
                var e = l.of(this, arguments), t = {x: c, y: A, i: o, j: s}, n = this.__chart__ || t;
                this.__chart__ = t, ku ? ns.select(this).transition().each("start.brush", function () {
                    o = n.i, s = n.j, c = n.x, A = n.y, e({type: "brushstart"})
                }).tween("brush:brush", function () {
                    var n = yi(c, t.x), r = yi(A, t.y);
                    return o = s = null, function (i) {
                        c = t.x = n(i), A = t.y = r(i), e({type: "brush", mode: "resize"})
                    }
                }).each("end.brush", function () {
                    o = t.i, s = t.j, e({type: "brush", mode: "resize"}), e({type: "brushend"})
                }) : (e({type: "brushstart"}), e({type: "brush", mode: "resize"}), e({type: "brushend"}))
            })
        }, e.x = function (t) {
            return arguments.length ? (u = t, p = Vu[!u << 1 | !h], e) : u
        }, e.y = function (t) {
            return arguments.length ? (h = t, p = Vu[!u << 1 | !h], e) : h
        }, e.clamp = function (t) {
            return arguments.length ? (u && h ? (f = !!t[0], d = !!t[1]) : u ? f = !!t : h && (d = !!t), e) : u && h ? [f, d] : u ? f : h ? d : null
        }, e.extent = function (t) {
            var n, r, i, a, l;
            return arguments.length ? (u && (n = t[0], r = t[1], h && (n = n[0], r = r[0]), o = [n, r], u.invert && (n = u(n), r = u(r)), n > r && (l = n, n = r, r = l), (n != c[0] || r != c[1]) && (c = [n, r])), h && (i = t[0], a = t[1], u && (i = i[1], a = a[1]), s = [i, a], h.invert && (i = h(i), a = h(a)), i > a && (l = i, i = a, a = l), (i != A[0] || a != A[1]) && (A = [i, a])), e) : (u && (o ? (n = o[0], r = o[1]) : (n = c[0], r = c[1], u.invert && (n = u.invert(n), r = u.invert(r)), n > r && (l = n, n = r, r = l))), h && (s ? (i = s[0], a = s[1]) : (i = A[0], a = A[1], h.invert && (i = h.invert(i), a = h.invert(a)), i > a && (l = i, i = a, a = l))), u && h ? [[n, i], [r, a]] : u ? [n, r] : h && [i, a])
        }, e.clear = function () {
            return e.empty() || (c = [0, 0], A = [0, 0], o = s = null), e
        }, e.empty = function () {
            return !!u && c[0] == c[1] || !!h && A[0] == A[1]
        }, ns.rebind(e, l, "on")
    };
    var Nu = {
        n: "ns-resize",
        e: "ew-resize",
        s: "ns-resize",
        w: "ew-resize",
        nw: "nwse-resize",
        ne: "nesw-resize",
        se: "nwse-resize",
        sw: "nesw-resize"
    }, Vu = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []], Uu = ll.format = dl.timeFormat, ju = Uu.utc, Qu = ju("%Y-%m-%dT%H:%M:%S.%LZ");
    Uu.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? Ko : Qu, Ko.parse = function (e) {
        var t = new Date(e);
        return isNaN(t) ? null : t
    }, Ko.toString = Qu.toString, ll.second = It(function (e) {
        return new ul(1e3 * Math.floor(e / 1e3))
    }, function (e, t) {
        e.setTime(e.getTime() + 1e3 * Math.floor(t))
    }, function (e) {
        return e.getSeconds()
    }), ll.seconds = ll.second.range, ll.seconds.utc = ll.second.utc.range, ll.minute = It(function (e) {
        return new ul(6e4 * Math.floor(e / 6e4))
    }, function (e, t) {
        e.setTime(e.getTime() + 6e4 * Math.floor(t))
    }, function (e) {
        return e.getMinutes()
    }), ll.minutes = ll.minute.range, ll.minutes.utc = ll.minute.utc.range, ll.hour = It(function (e) {
        var t = e.getTimezoneOffset() / 60;
        return new ul(36e5 * (Math.floor(e / 36e5 - t) + t))
    }, function (e, t) {
        e.setTime(e.getTime() + 36e5 * Math.floor(t))
    }, function (e) {
        return e.getHours()
    }), ll.hours = ll.hour.range, ll.hours.utc = ll.hour.utc.range, ll.month = It(function (e) {
        return e = ll.day(e), e.setDate(1), e
    }, function (e, t) {
        e.setMonth(e.getMonth() + t)
    }, function (e) {
        return e.getMonth()
    }), ll.months = ll.month.range, ll.months.utc = ll.month.utc.range;
    var Wu = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6], Yu = [[ll.second, 1], [ll.second, 5], [ll.second, 15], [ll.second, 30], [ll.minute, 1], [ll.minute, 5], [ll.minute, 15], [ll.minute, 30], [ll.hour, 1], [ll.hour, 3], [ll.hour, 6], [ll.hour, 12], [ll.day, 1], [ll.day, 2], [ll.week, 1], [ll.month, 1], [ll.month, 3], [ll.year, 1]], qu = Uu.multi([[".%L", function (e) {
        return e.getMilliseconds()
    }], [":%S", function (e) {
        return e.getSeconds()
    }], ["%I:%M", function (e) {
        return e.getMinutes()
    }], ["%I %p", function (e) {
        return e.getHours()
    }], ["%a %d", function (e) {
        return e.getDay() && 1 != e.getDate()
    }], ["%b %d", function (e) {
        return 1 != e.getDate()
    }], ["%B", function (e) {
        return e.getMonth()
    }], ["%Y", Mn]]), Xu = {
        range: function (e, t, n) {
            return ns.range(Math.ceil(e / n) * n, +t, n).map(Jo)
        }, floor: v, ceil: v
    };
    Yu.year = ll.year, ll.scale = function () {
        return $o(ns.scale.linear(), Yu, qu)
    };
    var Zu = Yu.map(function (e) {
        return [e[0].utc, e[1]]
    }), Ku = ju.multi([[".%L", function (e) {
        return e.getUTCMilliseconds()
    }], [":%S", function (e) {
        return e.getUTCSeconds()
    }], ["%I:%M", function (e) {
        return e.getUTCMinutes()
    }], ["%I %p", function (e) {
        return e.getUTCHours()
    }], ["%a %d", function (e) {
        return e.getUTCDay() && 1 != e.getUTCDate()
    }], ["%b %d", function (e) {
        return 1 != e.getUTCDate()
    }], ["%B", function (e) {
        return e.getUTCMonth()
    }], ["%Y", Mn]]);
    Zu.year = ll.year.utc, ll.scale.utc = function () {
        return $o(ns.scale.linear(), Zu, Ku)
    }, ns.text = _t(function (e) {
        return e.responseText
    }), ns.json = function (e, t) {
        return Bt(e, "application/json", es, t)
    }, ns.html = function (e, t) {
        return Bt(e, "text/html", ts, t)
    }, ns.xml = _t(function (e) {
        return e.responseXML
    }), "function" == typeof define && define.amd ? define(ns) : "object" == typeof module && module.exports && (module.exports = ns), this.d3 = ns
}(), function () {
    function e() {
        function e(e, t, n) {
            for (var r, i, a, o = ([{x: 0, y: 0}, {
                x: A[0],
                y: A[1]
            }], t.x), s = t.y, u = Math.sqrt(A[0] * A[0] + A[1] * A[1]), c = x(A), f = Math.random() < .5 ? 1 : -1, d = -f; (r = c(d += f)) && (i = ~~r[0], a = ~~r[1], !(Math.min(i, a) > u));)if (t.x = o + i, t.y = s + a, !(t.x + t.x0 < 0 || t.y + t.y0 < 0 || t.x + t.x1 > A[0] || t.y + t.y1 > A[1] || n && l(t, e, A[0]) || n && !h(t, n))) {
                for (var p, m = t.sprite, g = t.width >> 5, v = A[0] >> 5, y = t.x - (g << 4), E = 127 & y, b = 32 - E, w = t.y1 - t.y0, T = (t.y + t.y0) * v + (y >> 5), C = 0; w > C; C++) {
                    p = 0;
                    for (var R = 0; g >= R; R++)e[T + R] |= p << b | (g > R ? (p = m[C * g + R]) >>> E : 0);
                    T += v
                }
                return delete t.sprite, !0
            }
            return !1
        }

        var A = [256, 256], d = t, p = n, m = i, g = r, v = r, y = a, b = o, x = c, w = [], T = 1 / 0, C = d3.dispatch("word", "end"), R = null, _ = {};
        return _.start = function () {
            function t() {
                for (var t, h = +new Date; +new Date - h < T && ++a < i && R;)t = l[a], t.x = A[0] * (Math.random() + .5) >> 1, t.y = A[1] * (Math.random() + .5) >> 1, s(t, l, a), t.hasText && e(n, t, r) && (o.push(t), C.word(t), r ? u(r, t) : r = [{
                    x: t.x + t.x0,
                    y: t.y + t.y0
                }, {x: t.x + t.x1, y: t.y + t.y1}], t.x -= A[0] >> 1, t.y -= A[1] >> 1);
                a >= i && (_.stop(), C.end(o, r))
            }

            var n = f((A[0] >> 5) * A[1]), r = null, i = w.length, a = -1, o = [], l = w.map(function (e, t) {
                return e.text = d.call(this, e, t), e.font = p.call(this, e, t), e.style = g.call(this, e, t), e.weight = v.call(this, e, t), e.rotate = y.call(this, e, t), e.size = ~~m.call(this, e, t), e.padding = b.call(this, e, t), e
            }).sort(function (e, t) {
                return t.size - e.size
            });
            return R && clearInterval(R), R = setInterval(t, 0), _
        }, _.isRunning = function () {
            return null != R
        }, _.stop = function () {
            return R && (clearInterval(R), R = null), _
        }, _.timeInterval = function (e) {
            return arguments.length ? (T = null == e ? 1 / 0 : e, _) : T
        }, _.words = function (e) {
            return arguments.length ? (w = e, _) : w
        }, _.size = function (e) {
            return arguments.length ? (A = [+e[0], +e[1]], _) : A
        }, _.font = function (e) {
            return arguments.length ? (p = d3.functor(e), _) : p
        }, _.fontStyle = function (e) {
            return arguments.length ? (g = d3.functor(e), _) : g
        }, _.fontWeight = function (e) {
            return arguments.length ? (v = d3.functor(e), _) : v
        }, _.rotate = function (e) {
            return arguments.length ? (y = d3.functor(e), _) : y
        }, _.text = function (e) {
            return arguments.length ? (d = d3.functor(e), _) : d
        }, _.spiral = function (e) {
            return arguments.length ? (x = E[e + ""] || e, _) : x
        }, _.fontSize = function (e) {
            return arguments.length ? (m = d3.functor(e), _) : m
        }, _.padding = function (e) {
            return arguments.length ? (b = d3.functor(e), _) : b
        }, d3.rebind(_, C, "on")
    }

    function t(e) {
        return e.text
    }

    function n() {
        return "serif"
    }

    function r() {
        return "normal"
    }

    function i(e) {
        return Math.sqrt(e.value)
    }

    function a() {
        return 30 * (~~(6 * Math.random()) - 3)
    }

    function o() {
        return 1
    }

    function s(e, t, n) {
        if (!e.sprite) {
            y.clearRect(0, 0, (m << 5) / v, g / v);
            var r = 0, i = 0, a = 0, o = t.length;
            for (--n; ++n < o;) {
                e = t[n], y.save(), y.font = e.style + " " + e.weight + " " + ~~((e.size + 1) / v) + "px " + e.font;
                var s = y.measureText(e.text + "m").width * v, l = e.size << 1;
                if (e.rotate) {
                    var u = Math.sin(e.rotate * p), h = Math.cos(e.rotate * p), c = s * h, A = s * u, f = l * h, d = l * u;
                    s = Math.max(Math.abs(c + d), Math.abs(c - d)) + 31 >> 5 << 5, l = ~~Math.max(Math.abs(A + f), Math.abs(A - f))
                } else s = s + 31 >> 5 << 5;
                if (l > a && (a = l), r + s >= m << 5 && (r = 0, i += a, a = 0), i + l >= g)break;
                y.translate((r + (s >> 1)) / v, (i + (l >> 1)) / v), e.rotate && y.rotate(e.rotate * p), y.fillText(e.text, 0, 0), e.padding && (y.lineWidth = 2 * e.padding, y.strokeText(e.text, 0, 0)), y.restore(), e.width = s, e.height = l, e.xoff = r, e.yoff = i, e.x1 = s >> 1, e.y1 = l >> 1, e.x0 = -e.x1, e.y0 = -e.y1, e.hasText = !0, r += s
            }
            for (var E = y.getImageData(0, 0, (m << 5) / v, g / v).data, b = []; --n >= 0;)if (e = t[n], e.hasText) {
                for (var s = e.width, x = s >> 5, l = e.y1 - e.y0, w = 0; l * x > w; w++)b[w] = 0;
                if (r = e.xoff, null == r)return;
                i = e.yoff;
                for (var T = 0, C = -1, R = 0; l > R; R++) {
                    for (var w = 0; s > w; w++) {
                        var _ = x * R + (w >> 5), B = E[(i + R) * (m << 5) + (r + w) << 2] ? 1 << 31 - w % 32 : 0;
                        b[_] |= B, T |= B
                    }
                    T ? C = R : (e.y0++, l--, R--, i++)
                }
                e.y1 = e.y0 + C, e.sprite = b.slice(0, (e.y1 - e.y0) * x)
            }
        }
    }

    function l(e, t, n) {
        n >>= 5;
        for (var r, i = e.sprite, a = e.width >> 5, o = e.x - (a << 4), s = 127 & o, l = 32 - s, u = e.y1 - e.y0, h = (e.y + e.y0) * n + (o >> 5), c = 0; u > c; c++) {
            r = 0;
            for (var A = 0; a >= A; A++)if ((r << l | (a > A ? (r = i[c * a + A]) >>> s : 0)) & t[h + A])return !0;
            h += n
        }
        return !1
    }

    function u(e, t) {
        var n = e[0], r = e[1];
        t.x + t.x0 < n.x && (n.x = t.x + t.x0), t.y + t.y0 < n.y && (n.y = t.y + t.y0), t.x + t.x1 > r.x && (r.x = t.x + t.x1), t.y + t.y1 > r.y && (r.y = t.y + t.y1)
    }

    function h(e, t) {
        return e.x + e.x1 > t[0].x && e.x + e.x0 < t[1].x && e.y + e.y1 > t[0].y && e.y + e.y0 < t[1].y
    }

    function c(e) {
        var t = e[0] / e[1];
        return function (e) {
            return [t * (e *= .1) * Math.cos(e), e * Math.sin(e)]
        }
    }

    function A(e) {
        var t = 4, n = t * e[0] / e[1], r = 0, i = 0;
        return function (e) {
            var a = 0 > e ? -1 : 1;
            switch (Math.sqrt(1 + 4 * a * e) - a & 3) {
                case 0:
                    r += n;
                    break;
                case 1:
                    i += t;
                    break;
                case 2:
                    r -= n;
                    break;
                default:
                    i -= t
            }
            return [r, i]
        }
    }

    function f(e) {
        for (var t = [], n = -1; ++n < e;)t[n] = 0;
        return t
    }

    var d, p = Math.PI / 180, m = 64, g = 2048, v = 1;
    "undefined" != typeof document ? (d = document.createElement("canvas"), d.width = 1, d.height = 1, v = Math.sqrt(d.getContext("2d").getImageData(0, 0, 1, 1).data.length >> 2), d.width = (m << 5) / v, d.height = g / v) : d = new Canvas(m << 5, g);
    var y = d.getContext("2d"), E = {archimedean: c, rectangular: A};
    y.fillStyle = y.strokeStyle = "red", y.textAlign = "center", "object" == typeof module && module.exports ? module.exports = e : (d3.layout || (d3.layout = {})).cloud = e
}();
var dat = dat || {};
dat.gui = dat.gui || {}, dat.utils = dat.utils || {}, dat.controllers = dat.controllers || {}, dat.dom = dat.dom || {}, dat.color = dat.color || {}, dat.utils.css = function () {
    return {
        load: function (e, t) {
            t = t || document;
            var n = t.createElement("link");
            n.type = "text/css", n.rel = "stylesheet", n.href = e, t.getElementsByTagName("head")[0].appendChild(n)
        }, inject: function (e, t) {
            t = t || document;
            var n = document.createElement("style");
            n.type = "text/css", n.innerHTML = e, t.getElementsByTagName("head")[0].appendChild(n)
        }
    }
}(), dat.utils.common = function () {
    var e = Array.prototype.forEach, t = Array.prototype.slice;
    return {
        BREAK: {}, extend: function (e) {
            return this.each(t.call(arguments, 1), function (t) {
                for (var n in t)this.isUndefined(t[n]) || (e[n] = t[n])
            }, this), e
        }, defaults: function (e) {
            return this.each(t.call(arguments, 1), function (t) {
                for (var n in t)this.isUndefined(e[n]) && (e[n] = t[n])
            }, this), e
        }, compose: function () {
            var e = t.call(arguments);
            return function () {
                for (var n = t.call(arguments), r = e.length - 1; r >= 0; r--)n = [e[r].apply(this, n)];
                return n[0]
            }
        }, each: function (t, n, r) {
            if (t)if (e && t.forEach && t.forEach === e)t.forEach(n, r); else if (t.length === t.length + 0) {
                for (var i = 0, a = t.length; a > i; i++)if (i in t && n.call(r, t[i], i) === this.BREAK)return
            } else for (var i in t)if (n.call(r, t[i], i) === this.BREAK)return
        }, defer: function (e) {
            setTimeout(e, 0)
        }, toArray: function (e) {
            return e.toArray ? e.toArray() : t.call(e)
        }, isUndefined: function (e) {
            return void 0 === e
        }, isNull: function (e) {
            return null === e
        }, isNaN: function (e) {
            return e !== e
        }, isArray: Array.isArray || function (e) {
            return e.constructor === Array
        }, isObject: function (e) {
            return e === Object(e)
        }, isNumber: function (e) {
            return e === e + 0
        }, isString: function (e) {
            return e === e + ""
        }, isBoolean: function (e) {
            return e === !1 || e === !0
        }, isFunction: function (e) {
            return "[object Function]" === Object.prototype.toString.call(e)
        }
    }
}(), dat.controllers.Controller = function (e) {
    var t = function (e, t) {
        this.initialValue = e[t], this.domElement = document.createElement("div"), this.object = e, this.property = t, this.__onChange = void 0, this.__onFinishChange = void 0
    };
    return e.extend(t.prototype, {
        onChange: function (e) {
            return this.__onChange = e, this
        }, onFinishChange: function (e) {
            return this.__onFinishChange = e, this
        }, setValue: function (e) {
            return this.object[this.property] = e, this.__onChange && this.__onChange.call(this, e), this.updateDisplay(), this
        }, getValue: function () {
            return this.object[this.property]
        }, updateDisplay: function () {
            return this
        }, isModified: function () {
            return this.initialValue !== this.getValue()
        }
    }), t
}(dat.utils.common), dat.dom.dom = function (e) {
    function t(t) {
        if ("0" === t || e.isUndefined(t))return 0;
        var n = t.match(i);
        return e.isNull(n) ? 0 : parseFloat(n[1])
    }

    var n = {
        HTMLEvents: ["change"],
        MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
        KeyboardEvents: ["keydown"]
    }, r = {};
    e.each(n, function (t, n) {
        e.each(t, function (e) {
            r[e] = n
        })
    });
    var i = /(\d+(\.\d+)?)px/, a = {
        makeSelectable: function (e, t) {
            void 0 !== e && void 0 !== e.style && (e.onselectstart = t ? function () {
                return !1
            } : function () {
            }, e.style.MozUserSelect = t ? "auto" : "none", e.style.KhtmlUserSelect = t ? "auto" : "none", e.unselectable = t ? "on" : "off")
        }, makeFullscreen: function (t, n, r) {
            e.isUndefined(n) && (n = !0), e.isUndefined(r) && (r = !0), t.style.position = "absolute", n && (t.style.left = 0, t.style.right = 0), r && (t.style.top = 0, t.style.bottom = 0)
        }, fakeEvent: function (t, n, i, a) {
            i = i || {};
            var o = r[n];
            if (!o)throw new Error("Event type " + n + " not supported.");
            var s = document.createEvent(o);
            switch (o) {
                case"MouseEvents":
                    var l = i.x || i.clientX || 0, u = i.y || i.clientY || 0;
                    s.initMouseEvent(n, i.bubbles || !1, i.cancelable || !0, window, i.clickCount || 1, 0, 0, l, u, !1, !1, !1, !1, 0, null);
                    break;
                case"KeyboardEvents":
                    var h = s.initKeyboardEvent || s.initKeyEvent;
                    e.defaults(i, {
                        cancelable: !0,
                        ctrlKey: !1,
                        altKey: !1,
                        shiftKey: !1,
                        metaKey: !1,
                        keyCode: void 0,
                        charCode: void 0
                    }), h(n, i.bubbles || !1, i.cancelable, window, i.ctrlKey, i.altKey, i.shiftKey, i.metaKey, i.keyCode, i.charCode);
                    break;
                default:
                    s.initEvent(n, i.bubbles || !1, i.cancelable || !0)
            }
            e.defaults(s, a), t.dispatchEvent(s)
        }, bind: function (e, t, n, r) {
            return r = r || !1, e.addEventListener ? e.addEventListener(t, n, r) : e.attachEvent && e.attachEvent("on" + t, n), a
        }, unbind: function (e, t, n, r) {
            return r = r || !1, e.removeEventListener ? e.removeEventListener(t, n, r) : e.detachEvent && e.detachEvent("on" + t, n), a
        }, addClass: function (e, t) {
            if (void 0 === e.className)e.className = t; else if (e.className !== t) {
                var n = e.className.split(/ +/);
                -1 == n.indexOf(t) && (n.push(t), e.className = n.join(" ").replace(/^\s+/, "").replace(/\s+$/, ""))
            }
            return a
        }, removeClass: function (e, t) {
            if (t)if (void 0 === e.className); else if (e.className === t)e.removeAttribute("class"); else {
                var n = e.className.split(/ +/), r = n.indexOf(t);
                -1 != r && (n.splice(r, 1), e.className = n.join(" "))
            } else e.className = void 0;
            return a
        }, hasClass: function (e, t) {
            return new RegExp("(?:^|\\s+)" + t + "(?:\\s+|$)").test(e.className) || !1
        }, getWidth: function (e) {
            var n = getComputedStyle(e);
            return t(n["border-left-width"]) + t(n["border-right-width"]) + t(n["padding-left"]) + t(n["padding-right"]) + t(n.width)
        }, getHeight: function (e) {
            var n = getComputedStyle(e);
            return t(n["border-top-width"]) + t(n["border-bottom-width"]) + t(n["padding-top"]) + t(n["padding-bottom"]) + t(n.height)
        }, getOffset: function (e) {
            var t = {left: 0, top: 0};
            if (e.offsetParent)do t.left += e.offsetLeft, t.top += e.offsetTop; while (e = e.offsetParent);
            return t
        }, isActive: function (e) {
            return e === document.activeElement && (e.type || e.href)
        }
    };
    return a
}(dat.utils.common), dat.controllers.OptionController = function (e, t, n) {
    var r = function (e, i, a) {
        r.superclass.call(this, e, i);
        var o = this;
        if (this.__select = document.createElement("select"), n.isArray(a)) {
            var s = {};
            n.each(a, function (e) {
                s[e] = e
            }), a = s
        }
        n.each(a, function (e, t) {
            var n = document.createElement("option");
            n.innerHTML = t, n.setAttribute("value", e), o.__select.appendChild(n)
        }), this.updateDisplay(), t.bind(this.__select, "change", function () {
            var e = this.options[this.selectedIndex].value;
            o.setValue(e)
        }), this.domElement.appendChild(this.__select)
    };
    return r.superclass = e, n.extend(r.prototype, e.prototype, {
        setValue: function (e) {
            var t = r.superclass.prototype.setValue.call(this, e);
            return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), t
        }, updateDisplay: function () {
            return this.__select.value = this.getValue(), r.superclass.prototype.updateDisplay.call(this)
        }
    }), r
}(dat.controllers.Controller, dat.dom.dom, dat.utils.common), dat.controllers.NumberController = function (e, t) {
    function n(e) {
        return e = e.toString(), e.indexOf(".") > -1 ? e.length - e.indexOf(".") - 1 : 0
    }

    var r = function (e, i, a) {
        r.superclass.call(this, e, i), a = a || {}, this.__min = a.min, this.__max = a.max, this.__step = a.step, this.__impliedStep = t.isUndefined(this.__step) ? 0 == this.initialValue ? 1 : Math.pow(10, Math.floor(Math.log(this.initialValue) / Math.LN10)) / 10 : this.__step, this.__precision = n(this.__impliedStep)
    };
    return r.superclass = e, t.extend(r.prototype, e.prototype, {
        setValue: function (e) {
            return void 0 !== this.__min && e < this.__min ? e = this.__min : void 0 !== this.__max && e > this.__max && (e = this.__max), void 0 !== this.__step && e % this.__step != 0 && (e = Math.round(e / this.__step) * this.__step), r.superclass.prototype.setValue.call(this, e)
        }, min: function (e) {
            return this.__min = e, this
        }, max: function (e) {
            return this.__max = e, this
        }, step: function (e) {
            return this.__step = e, this.__impliedStep = e, this.__precision = n(e), this
        }
    }), r
}(dat.controllers.Controller, dat.utils.common), dat.controllers.NumberControllerBox = function (e, t, n) {
    function r(e, t) {
        var n = Math.pow(10, t);
        return Math.round(e * n) / n
    }

    var i = function (e, r, a) {
        function o() {
            var e = parseFloat(A.__input.value);
            n.isNaN(e) || A.setValue(e)
        }

        function s() {
            o(), A.__onFinishChange && A.__onFinishChange.call(A, A.getValue())
        }

        function l(e) {
            t.bind(window, "mousemove", u), t.bind(window, "mouseup", h), c = e.clientY
        }

        function u(e) {
            var t = c - e.clientY;
            A.setValue(A.getValue() + t * A.__impliedStep), c = e.clientY
        }

        function h() {
            t.unbind(window, "mousemove", u), t.unbind(window, "mouseup", h)
        }

        this.__truncationSuspended = !1, i.superclass.call(this, e, r, a);
        var c, A = this;
        this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), t.bind(this.__input, "change", o), t.bind(this.__input, "blur", s), t.bind(this.__input, "mousedown", l), t.bind(this.__input, "keydown", function (e) {
            13 === e.keyCode && (A.__truncationSuspended = !0, this.blur(), A.__truncationSuspended = !1)
        }), this.updateDisplay(), this.domElement.appendChild(this.__input)
    };
    return i.superclass = e, n.extend(i.prototype, e.prototype, {
        updateDisplay: function () {
            return this.__input.value = this.__truncationSuspended ? this.getValue() : r(this.getValue(), this.__precision), i.superclass.prototype.updateDisplay.call(this)
        }
    }), i
}(dat.controllers.NumberController, dat.dom.dom, dat.utils.common), dat.controllers.NumberControllerSlider = function (e, t, n, r, i) {
    function a(e, t, n, r, i) {
        return r + (i - r) * ((e - t) / (n - t))
    }

    var o = function (e, n, r, i, s) {
        function l(e) {
            t.bind(window, "mousemove", u), t.bind(window, "mouseup", h), u(e)
        }

        function u(e) {
            e.preventDefault();
            var n = t.getOffset(c.__background), r = t.getWidth(c.__background);
            return c.setValue(a(e.clientX, n.left, n.left + r, c.__min, c.__max)), !1
        }

        function h() {
            t.unbind(window, "mousemove", u), t.unbind(window, "mouseup", h), c.__onFinishChange && c.__onFinishChange.call(c, c.getValue())
        }

        o.superclass.call(this, e, n, {min: r, max: i, step: s});
        var c = this;
        this.__background = document.createElement("div"), this.__foreground = document.createElement("div"), t.bind(this.__background, "mousedown", l), t.addClass(this.__background, "slider"), t.addClass(this.__foreground, "slider-fg"), this.updateDisplay(), this.__background.appendChild(this.__foreground), this.domElement.appendChild(this.__background)
    };
    return o.superclass = e, o.useDefaultStyles = function () {
        n.inject(i)
    }, r.extend(o.prototype, e.prototype, {
        updateDisplay: function () {
            var e = (this.getValue() - this.__min) / (this.__max - this.__min);
            return this.__foreground.style.width = 100 * e + "%", o.superclass.prototype.updateDisplay.call(this)
        }
    }), o
}(dat.controllers.NumberController, dat.dom.dom, dat.utils.css, dat.utils.common, "/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"), dat.controllers.FunctionController = function (e, t, n) {
    var r = function (e, n, i) {
        r.superclass.call(this, e, n);
        var a = this;
        this.__button = document.createElement("div"), this.__button.innerHTML = void 0 === i ? "Fire" : i, t.bind(this.__button, "click", function (e) {
            return e.preventDefault(), a.fire(), !1
        }), t.addClass(this.__button, "button"), this.domElement.appendChild(this.__button)
    };
    return r.superclass = e, n.extend(r.prototype, e.prototype, {
        fire: function () {
            this.__onChange && this.__onChange.call(this), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.getValue().call(this.object)
        }
    }), r
}(dat.controllers.Controller, dat.dom.dom, dat.utils.common), dat.controllers.BooleanController = function (e, t, n) {
    var r = function (e, n) {
        function i() {
            a.setValue(!a.__prev)
        }

        r.superclass.call(this, e, n);
        var a = this;
        this.__prev = this.getValue(), this.__checkbox = document.createElement("input"), this.__checkbox.setAttribute("type", "checkbox"), t.bind(this.__checkbox, "change", i, !1), this.domElement.appendChild(this.__checkbox), this.updateDisplay()
    };
    return r.superclass = e, n.extend(r.prototype, e.prototype, {
        setValue: function (e) {
            var t = r.superclass.prototype.setValue.call(this, e);
            return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), t
        }, updateDisplay: function () {
            return this.getValue() === !0 ? (this.__checkbox.setAttribute("checked", "checked"), this.__checkbox.checked = !0) : this.__checkbox.checked = !1, r.superclass.prototype.updateDisplay.call(this)
        }
    }), r
}(dat.controllers.Controller, dat.dom.dom, dat.utils.common), dat.color.toString = function (e) {
    return function (t) {
        if (1 == t.a || e.isUndefined(t.a)) {
            for (var n = t.hex.toString(16); n.length < 6;)n = "0" + n;
            return "#" + n
        }
        return "rgba(" + Math.round(t.r) + "," + Math.round(t.g) + "," + Math.round(t.b) + "," + t.a + ")"
    }
}(dat.utils.common), dat.color.interpret = function (e, t) {
    var n, r, i = function () {
        r = !1;
        var e = arguments.length > 1 ? t.toArray(arguments) : arguments[0];
        return t.each(a, function (i) {
            return i.litmus(e) ? (t.each(i.conversions, function (i, a) {
                return n = i.read(e), r === !1 && n !== !1 ? (r = n, n.conversionName = a, n.conversion = i, t.BREAK) : void 0
            }), t.BREAK) : void 0
        }), r
    }, a = [{
        litmus: t.isString, conversions: {
            THREE_CHAR_HEX: {
                read: function (e) {
                    var t = e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                    return null === t ? !1 : {
                        space: "HEX",
                        hex: parseInt("0x" + t[1].toString() + t[1].toString() + t[2].toString() + t[2].toString() + t[3].toString() + t[3].toString())
                    }
                }, write: e
            }, SIX_CHAR_HEX: {
                read: function (e) {
                    var t = e.match(/^#([A-F0-9]{6})$/i);
                    return null === t ? !1 : {space: "HEX", hex: parseInt("0x" + t[1].toString())}
                }, write: e
            }, CSS_RGB: {
                read: function (e) {
                    var t = e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                    return null === t ? !1 : {
                        space: "RGB",
                        r: parseFloat(t[1]),
                        g: parseFloat(t[2]),
                        b: parseFloat(t[3])
                    }
                }, write: e
            }, CSS_RGBA: {
                read: function (e) {
                    var t = e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
                    return null === t ? !1 : {
                        space: "RGB",
                        r: parseFloat(t[1]),
                        g: parseFloat(t[2]),
                        b: parseFloat(t[3]),
                        a: parseFloat(t[4])
                    }
                }, write: e
            }
        }
    }, {
        litmus: t.isNumber, conversions: {
            HEX: {
                read: function (e) {
                    return {space: "HEX", hex: e, conversionName: "HEX"}
                }, write: function (e) {
                    return e.hex
                }
            }
        }
    }, {
        litmus: t.isArray, conversions: {
            RGB_ARRAY: {
                read: function (e) {
                    return 3 != e.length ? !1 : {space: "RGB", r: e[0], g: e[1], b: e[2]}
                }, write: function (e) {
                    return [e.r, e.g, e.b]
                }
            }, RGBA_ARRAY: {
                read: function (e) {
                    return 4 != e.length ? !1 : {space: "RGB", r: e[0], g: e[1], b: e[2], a: e[3]}
                }, write: function (e) {
                    return [e.r, e.g, e.b, e.a]
                }
            }
        }
    }, {
        litmus: t.isObject, conversions: {
            RGBA_OBJ: {
                read: function (e) {
                    return t.isNumber(e.r) && t.isNumber(e.g) && t.isNumber(e.b) && t.isNumber(e.a) ? {
                        space: "RGB",
                        r: e.r,
                        g: e.g,
                        b: e.b,
                        a: e.a
                    } : !1
                }, write: function (e) {
                    return {r: e.r, g: e.g, b: e.b, a: e.a}
                }
            }, RGB_OBJ: {
                read: function (e) {
                    return t.isNumber(e.r) && t.isNumber(e.g) && t.isNumber(e.b) ? {
                        space: "RGB",
                        r: e.r,
                        g: e.g,
                        b: e.b
                    } : !1
                }, write: function (e) {
                    return {r: e.r, g: e.g, b: e.b}
                }
            }, HSVA_OBJ: {
                read: function (e) {
                    return t.isNumber(e.h) && t.isNumber(e.s) && t.isNumber(e.v) && t.isNumber(e.a) ? {
                        space: "HSV",
                        h: e.h,
                        s: e.s,
                        v: e.v,
                        a: e.a
                    } : !1
                }, write: function (e) {
                    return {h: e.h, s: e.s, v: e.v, a: e.a}
                }
            }, HSV_OBJ: {
                read: function (e) {
                    return t.isNumber(e.h) && t.isNumber(e.s) && t.isNumber(e.v) ? {
                        space: "HSV",
                        h: e.h,
                        s: e.s,
                        v: e.v
                    } : !1
                }, write: function (e) {
                    return {h: e.h, s: e.s, v: e.v}
                }
            }
        }
    }];
    return i
}(dat.color.toString, dat.utils.common), dat.GUI = dat.gui.GUI = function (e, t, n, r, i, a, o, s, l, u, h, c, A, f, d) {
    function p(e, t, n, a) {
        if (void 0 === t[n])throw new Error("Object " + t + ' has no property "' + n + '"');
        var o;
        if (a.color)o = new h(t, n); else {
            var s = [t, n].concat(a.factoryArgs);
            o = r.apply(e, s)
        }
        a.before instanceof i && (a.before = a.before.__li), v(e, o), f.addClass(o.domElement, "c");
        var l = document.createElement("span");
        f.addClass(l, "property-name"), l.innerHTML = o.property;
        var u = document.createElement("div");
        u.appendChild(l), u.appendChild(o.domElement);
        var c = m(e, u, a.before);
        return f.addClass(c, z.CLASS_CONTROLLER_ROW), f.addClass(c, typeof o.getValue()), g(e, c, o), e.__controllers.push(o), o
    }

    function m(e, t, n) {
        var r = document.createElement("li");
        return t && r.appendChild(t), n ? e.__ul.insertBefore(r, params.before) : e.__ul.appendChild(r), e.onResize(), r
    }

    function g(e, t, n) {
        if (n.__li = t, n.__gui = e, d.extend(n, {
                options: function (t) {
                    return arguments.length > 1 ? (n.remove(), p(e, n.object, n.property, {
                        before: n.__li.nextElementSibling,
                        factoryArgs: [d.toArray(arguments)]
                    })) : d.isArray(t) || d.isObject(t) ? (n.remove(), p(e, n.object, n.property, {
                        before: n.__li.nextElementSibling,
                        factoryArgs: [t]
                    })) : void 0
                }, name: function (e) {
                    return n.__li.firstElementChild.firstElementChild.innerHTML = e, n
                }, listen: function () {
                    return n.__gui.listen(n), n
                }, remove: function () {
                    return n.__gui.remove(n), n
                }
            }), n instanceof l) {
            var r = new s(n.object, n.property, {min: n.__min, max: n.__max, step: n.__step});
            d.each(["updateDisplay", "onChange", "onFinishChange"], function (e) {
                var t = n[e], i = r[e];
                n[e] = r[e] = function () {
                    var e = Array.prototype.slice.call(arguments);
                    return t.apply(n, e), i.apply(r, e)
                }
            }), f.addClass(t, "has-slider"), n.domElement.insertBefore(r.domElement, n.domElement.firstElementChild)
        } else if (n instanceof s) {
            var i = function (t) {
                return d.isNumber(n.__min) && d.isNumber(n.__max) ? (n.remove(), p(e, n.object, n.property, {
                    before: n.__li.nextElementSibling,
                    factoryArgs: [n.__min, n.__max, n.__step]
                })) : t
            };
            n.min = d.compose(i, n.min), n.max = d.compose(i, n.max)
        } else n instanceof a ? (f.bind(t, "click", function () {
            f.fakeEvent(n.__checkbox, "click")
        }), f.bind(n.__checkbox, "click", function (e) {
            e.stopPropagation()
        })) : n instanceof o ? (f.bind(t, "click", function () {
            f.fakeEvent(n.__button, "click")
        }), f.bind(t, "mouseover", function () {
            f.addClass(n.__button, "hover")
        }), f.bind(t, "mouseout", function () {
            f.removeClass(n.__button, "hover")
        })) : n instanceof h && (f.addClass(t, "color"), n.updateDisplay = d.compose(function (e) {
            return t.style.borderLeftColor = n.__color.toString(), e
        }, n.updateDisplay), n.updateDisplay());
        n.setValue = d.compose(function (t) {
            return e.getRoot().__preset_select && n.isModified() && R(e.getRoot(), !0), t
        }, n.setValue)
    }

    function v(e, t) {
        var n = e.getRoot(), r = n.__rememberedObjects.indexOf(t.object);
        if (-1 != r) {
            var i = n.__rememberedObjectIndecesToControllers[r];
            if (void 0 === i && (i = {}, n.__rememberedObjectIndecesToControllers[r] = i), i[t.property] = t, n.load && n.load.remembered) {
                var a, o = n.load.remembered;
                if (o[e.preset])a = o[e.preset]; else {
                    if (!o[F])return;
                    a = o[F]
                }
                if (a[r] && void 0 !== a[r][t.property]) {
                    var s = a[r][t.property];
                    t.initialValue = s, t.setValue(s)
                }
            }
        }
    }

    function y(e, t) {
        return document.location.href + "." + t
    }

    function E(e) {
        function t() {
            u.style.display = e.useLocalStorage ? "block" : "none"
        }

        var n = e.__save_row = document.createElement("li");
        f.addClass(e.domElement, "has-save"), e.__ul.insertBefore(n, e.__ul.firstChild), f.addClass(n, "save-row");
        var r = document.createElement("span");
        r.innerHTML = "&nbsp;", f.addClass(r, "button gears");
        var i = document.createElement("span");
        i.innerHTML = "Save", f.addClass(i, "button"), f.addClass(i, "save");
        var a = document.createElement("span");
        a.innerHTML = "New", f.addClass(a, "button"), f.addClass(a, "save-as");
        var o = document.createElement("span");
        o.innerHTML = "Revert", f.addClass(o, "button"), f.addClass(o, "revert");
        var s = e.__preset_select = document.createElement("select");
        if (e.load && e.load.remembered ? d.each(e.load.remembered, function (t, n) {
                T(e, n, n == e.preset)
            }) : T(e, F, !1), f.bind(s, "change", function () {
                for (var t = 0; t < e.__preset_select.length; t++)e.__preset_select[t].innerHTML = e.__preset_select[t].value;
                e.preset = this.value
            }), n.appendChild(s), n.appendChild(r), n.appendChild(i), n.appendChild(a), n.appendChild(o), k) {
            var l = document.getElementById("dg-save-locally"), u = document.getElementById("dg-local-explain");
            l.style.display = "block";
            var h = document.getElementById("dg-local-storage");
            "true" === localStorage.getItem(y(e, "isLocal")) && h.setAttribute("checked", "checked"), t(), f.bind(h, "change", function () {
                e.useLocalStorage = !e.useLocalStorage, t()
            })
        }
        var c = document.getElementById("dg-new-constructor");
        f.bind(c, "keydown", function (e) {
            !e.metaKey || 67 !== e.which && 67 != e.keyCode || B.hide()
        }), f.bind(r, "click", function () {
            c.innerHTML = JSON.stringify(e.getSaveObject(), void 0, 2), B.show(), c.focus(), c.select()
        }), f.bind(i, "click", function () {
            e.save()
        }), f.bind(a, "click", function () {
            var t = prompt("Enter a new preset name.");
            t && e.saveAs(t)
        }), f.bind(o, "click", function () {
            e.revert()
        })
    }

    function b(e) {
        function t(t) {
            return t.preventDefault(), i = t.clientX, f.addClass(e.__closeButton, z.CLASS_DRAG), f.bind(window, "mousemove", n), f.bind(window, "mouseup", r), !1
        }

        function n(t) {
            return t.preventDefault(), e.width += i - t.clientX, e.onResize(), i = t.clientX, !1
        }

        function r() {
            f.removeClass(e.__closeButton, z.CLASS_DRAG), f.unbind(window, "mousemove", n), f.unbind(window, "mouseup", r)
        }

        e.__resize_handle = document.createElement("div"), d.extend(e.__resize_handle.style, {
            width: "6px",
            marginLeft: "-3px",
            height: "200px",
            cursor: "ew-resize",
            position: "absolute"
        });
        var i;
        f.bind(e.__resize_handle, "mousedown", t), f.bind(e.__closeButton, "mousedown", t), e.domElement.insertBefore(e.__resize_handle, e.domElement.firstElementChild)
    }

    function x(e, t) {
        e.domElement.style.width = t + "px", e.__save_row && e.autoPlace && (e.__save_row.style.width = t + "px"), e.__closeButton && (e.__closeButton.style.width = t + "px")
    }

    function w(e, t) {
        var n = {};
        return d.each(e.__rememberedObjects, function (r, i) {
            var a = {}, o = e.__rememberedObjectIndecesToControllers[i];
            d.each(o, function (e, n) {
                a[n] = t ? e.initialValue : e.getValue()
            }), n[i] = a
        }), n
    }

    function T(e, t, n) {
        var r = document.createElement("option");
        r.innerHTML = t, r.value = t, e.__preset_select.appendChild(r), n && (e.__preset_select.selectedIndex = e.__preset_select.length - 1)
    }

    function C(e) {
        for (var t = 0; t < e.__preset_select.length; t++)e.__preset_select[t].value == e.preset && (e.__preset_select.selectedIndex = t)
    }

    function R(e, t) {
        var n = e.__preset_select[e.__preset_select.selectedIndex];
        n.innerHTML = t ? n.value + "*" : n.value
    }

    function _(e) {
        0 != e.length && c(function () {
            _(e)
        }), d.each(e, function (e) {
            e.updateDisplay()
        })
    }

    e.inject(n);
    var B, M, H = "dg", S = 72, D = 20, F = "Default", k = function () {
        try {
            return "localStorage" in window && null !== window.localStorage
        } catch (e) {
            return !1
        }
    }(), O = !0, P = !1, L = [], z = function (e) {
        function t() {
            var e = n.getRoot();
            e.width += 1, d.defer(function () {
                e.width -= 1
            })
        }

        var n = this;
        this.domElement = document.createElement("div"), this.__ul = document.createElement("ul"), this.domElement.appendChild(this.__ul), f.addClass(this.domElement, H), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], e = e || {}, e = d.defaults(e, {
            autoPlace: !0,
            width: z.DEFAULT_WIDTH
        }), e = d.defaults(e, {
            resizable: e.autoPlace,
            hideable: e.autoPlace
        }), d.isUndefined(e.load) ? e.load = {preset: F} : e.preset && (e.load.preset = e.preset), d.isUndefined(e.parent) && e.hideable && L.push(this), e.resizable = d.isUndefined(e.parent) && e.resizable, e.autoPlace && d.isUndefined(e.scrollable) && (e.scrollable = !0);
        var r, i = k && "true" === localStorage.getItem(y(this, "isLocal"));
        if (Object.defineProperties(this, {
                parent: {
                    get: function () {
                        return e.parent
                    }
                }, scrollable: {
                    get: function () {
                        return e.scrollable
                    }
                }, autoPlace: {
                    get: function () {
                        return e.autoPlace
                    }
                }, preset: {
                    get: function () {
                        return n.parent ? n.getRoot().preset : e.load.preset
                    }, set: function (t) {
                        n.parent ? n.getRoot().preset = t : e.load.preset = t, C(this), n.revert()
                    }
                }, width: {
                    get: function () {
                        return e.width
                    }, set: function (t) {
                        e.width = t, x(n, t)
                    }
                }, name: {
                    get: function () {
                        return e.name
                    }, set: function (t) {
                        e.name = t, o && (o.innerHTML = e.name)
                    }
                }, closed: {
                    get: function () {
                        return e.closed
                    }, set: function (t) {
                        e.closed = t, e.closed ? f.addClass(n.__ul, z.CLASS_CLOSED) : f.removeClass(n.__ul, z.CLASS_CLOSED), this.onResize(), n.__closeButton && (n.__closeButton.innerHTML = t ? z.TEXT_OPEN : z.TEXT_CLOSED)
                    }
                }, load: {
                    get: function () {
                        return e.load
                    }
                }, useLocalStorage: {
                    get: function () {
                        return i
                    }, set: function (e) {
                        k && (i = e, e ? f.bind(window, "unload", r) : f.unbind(window, "unload", r), localStorage.setItem(y(n, "isLocal"), e))
                    }
                }
            }), d.isUndefined(e.parent)) {
            if (e.closed = !1, f.addClass(this.domElement, z.CLASS_MAIN), f.makeSelectable(this.domElement, !1), k && i) {
                n.useLocalStorage = !0;
                var a = localStorage.getItem(y(this, "gui"));
                a && (e.load = JSON.parse(a))
            }
            this.__closeButton = document.createElement("div"), this.__closeButton.innerHTML = z.TEXT_CLOSED, f.addClass(this.__closeButton, z.CLASS_CLOSE_BUTTON), this.domElement.appendChild(this.__closeButton), f.bind(this.__closeButton, "click", function () {
                n.closed = !n.closed
            })
        } else {
            void 0 === e.closed && (e.closed = !0);
            var o = document.createTextNode(e.name);
            f.addClass(o, "controller-name");
            var s = m(n, o), l = function (e) {
                return e.preventDefault(), n.closed = !n.closed, !1
            };
            f.addClass(this.__ul, z.CLASS_CLOSED), f.addClass(s, "title"), f.bind(s, "click", l), e.closed || (this.closed = !1)
        }
        e.autoPlace && (d.isUndefined(e.parent) && (O && (M = document.createElement("div"), f.addClass(M, H), f.addClass(M, z.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(M), O = !1), M.appendChild(this.domElement), f.addClass(this.domElement, z.CLASS_AUTO_PLACE)), this.parent || x(n, e.width)), f.bind(window, "resize", function () {
            n.onResize()
        }), f.bind(this.__ul, "webkitTransitionEnd", function () {
            n.onResize()
        }), f.bind(this.__ul, "transitionend", function () {
            n.onResize()
        }), f.bind(this.__ul, "oTransitionEnd", function () {
            n.onResize()
        }), this.onResize(), e.resizable && b(this), r = function () {
            k && "true" === localStorage.getItem(y(n, "isLocal")) && localStorage.setItem(y(n, "gui"), JSON.stringify(n.getSaveObject()))
        }, this.saveToLocalStorageIfPossible = r;
        n.getRoot();
        e.parent || t()
    };
    return z.toggleHide = function () {
        P = !P, d.each(L, function (e) {
            e.domElement.style.zIndex = P ? -999 : 999, e.domElement.style.opacity = P ? 0 : 1
        })
    }, z.CLASS_AUTO_PLACE = "a", z.CLASS_AUTO_PLACE_CONTAINER = "ac", z.CLASS_MAIN = "main", z.CLASS_CONTROLLER_ROW = "cr", z.CLASS_TOO_TALL = "taller-than-window", z.CLASS_CLOSED = "closed", z.CLASS_CLOSE_BUTTON = "close-button", z.CLASS_DRAG = "drag", z.DEFAULT_WIDTH = 245, z.TEXT_CLOSED = "Close Controls", z.TEXT_OPEN = "Open Controls", f.bind(window, "keydown", function (e) {
        "text" === document.activeElement.type || e.which !== S && e.keyCode != S || z.toggleHide()
    }, !1), d.extend(z.prototype, {
        add: function (e, t) {
            return p(this, e, t, {factoryArgs: Array.prototype.slice.call(arguments, 2)})
        }, addColor: function (e, t) {
            return p(this, e, t, {color: !0})
        }, remove: function (e) {
            this.__ul.removeChild(e.__li), this.__controllers.slice(this.__controllers.indexOf(e), 1);
            var t = this;
            d.defer(function () {
                t.onResize()
            })
        }, destroy: function () {
            this.autoPlace && M.removeChild(this.domElement)
        }, addFolder: function (e) {
            if (void 0 !== this.__folders[e])throw new Error('You already have a folder in this GUI by the name "' + e + '"');
            var t = {name: e, parent: this};
            t.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[e] && (t.closed = this.load.folders[e].closed, t.load = this.load.folders[e]);
            var n = new z(t);
            this.__folders[e] = n;
            var r = m(this, n.domElement);
            return f.addClass(r, "folder"), n
        }, open: function () {
            this.closed = !1
        }, close: function () {
            this.closed = !0
        }, onResize: function () {
            var e = this.getRoot();
            if (e.scrollable) {
                var t = f.getOffset(e.__ul).top, n = 0;
                d.each(e.__ul.childNodes, function (t) {
                    e.autoPlace && t === e.__save_row || (n += f.getHeight(t))
                }), window.innerHeight - t - D < n ? (f.addClass(e.domElement, z.CLASS_TOO_TALL), e.__ul.style.height = window.innerHeight - t - D + "px") : (f.removeClass(e.domElement, z.CLASS_TOO_TALL), e.__ul.style.height = "auto")
            }
            e.__resize_handle && d.defer(function () {
                e.__resize_handle.style.height = e.__ul.offsetHeight + "px"
            }), e.__closeButton && (e.__closeButton.style.width = e.width + "px")
        }, remember: function () {
            if (d.isUndefined(B) && (B = new A, B.domElement.innerHTML = t), this.parent)throw new Error("You can only call remember on a top level GUI.");
            var e = this;
            d.each(Array.prototype.slice.call(arguments), function (t) {
                0 == e.__rememberedObjects.length && E(e), -1 == e.__rememberedObjects.indexOf(t) && e.__rememberedObjects.push(t)
            }), this.autoPlace && x(this, this.width)
        }, getRoot: function () {
            for (var e = this; e.parent;)e = e.parent;
            return e
        }, getSaveObject: function () {
            var e = this.load;
            return e.closed = this.closed, this.__rememberedObjects.length > 0 && (e.preset = this.preset, e.remembered || (e.remembered = {}), e.remembered[this.preset] = w(this)), e.folders = {}, d.each(this.__folders, function (t, n) {
                e.folders[n] = t.getSaveObject()
            }), e
        }, save: function () {
            this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = w(this), R(this, !1), this.saveToLocalStorageIfPossible()
        }, saveAs: function (e) {
            this.load.remembered || (this.load.remembered = {}, this.load.remembered[F] = w(this, !0)), this.load.remembered[e] = w(this), this.preset = e, T(this, e, !0), this.saveToLocalStorageIfPossible()
        }, revert: function (e) {
            d.each(this.__controllers, function (t) {
                this.getRoot().load.remembered ? v(e || this.getRoot(), t) : t.setValue(t.initialValue)
            }, this), d.each(this.__folders, function (e) {
                e.revert(e)
            }), e || R(this.getRoot(), !1)
        }, listen: function (e) {
            var t = 0 == this.__listening.length;
            this.__listening.push(e), t && _(this.__listening)
        }
    }), z
}(dat.utils.css, '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>', ".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n", dat.controllers.factory = function (e, t, n, r, i, a, o) {
    return function (s, l) {
        var u = s[l];
        return o.isArray(arguments[2]) || o.isObject(arguments[2]) ? new e(s, l, arguments[2]) : o.isNumber(u) ? o.isNumber(arguments[2]) && o.isNumber(arguments[3]) ? new n(s, l, arguments[2], arguments[3]) : new t(s, l, {
            min: arguments[2],
            max: arguments[3]
        }) : o.isString(u) ? new r(s, l) : o.isFunction(u) ? new i(s, l, "") : o.isBoolean(u) ? new a(s, l) : void 0
    }
}(dat.controllers.OptionController, dat.controllers.NumberControllerBox, dat.controllers.NumberControllerSlider, dat.controllers.StringController = function (e, t, n) {
    var r = function (e, n) {
        function i() {
            o.setValue(o.__input.value)
        }

        function a() {
            o.__onFinishChange && o.__onFinishChange.call(o, o.getValue())
        }

        r.superclass.call(this, e, n);
        var o = this;
        this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), t.bind(this.__input, "keyup", i), t.bind(this.__input, "change", i), t.bind(this.__input, "blur", a), t.bind(this.__input, "keydown", function (e) {
            13 === e.keyCode && this.blur()
        }), this.updateDisplay(), this.domElement.appendChild(this.__input)
    };
    return r.superclass = e, n.extend(r.prototype, e.prototype, {
        updateDisplay: function () {
            return t.isActive(this.__input) || (this.__input.value = this.getValue()), r.superclass.prototype.updateDisplay.call(this)
        }
    }), r
}(dat.controllers.Controller, dat.dom.dom, dat.utils.common), dat.controllers.FunctionController, dat.controllers.BooleanController, dat.utils.common), dat.controllers.Controller, dat.controllers.BooleanController, dat.controllers.FunctionController, dat.controllers.NumberControllerBox, dat.controllers.NumberControllerSlider, dat.controllers.OptionController, dat.controllers.ColorController = function (e, t, n, r, i) {
    function a(e, t, n, r) {
        e.style.background = "", i.each(l, function (i) {
            e.style.cssText += "background: " + i + "linear-gradient(" + t + ", " + n + " 0%, " + r + " 100%); "
        })
    }

    function o(e) {
        e.style.background = "", e.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);", e.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", e.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", e.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", e.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"
    }

    var s = function (e, l) {
        function u(e) {
            f(e), t.bind(window, "mousemove", f), t.bind(window, "mouseup", h)
        }

        function h() {
            t.unbind(window, "mousemove", f), t.unbind(window, "mouseup", h)
        }

        function c() {
            var e = r(this.value);
            e !== !1 ? (p.__color.__state = e, p.setValue(p.__color.toOriginal())) : this.value = p.__color.toString()
        }

        function A() {
            t.unbind(window, "mousemove", d), t.unbind(window, "mouseup", A)
        }

        function f(e) {
            e.preventDefault();
            var n = t.getWidth(p.__saturation_field), r = t.getOffset(p.__saturation_field), i = (e.clientX - r.left + document.body.scrollLeft) / n, a = 1 - (e.clientY - r.top + document.body.scrollTop) / n;
            return a > 1 ? a = 1 : 0 > a && (a = 0), i > 1 ? i = 1 : 0 > i && (i = 0), p.__color.v = a, p.__color.s = i, p.setValue(p.__color.toOriginal()), !1
        }

        function d(e) {
            e.preventDefault();
            var n = t.getHeight(p.__hue_field), r = t.getOffset(p.__hue_field), i = 1 - (e.clientY - r.top + document.body.scrollTop) / n;
            return i > 1 ? i = 1 : 0 > i && (i = 0), p.__color.h = 360 * i, p.setValue(p.__color.toOriginal()), !1
        }

        s.superclass.call(this, e, l), this.__color = new n(this.getValue()), this.__temp = new n(0);
        var p = this;
        this.domElement = document.createElement("div"), t.makeSelectable(this.domElement, !1), this.__selector = document.createElement("div"), this.__selector.className = "selector", this.__saturation_field = document.createElement("div"), this.__saturation_field.className = "saturation-field", this.__field_knob = document.createElement("div"), this.__field_knob.className = "field-knob", this.__field_knob_border = "2px solid ", this.__hue_knob = document.createElement("div"), this.__hue_knob.className = "hue-knob", this.__hue_field = document.createElement("div"), this.__hue_field.className = "hue-field", this.__input = document.createElement("input"), this.__input.type = "text", this.__input_textShadow = "0 1px 1px ", t.bind(this.__input, "keydown", function (e) {
            13 === e.keyCode && c.call(this)
        }), t.bind(this.__input, "blur", c), t.bind(this.__selector, "mousedown", function () {
            t.addClass(this, "drag").bind(window, "mouseup", function () {
                t.removeClass(p.__selector, "drag")
            })
        });
        var m = document.createElement("div");
        i.extend(this.__selector.style, {
            width: "122px",
            height: "102px",
            padding: "3px",
            backgroundColor: "#222",
            boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
        }), i.extend(this.__field_knob.style, {
            position: "absolute",
            width: "12px",
            height: "12px",
            border: this.__field_knob_border + (this.__color.v < .5 ? "#fff" : "#000"),
            boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
            borderRadius: "12px",
            zIndex: 1
        }), i.extend(this.__hue_knob.style, {
            position: "absolute",
            width: "15px",
            height: "2px",
            borderRight: "4px solid #fff",
            zIndex: 1
        }), i.extend(this.__saturation_field.style, {
            width: "100px",
            height: "100px",
            border: "1px solid #555",
            marginRight: "3px",
            display: "inline-block",
            cursor: "pointer"
        }), i.extend(m.style, {
            width: "100%",
            height: "100%",
            background: "none"
        }), a(m, "top", "rgba(0,0,0,0)", "#000"), i.extend(this.__hue_field.style, {
            width: "15px",
            height: "100px",
            display: "inline-block",
            border: "1px solid #555",
            cursor: "ns-resize"
        }), o(this.__hue_field), i.extend(this.__input.style, {
            outline: "none",
            textAlign: "center",
            color: "#fff",
            border: 0,
            fontWeight: "bold",
            textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)"
        }), t.bind(this.__saturation_field, "mousedown", u), t.bind(this.__field_knob, "mousedown", u), t.bind(this.__hue_field, "mousedown", function (e) {
            d(e), t.bind(window, "mousemove", d), t.bind(window, "mouseup", A)
        }), this.__saturation_field.appendChild(m), this.__selector.appendChild(this.__field_knob), this.__selector.appendChild(this.__saturation_field), this.__selector.appendChild(this.__hue_field), this.__hue_field.appendChild(this.__hue_knob), this.domElement.appendChild(this.__input), this.domElement.appendChild(this.__selector), this.updateDisplay()
    };
    s.superclass = e, i.extend(s.prototype, e.prototype, {
        updateDisplay: function () {
            var e = r(this.getValue());
            if (e !== !1) {
                var t = !1;
                i.each(n.COMPONENTS, function (n) {
                    return i.isUndefined(e[n]) || i.isUndefined(this.__color.__state[n]) || e[n] === this.__color.__state[n] ? void 0 : (t = !0, {})
                }, this), t && i.extend(this.__color.__state, e)
            }
            i.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;
            var o = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0, s = 255 - o;
            i.extend(this.__field_knob.style, {
                marginLeft: 100 * this.__color.s - 7 + "px",
                marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                backgroundColor: this.__temp.toString(),
                border: this.__field_knob_border + "rgb(" + o + "," + o + "," + o + ")"
            }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px", this.__temp.s = 1, this.__temp.v = 1, a(this.__saturation_field, "left", "#fff", this.__temp.toString()), i.extend(this.__input.style, {
                backgroundColor: this.__input.value = this.__color.toString(),
                color: "rgb(" + o + "," + o + "," + o + ")",
                textShadow: this.__input_textShadow + "rgba(" + s + "," + s + "," + s + ",.7)"
            })
        }
    });
    var l = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
    return s
}(dat.controllers.Controller, dat.dom.dom, dat.color.Color = function (e, t, n, r) {
    function i(e, t, n) {
        Object.defineProperty(e, t, {
            get: function () {
                return "RGB" === this.__state.space ? this.__state[t] : (o(this, t, n), this.__state[t])
            }, set: function (e) {
                "RGB" !== this.__state.space && (o(this, t, n), this.__state.space = "RGB"), this.__state[t] = e
            }
        })
    }

    function a(e, t) {
        Object.defineProperty(e, t, {
            get: function () {
                return "HSV" === this.__state.space ? this.__state[t] : (s(this), this.__state[t])
            }, set: function (e) {
                "HSV" !== this.__state.space && (s(this), this.__state.space = "HSV"), this.__state[t] = e
            }
        })
    }

    function o(e, n, i) {
        if ("HEX" === e.__state.space)e.__state[n] = t.component_from_hex(e.__state.hex, i); else {
            if ("HSV" !== e.__state.space)throw"Corrupted color state";
            r.extend(e.__state, t.hsv_to_rgb(e.__state.h, e.__state.s, e.__state.v))
        }
    }

    function s(e) {
        var n = t.rgb_to_hsv(e.r, e.g, e.b);
        r.extend(e.__state, {
            s: n.s,
            v: n.v
        }), r.isNaN(n.h) ? r.isUndefined(e.__state.h) && (e.__state.h = 0) : e.__state.h = n.h
    }

    var l = function () {
        if (this.__state = e.apply(this, arguments), this.__state === !1)throw"Failed to interpret color arguments";
        this.__state.a = this.__state.a || 1
    };
    return l.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], r.extend(l.prototype, {
        toString: function () {
            return n(this)
        }, toOriginal: function () {
            return this.__state.conversion.write(this)
        }
    }), i(l.prototype, "r", 2), i(l.prototype, "g", 1), i(l.prototype, "b", 0), a(l.prototype, "h"), a(l.prototype, "s"), a(l.prototype, "v"), Object.defineProperty(l.prototype, "a", {
        get: function () {
            return this.__state.a
        }, set: function (e) {
            this.__state.a = e
        }
    }), Object.defineProperty(l.prototype, "hex", {
        get: function () {
            return "HEX" !== !this.__state.space && (this.__state.hex = t.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex
        }, set: function (e) {
            this.__state.space = "HEX", this.__state.hex = e
        }
    }), l
}(dat.color.interpret, dat.color.math = function () {
    var e;
    return {
        hsv_to_rgb: function (e, t, n) {
            var r = Math.floor(e / 60) % 6, i = e / 60 - Math.floor(e / 60), a = n * (1 - t), o = n * (1 - i * t), s = n * (1 - (1 - i) * t), l = [[n, s, a], [o, n, a], [a, n, s], [a, o, n], [s, a, n], [n, a, o]][r];
            return {r: 255 * l[0], g: 255 * l[1], b: 255 * l[2]}
        }, rgb_to_hsv: function (e, t, n) {
            var r, i, a = Math.min(e, t, n), o = Math.max(e, t, n), s = o - a;
            return 0 == o ? {
                h: 0 / 0,
                s: 0,
                v: 0
            } : (i = s / o, r = e == o ? (t - n) / s : t == o ? 2 + (n - e) / s : 4 + (e - t) / s, r /= 6, 0 > r && (r += 1), {
                h: 360 * r,
                s: i,
                v: o / 255
            })
        }, rgb_to_hex: function (e, t, n) {
            var r = this.hex_with_component(0, 2, e);
            return r = this.hex_with_component(r, 1, t), r = this.hex_with_component(r, 0, n)
        }, component_from_hex: function (e, t) {
            return e >> 8 * t & 255
        }, hex_with_component: function (t, n, r) {
            return r << (e = 8 * n) | t & ~(255 << e)
        }
    }
}(), dat.color.toString, dat.utils.common), dat.color.interpret, dat.utils.common), dat.utils.requestAnimationFrame = function () {
    return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {
            window.setTimeout(e, 1e3 / 60)
        }
}(), dat.dom.CenteredDiv = function (e, t) {
    var n = function () {
        this.backgroundElement = document.createElement("div"), t.extend(this.backgroundElement.style, {
            backgroundColor: "rgba(0,0,0,0.8)",
            top: 0,
            left: 0,
            display: "none",
            zIndex: "1000",
            opacity: 0,
            WebkitTransition: "opacity 0.2s linear"
        }), e.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = "fixed", this.domElement = document.createElement("div"), t.extend(this.domElement.style, {
            position: "fixed",
            display: "none",
            zIndex: "1001",
            opacity: 0,
            WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear"
        }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);
        var n = this;
        e.bind(this.backgroundElement, "click", function () {
            n.hide()
        })
    };
    return n.prototype.show = function () {
        var e = this;
        this.backgroundElement.style.display = "block", this.domElement.style.display = "block", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)", this.layout(), t.defer(function () {
            e.backgroundElement.style.opacity = 1, e.domElement.style.opacity = 1, e.domElement.style.webkitTransform = "scale(1)"
        })
    }, n.prototype.hide = function () {
        var t = this, n = function () {
            t.domElement.style.display = "none", t.backgroundElement.style.display = "none", e.unbind(t.domElement, "webkitTransitionEnd", n), e.unbind(t.domElement, "transitionend", n), e.unbind(t.domElement, "oTransitionEnd", n)
        };
        e.bind(this.domElement, "webkitTransitionEnd", n), e.bind(this.domElement, "transitionend", n), e.bind(this.domElement, "oTransitionEnd", n), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)"
    }, n.prototype.layout = function () {
        this.domElement.style.left = window.innerWidth / 2 - e.getWidth(this.domElement) / 2 + "px", this.domElement.style.top = window.innerHeight / 2 - e.getHeight(this.domElement) / 2 + "px"
    }, n
}(dat.dom.dom, dat.utils.common), dat.dom.dom, dat.utils.common), void 0 === Date.now && (Date.now = function () {
    return (new Date).valueOf()
});
var TWEEN = TWEEN || function () {
        var e = [];
        return {
            REVISION: "13", getAll: function () {
                return e
            }, removeAll: function () {
                e = []
            }, add: function (t) {
                e.push(t)
            }, remove: function (t) {
                var n = e.indexOf(t);
                -1 !== n && e.splice(n, 1)
            }, update: function (t) {
                if (0 === e.length)return !1;
                var n = 0;
                for (t = void 0 !== t ? t : "undefined" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(); n < e.length;)e[n].update(t) ? n++ : e.splice(n, 1);
                return !0
            }
        }
    }();
TWEEN.Tween = function (e) {
    var t = e, n = {}, r = {}, i = {}, a = 1e3, o = 0, s = !1, l = !1, u = !1, h = 0, c = null, A = TWEEN.Easing.Linear.None, f = TWEEN.Interpolation.Linear, d = [], p = null, m = !1, g = null, v = null, y = null;
    for (var E in e)n[E] = parseFloat(e[E], 10);
    this.to = function (e, t) {
        return void 0 !== t && (a = t), r = e, this
    }, this.start = function (e) {
        TWEEN.add(this), l = !0, m = !1, c = void 0 !== e ? e : "undefined" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(), c += h;
        for (var a in r) {
            if (r[a] instanceof Array) {
                if (0 === r[a].length)continue;
                r[a] = [t[a]].concat(r[a])
            }
            n[a] = t[a], n[a] instanceof Array == !1 && (n[a] *= 1), i[a] = n[a] || 0
        }
        return this
    }, this.stop = function () {
        return l ? (TWEEN.remove(this), l = !1, null !== y && y.call(t), this.stopChainedTweens(), this) : this
    }, this.stopChainedTweens = function () {
        for (var e = 0, t = d.length; t > e; e++)d[e].stop()
    }, this.delay = function (e) {
        return h = e, this
    }, this.repeat = function (e) {
        return o = e, this
    }, this.yoyo = function (e) {
        return s = e, this
    }, this.easing = function (e) {
        return A = e, this
    }, this.interpolation = function (e) {
        return f = e, this
    }, this.chain = function () {
        return d = arguments, this
    }, this.onStart = function (e) {
        return p = e, this
    }, this.onUpdate = function (e) {
        return g = e, this
    }, this.onComplete = function (e) {
        return v = e, this
    }, this.onStop = function (e) {
        return y = e, this
    }, this.update = function (e) {
        var l;
        if (c > e)return !0;
        m === !1 && (null !== p && p.call(t), m = !0);
        var y = (e - c) / a;
        y = y > 1 ? 1 : y;
        var E = A(y);
        for (l in r) {
            var b = n[l] || 0, x = r[l];
            x instanceof Array ? t[l] = f(x, E) : ("string" == typeof x && (x = b + parseFloat(x, 10)), "number" == typeof x && (t[l] = b + (x - b) * E))
        }
        if (null !== g && g.call(t, E), 1 == y) {
            if (o > 0) {
                isFinite(o) && o--;
                for (l in i) {
                    if ("string" == typeof r[l] && (i[l] = i[l] + parseFloat(r[l], 10)), s) {
                        var w = i[l];
                        i[l] = r[l], r[l] = w
                    }
                    n[l] = i[l]
                }
                return s && (u = !u), c = e + h, !0
            }
            null !== v && v.call(t);
            for (var T = 0, C = d.length; C > T; T++)d[T].start(e);
            return !1
        }
        return !0
    }
}, TWEEN.Easing = {
    Linear: {
        None: function (e) {
            return e
        }
    }, Quadratic: {
        In: function (e) {
            return e * e
        }, Out: function (e) {
            return e * (2 - e)
        }, InOut: function (e) {
            return (e *= 2) < 1 ? .5 * e * e : -.5 * (--e * (e - 2) - 1)
        }
    }, Cubic: {
        In: function (e) {
            return e * e * e
        }, Out: function (e) {
            return --e * e * e + 1
        }, InOut: function (e) {
            return (e *= 2) < 1 ? .5 * e * e * e : .5 * ((e -= 2) * e * e + 2)
        }
    }, Quartic: {
        In: function (e) {
            return e * e * e * e
        }, Out: function (e) {
            return 1 - --e * e * e * e
        }, InOut: function (e) {
            return (e *= 2) < 1 ? .5 * e * e * e * e : -.5 * ((e -= 2) * e * e * e - 2)
        }
    }, Quintic: {
        In: function (e) {
            return e * e * e * e * e
        }, Out: function (e) {
            return --e * e * e * e * e + 1
        }, InOut: function (e) {
            return (e *= 2) < 1 ? .5 * e * e * e * e * e : .5 * ((e -= 2) * e * e * e * e + 2)
        }
    }, Sinusoidal: {
        In: function (e) {
            return 1 - Math.cos(e * Math.PI / 2)
        }, Out: function (e) {
            return Math.sin(e * Math.PI / 2)
        }, InOut: function (e) {
            return .5 * (1 - Math.cos(Math.PI * e))
        }
    }, Exponential: {
        In: function (e) {
            return 0 === e ? 0 : Math.pow(1024, e - 1)
        }, Out: function (e) {
            return 1 === e ? 1 : 1 - Math.pow(2, -10 * e)
        }, InOut: function (e) {
            return 0 === e ? 0 : 1 === e ? 1 : (e *= 2) < 1 ? .5 * Math.pow(1024, e - 1) : .5 * (-Math.pow(2, -10 * (e - 1)) + 2)
        }
    }, Circular: {
        In: function (e) {
            return 1 - Math.sqrt(1 - e * e)
        }, Out: function (e) {
            return Math.sqrt(1 - --e * e)
        }, InOut: function (e) {
            return (e *= 2) < 1 ? -.5 * (Math.sqrt(1 - e * e) - 1) : .5 * (Math.sqrt(1 - (e -= 2) * e) + 1)
        }
    }, Elastic: {
        In: function (e) {
            var t, n = .1, r = .4;
            return 0 === e ? 0 : 1 === e ? 1 : (!n || 1 > n ? (n = 1, t = r / 4) : t = r * Math.asin(1 / n) / (2 * Math.PI), -(n * Math.pow(2, 10 * (e -= 1)) * Math.sin(2 * (e - t) * Math.PI / r)))
        }, Out: function (e) {
            var t, n = .1, r = .4;
            return 0 === e ? 0 : 1 === e ? 1 : (!n || 1 > n ? (n = 1, t = r / 4) : t = r * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * e) * Math.sin(2 * (e - t) * Math.PI / r) + 1)
        }, InOut: function (e) {
            var t, n = .1, r = .4;
            return 0 === e ? 0 : 1 === e ? 1 : (!n || 1 > n ? (n = 1, t = r / 4) : t = r * Math.asin(1 / n) / (2 * Math.PI), (e *= 2) < 1 ? -.5 * n * Math.pow(2, 10 * (e -= 1)) * Math.sin(2 * (e - t) * Math.PI / r) : n * Math.pow(2, -10 * (e -= 1)) * Math.sin(2 * (e - t) * Math.PI / r) * .5 + 1)
        }
    }, Back: {
        In: function (e) {
            var t = 1.70158;
            return e * e * ((t + 1) * e - t)
        }, Out: function (e) {
            var t = 1.70158;
            return --e * e * ((t + 1) * e + t) + 1
        }, InOut: function (e) {
            var t = 2.5949095;
            return (e *= 2) < 1 ? .5 * e * e * ((t + 1) * e - t) : .5 * ((e -= 2) * e * ((t + 1) * e + t) + 2)
        }
    }, Bounce: {
        In: function (e) {
            return 1 - TWEEN.Easing.Bounce.Out(1 - e)
        }, Out: function (e) {
            return 1 / 2.75 > e ? 7.5625 * e * e : 2 / 2.75 > e ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : 2.5 / 2.75 > e ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
        }, InOut: function (e) {
            return .5 > e ? .5 * TWEEN.Easing.Bounce.In(2 * e) : .5 * TWEEN.Easing.Bounce.Out(2 * e - 1) + .5
        }
    }
}, TWEEN.Interpolation = {
    Linear: function (e, t) {
        var n = e.length - 1, r = n * t, i = Math.floor(r), a = TWEEN.Interpolation.Utils.Linear;
        return 0 > t ? a(e[0], e[1], r) : t > 1 ? a(e[n], e[n - 1], n - r) : a(e[i], e[i + 1 > n ? n : i + 1], r - i)
    }, Bezier: function (e, t) {
        var n, r = 0, i = e.length - 1, a = Math.pow, o = TWEEN.Interpolation.Utils.Bernstein;
        for (n = 0; i >= n; n++)r += a(1 - t, i - n) * a(t, n) * e[n] * o(i, n);
        return r
    }, CatmullRom: function (e, t) {
        var n = e.length - 1, r = n * t, i = Math.floor(r), a = TWEEN.Interpolation.Utils.CatmullRom;
        return e[0] === e[n] ? (0 > t && (i = Math.floor(r = n * (1 + t))), a(e[(i - 1 + n) % n], e[i], e[(i + 1) % n], e[(i + 2) % n], r - i)) : 0 > t ? e[0] - (a(e[0], e[0], e[1], e[1], -r) - e[0]) : t > 1 ? e[n] - (a(e[n], e[n], e[n - 1], e[n - 1], r - n) - e[n]) : a(e[i ? i - 1 : 0], e[i], e[i + 1 > n ? n : i + 1], e[i + 2 > n ? n : i + 2], r - i)
    }, Utils: {
        Linear: function (e, t, n) {
            return (t - e) * n + e
        }, Bernstein: function (e, t) {
            var n = TWEEN.Interpolation.Utils.Factorial;
            return n(e) / n(t) / n(e - t)
        }, Factorial: function () {
            var e = [1];
            return function (t) {
                var n, r = 1;
                if (e[t])return e[t];
                for (n = t; n > 1; n--)r *= n;
                return e[t] = r
            }
        }(), CatmullRom: function (e, t, n, r, i) {
            var a = .5 * (n - e), o = .5 * (r - t), s = i * i, l = i * s;
            return (2 * t - 2 * n + a + o) * l + (-3 * t + 3 * n - 2 * a - o) * s + a * i + t
        }
    }
};
var THREE = {REVISION: "66"};
self.console = self.console || {
        info: function () {
        }, log: function () {
        }, debug: function () {
        }, warn: function () {
        }, error: function () {
        }
    }, function () {
    for (var e = 0, t = ["ms", "moz", "webkit", "o"], n = 0; n < t.length && !self.requestAnimationFrame; ++n)self.requestAnimationFrame = self[t[n] + "RequestAnimationFrame"], self.cancelAnimationFrame = self[t[n] + "CancelAnimationFrame"] || self[t[n] + "CancelRequestAnimationFrame"];
    void 0 === self.requestAnimationFrame && void 0 !== self.setTimeout && (self.requestAnimationFrame = function (t) {
        var n = Date.now(), r = Math.max(0, 16 - (n - e)), i = self.setTimeout(function () {
            t(n + r)
        }, r);
        return e = n + r, i
    }), void 0 === self.cancelAnimationFrame && void 0 !== self.clearTimeout && (self.cancelAnimationFrame = function (e) {
        self.clearTimeout(e)
    })
}(), THREE.CullFaceNone = 0, THREE.CullFaceBack = 1, THREE.CullFaceFront = 2, THREE.CullFaceFrontBack = 3, THREE.FrontFaceDirectionCW = 0, THREE.FrontFaceDirectionCCW = 1, THREE.BasicShadowMap = 0, THREE.PCFShadowMap = 1, THREE.PCFSoftShadowMap = 2, THREE.FrontSide = 0, THREE.BackSide = 1, THREE.DoubleSide = 2, THREE.NoShading = 0, THREE.FlatShading = 1, THREE.SmoothShading = 2, THREE.NoColors = 0, THREE.FaceColors = 1, THREE.VertexColors = 2, THREE.NoBlending = 0, THREE.NormalBlending = 1, THREE.AdditiveBlending = 2, THREE.SubtractiveBlending = 3, THREE.MultiplyBlending = 4, THREE.CustomBlending = 5, THREE.AddEquation = 100, THREE.SubtractEquation = 101, THREE.ReverseSubtractEquation = 102, THREE.ZeroFactor = 200, THREE.OneFactor = 201, THREE.SrcColorFactor = 202, THREE.OneMinusSrcColorFactor = 203, THREE.SrcAlphaFactor = 204, THREE.OneMinusSrcAlphaFactor = 205, THREE.DstAlphaFactor = 206, THREE.OneMinusDstAlphaFactor = 207, THREE.DstColorFactor = 208, THREE.OneMinusDstColorFactor = 209, THREE.SrcAlphaSaturateFactor = 210, THREE.MultiplyOperation = 0, THREE.MixOperation = 1, THREE.AddOperation = 2, THREE.UVMapping = function () {
}, THREE.CubeReflectionMapping = function () {
}, THREE.CubeRefractionMapping = function () {
}, THREE.SphericalReflectionMapping = function () {
}, THREE.SphericalRefractionMapping = function () {
}, THREE.RepeatWrapping = 1e3, THREE.ClampToEdgeWrapping = 1001, THREE.MirroredRepeatWrapping = 1002, THREE.NearestFilter = 1003, THREE.NearestMipMapNearestFilter = 1004, THREE.NearestMipMapLinearFilter = 1005, THREE.LinearFilter = 1006, THREE.LinearMipMapNearestFilter = 1007, THREE.LinearMipMapLinearFilter = 1008, THREE.UnsignedByteType = 1009, THREE.ByteType = 1010, THREE.ShortType = 1011, THREE.UnsignedShortType = 1012, THREE.IntType = 1013, THREE.UnsignedIntType = 1014, THREE.FloatType = 1015, THREE.UnsignedShort4444Type = 1016, THREE.UnsignedShort5551Type = 1017, THREE.UnsignedShort565Type = 1018, THREE.AlphaFormat = 1019, THREE.RGBFormat = 1020, THREE.RGBAFormat = 1021, THREE.LuminanceFormat = 1022, THREE.LuminanceAlphaFormat = 1023, THREE.RGB_S3TC_DXT1_Format = 2001, THREE.RGBA_S3TC_DXT1_Format = 2002, THREE.RGBA_S3TC_DXT3_Format = 2003, THREE.RGBA_S3TC_DXT5_Format = 2004, THREE.Color = function (e) {
    return 3 === arguments.length ? this.setRGB(arguments[0], arguments[1], arguments[2]) : this.set(e)
}, THREE.Color.prototype = {
    constructor: THREE.Color, r: 1, g: 1, b: 1, set: function (e) {
        return e instanceof THREE.Color ? this.copy(e) : "number" == typeof e ? this.setHex(e) : "string" == typeof e && this.setStyle(e), this
    }, setHex: function (e) {
        return e = Math.floor(e), this.r = (e >> 16 & 255) / 255, this.g = (e >> 8 & 255) / 255, this.b = (255 & e) / 255, this
    }, setRGB: function (e, t, n) {
        return this.r = e, this.g = t, this.b = n, this
    }, setHSL: function (e, t, n) {
        if (0 === t)this.r = this.g = this.b = n; else {
            var r = function (e, t, n) {
                return 0 > n && (n += 1), n > 1 && (n -= 1), 1 / 6 > n ? e + 6 * (t - e) * n : .5 > n ? t : 2 / 3 > n ? e + 6 * (t - e) * (2 / 3 - n) : e
            }, i = .5 >= n ? n * (1 + t) : n + t - n * t, a = 2 * n - i;
            this.r = r(a, i, e + 1 / 3), this.g = r(a, i, e), this.b = r(a, i, e - 1 / 3)
        }
        return this
    }, setStyle: function (e) {
        if (/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)) {
            var t = /^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);
            return this.r = Math.min(255, parseInt(t[1], 10)) / 255, this.g = Math.min(255, parseInt(t[2], 10)) / 255, this.b = Math.min(255, parseInt(t[3], 10)) / 255, this
        }
        if (/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)) {
            var t = /^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);
            return this.r = Math.min(100, parseInt(t[1], 10)) / 100, this.g = Math.min(100, parseInt(t[2], 10)) / 100, this.b = Math.min(100, parseInt(t[3], 10)) / 100, this
        }
        if (/^\#([0-9a-f]{6})$/i.test(e)) {
            var t = /^\#([0-9a-f]{6})$/i.exec(e);
            return this.setHex(parseInt(t[1], 16)), this
        }
        if (/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)) {
            var t = /^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);
            return this.setHex(parseInt(t[1] + t[1] + t[2] + t[2] + t[3] + t[3], 16)), this
        }
        return /^(\w+)$/i.test(e) ? (this.setHex(THREE.ColorKeywords[e]), this) : void 0
    }, copy: function (e) {
        return this.r = e.r, this.g = e.g, this.b = e.b, this
    }, copyGammaToLinear: function (e) {
        return this.r = e.r * e.r, this.g = e.g * e.g, this.b = e.b * e.b, this
    }, copyLinearToGamma: function (e) {
        return this.r = Math.sqrt(e.r), this.g = Math.sqrt(e.g), this.b = Math.sqrt(e.b), this
    }, convertGammaToLinear: function () {
        var e = this.r, t = this.g, n = this.b;
        return this.r = e * e, this.g = t * t, this.b = n * n, this
    }, convertLinearToGamma: function () {
        return this.r = Math.sqrt(this.r), this.g = Math.sqrt(this.g), this.b = Math.sqrt(this.b), this
    }, getHex: function () {
        return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
    }, getHexString: function () {
        return ("000000" + this.getHex().toString(16)).slice(-6)
    }, getHSL: function (e) {
        var t, n, r = e || {
                h: 0,
                s: 0,
                l: 0
            }, i = this.r, a = this.g, o = this.b, s = Math.max(i, a, o), l = Math.min(i, a, o), u = (l + s) / 2;
        if (l === s)t = 0, n = 0; else {
            var h = s - l;
            switch (n = .5 >= u ? h / (s + l) : h / (2 - s - l), s) {
                case i:
                    t = (a - o) / h + (o > a ? 6 : 0);
                    break;
                case a:
                    t = (o - i) / h + 2;
                    break;
                case o:
                    t = (i - a) / h + 4
            }
            t /= 6
        }
        return r.h = t, r.s = n, r.l = u, r
    }, getStyle: function () {
        return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
    }, offsetHSL: function (e, t, n) {
        var r = this.getHSL();
        return r.h += e, r.s += t, r.l += n, this.setHSL(r.h, r.s, r.l), this
    }, add: function (e) {
        return this.r += e.r, this.g += e.g, this.b += e.b, this
    }, addColors: function (e, t) {
        return this.r = e.r + t.r, this.g = e.g + t.g, this.b = e.b + t.b, this
    }, addScalar: function (e) {
        return this.r += e, this.g += e, this.b += e, this
    }, multiply: function (e) {
        return this.r *= e.r, this.g *= e.g, this.b *= e.b, this
    }, multiplyScalar: function (e) {
        return this.r *= e, this.g *= e, this.b *= e, this
    }, lerp: function (e, t) {
        return this.r += (e.r - this.r) * t, this.g += (e.g - this.g) * t, this.b += (e.b - this.b) * t, this
    }, equals: function (e) {
        return e.r === this.r && e.g === this.g && e.b === this.b
    }, fromArray: function (e) {
        return this.r = e[0], this.g = e[1], this.b = e[2], this
    }, toArray: function () {
        return [this.r, this.g, this.b]
    }, clone: function () {
        return (new THREE.Color).setRGB(this.r, this.g, this.b)
    }
}, THREE.ColorKeywords = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074
}, THREE.Quaternion = function (e, t, n, r) {
    this._x = e || 0, this._y = t || 0, this._z = n || 0, this._w = void 0 !== r ? r : 1
}, THREE.Quaternion.prototype = {
    constructor: THREE.Quaternion,
    _x: 0,
    _y: 0,
    _z: 0,
    _w: 0,
    _euler: void 0,
    _updateEuler: function () {
        void 0 !== this._euler && this._euler.setFromQuaternion(this, void 0, !1)
    },
    get x() {
        return this._x
    },
    set x(e) {
        this._x = e, this._updateEuler()
    },
    get y() {
        return this._y
    },
    set y(e) {
        this._y = e, this._updateEuler()
    },
    get z() {
        return this._z
    },
    set z(e) {
        this._z = e, this._updateEuler()
    },
    get w() {
        return this._w
    },
    set w(e) {
        this._w = e, this._updateEuler()
    },
    set: function (e, t, n, r) {
        return this._x = e, this._y = t, this._z = n, this._w = r, this._updateEuler(), this
    },
    copy: function (e) {
        return this._x = e._x, this._y = e._y, this._z = e._z, this._w = e._w, this._updateEuler(), this
    },
    setFromEuler: function (e, t) {
        if (e instanceof THREE.Euler == !1)throw new Error("ERROR: Quaternion's .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");
        var n = Math.cos(e._x / 2), r = Math.cos(e._y / 2), i = Math.cos(e._z / 2), a = Math.sin(e._x / 2), o = Math.sin(e._y / 2), s = Math.sin(e._z / 2);
        return "XYZ" === e.order ? (this._x = a * r * i + n * o * s, this._y = n * o * i - a * r * s, this._z = n * r * s + a * o * i, this._w = n * r * i - a * o * s) : "YXZ" === e.order ? (this._x = a * r * i + n * o * s, this._y = n * o * i - a * r * s, this._z = n * r * s - a * o * i, this._w = n * r * i + a * o * s) : "ZXY" === e.order ? (this._x = a * r * i - n * o * s, this._y = n * o * i + a * r * s, this._z = n * r * s + a * o * i, this._w = n * r * i - a * o * s) : "ZYX" === e.order ? (this._x = a * r * i - n * o * s, this._y = n * o * i + a * r * s, this._z = n * r * s - a * o * i, this._w = n * r * i + a * o * s) : "YZX" === e.order ? (this._x = a * r * i + n * o * s, this._y = n * o * i + a * r * s, this._z = n * r * s - a * o * i, this._w = n * r * i - a * o * s) : "XZY" === e.order && (this._x = a * r * i - n * o * s, this._y = n * o * i - a * r * s, this._z = n * r * s + a * o * i, this._w = n * r * i + a * o * s), t !== !1 && this._updateEuler(), this
    },
    setFromAxisAngle: function (e, t) {
        var n = t / 2, r = Math.sin(n);
        return this._x = e.x * r, this._y = e.y * r, this._z = e.z * r, this._w = Math.cos(n), this._updateEuler(), this
    },
    setFromRotationMatrix: function (e) {
        var t, n = e.elements, r = n[0], i = n[4], a = n[8], o = n[1], s = n[5], l = n[9], u = n[2], h = n[6], c = n[10], A = r + s + c;
        return A > 0 ? (t = .5 / Math.sqrt(A + 1), this._w = .25 / t, this._x = (h - l) * t, this._y = (a - u) * t, this._z = (o - i) * t) : r > s && r > c ? (t = 2 * Math.sqrt(1 + r - s - c), this._w = (h - l) / t, this._x = .25 * t, this._y = (i + o) / t, this._z = (a + u) / t) : s > c ? (t = 2 * Math.sqrt(1 + s - r - c), this._w = (a - u) / t, this._x = (i + o) / t, this._y = .25 * t, this._z = (l + h) / t) : (t = 2 * Math.sqrt(1 + c - r - s), this._w = (o - i) / t, this._x = (a + u) / t, this._y = (l + h) / t, this._z = .25 * t), this._updateEuler(), this
    },
    inverse: function () {
        return this.conjugate().normalize(), this
    },
    conjugate: function () {
        return this._x *= -1, this._y *= -1, this._z *= -1, this._updateEuler(), this
    },
    lengthSq: function () {
        return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
    },
    length: function () {
        return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
    },
    normalize: function () {
        var e = this.length();
        return 0 === e ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (e = 1 / e, this._x = this._x * e, this._y = this._y * e, this._z = this._z * e, this._w = this._w * e), this
    },
    multiply: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(e, t)) : this.multiplyQuaternions(this, e)
    },
    multiplyQuaternions: function (e, t) {
        var n = e._x, r = e._y, i = e._z, a = e._w, o = t._x, s = t._y, l = t._z, u = t._w;
        return this._x = n * u + a * o + r * l - i * s, this._y = r * u + a * s + i * o - n * l, this._z = i * u + a * l + n * s - r * o, this._w = a * u - n * o - r * s - i * l, this._updateEuler(), this
    },
    multiplyVector3: function (e) {
        return console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."), e.applyQuaternion(this)
    },
    slerp: function (e, t) {
        var n = this._x, r = this._y, i = this._z, a = this._w, o = a * e._w + n * e._x + r * e._y + i * e._z;
        if (0 > o ? (this._w = -e._w, this._x = -e._x, this._y = -e._y, this._z = -e._z, o = -o) : this.copy(e), o >= 1)return this._w = a, this._x = n, this._y = r, this._z = i, this;
        var s = Math.acos(o), l = Math.sqrt(1 - o * o);
        if (Math.abs(l) < .001)return this._w = .5 * (a + this._w), this._x = .5 * (n + this._x), this._y = .5 * (r + this._y), this._z = .5 * (i + this._z), this;
        var u = Math.sin((1 - t) * s) / l, h = Math.sin(t * s) / l;
        return this._w = a * u + this._w * h, this._x = n * u + this._x * h, this._y = r * u + this._y * h, this._z = i * u + this._z * h, this._updateEuler(), this
    },
    equals: function (e) {
        return e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w
    },
    fromArray: function (e) {
        return this._x = e[0], this._y = e[1], this._z = e[2], this._w = e[3], this._updateEuler(), this
    },
    toArray: function () {
        return [this._x, this._y, this._z, this._w]
    },
    clone: function () {
        return new THREE.Quaternion(this._x, this._y, this._z, this._w)
    }
}, THREE.Quaternion.slerp = function (e, t, n, r) {
    return n.copy(e).slerp(t, r)
}, THREE.Vector2 = function (e, t) {
    this.x = e || 0, this.y = t || 0
}, THREE.Vector2.prototype = {
    constructor: THREE.Vector2, set: function (e, t) {
        return this.x = e, this.y = t, this
    }, setX: function (e) {
        return this.x = e, this
    }, setY: function (e) {
        return this.y = e, this
    }, setComponent: function (e, t) {
        switch (e) {
            case 0:
                this.x = t;
                break;
            case 1:
                this.y = t;
                break;
            default:
                throw new Error("index is out of range: " + e)
        }
    }, getComponent: function (e) {
        switch (e) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            default:
                throw new Error("index is out of range: " + e)
        }
    }, copy: function (e) {
        return this.x = e.x, this.y = e.y, this
    }, add: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this)
    }, addVectors: function (e, t) {
        return this.x = e.x + t.x, this.y = e.y + t.y, this
    }, addScalar: function (e) {
        return this.x += e, this.y += e, this
    }, sub: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this)
    }, subVectors: function (e, t) {
        return this.x = e.x - t.x, this.y = e.y - t.y, this
    }, multiplyScalar: function (e) {
        return this.x *= e, this.y *= e, this
    }, divideScalar: function (e) {
        if (0 !== e) {
            var t = 1 / e;
            this.x *= t, this.y *= t
        } else this.x = 0, this.y = 0;
        return this
    }, min: function (e) {
        return this.x > e.x && (this.x = e.x), this.y > e.y && (this.y = e.y), this
    }, max: function (e) {
        return this.x < e.x && (this.x = e.x), this.y < e.y && (this.y = e.y), this
    }, clamp: function (e, t) {
        return this.x < e.x ? this.x = e.x : this.x > t.x && (this.x = t.x), this.y < e.y ? this.y = e.y : this.y > t.y && (this.y = t.y), this
    }, clampScalar: function () {
        var e, t;
        return function (n, r) {
            return void 0 === e && (e = new THREE.Vector2, t = new THREE.Vector2), e.set(n, n), t.set(r, r), this.clamp(e, t)
        }
    }(), floor: function () {
        return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
    }, ceil: function () {
        return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
    }, round: function () {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this
    }, roundToZero: function () {
        return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
    }, negate: function () {
        return this.multiplyScalar(-1)
    }, dot: function (e) {
        return this.x * e.x + this.y * e.y
    }, lengthSq: function () {
        return this.x * this.x + this.y * this.y
    }, length: function () {
        return Math.sqrt(this.x * this.x + this.y * this.y)
    }, normalize: function () {
        return this.divideScalar(this.length())
    }, distanceTo: function (e) {
        return Math.sqrt(this.distanceToSquared(e))
    }, distanceToSquared: function (e) {
        var t = this.x - e.x, n = this.y - e.y;
        return t * t + n * n
    }, setLength: function (e) {
        var t = this.length();
        return 0 !== t && e !== t && this.multiplyScalar(e / t), this
    }, lerp: function (e, t) {
        return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this
    }, equals: function (e) {
        return e.x === this.x && e.y === this.y
    }, fromArray: function (e) {
        return this.x = e[0], this.y = e[1], this
    }, toArray: function () {
        return [this.x, this.y]
    }, clone: function () {
        return new THREE.Vector2(this.x, this.y)
    }
}, THREE.Vector3 = function (e, t, n) {
    this.x = e || 0, this.y = t || 0, this.z = n || 0
}, THREE.Vector3.prototype = {
    constructor: THREE.Vector3, set: function (e, t, n) {
        return this.x = e, this.y = t, this.z = n, this
    }, setX: function (e) {
        return this.x = e, this
    }, setY: function (e) {
        return this.y = e, this
    }, setZ: function (e) {
        return this.z = e, this
    }, setComponent: function (e, t) {
        switch (e) {
            case 0:
                this.x = t;
                break;
            case 1:
                this.y = t;
                break;
            case 2:
                this.z = t;
                break;
            default:
                throw new Error("index is out of range: " + e)
        }
    }, getComponent: function (e) {
        switch (e) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            default:
                throw new Error("index is out of range: " + e)
        }
    }, copy: function (e) {
        return this.x = e.x, this.y = e.y, this.z = e.z, this
    }, add: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this)
    }, addScalar: function (e) {
        return this.x += e, this.y += e, this.z += e, this
    }, addVectors: function (e, t) {
        return this.x = e.x + t.x, this.y = e.y + t.y, this.z = e.z + t.z, this
    }, sub: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this)
    }, subVectors: function (e, t) {
        return this.x = e.x - t.x, this.y = e.y - t.y, this.z = e.z - t.z, this
    }, multiply: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(e, t)) : (this.x *= e.x, this.y *= e.y, this.z *= e.z, this)
    }, multiplyScalar: function (e) {
        return this.x *= e, this.y *= e, this.z *= e, this
    }, multiplyVectors: function (e, t) {
        return this.x = e.x * t.x, this.y = e.y * t.y, this.z = e.z * t.z, this
    }, applyEuler: function () {
        var e;
        return function (t) {
            return t instanceof THREE.Euler == !1 && console.error("ERROR: Vector3's .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code."), void 0 === e && (e = new THREE.Quaternion), this.applyQuaternion(e.setFromEuler(t)), this
        }
    }(), applyAxisAngle: function () {
        var e;
        return function (t, n) {
            return void 0 === e && (e = new THREE.Quaternion), this.applyQuaternion(e.setFromAxisAngle(t, n)), this
        }
    }(), applyMatrix3: function (e) {
        var t = this.x, n = this.y, r = this.z, i = e.elements;
        return this.x = i[0] * t + i[3] * n + i[6] * r, this.y = i[1] * t + i[4] * n + i[7] * r, this.z = i[2] * t + i[5] * n + i[8] * r, this
    }, applyMatrix4: function (e) {
        var t = this.x, n = this.y, r = this.z, i = e.elements;
        return this.x = i[0] * t + i[4] * n + i[8] * r + i[12], this.y = i[1] * t + i[5] * n + i[9] * r + i[13], this.z = i[2] * t + i[6] * n + i[10] * r + i[14], this
    }, applyProjection: function (e) {
        var t = this.x, n = this.y, r = this.z, i = e.elements, a = 1 / (i[3] * t + i[7] * n + i[11] * r + i[15]);
        return this.x = (i[0] * t + i[4] * n + i[8] * r + i[12]) * a, this.y = (i[1] * t + i[5] * n + i[9] * r + i[13]) * a, this.z = (i[2] * t + i[6] * n + i[10] * r + i[14]) * a, this
    }, applyQuaternion: function (e) {
        var t = this.x, n = this.y, r = this.z, i = e.x, a = e.y, o = e.z, s = e.w, l = s * t + a * r - o * n, u = s * n + o * t - i * r, h = s * r + i * n - a * t, c = -i * t - a * n - o * r;
        return this.x = l * s + c * -i + u * -o - h * -a, this.y = u * s + c * -a + h * -i - l * -o, this.z = h * s + c * -o + l * -a - u * -i, this
    }, transformDirection: function (e) {
        var t = this.x, n = this.y, r = this.z, i = e.elements;
        return this.x = i[0] * t + i[4] * n + i[8] * r, this.y = i[1] * t + i[5] * n + i[9] * r, this.z = i[2] * t + i[6] * n + i[10] * r, this.normalize(), this
    }, divide: function (e) {
        return this.x /= e.x, this.y /= e.y, this.z /= e.z, this
    }, divideScalar: function (e) {
        if (0 !== e) {
            var t = 1 / e;
            this.x *= t, this.y *= t, this.z *= t
        } else this.x = 0, this.y = 0, this.z = 0;
        return this
    }, min: function (e) {
        return this.x > e.x && (this.x = e.x), this.y > e.y && (this.y = e.y), this.z > e.z && (this.z = e.z), this
    }, max: function (e) {
        return this.x < e.x && (this.x = e.x), this.y < e.y && (this.y = e.y), this.z < e.z && (this.z = e.z), this
    }, clamp: function (e, t) {
        return this.x < e.x ? this.x = e.x : this.x > t.x && (this.x = t.x), this.y < e.y ? this.y = e.y : this.y > t.y && (this.y = t.y), this.z < e.z ? this.z = e.z : this.z > t.z && (this.z = t.z), this
    }, clampScalar: function () {
        var e, t;
        return function (n, r) {
            return void 0 === e && (e = new THREE.Vector3, t = new THREE.Vector3), e.set(n, n, n), t.set(r, r, r), this.clamp(e, t)
        }
    }(), floor: function () {
        return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
    }, ceil: function () {
        return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
    }, round: function () {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
    }, roundToZero: function () {
        return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
    }, negate: function () {
        return this.multiplyScalar(-1)
    }, dot: function (e) {
        return this.x * e.x + this.y * e.y + this.z * e.z
    }, lengthSq: function () {
        return this.x * this.x + this.y * this.y + this.z * this.z
    }, length: function () {
        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
    }, lengthManhattan: function () {
        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
    }, normalize: function () {
        return this.divideScalar(this.length())
    }, setLength: function (e) {
        var t = this.length();
        return 0 !== t && e !== t && this.multiplyScalar(e / t), this
    }, lerp: function (e, t) {
        return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this.z += (e.z - this.z) * t, this
    }, cross: function (e, t) {
        if (void 0 !== t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(e, t);
        var n = this.x, r = this.y, i = this.z;
        return this.x = r * e.z - i * e.y, this.y = i * e.x - n * e.z, this.z = n * e.y - r * e.x, this
    }, crossVectors: function (e, t) {
        var n = e.x, r = e.y, i = e.z, a = t.x, o = t.y, s = t.z;
        return this.x = r * s - i * o, this.y = i * a - n * s, this.z = n * o - r * a, this
    }, projectOnVector: function () {
        var e, t;
        return function (n) {
            return void 0 === e && (e = new THREE.Vector3), e.copy(n).normalize(), t = this.dot(e), this.copy(e).multiplyScalar(t)
        }
    }(), projectOnPlane: function () {
        var e;
        return function (t) {
            return void 0 === e && (e = new THREE.Vector3), e.copy(this).projectOnVector(t), this.sub(e)
        }
    }(), reflect: function () {
        var e;
        return function (t) {
            return void 0 === e && (e = new THREE.Vector3), this.sub(e.copy(t).multiplyScalar(2 * this.dot(t)))
        }
    }(), angleTo: function (e) {
        var t = this.dot(e) / (this.length() * e.length());
        return Math.acos(THREE.Math.clamp(t, -1, 1))
    }, distanceTo: function (e) {
        return Math.sqrt(this.distanceToSquared(e))
    }, distanceToSquared: function (e) {
        var t = this.x - e.x, n = this.y - e.y, r = this.z - e.z;
        return t * t + n * n + r * r
    }, setEulerFromRotationMatrix: function () {
        console.error("REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.")
    }, setEulerFromQuaternion: function () {
        console.error("REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.")
    }, getPositionFromMatrix: function (e) {
        return console.warn("DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code."), this.setFromMatrixPosition(e)
    }, getScaleFromMatrix: function (e) {
        return console.warn("DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code."), this.setFromMatrixScale(e)
    }, getColumnFromMatrix: function (e, t) {
        return console.warn("DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code."), this.setFromMatrixColumn(e, t)
    }, setFromMatrixPosition: function (e) {
        return this.x = e.elements[12], this.y = e.elements[13], this.z = e.elements[14], this
    }, setFromMatrixScale: function (e) {
        var t = this.set(e.elements[0], e.elements[1], e.elements[2]).length(), n = this.set(e.elements[4], e.elements[5], e.elements[6]).length(), r = this.set(e.elements[8], e.elements[9], e.elements[10]).length();
        return this.x = t, this.y = n, this.z = r, this
    }, setFromMatrixColumn: function (e, t) {
        var n = 4 * e, r = t.elements;
        return this.x = r[n], this.y = r[n + 1], this.z = r[n + 2], this
    }, equals: function (e) {
        return e.x === this.x && e.y === this.y && e.z === this.z
    }, fromArray: function (e) {
        return this.x = e[0], this.y = e[1], this.z = e[2], this
    }, toArray: function () {
        return [this.x, this.y, this.z]
    }, clone: function () {
        return new THREE.Vector3(this.x, this.y, this.z)
    }
}, THREE.Vector4 = function (e, t, n, r) {
    this.x = e || 0, this.y = t || 0, this.z = n || 0, this.w = void 0 !== r ? r : 1
}, THREE.Vector4.prototype = {
    constructor: THREE.Vector4, set: function (e, t, n, r) {
        return this.x = e, this.y = t, this.z = n, this.w = r, this
    }, setX: function (e) {
        return this.x = e, this
    }, setY: function (e) {
        return this.y = e, this
    }, setZ: function (e) {
        return this.z = e, this
    }, setW: function (e) {
        return this.w = e, this
    }, setComponent: function (e, t) {
        switch (e) {
            case 0:
                this.x = t;
                break;
            case 1:
                this.y = t;
                break;
            case 2:
                this.z = t;
                break;
            case 3:
                this.w = t;
                break;
            default:
                throw new Error("index is out of range: " + e)
        }
    }, getComponent: function (e) {
        switch (e) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            case 3:
                return this.w;
            default:
                throw new Error("index is out of range: " + e)
        }
    }, copy: function (e) {
        return this.x = e.x, this.y = e.y, this.z = e.z, this.w = void 0 !== e.w ? e.w : 1, this
    }, add: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this.w += e.w, this)
    }, addScalar: function (e) {
        return this.x += e, this.y += e, this.z += e, this.w += e, this
    }, addVectors: function (e, t) {
        return this.x = e.x + t.x, this.y = e.y + t.y, this.z = e.z + t.z, this.w = e.w + t.w, this
    }, sub: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this.w -= e.w, this)
    }, subVectors: function (e, t) {
        return this.x = e.x - t.x, this.y = e.y - t.y, this.z = e.z - t.z, this.w = e.w - t.w, this
    }, multiplyScalar: function (e) {
        return this.x *= e, this.y *= e, this.z *= e, this.w *= e, this
    }, applyMatrix4: function (e) {
        var t = this.x, n = this.y, r = this.z, i = this.w, a = e.elements;
        return this.x = a[0] * t + a[4] * n + a[8] * r + a[12] * i, this.y = a[1] * t + a[5] * n + a[9] * r + a[13] * i, this.z = a[2] * t + a[6] * n + a[10] * r + a[14] * i, this.w = a[3] * t + a[7] * n + a[11] * r + a[15] * i, this
    }, divideScalar: function (e) {
        if (0 !== e) {
            var t = 1 / e;
            this.x *= t, this.y *= t, this.z *= t, this.w *= t
        } else this.x = 0, this.y = 0, this.z = 0, this.w = 1;
        return this
    }, setAxisAngleFromQuaternion: function (e) {
        this.w = 2 * Math.acos(e.w);
        var t = Math.sqrt(1 - e.w * e.w);
        return 1e-4 > t ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = e.x / t, this.y = e.y / t, this.z = e.z / t), this
    }, setAxisAngleFromRotationMatrix: function (e) {
        var t, n, r, i, a = .01, o = .1, s = e.elements, l = s[0], u = s[4], h = s[8], c = s[1], A = s[5], f = s[9], d = s[2], p = s[6], m = s[10];
        if (Math.abs(u - c) < a && Math.abs(h - d) < a && Math.abs(f - p) < a) {
            if (Math.abs(u + c) < o && Math.abs(h + d) < o && Math.abs(f + p) < o && Math.abs(l + A + m - 3) < o)return this.set(1, 0, 0, 0), this;
            t = Math.PI;
            var g = (l + 1) / 2, v = (A + 1) / 2, y = (m + 1) / 2, E = (u + c) / 4, b = (h + d) / 4, x = (f + p) / 4;
            return g > v && g > y ? a > g ? (n = 0, r = .707106781, i = .707106781) : (n = Math.sqrt(g), r = E / n, i = b / n) : v > y ? a > v ? (n = .707106781, r = 0, i = .707106781) : (r = Math.sqrt(v), n = E / r, i = x / r) : a > y ? (n = .707106781, r = .707106781, i = 0) : (i = Math.sqrt(y), n = b / i, r = x / i), this.set(n, r, i, t), this
        }
        var w = Math.sqrt((p - f) * (p - f) + (h - d) * (h - d) + (c - u) * (c - u));
        return Math.abs(w) < .001 && (w = 1), this.x = (p - f) / w, this.y = (h - d) / w, this.z = (c - u) / w, this.w = Math.acos((l + A + m - 1) / 2), this
    }, min: function (e) {
        return this.x > e.x && (this.x = e.x), this.y > e.y && (this.y = e.y), this.z > e.z && (this.z = e.z), this.w > e.w && (this.w = e.w), this
    }, max: function (e) {
        return this.x < e.x && (this.x = e.x), this.y < e.y && (this.y = e.y), this.z < e.z && (this.z = e.z), this.w < e.w && (this.w = e.w), this
    }, clamp: function (e, t) {
        return this.x < e.x ? this.x = e.x : this.x > t.x && (this.x = t.x), this.y < e.y ? this.y = e.y : this.y > t.y && (this.y = t.y), this.z < e.z ? this.z = e.z : this.z > t.z && (this.z = t.z), this.w < e.w ? this.w = e.w : this.w > t.w && (this.w = t.w), this
    }, clampScalar: function () {
        var e, t;
        return function (n, r) {
            return void 0 === e && (e = new THREE.Vector4, t = new THREE.Vector4), e.set(n, n, n, n), t.set(r, r, r, r), this.clamp(e, t)
        }
    }(), floor: function () {
        return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
    }, ceil: function () {
        return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
    }, round: function () {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
    }, roundToZero: function () {
        return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
    }, negate: function () {
        return this.multiplyScalar(-1)
    }, dot: function (e) {
        return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
    }, lengthSq: function () {
        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
    }, length: function () {
        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
    }, lengthManhattan: function () {
        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
    }, normalize: function () {
        return this.divideScalar(this.length())
    }, setLength: function (e) {
        var t = this.length();
        return 0 !== t && e !== t && this.multiplyScalar(e / t), this
    }, lerp: function (e, t) {
        return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this.z += (e.z - this.z) * t, this.w += (e.w - this.w) * t, this
    }, equals: function (e) {
        return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
    }, fromArray: function (e) {
        return this.x = e[0], this.y = e[1], this.z = e[2], this.w = e[3], this
    }, toArray: function () {
        return [this.x, this.y, this.z, this.w]
    }, clone: function () {
        return new THREE.Vector4(this.x, this.y, this.z, this.w)
    }
}, THREE.Euler = function (e, t, n, r) {
    this._x = e || 0, this._y = t || 0, this._z = n || 0, this._order = r || THREE.Euler.DefaultOrder
}, THREE.Euler.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], THREE.Euler.DefaultOrder = "XYZ", THREE.Euler.prototype = {
    constructor: THREE.Euler,
    _x: 0,
    _y: 0,
    _z: 0,
    _order: THREE.Euler.DefaultOrder,
    _quaternion: void 0,
    _updateQuaternion: function () {
        void 0 !== this._quaternion && this._quaternion.setFromEuler(this, !1)
    },
    get x() {
        return this._x
    },
    set x(e) {
        this._x = e, this._updateQuaternion()
    },
    get y() {
        return this._y
    },
    set y(e) {
        this._y = e, this._updateQuaternion()
    },
    get z() {
        return this._z
    },
    set z(e) {
        this._z = e, this._updateQuaternion()
    },
    get order() {
        return this._order
    },
    set order(e) {
        this._order = e, this._updateQuaternion()
    },
    set: function (e, t, n, r) {
        return this._x = e, this._y = t, this._z = n, this._order = r || this._order, this._updateQuaternion(), this
    },
    copy: function (e) {
        return this._x = e._x, this._y = e._y, this._z = e._z, this._order = e._order, this._updateQuaternion(), this
    },
    setFromRotationMatrix: function (e, t) {
        function n(e) {
            return Math.min(Math.max(e, -1), 1)
        }

        var r = e.elements, i = r[0], a = r[4], o = r[8], s = r[1], l = r[5], u = r[9], h = r[2], c = r[6], A = r[10];
        return t = t || this._order, "XYZ" === t ? (this._y = Math.asin(n(o)), Math.abs(o) < .99999 ? (this._x = Math.atan2(-u, A), this._z = Math.atan2(-a, i)) : (this._x = Math.atan2(c, l), this._z = 0)) : "YXZ" === t ? (this._x = Math.asin(-n(u)), Math.abs(u) < .99999 ? (this._y = Math.atan2(o, A), this._z = Math.atan2(s, l)) : (this._y = Math.atan2(-h, i), this._z = 0)) : "ZXY" === t ? (this._x = Math.asin(n(c)), Math.abs(c) < .99999 ? (this._y = Math.atan2(-h, A), this._z = Math.atan2(-a, l)) : (this._y = 0, this._z = Math.atan2(s, i))) : "ZYX" === t ? (this._y = Math.asin(-n(h)), Math.abs(h) < .99999 ? (this._x = Math.atan2(c, A), this._z = Math.atan2(s, i)) : (this._x = 0, this._z = Math.atan2(-a, l))) : "YZX" === t ? (this._z = Math.asin(n(s)), Math.abs(s) < .99999 ? (this._x = Math.atan2(-u, l), this._y = Math.atan2(-h, i)) : (this._x = 0, this._y = Math.atan2(o, A))) : "XZY" === t ? (this._z = Math.asin(-n(a)), Math.abs(a) < .99999 ? (this._x = Math.atan2(c, l), this._y = Math.atan2(o, i)) : (this._x = Math.atan2(-u, A), this._y = 0)) : console.warn("WARNING: Euler.setFromRotationMatrix() given unsupported order: " + t), this._order = t, this._updateQuaternion(), this
    },
    setFromQuaternion: function (e, t, n) {
        function r(e) {
            return Math.min(Math.max(e, -1), 1)
        }

        var i = e.x * e.x, a = e.y * e.y, o = e.z * e.z, s = e.w * e.w;
        return t = t || this._order, "XYZ" === t ? (this._x = Math.atan2(2 * (e.x * e.w - e.y * e.z), s - i - a + o), this._y = Math.asin(r(2 * (e.x * e.z + e.y * e.w))), this._z = Math.atan2(2 * (e.z * e.w - e.x * e.y), s + i - a - o)) : "YXZ" === t ? (this._x = Math.asin(r(2 * (e.x * e.w - e.y * e.z))), this._y = Math.atan2(2 * (e.x * e.z + e.y * e.w), s - i - a + o), this._z = Math.atan2(2 * (e.x * e.y + e.z * e.w), s - i + a - o)) : "ZXY" === t ? (this._x = Math.asin(r(2 * (e.x * e.w + e.y * e.z))), this._y = Math.atan2(2 * (e.y * e.w - e.z * e.x), s - i - a + o), this._z = Math.atan2(2 * (e.z * e.w - e.x * e.y), s - i + a - o)) : "ZYX" === t ? (this._x = Math.atan2(2 * (e.x * e.w + e.z * e.y), s - i - a + o), this._y = Math.asin(r(2 * (e.y * e.w - e.x * e.z))), this._z = Math.atan2(2 * (e.x * e.y + e.z * e.w), s + i - a - o)) : "YZX" === t ? (this._x = Math.atan2(2 * (e.x * e.w - e.z * e.y), s - i + a - o), this._y = Math.atan2(2 * (e.y * e.w - e.x * e.z), s + i - a - o), this._z = Math.asin(r(2 * (e.x * e.y + e.z * e.w)))) : "XZY" === t ? (this._x = Math.atan2(2 * (e.x * e.w + e.y * e.z), s - i + a - o), this._y = Math.atan2(2 * (e.x * e.z + e.y * e.w), s + i - a - o), this._z = Math.asin(r(2 * (e.z * e.w - e.x * e.y)))) : console.warn("WARNING: Euler.setFromQuaternion() given unsupported order: " + t), this._order = t, n !== !1 && this._updateQuaternion(), this
    },
    reorder: function () {
        var e = new THREE.Quaternion;
        return function (t) {
            e.setFromEuler(this), this.setFromQuaternion(e, t)
        }
    }(),
    fromArray: function (e) {
        return this._x = e[0], this._y = e[1], this._z = e[2], void 0 !== e[3] && (this._order = e[3]), this._updateQuaternion(), this
    },
    toArray: function () {
        return [this._x, this._y, this._z, this._order]
    },
    equals: function (e) {
        return e._x === this._x && e._y === this._y && e._z === this._z && e._order === this._order
    },
    clone: function () {
        return new THREE.Euler(this._x, this._y, this._z, this._order)
    }
}, THREE.Line3 = function (e, t) {
    this.start = void 0 !== e ? e : new THREE.Vector3, this.end = void 0 !== t ? t : new THREE.Vector3
}, THREE.Line3.prototype = {
    constructor: THREE.Line3, set: function (e, t) {
        return this.start.copy(e), this.end.copy(t), this
    }, copy: function (e) {
        return this.start.copy(e.start), this.end.copy(e.end), this
    }, center: function (e) {
        var t = e || new THREE.Vector3;
        return t.addVectors(this.start, this.end).multiplyScalar(.5)
    }, delta: function (e) {
        var t = e || new THREE.Vector3;
        return t.subVectors(this.end, this.start)
    }, distanceSq: function () {
        return this.start.distanceToSquared(this.end)
    }, distance: function () {
        return this.start.distanceTo(this.end)
    }, at: function (e, t) {
        var n = t || new THREE.Vector3;
        return this.delta(n).multiplyScalar(e).add(this.start)
    }, closestPointToPointParameter: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3;
        return function (n, r) {
            e.subVectors(n, this.start), t.subVectors(this.end, this.start);
            var i = t.dot(t), a = t.dot(e), o = a / i;
            return r && (o = THREE.Math.clamp(o, 0, 1)), o
        }
    }(), closestPointToPoint: function (e, t, n) {
        var r = this.closestPointToPointParameter(e, t), i = n || new THREE.Vector3;
        return this.delta(i).multiplyScalar(r).add(this.start)
    }, applyMatrix4: function (e) {
        return this.start.applyMatrix4(e), this.end.applyMatrix4(e), this
    }, equals: function (e) {
        return e.start.equals(this.start) && e.end.equals(this.end)
    }, clone: function () {
        return (new THREE.Line3).copy(this)
    }
}, THREE.Box2 = function (e, t) {
    this.min = void 0 !== e ? e : new THREE.Vector2(1 / 0, 1 / 0), this.max = void 0 !== t ? t : new THREE.Vector2(-1 / 0, -1 / 0)
}, THREE.Box2.prototype = {
    constructor: THREE.Box2, set: function (e, t) {
        return this.min.copy(e), this.max.copy(t), this
    }, setFromPoints: function (e) {
        if (e.length > 0) {
            var t = e[0];
            this.min.copy(t), this.max.copy(t);
            for (var n = 1, r = e.length; r > n; n++)t = e[n], t.x < this.min.x ? this.min.x = t.x : t.x > this.max.x && (this.max.x = t.x), t.y < this.min.y ? this.min.y = t.y : t.y > this.max.y && (this.max.y = t.y)
        } else this.makeEmpty();
        return this
    }, setFromCenterAndSize: function () {
        var e = new THREE.Vector2;
        return function (t, n) {
            var r = e.copy(n).multiplyScalar(.5);
            return this.min.copy(t).sub(r), this.max.copy(t).add(r), this
        }
    }(), copy: function (e) {
        return this.min.copy(e.min), this.max.copy(e.max), this
    }, makeEmpty: function () {
        return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
    }, empty: function () {
        return this.max.x < this.min.x || this.max.y < this.min.y
    }, center: function (e) {
        var t = e || new THREE.Vector2;
        return t.addVectors(this.min, this.max).multiplyScalar(.5)
    }, size: function (e) {
        var t = e || new THREE.Vector2;
        return t.subVectors(this.max, this.min)
    }, expandByPoint: function (e) {
        return this.min.min(e), this.max.max(e), this
    }, expandByVector: function (e) {
        return this.min.sub(e), this.max.add(e), this
    }, expandByScalar: function (e) {
        return this.min.addScalar(-e), this.max.addScalar(e), this
    }, containsPoint: function (e) {
        return e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y ? !1 : !0
    }, containsBox: function (e) {
        return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y ? !0 : !1
    }, getParameter: function (e, t) {
        var n = t || new THREE.Vector2;
        return n.set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y))
    }, isIntersectionBox: function (e) {
        return e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y ? !1 : !0
    }, clampPoint: function (e, t) {
        var n = t || new THREE.Vector2;
        return n.copy(e).clamp(this.min, this.max)
    }, distanceToPoint: function () {
        var e = new THREE.Vector2;
        return function (t) {
            var n = e.copy(t).clamp(this.min, this.max);
            return n.sub(t).length()
        }
    }(), intersect: function (e) {
        return this.min.max(e.min), this.max.min(e.max), this
    }, union: function (e) {
        return this.min.min(e.min), this.max.max(e.max), this
    }, translate: function (e) {
        return this.min.add(e), this.max.add(e), this
    }, equals: function (e) {
        return e.min.equals(this.min) && e.max.equals(this.max)
    }, clone: function () {
        return (new THREE.Box2).copy(this)
    }
}, THREE.Box3 = function (e, t) {
    this.min = void 0 !== e ? e : new THREE.Vector3(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== t ? t : new THREE.Vector3(-1 / 0, -1 / 0, -1 / 0)
}, THREE.Box3.prototype = {
    constructor: THREE.Box3, set: function (e, t) {
        return this.min.copy(e), this.max.copy(t), this
    }, addPoint: function (e) {
        e.x < this.min.x ? this.min.x = e.x : e.x > this.max.x && (this.max.x = e.x), e.y < this.min.y ? this.min.y = e.y : e.y > this.max.y && (this.max.y = e.y), e.z < this.min.z ? this.min.z = e.z : e.z > this.max.z && (this.max.z = e.z)
    }, setFromPoints: function (e) {
        if (e.length > 0) {
            var t = e[0];
            this.min.copy(t), this.max.copy(t);
            for (var n = 1, r = e.length; r > n; n++)this.addPoint(e[n])
        } else this.makeEmpty();
        return this
    }, setFromCenterAndSize: function () {
        var e = new THREE.Vector3;
        return function (t, n) {
            var r = e.copy(n).multiplyScalar(.5);
            return this.min.copy(t).sub(r), this.max.copy(t).add(r), this
        }
    }(), setFromObject: function () {
        var e = new THREE.Vector3;
        return function (t) {
            var n = this;
            return t.updateMatrixWorld(!0), this.makeEmpty(), t.traverse(function (t) {
                if (void 0 !== t.geometry && void 0 !== t.geometry.vertices)for (var r = t.geometry.vertices, i = 0, a = r.length; a > i; i++)e.copy(r[i]), e.applyMatrix4(t.matrixWorld), n.expandByPoint(e)
            }), this
        }
    }(), copy: function (e) {
        return this.min.copy(e.min), this.max.copy(e.max), this
    }, makeEmpty: function () {
        return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
    }, empty: function () {
        return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
    }, center: function (e) {
        var t = e || new THREE.Vector3;
        return t.addVectors(this.min, this.max).multiplyScalar(.5)
    }, size: function (e) {
        var t = e || new THREE.Vector3;
        return t.subVectors(this.max, this.min)
    }, expandByPoint: function (e) {
        return this.min.min(e), this.max.max(e), this
    }, expandByVector: function (e) {
        return this.min.sub(e), this.max.add(e), this
    }, expandByScalar: function (e) {
        return this.min.addScalar(-e), this.max.addScalar(e), this
    }, containsPoint: function (e) {
        return e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y || e.z < this.min.z || e.z > this.max.z ? !1 : !0
    }, containsBox: function (e) {
        return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y && this.min.z <= e.min.z && e.max.z <= this.max.z ? !0 : !1
    }, getParameter: function (e, t) {
        var n = t || new THREE.Vector3;
        return n.set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y), (e.z - this.min.z) / (this.max.z - this.min.z))
    }, isIntersectionBox: function (e) {
        return e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y || e.max.z < this.min.z || e.min.z > this.max.z ? !1 : !0
    }, clampPoint: function (e, t) {
        var n = t || new THREE.Vector3;
        return n.copy(e).clamp(this.min, this.max)
    }, distanceToPoint: function () {
        var e = new THREE.Vector3;
        return function (t) {
            var n = e.copy(t).clamp(this.min, this.max);
            return n.sub(t).length()
        }
    }(), getBoundingSphere: function () {
        var e = new THREE.Vector3;
        return function (t) {
            var n = t || new THREE.Sphere;
            return n.center = this.center(), n.radius = .5 * this.size(e).length(), n
        }
    }(), intersect: function (e) {
        return this.min.max(e.min), this.max.min(e.max), this
    }, union: function (e) {
        return this.min.min(e.min), this.max.max(e.max), this
    }, applyMatrix4: function () {
        var e = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3];
        return function (t) {
            return e[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), e[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), e[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), e[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), e[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), e[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), e[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), e[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.makeEmpty(), this.setFromPoints(e), this
        }
    }(), translate: function (e) {
        return this.min.add(e), this.max.add(e), this
    }, equals: function (e) {
        return e.min.equals(this.min) && e.max.equals(this.max)
    }, clone: function () {
        return (new THREE.Box3).copy(this)
    }
}, THREE.Matrix3 = function (e, t, n, r, i, a, o, s, l) {
    this.elements = new Float32Array(9), this.set(void 0 !== e ? e : 1, t || 0, n || 0, r || 0, void 0 !== i ? i : 1, a || 0, o || 0, s || 0, void 0 !== l ? l : 1)
}, THREE.Matrix3.prototype = {
    constructor: THREE.Matrix3, set: function (e, t, n, r, i, a, o, s, l) {
        var u = this.elements;
        return u[0] = e, u[3] = t, u[6] = n, u[1] = r, u[4] = i, u[7] = a, u[2] = o, u[5] = s, u[8] = l, this
    }, identity: function () {
        return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
    }, copy: function (e) {
        var t = e.elements;
        return this.set(t[0], t[3], t[6], t[1], t[4], t[7], t[2], t[5], t[8]), this
    }, multiplyVector3: function (e) {
        return console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."), e.applyMatrix3(this)
    }, multiplyVector3Array: function () {
        var e = new THREE.Vector3;
        return function (t) {
            for (var n = 0, r = t.length; r > n; n += 3)e.x = t[n], e.y = t[n + 1], e.z = t[n + 2], e.applyMatrix3(this), t[n] = e.x, t[n + 1] = e.y, t[n + 2] = e.z;
            return t
        }
    }(), multiplyScalar: function (e) {
        var t = this.elements;
        return t[0] *= e, t[3] *= e, t[6] *= e, t[1] *= e, t[4] *= e, t[7] *= e, t[2] *= e, t[5] *= e, t[8] *= e, this
    }, determinant: function () {
        var e = this.elements, t = e[0], n = e[1], r = e[2], i = e[3], a = e[4], o = e[5], s = e[6], l = e[7], u = e[8];
        return t * a * u - t * o * l - n * i * u + n * o * s + r * i * l - r * a * s
    }, getInverse: function (e, t) {
        var n = e.elements, r = this.elements;
        r[0] = n[10] * n[5] - n[6] * n[9], r[1] = -n[10] * n[1] + n[2] * n[9], r[2] = n[6] * n[1] - n[2] * n[5], r[3] = -n[10] * n[4] + n[6] * n[8], r[4] = n[10] * n[0] - n[2] * n[8], r[5] = -n[6] * n[0] + n[2] * n[4], r[6] = n[9] * n[4] - n[5] * n[8], r[7] = -n[9] * n[0] + n[1] * n[8], r[8] = n[5] * n[0] - n[1] * n[4];
        var i = n[0] * r[0] + n[1] * r[3] + n[2] * r[6];
        if (0 === i) {
            var a = "Matrix3.getInverse(): can't invert matrix, determinant is 0";
            if (t)throw new Error(a);
            return console.warn(a), this.identity(), this
        }
        return this.multiplyScalar(1 / i), this
    }, transpose: function () {
        var e, t = this.elements;
        return e = t[1], t[1] = t[3], t[3] = e, e = t[2], t[2] = t[6], t[6] = e, e = t[5], t[5] = t[7], t[7] = e, this
    }, getNormalMatrix: function (e) {
        return this.getInverse(e).transpose(), this
    }, transposeIntoArray: function (e) {
        var t = this.elements;
        return e[0] = t[0], e[1] = t[3], e[2] = t[6], e[3] = t[1], e[4] = t[4], e[5] = t[7], e[6] = t[2], e[7] = t[5], e[8] = t[8], this
    }, fromArray: function (e) {
        return this.elements.set(e), this
    }, toArray: function () {
        var e = this.elements;
        return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8]]
    }, clone: function () {
        var e = this.elements;
        return new THREE.Matrix3(e[0], e[3], e[6], e[1], e[4], e[7], e[2], e[5], e[8])
    }
}, THREE.Matrix4 = function (e, t, n, r, i, a, o, s, l, u, h, c, A, f, d, p) {
    this.elements = new Float32Array(16);
    var m = this.elements;
    m[0] = void 0 !== e ? e : 1, m[4] = t || 0, m[8] = n || 0, m[12] = r || 0, m[1] = i || 0, m[5] = void 0 !== a ? a : 1, m[9] = o || 0, m[13] = s || 0, m[2] = l || 0, m[6] = u || 0, m[10] = void 0 !== h ? h : 1, m[14] = c || 0, m[3] = A || 0, m[7] = f || 0, m[11] = d || 0, m[15] = void 0 !== p ? p : 1
},THREE.Matrix4.prototype = {
    constructor: THREE.Matrix4, set: function (e, t, n, r, i, a, o, s, l, u, h, c, A, f, d, p) {
        var m = this.elements;
        return m[0] = e, m[4] = t, m[8] = n, m[12] = r, m[1] = i, m[5] = a, m[9] = o, m[13] = s, m[2] = l, m[6] = u, m[10] = h, m[14] = c, m[3] = A, m[7] = f, m[11] = d, m[15] = p, this
    }, identity: function () {
        return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
    }, copy: function (e) {
        return this.elements.set(e.elements), this
    }, extractPosition: function (e) {
        return console.warn("DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition()."), this.copyPosition(e)
    }, copyPosition: function (e) {
        var t = this.elements, n = e.elements;
        return t[12] = n[12], t[13] = n[13], t[14] = n[14], this
    }, extractRotation: function () {
        var e = new THREE.Vector3;
        return function (t) {
            var n = this.elements, r = t.elements, i = 1 / e.set(r[0], r[1], r[2]).length(), a = 1 / e.set(r[4], r[5], r[6]).length(), o = 1 / e.set(r[8], r[9], r[10]).length();
            return n[0] = r[0] * i, n[1] = r[1] * i, n[2] = r[2] * i, n[4] = r[4] * a, n[5] = r[5] * a, n[6] = r[6] * a, n[8] = r[8] * o, n[9] = r[9] * o, n[10] = r[10] * o, this
        }
    }(), makeRotationFromEuler: function (e) {
        e instanceof THREE.Euler == !1 && console.error("ERROR: Matrix's .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");
        var t = this.elements, n = e.x, r = e.y, i = e.z, a = Math.cos(n), o = Math.sin(n), s = Math.cos(r), l = Math.sin(r), u = Math.cos(i), h = Math.sin(i);
        if ("XYZ" === e.order) {
            var c = a * u, A = a * h, f = o * u, d = o * h;
            t[0] = s * u, t[4] = -s * h, t[8] = l, t[1] = A + f * l, t[5] = c - d * l, t[9] = -o * s, t[2] = d - c * l, t[6] = f + A * l, t[10] = a * s
        } else if ("YXZ" === e.order) {
            var p = s * u, m = s * h, g = l * u, v = l * h;
            t[0] = p + v * o, t[4] = g * o - m, t[8] = a * l, t[1] = a * h, t[5] = a * u, t[9] = -o, t[2] = m * o - g, t[6] = v + p * o, t[10] = a * s
        } else if ("ZXY" === e.order) {
            var p = s * u, m = s * h, g = l * u, v = l * h;
            t[0] = p - v * o, t[4] = -a * h, t[8] = g + m * o, t[1] = m + g * o, t[5] = a * u, t[9] = v - p * o, t[2] = -a * l, t[6] = o, t[10] = a * s
        } else if ("ZYX" === e.order) {
            var c = a * u, A = a * h, f = o * u, d = o * h;
            t[0] = s * u, t[4] = f * l - A, t[8] = c * l + d, t[1] = s * h, t[5] = d * l + c, t[9] = A * l - f, t[2] = -l, t[6] = o * s, t[10] = a * s
        } else if ("YZX" === e.order) {
            var y = a * s, E = a * l, b = o * s, x = o * l;
            t[0] = s * u, t[4] = x - y * h, t[8] = b * h + E, t[1] = h, t[5] = a * u, t[9] = -o * u, t[2] = -l * u, t[6] = E * h + b, t[10] = y - x * h
        } else if ("XZY" === e.order) {
            var y = a * s, E = a * l, b = o * s, x = o * l;
            t[0] = s * u, t[4] = -h, t[8] = l * u, t[1] = y * h + x, t[5] = a * u, t[9] = E * h - b, t[2] = b * h - E, t[6] = o * u, t[10] = x * h + y
        }
        return t[3] = 0, t[7] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this
    }, setRotationFromQuaternion: function (e) {
        return console.warn("DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code."), this.makeRotationFromQuaternion(e)
    }, makeRotationFromQuaternion: function (e) {
        var t = this.elements, n = e.x, r = e.y, i = e.z, a = e.w, o = n + n, s = r + r, l = i + i, u = n * o, h = n * s, c = n * l, A = r * s, f = r * l, d = i * l, p = a * o, m = a * s, g = a * l;
        return t[0] = 1 - (A + d), t[4] = h - g, t[8] = c + m, t[1] = h + g, t[5] = 1 - (u + d), t[9] = f - p, t[2] = c - m, t[6] = f + p, t[10] = 1 - (u + A), t[3] = 0, t[7] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this
    }, lookAt: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3, n = new THREE.Vector3;
        return function (r, i, a) {
            var o = this.elements;
            return n.subVectors(r, i).normalize(), 0 === n.length() && (n.z = 1), e.crossVectors(a, n).normalize(), 0 === e.length() && (n.x += 1e-4, e.crossVectors(a, n).normalize()), t.crossVectors(n, e), o[0] = e.x, o[4] = t.x, o[8] = n.x, o[1] = e.y, o[5] = t.y, o[9] = n.y, o[2] = e.z, o[6] = t.z, o[10] = n.z, this
        }
    }(), multiply: function (e, t) {
        return void 0 !== t ? (console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(e, t)) : this.multiplyMatrices(this, e)
    }, multiplyMatrices: function (e, t) {
        var n = e.elements, r = t.elements, i = this.elements, a = n[0], o = n[4], s = n[8], l = n[12], u = n[1], h = n[5], c = n[9], A = n[13], f = n[2], d = n[6], p = n[10], m = n[14], g = n[3], v = n[7], y = n[11], E = n[15], b = r[0], x = r[4], w = r[8], T = r[12], C = r[1], R = r[5], _ = r[9], B = r[13], M = r[2], H = r[6], S = r[10], D = r[14], F = r[3], k = r[7], O = r[11], P = r[15];
        return i[0] = a * b + o * C + s * M + l * F, i[4] = a * x + o * R + s * H + l * k, i[8] = a * w + o * _ + s * S + l * O, i[12] = a * T + o * B + s * D + l * P, i[1] = u * b + h * C + c * M + A * F, i[5] = u * x + h * R + c * H + A * k, i[9] = u * w + h * _ + c * S + A * O, i[13] = u * T + h * B + c * D + A * P, i[2] = f * b + d * C + p * M + m * F, i[6] = f * x + d * R + p * H + m * k, i[10] = f * w + d * _ + p * S + m * O, i[14] = f * T + d * B + p * D + m * P, i[3] = g * b + v * C + y * M + E * F, i[7] = g * x + v * R + y * H + E * k, i[11] = g * w + v * _ + y * S + E * O, i[15] = g * T + v * B + y * D + E * P, this
    }, multiplyToArray: function (e, t, n) {
        var r = this.elements;
        return this.multiplyMatrices(e, t), n[0] = r[0], n[1] = r[1], n[2] = r[2], n[3] = r[3], n[4] = r[4], n[5] = r[5], n[6] = r[6], n[7] = r[7], n[8] = r[8], n[9] = r[9], n[10] = r[10], n[11] = r[11], n[12] = r[12], n[13] = r[13], n[14] = r[14], n[15] = r[15], this
    }, multiplyScalar: function (e) {
        var t = this.elements;
        return t[0] *= e, t[4] *= e, t[8] *= e, t[12] *= e, t[1] *= e, t[5] *= e, t[9] *= e, t[13] *= e, t[2] *= e, t[6] *= e, t[10] *= e, t[14] *= e, t[3] *= e, t[7] *= e, t[11] *= e, t[15] *= e, this
    }, multiplyVector3: function (e) {
        return console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."), e.applyProjection(this)
    }, multiplyVector4: function (e) {
        return console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
    }, multiplyVector3Array: function () {
        var e = new THREE.Vector3;
        return function (t) {
            for (var n = 0, r = t.length; r > n; n += 3)e.x = t[n], e.y = t[n + 1], e.z = t[n + 2], e.applyProjection(this), t[n] = e.x, t[n + 1] = e.y, t[n + 2] = e.z;
            return t
        }
    }(), rotateAxis: function (e) {
        console.warn("DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."), e.transformDirection(this)
    }, crossVector: function (e) {
        return console.warn("DEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
    }, determinant: function () {
        var e = this.elements, t = e[0], n = e[4], r = e[8], i = e[12], a = e[1], o = e[5], s = e[9], l = e[13], u = e[2], h = e[6], c = e[10], A = e[14], f = e[3], d = e[7], p = e[11], m = e[15];
        return f * (+i * s * h - r * l * h - i * o * c + n * l * c + r * o * A - n * s * A) + d * (+t * s * A - t * l * c + i * a * c - r * a * A + r * l * u - i * s * u) + p * (+t * l * h - t * o * A - i * a * h + n * a * A + i * o * u - n * l * u) + m * (-r * o * u - t * s * h + t * o * c + r * a * h - n * a * c + n * s * u)
    }, transpose: function () {
        var e, t = this.elements;
        return e = t[1], t[1] = t[4], t[4] = e, e = t[2], t[2] = t[8], t[8] = e, e = t[6], t[6] = t[9], t[9] = e, e = t[3], t[3] = t[12], t[12] = e, e = t[7], t[7] = t[13], t[13] = e, e = t[11], t[11] = t[14], t[14] = e, this
    }, flattenToArray: function (e) {
        var t = this.elements;
        return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], e
    }, flattenToArrayOffset: function (e, t) {
        var n = this.elements;
        return e[t] = n[0], e[t + 1] = n[1], e[t + 2] = n[2], e[t + 3] = n[3], e[t + 4] = n[4], e[t + 5] = n[5], e[t + 6] = n[6], e[t + 7] = n[7], e[t + 8] = n[8], e[t + 9] = n[9], e[t + 10] = n[10], e[t + 11] = n[11], e[t + 12] = n[12], e[t + 13] = n[13], e[t + 14] = n[14], e[t + 15] = n[15], e
    }, getPosition: function () {
        var e = new THREE.Vector3;
        return function () {
            console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
            var t = this.elements;
            return e.set(t[12], t[13], t[14])
        }
    }(), setPosition: function (e) {
        var t = this.elements;
        return t[12] = e.x, t[13] = e.y, t[14] = e.z, this
    }, getInverse: function (e, t) {
        var n = this.elements, r = e.elements, i = r[0], a = r[4], o = r[8], s = r[12], l = r[1], u = r[5], h = r[9], c = r[13], A = r[2], f = r[6], d = r[10], p = r[14], m = r[3], g = r[7], v = r[11], y = r[15];
        n[0] = h * p * g - c * d * g + c * f * v - u * p * v - h * f * y + u * d * y, n[4] = s * d * g - o * p * g - s * f * v + a * p * v + o * f * y - a * d * y, n[8] = o * c * g - s * h * g + s * u * v - a * c * v - o * u * y + a * h * y, n[12] = s * h * f - o * c * f - s * u * d + a * c * d + o * u * p - a * h * p, n[1] = c * d * m - h * p * m - c * A * v + l * p * v + h * A * y - l * d * y, n[5] = o * p * m - s * d * m + s * A * v - i * p * v - o * A * y + i * d * y, n[9] = s * h * m - o * c * m - s * l * v + i * c * v + o * l * y - i * h * y, n[13] = o * c * A - s * h * A + s * l * d - i * c * d - o * l * p + i * h * p, n[2] = u * p * m - c * f * m + c * A * g - l * p * g - u * A * y + l * f * y, n[6] = s * f * m - a * p * m - s * A * g + i * p * g + a * A * y - i * f * y, n[10] = a * c * m - s * u * m + s * l * g - i * c * g - a * l * y + i * u * y, n[14] = s * u * A - a * c * A - s * l * f + i * c * f + a * l * p - i * u * p, n[3] = h * f * m - u * d * m - h * A * g + l * d * g + u * A * v - l * f * v, n[7] = a * d * m - o * f * m + o * A * g - i * d * g - a * A * v + i * f * v, n[11] = o * u * m - a * h * m - o * l * g + i * h * g + a * l * v - i * u * v, n[15] = a * h * A - o * u * A + o * l * f - i * h * f - a * l * d + i * u * d;
        var E = i * n[0] + l * n[4] + A * n[8] + m * n[12];
        if (0 == E) {
            var b = "Matrix4.getInverse(): can't invert matrix, determinant is 0";
            if (t)throw new Error(b);
            return console.warn(b), this.identity(), this
        }
        return this.multiplyScalar(1 / E), this
    }, translate: function () {
        console.warn("DEPRECATED: Matrix4's .translate() has been removed.")
    }, rotateX: function () {
        console.warn("DEPRECATED: Matrix4's .rotateX() has been removed.")
    }, rotateY: function () {
        console.warn("DEPRECATED: Matrix4's .rotateY() has been removed.")
    }, rotateZ: function () {
        console.warn("DEPRECATED: Matrix4's .rotateZ() has been removed.")
    }, rotateByAxis: function () {
        console.warn("DEPRECATED: Matrix4's .rotateByAxis() has been removed.")
    }, scale: function (e) {
        var t = this.elements, n = e.x, r = e.y, i = e.z;
        return t[0] *= n, t[4] *= r, t[8] *= i, t[1] *= n, t[5] *= r, t[9] *= i, t[2] *= n, t[6] *= r, t[10] *= i, t[3] *= n, t[7] *= r, t[11] *= i, this
    }, getMaxScaleOnAxis: function () {
        var e = this.elements, t = e[0] * e[0] + e[1] * e[1] + e[2] * e[2], n = e[4] * e[4] + e[5] * e[5] + e[6] * e[6], r = e[8] * e[8] + e[9] * e[9] + e[10] * e[10];
        return Math.sqrt(Math.max(t, Math.max(n, r)))
    }, makeTranslation: function (e, t, n) {
        return this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1), this
    }, makeRotationX: function (e) {
        var t = Math.cos(e), n = Math.sin(e);
        return this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1), this
    }, makeRotationY: function (e) {
        var t = Math.cos(e), n = Math.sin(e);
        return this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1), this
    }, makeRotationZ: function (e) {
        var t = Math.cos(e), n = Math.sin(e);
        return this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
    }, makeRotationAxis: function (e, t) {
        var n = Math.cos(t), r = Math.sin(t), i = 1 - n, a = e.x, o = e.y, s = e.z, l = i * a, u = i * o;
        return this.set(l * a + n, l * o - r * s, l * s + r * o, 0, l * o + r * s, u * o + n, u * s - r * a, 0, l * s - r * o, u * s + r * a, i * s * s + n, 0, 0, 0, 0, 1), this
    }, makeScale: function (e, t, n) {
        return this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1), this
    }, compose: function (e, t, n) {
        return this.makeRotationFromQuaternion(t), this.scale(n), this.setPosition(e), this
    }, decompose: function () {
        var e = new THREE.Vector3, t = new THREE.Matrix4;
        return function (n, r, i) {
            var a = this.elements, o = e.set(a[0], a[1], a[2]).length(), s = e.set(a[4], a[5], a[6]).length(), l = e.set(a[8], a[9], a[10]).length(), u = this.determinant();
            0 > u && (o = -o), n.x = a[12], n.y = a[13], n.z = a[14], t.elements.set(this.elements);
            var h = 1 / o, c = 1 / s, A = 1 / l;
            return t.elements[0] *= h, t.elements[1] *= h, t.elements[2] *= h, t.elements[4] *= c, t.elements[5] *= c, t.elements[6] *= c, t.elements[8] *= A, t.elements[9] *= A, t.elements[10] *= A, r.setFromRotationMatrix(t), i.x = o, i.y = s, i.z = l, this
        }
    }(), makeFrustum: function (e, t, n, r, i, a) {
        var o = this.elements, s = 2 * i / (t - e), l = 2 * i / (r - n), u = (t + e) / (t - e), h = (r + n) / (r - n), c = -(a + i) / (a - i), A = -2 * a * i / (a - i);
        return o[0] = s, o[4] = 0, o[8] = u, o[12] = 0, o[1] = 0, o[5] = l, o[9] = h, o[13] = 0, o[2] = 0, o[6] = 0, o[10] = c, o[14] = A, o[3] = 0, o[7] = 0, o[11] = -1, o[15] = 0, this
    }, makePerspective: function (e, t, n, r) {
        var i = n * Math.tan(THREE.Math.degToRad(.5 * e)), a = -i, o = a * t, s = i * t;
        return this.makeFrustum(o, s, a, i, n, r)
    }, makeOrthographic: function (e, t, n, r, i, a) {
        var o = this.elements, s = t - e, l = n - r, u = a - i, h = (t + e) / s, c = (n + r) / l, A = (a + i) / u;
        return o[0] = 2 / s, o[4] = 0, o[8] = 0, o[12] = -h, o[1] = 0, o[5] = 2 / l, o[9] = 0, o[13] = -c, o[2] = 0, o[6] = 0, o[10] = -2 / u, o[14] = -A, o[3] = 0, o[7] = 0, o[11] = 0, o[15] = 1, this
    }, fromArray: function (e) {
        return this.elements.set(e), this
    }, toArray: function () {
        var e = this.elements;
        return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15]]
    }, clone: function () {
        var e = this.elements;
        return new THREE.Matrix4(e[0], e[4], e[8], e[12], e[1], e[5], e[9], e[13], e[2], e[6], e[10], e[14], e[3], e[7], e[11], e[15])
    }
},THREE.Ray = function (e, t) {
    this.origin = void 0 !== e ? e : new THREE.Vector3, this.direction = void 0 !== t ? t : new THREE.Vector3
},THREE.Ray.prototype = {
    constructor: THREE.Ray, set: function (e, t) {
        return this.origin.copy(e), this.direction.copy(t), this
    }, copy: function (e) {
        return this.origin.copy(e.origin), this.direction.copy(e.direction), this
    }, at: function (e, t) {
        var n = t || new THREE.Vector3;
        return n.copy(this.direction).multiplyScalar(e).add(this.origin)
    }, recast: function () {
        var e = new THREE.Vector3;
        return function (t) {
            return this.origin.copy(this.at(t, e)), this
        }
    }(), closestPointToPoint: function (e, t) {
        var n = t || new THREE.Vector3;
        n.subVectors(e, this.origin);
        var r = n.dot(this.direction);
        return 0 > r ? n.copy(this.origin) : n.copy(this.direction).multiplyScalar(r).add(this.origin)
    }, distanceToPoint: function () {
        var e = new THREE.Vector3;
        return function (t) {
            var n = e.subVectors(t, this.origin).dot(this.direction);
            return 0 > n ? this.origin.distanceTo(t) : (e.copy(this.direction).multiplyScalar(n).add(this.origin), e.distanceTo(t))
        }
    }(), distanceSqToSegment: function (e, t, n, r) {
        var i, a, o, s, l = e.clone().add(t).multiplyScalar(.5), u = t.clone().sub(e).normalize(), h = .5 * e.distanceTo(t), c = this.origin.clone().sub(l), A = -this.direction.dot(u), f = c.dot(this.direction), d = -c.dot(u), p = c.lengthSq(), m = Math.abs(1 - A * A);
        if (m >= 0)if (i = A * d - f, a = A * f - d, s = h * m, i >= 0)if (a >= -s)if (s >= a) {
            var g = 1 / m;
            i *= g, a *= g, o = i * (i + A * a + 2 * f) + a * (A * i + a + 2 * d) + p
        } else a = h, i = Math.max(0, -(A * a + f)), o = -i * i + a * (a + 2 * d) + p; else a = -h, i = Math.max(0, -(A * a + f)), o = -i * i + a * (a + 2 * d) + p; else-s >= a ? (i = Math.max(0, -(-A * h + f)), a = i > 0 ? -h : Math.min(Math.max(-h, -d), h), o = -i * i + a * (a + 2 * d) + p) : s >= a ? (i = 0, a = Math.min(Math.max(-h, -d), h), o = a * (a + 2 * d) + p) : (i = Math.max(0, -(A * h + f)), a = i > 0 ? h : Math.min(Math.max(-h, -d), h), o = -i * i + a * (a + 2 * d) + p); else a = A > 0 ? -h : h, i = Math.max(0, -(A * a + f)), o = -i * i + a * (a + 2 * d) + p;
        return n && n.copy(this.direction.clone().multiplyScalar(i).add(this.origin)), r && r.copy(u.clone().multiplyScalar(a).add(l)), o
    }, isIntersectionSphere: function (e) {
        return this.distanceToPoint(e.center) <= e.radius
    }, isIntersectionPlane: function (e) {
        var t = e.distanceToPoint(this.origin);
        if (0 === t)return !0;
        var n = e.normal.dot(this.direction);
        return 0 > n * t ? !0 : !1
    }, distanceToPlane: function (e) {
        var t = e.normal.dot(this.direction);
        if (0 == t)return 0 == e.distanceToPoint(this.origin) ? 0 : null;
        var n = -(this.origin.dot(e.normal) + e.constant) / t;
        return n >= 0 ? n : null
    }, intersectPlane: function (e, t) {
        var n = this.distanceToPlane(e);
        return null === n ? null : this.at(n, t)
    }, isIntersectionBox: function () {
        var e = new THREE.Vector3;
        return function (t) {
            return null !== this.intersectBox(t, e)
        }
    }(), intersectBox: function (e, t) {
        var n, r, i, a, o, s, l = 1 / this.direction.x, u = 1 / this.direction.y, h = 1 / this.direction.z, c = this.origin;
        return l >= 0 ? (n = (e.min.x - c.x) * l, r = (e.max.x - c.x) * l) : (n = (e.max.x - c.x) * l, r = (e.min.x - c.x) * l), u >= 0 ? (i = (e.min.y - c.y) * u, a = (e.max.y - c.y) * u) : (i = (e.max.y - c.y) * u, a = (e.min.y - c.y) * u), n > a || i > r ? null : ((i > n || n !== n) && (n = i), (r > a || r !== r) && (r = a), h >= 0 ? (o = (e.min.z - c.z) * h, s = (e.max.z - c.z) * h) : (o = (e.max.z - c.z) * h, s = (e.min.z - c.z) * h), n > s || o > r ? null : ((o > n || n !== n) && (n = o), (r > s || r !== r) && (r = s), 0 > r ? null : this.at(n >= 0 ? n : r, t)))
    }, intersectTriangle: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3, n = new THREE.Vector3, r = new THREE.Vector3;
        return function (i, a, o, s, l) {
            t.subVectors(a, i), n.subVectors(o, i), r.crossVectors(t, n);
            var u, h = this.direction.dot(r);
            if (h > 0) {
                if (s)return null;
                u = 1
            } else {
                if (!(0 > h))return null;
                u = -1, h = -h
            }
            e.subVectors(this.origin, i);
            var c = u * this.direction.dot(n.crossVectors(e, n));
            if (0 > c)return null;
            var A = u * this.direction.dot(t.cross(e));
            if (0 > A)return null;
            if (c + A > h)return null;
            var f = -u * e.dot(r);
            return 0 > f ? null : this.at(f / h, l)
        }
    }(), applyMatrix4: function (e) {
        return this.direction.add(this.origin).applyMatrix4(e), this.origin.applyMatrix4(e), this.direction.sub(this.origin), this.direction.normalize(), this
    }, equals: function (e) {
        return e.origin.equals(this.origin) && e.direction.equals(this.direction)
    }, clone: function () {
        return (new THREE.Ray).copy(this)
    }
},THREE.Sphere = function (e, t) {
    this.center = void 0 !== e ? e : new THREE.Vector3, this.radius = void 0 !== t ? t : 0
},THREE.Sphere.prototype = {
    constructor: THREE.Sphere, set: function (e, t) {
        return this.center.copy(e), this.radius = t, this
    }, setFromPoints: function () {
        var e = new THREE.Box3;
        return function (t, n) {
            var r = this.center;
            void 0 !== n ? r.copy(n) : e.setFromPoints(t).center(r);
            for (var i = 0, a = 0, o = t.length; o > a; a++)i = Math.max(i, r.distanceToSquared(t[a]));
            return this.radius = Math.sqrt(i), this
        }
    }(), copy: function (e) {
        return this.center.copy(e.center), this.radius = e.radius, this
    }, empty: function () {
        return this.radius <= 0
    }, containsPoint: function (e) {
        return e.distanceToSquared(this.center) <= this.radius * this.radius
    }, distanceToPoint: function (e) {
        return e.distanceTo(this.center) - this.radius
    }, intersectsSphere: function (e) {
        var t = this.radius + e.radius;
        return e.center.distanceToSquared(this.center) <= t * t
    }, clampPoint: function (e, t) {
        var n = this.center.distanceToSquared(e), r = t || new THREE.Vector3;
        return r.copy(e), n > this.radius * this.radius && (r.sub(this.center).normalize(), r.multiplyScalar(this.radius).add(this.center)), r
    }, getBoundingBox: function (e) {
        var t = e || new THREE.Box3;
        return t.set(this.center, this.center), t.expandByScalar(this.radius), t
    }, applyMatrix4: function (e) {
        return this.center.applyMatrix4(e), this.radius = this.radius * e.getMaxScaleOnAxis(), this
    }, translate: function (e) {
        return this.center.add(e), this
    }, equals: function (e) {
        return e.center.equals(this.center) && e.radius === this.radius
    }, clone: function () {
        return (new THREE.Sphere).copy(this)
    }
},THREE.Frustum = function (e, t, n, r, i, a) {
    this.planes = [void 0 !== e ? e : new THREE.Plane, void 0 !== t ? t : new THREE.Plane, void 0 !== n ? n : new THREE.Plane, void 0 !== r ? r : new THREE.Plane, void 0 !== i ? i : new THREE.Plane, void 0 !== a ? a : new THREE.Plane]
},THREE.Frustum.prototype = {
    constructor: THREE.Frustum, set: function (e, t, n, r, i, a) {
        var o = this.planes;
        return o[0].copy(e), o[1].copy(t), o[2].copy(n), o[3].copy(r), o[4].copy(i), o[5].copy(a), this
    }, copy: function (e) {
        for (var t = this.planes, n = 0; 6 > n; n++)t[n].copy(e.planes[n]);
        return this
    }, setFromMatrix: function (e) {
        var t = this.planes, n = e.elements, r = n[0], i = n[1], a = n[2], o = n[3], s = n[4], l = n[5], u = n[6], h = n[7], c = n[8], A = n[9], f = n[10], d = n[11], p = n[12], m = n[13], g = n[14], v = n[15];
        return t[0].setComponents(o - r, h - s, d - c, v - p).normalize(), t[1].setComponents(o + r, h + s, d + c, v + p).normalize(), t[2].setComponents(o + i, h + l, d + A, v + m).normalize(), t[3].setComponents(o - i, h - l, d - A, v - m).normalize(), t[4].setComponents(o - a, h - u, d - f, v - g).normalize(), t[5].setComponents(o + a, h + u, d + f, v + g).normalize(), this
    }, intersectsObject: function () {
        var e = new THREE.Sphere;
        return function (t) {
            var n = t.geometry;
            return null === n.boundingSphere && n.computeBoundingSphere(), e.copy(n.boundingSphere), e.applyMatrix4(t.matrixWorld), this.intersectsSphere(e)
        }
    }(), intersectsSphere: function (e) {
        for (var t = this.planes, n = e.center, r = -e.radius, i = 0; 6 > i; i++) {
            var a = t[i].distanceToPoint(n);
            if (r > a)return !1
        }
        return !0
    }, intersectsBox: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3;
        return function (n) {
            for (var r = this.planes, i = 0; 6 > i; i++) {
                var a = r[i];
                e.x = a.normal.x > 0 ? n.min.x : n.max.x, t.x = a.normal.x > 0 ? n.max.x : n.min.x, e.y = a.normal.y > 0 ? n.min.y : n.max.y, t.y = a.normal.y > 0 ? n.max.y : n.min.y, e.z = a.normal.z > 0 ? n.min.z : n.max.z, t.z = a.normal.z > 0 ? n.max.z : n.min.z;
                var o = a.distanceToPoint(e), s = a.distanceToPoint(t);
                if (0 > o && 0 > s)return !1
            }
            return !0
        }
    }(), containsPoint: function (e) {
        for (var t = this.planes, n = 0; 6 > n; n++)if (t[n].distanceToPoint(e) < 0)return !1;
        return !0
    }, clone: function () {
        return (new THREE.Frustum).copy(this)
    }
},THREE.Plane = function (e, t) {
    this.normal = void 0 !== e ? e : new THREE.Vector3(1, 0, 0), this.constant = void 0 !== t ? t : 0
},THREE.Plane.prototype = {
    constructor: THREE.Plane, set: function (e, t) {
        return this.normal.copy(e), this.constant = t, this
    }, setComponents: function (e, t, n, r) {
        return this.normal.set(e, t, n), this.constant = r, this
    }, setFromNormalAndCoplanarPoint: function (e, t) {
        return this.normal.copy(e), this.constant = -t.dot(this.normal), this
    }, setFromCoplanarPoints: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3;
        return function (n, r, i) {
            var a = e.subVectors(i, r).cross(t.subVectors(n, r)).normalize();
            return this.setFromNormalAndCoplanarPoint(a, n), this
        }
    }(), copy: function (e) {
        return this.normal.copy(e.normal), this.constant = e.constant, this
    }, normalize: function () {
        var e = 1 / this.normal.length();
        return this.normal.multiplyScalar(e), this.constant *= e, this
    }, negate: function () {
        return this.constant *= -1, this.normal.negate(), this
    }, distanceToPoint: function (e) {
        return this.normal.dot(e) + this.constant
    }, distanceToSphere: function (e) {
        return this.distanceToPoint(e.center) - e.radius
    }, projectPoint: function (e, t) {
        return this.orthoPoint(e, t).sub(e).negate()
    }, orthoPoint: function (e, t) {
        var n = this.distanceToPoint(e), r = t || new THREE.Vector3;
        return r.copy(this.normal).multiplyScalar(n)
    }, isIntersectionLine: function (e) {
        var t = this.distanceToPoint(e.start), n = this.distanceToPoint(e.end);
        return 0 > t && n > 0 || 0 > n && t > 0
    }, intersectLine: function () {
        var e = new THREE.Vector3;
        return function (t, n) {
            var r = n || new THREE.Vector3, i = t.delta(e), a = this.normal.dot(i);
            if (0 == a)return 0 == this.distanceToPoint(t.start) ? r.copy(t.start) : void 0;
            var o = -(t.start.dot(this.normal) + this.constant) / a;
            return 0 > o || o > 1 ? void 0 : r.copy(i).multiplyScalar(o).add(t.start)
        }
    }(), coplanarPoint: function (e) {
        var t = e || new THREE.Vector3;
        return t.copy(this.normal).multiplyScalar(-this.constant)
    }, applyMatrix4: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3, n = new THREE.Matrix3;
        return function (r, i) {
            var a = i || n.getNormalMatrix(r), o = e.copy(this.normal).applyMatrix3(a), s = this.coplanarPoint(t);
            return s.applyMatrix4(r), this.setFromNormalAndCoplanarPoint(o, s), this
        }
    }(), translate: function (e) {
        return this.constant = this.constant - e.dot(this.normal), this
    }, equals: function (e) {
        return e.normal.equals(this.normal) && e.constant == this.constant
    }, clone: function () {
        return (new THREE.Plane).copy(this)
    }
},THREE.Math = {
    PI2: 2 * Math.PI, generateUUID: function () {
        var e, t = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), n = new Array(36), r = 0;
        return function () {
            for (var i = 0; 36 > i; i++)8 == i || 13 == i || 18 == i || 23 == i ? n[i] = "-" : 14 == i ? n[i] = "4" : (2 >= r && (r = 33554432 + 16777216 * Math.random() | 0), e = 15 & r, r >>= 4, n[i] = t[19 == i ? 3 & e | 8 : e]);
            return n.join("")
        }
    }(), clamp: function (e, t, n) {
        return t > e ? t : e > n ? n : e
    }, clampBottom: function (e, t) {
        return t > e ? t : e
    }, mapLinear: function (e, t, n, r, i) {
        return r + (e - t) * (i - r) / (n - t)
    }, smoothstep: function (e, t, n) {
        return t >= e ? 0 : e >= n ? 1 : (e = (e - t) / (n - t), e * e * (3 - 2 * e))
    }, smootherstep: function (e, t, n) {
        return t >= e ? 0 : e >= n ? 1 : (e = (e - t) / (n - t), e * e * e * (e * (6 * e - 15) + 10))
    }, random16: function () {
        return (65280 * Math.random() + 255 * Math.random()) / 65535
    }, randInt: function (e, t) {
        return e + Math.floor(Math.random() * (t - e + 1))
    }, randFloat: function (e, t) {
        return e + Math.random() * (t - e)
    }, randFloatSpread: function (e) {
        return e * (.5 - Math.random())
    }, sign: function (e) {
        return 0 > e ? -1 : e > 0 ? 1 : 0
    }, degToRad: function () {
        var e = Math.PI / 180;
        return function (t) {
            return t * e
        }
    }(), radToDeg: function () {
        var e = 180 / Math.PI;
        return function (t) {
            return t * e
        }
    }(), isPowerOfTwo: function (e) {
        return 0 === (e & e - 1) && 0 !== e
    }
},THREE.Spline = function (e) {
    function t(e, t, n, r, i, a, o) {
        var s = .5 * (n - e), l = .5 * (r - t);
        return (2 * (t - n) + s + l) * o + (-3 * (t - n) - 2 * s - l) * a + s * i + t
    }

    this.points = e;
    var n, r, i, a, o, s, l, u, h, c = [], A = {x: 0, y: 0, z: 0};
    this.initFromArray = function (e) {
        this.points = [];
        for (var t = 0; t < e.length; t++)this.points[t] = {x: e[t][0], y: e[t][1], z: e[t][2]}
    }, this.getPoint = function (e) {
        return n = (this.points.length - 1) * e, r = Math.floor(n), i = n - r, c[0] = 0 === r ? r : r - 1, c[1] = r, c[2] = r > this.points.length - 2 ? this.points.length - 1 : r + 1, c[3] = r > this.points.length - 3 ? this.points.length - 1 : r + 2, s = this.points[c[0]], l = this.points[c[1]], u = this.points[c[2]], h = this.points[c[3]], a = i * i, o = i * a, A.x = t(s.x, l.x, u.x, h.x, i, a, o), A.y = t(s.y, l.y, u.y, h.y, i, a, o), A.z = t(s.z, l.z, u.z, h.z, i, a, o), A
    }, this.getControlPointsArray = function () {
        var e, t, n = this.points.length, r = [];
        for (e = 0; n > e; e++)t = this.points[e], r[e] = [t.x, t.y, t.z];
        return r
    }, this.getLength = function (e) {
        var t, n, r, i, a = 0, o = 0, s = 0, l = new THREE.Vector3, u = new THREE.Vector3, h = [], c = 0;
        for (h[0] = 0, e || (e = 100), r = this.points.length * e, l.copy(this.points[0]), t = 1; r > t; t++)n = t / r, i = this.getPoint(n), u.copy(i), c += u.distanceTo(l), l.copy(i), a = (this.points.length - 1) * n, o = Math.floor(a), o != s && (h[o] = c, s = o);
        return h[h.length] = c, {chunks: h, total: c}
    }, this.reparametrizeByArcLength = function (e) {
        var t, n, r, i, a, o, s, l, u = [], h = new THREE.Vector3, c = this.getLength();
        for (u.push(h.copy(this.points[0]).clone()), t = 1; t < this.points.length; t++) {
            for (o = c.chunks[t] - c.chunks[t - 1], s = Math.ceil(e * o / c.total), i = (t - 1) / (this.points.length - 1), a = t / (this.points.length - 1), n = 1; s - 1 > n; n++)r = i + n * (1 / s) * (a - i), l = this.getPoint(r), u.push(h.copy(l).clone());
            u.push(h.copy(this.points[t]).clone())
        }
        this.points = u
    }
},THREE.Triangle = function (e, t, n) {
    this.a = void 0 !== e ? e : new THREE.Vector3, this.b = void 0 !== t ? t : new THREE.Vector3, this.c = void 0 !== n ? n : new THREE.Vector3
},THREE.Triangle.normal = function () {
    var e = new THREE.Vector3;
    return function (t, n, r, i) {
        var a = i || new THREE.Vector3;
        a.subVectors(r, n), e.subVectors(t, n), a.cross(e);
        var o = a.lengthSq();
        return o > 0 ? a.multiplyScalar(1 / Math.sqrt(o)) : a.set(0, 0, 0)
    }
}(),THREE.Triangle.barycoordFromPoint = function () {
    var e = new THREE.Vector3, t = new THREE.Vector3, n = new THREE.Vector3;
    return function (r, i, a, o, s) {
        e.subVectors(o, i), t.subVectors(a, i), n.subVectors(r, i);
        var l = e.dot(e), u = e.dot(t), h = e.dot(n), c = t.dot(t), A = t.dot(n), f = l * c - u * u, d = s || new THREE.Vector3;
        if (0 == f)return d.set(-2, -1, -1);
        var p = 1 / f, m = (c * h - u * A) * p, g = (l * A - u * h) * p;
        return d.set(1 - m - g, g, m)
    }
}(),THREE.Triangle.containsPoint = function () {
    var e = new THREE.Vector3;
    return function (t, n, r, i) {
        var a = THREE.Triangle.barycoordFromPoint(t, n, r, i, e);
        return a.x >= 0 && a.y >= 0 && a.x + a.y <= 1
    }
}(),THREE.Triangle.prototype = {
    constructor: THREE.Triangle, set: function (e, t, n) {
        return this.a.copy(e), this.b.copy(t), this.c.copy(n), this
    }, setFromPointsAndIndices: function (e, t, n, r) {
        return this.a.copy(e[t]), this.b.copy(e[n]), this.c.copy(e[r]), this
    }, copy: function (e) {
        return this.a.copy(e.a), this.b.copy(e.b), this.c.copy(e.c), this
    }, area: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3;
        return function () {
            return e.subVectors(this.c, this.b), t.subVectors(this.a, this.b), .5 * e.cross(t).length()
        }
    }(), midpoint: function (e) {
        var t = e || new THREE.Vector3;
        return t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
    }, normal: function (e) {
        return THREE.Triangle.normal(this.a, this.b, this.c, e)
    }, plane: function (e) {
        var t = e || new THREE.Plane;
        return t.setFromCoplanarPoints(this.a, this.b, this.c)
    }, barycoordFromPoint: function (e, t) {
        return THREE.Triangle.barycoordFromPoint(e, this.a, this.b, this.c, t)
    }, containsPoint: function (e) {
        return THREE.Triangle.containsPoint(e, this.a, this.b, this.c)
    }, equals: function (e) {
        return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c)
    }, clone: function () {
        return (new THREE.Triangle).copy(this)
    }
},THREE.Vertex = function (e) {
    return console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead."), e
},THREE.UV = function (e, t) {
    return console.warn("THREE.UV has been DEPRECATED. Use THREE.Vector2 instead."), new THREE.Vector2(e, t)
},THREE.Clock = function (e) {
    this.autoStart = void 0 !== e ? e : !0, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
},THREE.Clock.prototype = {
    constructor: THREE.Clock, start: function () {
        this.startTime = void 0 !== self.performance && void 0 !== self.performance.now ? self.performance.now() : Date.now(), this.oldTime = this.startTime, this.running = !0
    }, stop: function () {
        this.getElapsedTime(), this.running = !1
    }, getElapsedTime: function () {
        return this.getDelta(), this.elapsedTime
    }, getDelta: function () {
        var e = 0;
        if (this.autoStart && !this.running && this.start(), this.running) {
            var t = void 0 !== self.performance && void 0 !== self.performance.now ? self.performance.now() : Date.now();
            e = .001 * (t - this.oldTime), this.oldTime = t, this.elapsedTime += e
        }
        return e
    }
},THREE.EventDispatcher = function () {
},THREE.EventDispatcher.prototype = {
    constructor: THREE.EventDispatcher, apply: function (e) {
        e.addEventListener = THREE.EventDispatcher.prototype.addEventListener, e.hasEventListener = THREE.EventDispatcher.prototype.hasEventListener, e.removeEventListener = THREE.EventDispatcher.prototype.removeEventListener, e.dispatchEvent = THREE.EventDispatcher.prototype.dispatchEvent
    }, addEventListener: function (e, t) {
        void 0 === this._listeners && (this._listeners = {});
        var n = this._listeners;
        void 0 === n[e] && (n[e] = []), -1 === n[e].indexOf(t) && n[e].push(t)
    }, hasEventListener: function (e, t) {
        if (void 0 === this._listeners)return !1;
        var n = this._listeners;
        return void 0 !== n[e] && -1 !== n[e].indexOf(t) ? !0 : !1
    }, removeEventListener: function (e, t) {
        if (void 0 !== this._listeners) {
            var n = this._listeners, r = n[e];
            if (void 0 !== r) {
                var i = r.indexOf(t);
                -1 !== i && r.splice(i, 1)
            }
        }
    }, dispatchEvent: function () {
        var e = [];
        return function (t) {
            if (void 0 !== this._listeners) {
                var n = this._listeners, r = n[t.type];
                if (void 0 !== r) {
                    t.target = this;
                    for (var i = r.length, a = 0; i > a; a++)e[a] = r[a];
                    for (var a = 0; i > a; a++)e[a].call(this, t)
                }
            }
        }
    }()
},function (e) {
    e.Raycaster = function (t, n, r, i) {
        this.ray = new e.Ray(t, n), this.near = r || 0, this.far = i || 1 / 0
    };
    var t = new e.Sphere, n = new e.Ray, r = (new e.Plane, new e.Vector3, new e.Vector3), i = new e.Matrix4, a = function (e, t) {
        return e.distance - t.distance
    }, o = new e.Vector3, s = new e.Vector3, l = new e.Vector3, u = function (a, h, c) {
        if (a instanceof e.Sprite) {
            r.setFromMatrixPosition(a.matrixWorld);
            var A = h.ray.distanceToPoint(r);
            if (A > a.scale.x)return c;
            c.push({distance: A, point: a.position, face: null, object: a})
        } else if (a instanceof e.LOD) {
            r.setFromMatrixPosition(a.matrixWorld);
            var A = h.ray.origin.distanceTo(r);
            u(a.getObjectForDistance(A), h, c)
        } else if (a instanceof e.Mesh) {
            var f = a.geometry;
            if (null === f.boundingSphere && f.computeBoundingSphere(), t.copy(f.boundingSphere), t.applyMatrix4(a.matrixWorld), h.ray.isIntersectionSphere(t) === !1)return c;
            if (i.getInverse(a.matrixWorld), n.copy(h.ray).applyMatrix4(i), null !== f.boundingBox && n.isIntersectionBox(f.boundingBox) === !1)return c;
            if (f instanceof e.BufferGeometry) {
                var d = a.material;
                if (void 0 === d)return c;
                var p, m, g, v = f.attributes, y = h.precision;
                if (void 0 !== v.index)for (var E = f.offsets, b = v.index.array, x = v.position.array, w = 0, T = E.length; T > w; ++w)for (var C = E[w].start, R = E[w].count, _ = E[w].index, B = C, M = C + R; M > B; B += 3) {
                    if (p = _ + b[B], m = _ + b[B + 1], g = _ + b[B + 2], o.set(x[3 * p], x[3 * p + 1], x[3 * p + 2]), s.set(x[3 * m], x[3 * m + 1], x[3 * m + 2]), l.set(x[3 * g], x[3 * g + 1], x[3 * g + 2]), d.side === e.BackSide)var H = n.intersectTriangle(l, s, o, !0); else var H = n.intersectTriangle(o, s, l, d.side !== e.DoubleSide);
                    if (null !== H) {
                        H.applyMatrix4(a.matrixWorld);
                        var A = h.ray.origin.distanceTo(H);
                        y > A || A < h.near || A > h.far || c.push({
                            distance: A,
                            point: H,
                            indices: [p, m, g],
                            face: null,
                            faceIndex: null,
                            object: a
                        })
                    }
                } else for (var E = f.offsets, x = v.position.array, B = 0, M = v.position.array.length; M > B; B += 3) {
                    if (p = B, m = B + 1, g = B + 2, o.set(x[3 * p], x[3 * p + 1], x[3 * p + 2]), s.set(x[3 * m], x[3 * m + 1], x[3 * m + 2]), l.set(x[3 * g], x[3 * g + 1], x[3 * g + 2]), d.side === e.BackSide)var H = n.intersectTriangle(l, s, o, !0); else var H = n.intersectTriangle(o, s, l, d.side !== e.DoubleSide);
                    if (null !== H) {
                        H.applyMatrix4(a.matrixWorld);
                        var A = h.ray.origin.distanceTo(H);
                        y > A || A < h.near || A > h.far || c.push({
                            distance: A,
                            point: H,
                            indices: [p, m, g],
                            face: null,
                            faceIndex: null,
                            object: a
                        })
                    }
                }
            } else if (f instanceof e.Geometry)for (var p, m, g, S = a.material instanceof e.MeshFaceMaterial, D = S === !0 ? a.material.materials : null, y = h.precision, F = f.vertices, k = 0, O = f.faces.length; O > k; k++) {
                var P = f.faces[k], d = S === !0 ? D[P.materialIndex] : a.material;
                if (void 0 !== d) {
                    if (p = F[P.a], m = F[P.b], g = F[P.c], d.morphTargets === !0) {
                        var L = f.morphTargets, z = a.morphTargetInfluences;
                        o.set(0, 0, 0), s.set(0, 0, 0), l.set(0, 0, 0);
                        for (var I = 0, G = L.length; G > I; I++) {
                            var N = z[I];
                            if (0 !== N) {
                                var V = L[I].vertices;
                                o.x += (V[P.a].x - p.x) * N, o.y += (V[P.a].y - p.y) * N, o.z += (V[P.a].z - p.z) * N, s.x += (V[P.b].x - m.x) * N, s.y += (V[P.b].y - m.y) * N, s.z += (V[P.b].z - m.z) * N, l.x += (V[P.c].x - g.x) * N, l.y += (V[P.c].y - g.y) * N, l.z += (V[P.c].z - g.z) * N
                            }
                        }
                        o.add(p), s.add(m), l.add(g), p = o, m = s, g = l
                    }
                    if (d.side === e.BackSide)var H = n.intersectTriangle(g, m, p, !0); else var H = n.intersectTriangle(p, m, g, d.side !== e.DoubleSide);
                    if (null !== H) {
                        H.applyMatrix4(a.matrixWorld);
                        var A = h.ray.origin.distanceTo(H);
                        y > A || A < h.near || A > h.far || c.push({
                            distance: A,
                            point: H,
                            face: P,
                            faceIndex: k,
                            object: a
                        })
                    }
                }
            }
        } else if (a instanceof e.Line) {
            var y = h.linePrecision, U = y * y, f = a.geometry;
            if (null === f.boundingSphere && f.computeBoundingSphere(), t.copy(f.boundingSphere), t.applyMatrix4(a.matrixWorld), h.ray.isIntersectionSphere(t) === !1)return c;
            if (i.getInverse(a.matrixWorld), n.copy(h.ray).applyMatrix4(i), f instanceof e.Geometry)for (var F = f.vertices, j = F.length, Q = new e.Vector3, W = new e.Vector3, Y = a.type === e.LineStrip ? 1 : 2, B = 0; j - 1 > B; B += Y) {
                var q = n.distanceSqToSegment(F[B], F[B + 1], W, Q);
                if (!(q > U)) {
                    var A = n.origin.distanceTo(W);
                    A < h.near || A > h.far || c.push({
                        distance: A,
                        point: Q.clone().applyMatrix4(a.matrixWorld),
                        face: null,
                        faceIndex: null,
                        object: a
                    })
                }
            }
        }
    }, h = function (e, t, n) {
        for (var r = e.getDescendants(), i = 0, a = r.length; a > i; i++)u(r[i], t, n)
    };
    e.Raycaster.prototype.precision = 1e-4, e.Raycaster.prototype.linePrecision = 1, e.Raycaster.prototype.set = function (e, t) {
        this.ray.set(e, t)
    }, e.Raycaster.prototype.intersectObject = function (e, t) {
        var n = [];
        return t === !0 && h(e, this, n), u(e, this, n), n.sort(a), n
    }, e.Raycaster.prototype.intersectObjects = function (e, t) {
        for (var n = [], r = 0, i = e.length; i > r; r++)u(e[r], this, n), t === !0 && h(e[r], this, n);
        return n.sort(a), n
    }
}(THREE),THREE.Object3D = function () {
    this.id = THREE.Object3DIdCount++, this.uuid = THREE.Math.generateUUID(), this.name = "", this.parent = void 0, this.children = [], this.up = new THREE.Vector3(0, 1, 0), this.position = new THREE.Vector3, this._rotation = new THREE.Euler, this._quaternion = new THREE.Quaternion, this.scale = new THREE.Vector3(1, 1, 1), this._rotation._quaternion = this.quaternion, this._quaternion._euler = this.rotation, this.renderDepth = null, this.rotationAutoUpdate = !0, this.matrix = new THREE.Matrix4, this.matrixWorld = new THREE.Matrix4, this.matrixAutoUpdate = !0, this.matrixWorldNeedsUpdate = !0, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.userData = {}
},THREE.Object3D.prototype = {
    constructor: THREE.Object3D, get rotation() {
        return this._rotation
    }, set rotation(e) {
        this._rotation = e, this._rotation._quaternion = this._quaternion, this._quaternion._euler = this._rotation, this._rotation._updateQuaternion()
    }, get quaternion() {
        return this._quaternion
    }, set quaternion(e) {
        this._quaternion = e, this._quaternion._euler = this._rotation, this._rotation._quaternion = this._quaternion, this._quaternion._updateEuler()
    }, get eulerOrder() {
        return console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."), this.rotation.order
    }, set eulerOrder(e) {
        console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."), this.rotation.order = e
    }, get useQuaternion() {
        console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")
    }, set useQuaternion(e) {
        console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")
    }, applyMatrix: function (e) {
        this.matrix.multiplyMatrices(e, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale)
    }, setRotationFromAxisAngle: function (e, t) {
        this.quaternion.setFromAxisAngle(e, t)
    }, setRotationFromEuler: function (e) {
        this.quaternion.setFromEuler(e, !0)
    }, setRotationFromMatrix: function (e) {
        this.quaternion.setFromRotationMatrix(e)
    }, setRotationFromQuaternion: function (e) {
        this.quaternion.copy(e)
    }, rotateOnAxis: function () {
        var e = new THREE.Quaternion;
        return function (t, n) {
            return e.setFromAxisAngle(t, n), this.quaternion.multiply(e), this
        }
    }(), rotateX: function () {
        var e = new THREE.Vector3(1, 0, 0);
        return function (t) {
            return this.rotateOnAxis(e, t)
        }
    }(), rotateY: function () {
        var e = new THREE.Vector3(0, 1, 0);
        return function (t) {
            return this.rotateOnAxis(e, t)
        }
    }(), rotateZ: function () {
        var e = new THREE.Vector3(0, 0, 1);
        return function (t) {
            return this.rotateOnAxis(e, t)
        }
    }(), translateOnAxis: function () {
        var e = new THREE.Vector3;
        return function (t, n) {
            return e.copy(t), e.applyQuaternion(this.quaternion), this.position.add(e.multiplyScalar(n)), this
        }
    }(), translate: function (e, t) {
        return console.warn("DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed."), this.translateOnAxis(t, e)
    }, translateX: function () {
        var e = new THREE.Vector3(1, 0, 0);
        return function (t) {
            return this.translateOnAxis(e, t)
        }
    }(), translateY: function () {
        var e = new THREE.Vector3(0, 1, 0);
        return function (t) {
            return this.translateOnAxis(e, t)
        }
    }(), translateZ: function () {
        var e = new THREE.Vector3(0, 0, 1);
        return function (t) {
            return this.translateOnAxis(e, t)
        }
    }(), localToWorld: function (e) {
        return e.applyMatrix4(this.matrixWorld)
    }, worldToLocal: function () {
        var e = new THREE.Matrix4;
        return function (t) {
            return t.applyMatrix4(e.getInverse(this.matrixWorld))
        }
    }(), lookAt: function () {
        var e = new THREE.Matrix4;
        return function (t) {
            e.lookAt(t, this.position, this.up), this.quaternion.setFromRotationMatrix(e)
        }
    }(), add: function (e) {
        if (e === this)return void console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");
        if (e instanceof THREE.Object3D) {
            void 0 !== e.parent && e.parent.remove(e), e.parent = this, e.dispatchEvent({type: "added"}), this.children.push(e);
            for (var t = this; void 0 !== t.parent;)t = t.parent;
            void 0 !== t && t instanceof THREE.Scene && t.__addObject(e)
        }
    }, remove: function (e) {
        var t = this.children.indexOf(e);
        if (-1 !== t) {
            e.parent = void 0, e.dispatchEvent({type: "removed"}), this.children.splice(t, 1);
            for (var n = this; void 0 !== n.parent;)n = n.parent;
            void 0 !== n && n instanceof THREE.Scene && n.__removeObject(e)
        }
    }, traverse: function (e) {
        e(this);
        for (var t = 0, n = this.children.length; n > t; t++)this.children[t].traverse(e)
    }, getObjectById: function (e, t) {
        for (var n = 0, r = this.children.length; r > n; n++) {
            var i = this.children[n];
            if (i.id === e)return i;
            if (t === !0 && (i = i.getObjectById(e, t), void 0 !== i))return i
        }
        return void 0
    }, getObjectByName: function (e, t) {
        for (var n = 0, r = this.children.length; r > n; n++) {
            var i = this.children[n];
            if (i.name === e)return i;
            if (t === !0 && (i = i.getObjectByName(e, t), void 0 !== i))return i
        }
        return void 0
    }, getChildByName: function (e, t) {
        return console.warn("DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName()."), this.getObjectByName(e, t)
    }, getDescendants: function (e) {
        void 0 === e && (e = []), Array.prototype.push.apply(e, this.children);
        for (var t = 0, n = this.children.length; n > t; t++)this.children[t].getDescendants(e);
        return e
    }, updateMatrix: function () {
        this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
    }, updateMatrixWorld: function (e) {
        this.matrixAutoUpdate === !0 && this.updateMatrix(), (this.matrixWorldNeedsUpdate === !0 || e === !0) && (void 0 === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, e = !0);
        for (var t = 0, n = this.children.length; n > t; t++)this.children[t].updateMatrixWorld(e)
    }, clone: function (e, t) {
        if (void 0 === e && (e = new THREE.Object3D), void 0 === t && (t = !0), e.name = this.name, e.up.copy(this.up), e.position.copy(this.position), e.quaternion.copy(this.quaternion), e.scale.copy(this.scale), e.renderDepth = this.renderDepth, e.rotationAutoUpdate = this.rotationAutoUpdate, e.matrix.copy(this.matrix), e.matrixWorld.copy(this.matrixWorld), e.matrixAutoUpdate = this.matrixAutoUpdate, e.matrixWorldNeedsUpdate = this.matrixWorldNeedsUpdate, e.visible = this.visible, e.castShadow = this.castShadow, e.receiveShadow = this.receiveShadow, e.frustumCulled = this.frustumCulled, e.userData = JSON.parse(JSON.stringify(this.userData)), t === !0)for (var n = 0; n < this.children.length; n++) {
            var r = this.children[n];
            e.add(r.clone())
        }
        return e
    }
},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount = 0,THREE.Projector = function () {
    function e() {
        if (l === y) {
            var e = new THREE.RenderableObject;
            return v.push(e), y++, l++, e
        }
        return v[l++]
    }

    function t() {
        if (h === b) {
            var e = new THREE.RenderableVertex;
            return E.push(e), b++, h++, e
        }
        return E[h++]
    }

    function n() {
        if (A === w) {
            var e = new THREE.RenderableFace;
            return x.push(e), w++, A++, e
        }
        return x[A++]
    }

    function r() {
        if (d === C) {
            var e = new THREE.RenderableLine;
            return T.push(e), C++, d++, e
        }
        return T[d++]
    }

    function i() {
        if (m === _) {
            var e = new THREE.RenderableSprite;
            return R.push(e), _++, m++, e
        }
        return R[m++]
    }

    function a(e, t) {
        return e.z !== t.z ? t.z - e.z : e.id !== t.id ? e.id - t.id : 0
    }

    function o(e, t) {
        var n = 0, r = 1, i = e.z + e.w, a = t.z + t.w, o = -e.z + e.w, s = -t.z + t.w;
        return i >= 0 && a >= 0 && o >= 0 && s >= 0 ? !0 : 0 > i && 0 > a || 0 > o && 0 > s ? !1 : (0 > i ? n = Math.max(n, i / (i - a)) : 0 > a && (r = Math.min(r, i / (i - a))), 0 > o ? n = Math.max(n, o / (o - s)) : 0 > s && (r = Math.min(r, o / (o - s))), n > r ? !1 : (e.lerp(t, n), t.lerp(e, 1 - r), !0))
    }

    var s, l, u, h, c, A, f, d, p, m, g, v = [], y = 0, E = [], b = 0, x = [], w = 0, T = [], C = 0, R = [], _ = 0, B = {
        objects: [],
        lights: [],
        elements: []
    }, M = new THREE.Vector3, H = new THREE.Vector3, S = new THREE.Vector3, D = new THREE.Vector3, F = new THREE.Vector4, k = new THREE.Box3(new THREE.Vector3(-1, -1, -1), new THREE.Vector3(1, 1, 1)), O = new THREE.Box3, P = new Array(3), L = (new Array(4), new THREE.Matrix4), z = new THREE.Matrix4, I = new THREE.Matrix4, G = new THREE.Matrix3, N = new THREE.Frustum, V = new THREE.Vector4, U = new THREE.Vector4;
    this.projectVector = function (e, t) {
        return t.matrixWorldInverse.getInverse(t.matrixWorld), z.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), e.applyProjection(z)
    }, this.unprojectVector = function () {
        var e = new THREE.Matrix4;
        return function (t, n) {
            return e.getInverse(n.projectionMatrix), z.multiplyMatrices(n.matrixWorld, e), t.applyProjection(z)
        }
    }(), this.pickingRay = function (e, t) {
        e.z = -1;
        var n = new THREE.Vector3(e.x, e.y, 1);
        return this.unprojectVector(e, t), this.unprojectVector(n, t), n.sub(e).normalize(), new THREE.Raycaster(e, n)
    };
    var j = function (t) {
        if (t.visible !== !1) {
            t instanceof THREE.Light ? B.lights.push(t) : (t instanceof THREE.Mesh || t instanceof THREE.Line || t instanceof THREE.Sprite) && (t.frustumCulled === !1 || N.intersectsObject(t) === !0) && (s = e(), s.id = t.id, s.object = t, null !== t.renderDepth ? s.z = t.renderDepth : (D.setFromMatrixPosition(t.matrixWorld), D.applyProjection(z), s.z = D.z), B.objects.push(s));
            for (var n = 0, r = t.children.length; r > n; n++)j(t.children[n])
        }
    }, Q = function (e, t) {
        l = 0, B.objects.length = 0, B.lights.length = 0, j(e), t === !0 && B.objects.sort(a)
    }, W = function () {
        var e = [], i = null, a = new THREE.Matrix3, o = function (t) {
            i = t, a.getNormalMatrix(i.matrixWorld), e.length = 0
        }, s = function (e) {
            var t = e.position, n = e.positionWorld, r = e.positionScreen;
            n.copy(t).applyMatrix4(g), r.copy(n).applyMatrix4(z);
            var i = 1 / r.w;
            r.x *= i, r.y *= i, r.z *= i, e.visible = r.x >= -1 && r.x <= 1 && r.y >= -1 && r.y <= 1 && r.z >= -1 && r.z <= 1
        }, l = function (e, n, r) {
            u = t(), u.position.set(e, n, r), s(u)
        }, h = function (t, n, r) {
            e.push(t, n, r)
        }, A = function (e, t, n) {
            return P[0] = e.positionScreen, P[1] = t.positionScreen, P[2] = n.positionScreen, e.visible === !0 || t.visible === !0 || n.visible === !0 || k.isIntersectionBox(O.setFromPoints(P)) ? (n.positionScreen.x - e.positionScreen.x) * (t.positionScreen.y - e.positionScreen.y) - (n.positionScreen.y - e.positionScreen.y) * (t.positionScreen.x - e.positionScreen.x) < 0 : !1
        }, d = function (e, t) {
            var n = E[e], a = E[t];
            f = r(), f.id = i.id, f.v1.copy(n), f.v2.copy(a), f.z = (n.positionScreen.z + a.positionScreen.z) / 2, f.material = i.material, B.elements.push(f)
        }, p = function (t, r, o) {
            var s = E[t], l = E[r], u = E[o];
            if (A(s, l, u) === !0) {
                c = n(), c.id = i.id, c.v1.copy(s), c.v2.copy(l), c.v3.copy(u), c.z = (s.positionScreen.z + l.positionScreen.z + u.positionScreen.z) / 3;
                for (var h = 0; 3 > h; h++) {
                    var f = 3 * arguments[h], d = c.vertexNormalsModel[h];
                    d.set(e[f + 0], e[f + 1], e[f + 2]), d.applyMatrix3(a).normalize()
                }
                c.vertexNormalsLength = 3, c.material = i.material, B.elements.push(c)
            }
        };
        return {
            setObject: o,
            projectVertex: s,
            checkTriangleVisibility: A,
            pushVertex: l,
            pushNormal: h,
            pushLine: d,
            pushTriangle: p
        }
    }, Y = new W;
    this.projectScene = function (e, s, l, u) {
        var v, y, b, x, w, T, C, R, _, D;
        A = 0, d = 0, m = 0, B.elements.length = 0, e.autoUpdate === !0 && e.updateMatrixWorld(), void 0 === s.parent && s.updateMatrixWorld(), L.copy(s.matrixWorldInverse.getInverse(s.matrixWorld)), z.multiplyMatrices(s.projectionMatrix, L), N.setFromMatrix(z), Q(e, l);
        for (var k = 0, O = B.objects.length; O > k; k++)if (v = B.objects[k].object, y = v.geometry, Y.setObject(v), g = v.matrixWorld, h = 0, v instanceof THREE.Mesh) {
            if (y instanceof THREE.BufferGeometry) {
                var P = y.attributes, j = y.offsets;
                if (void 0 === P.position)continue;
                for (var W = P.position.array, q = 0, X = W.length; X > q; q += 3)Y.pushVertex(W[q], W[q + 1], W[q + 2]);
                for (var Z = P.normal.array, q = 0, X = Z.length; X > q; q += 3)Y.pushNormal(Z[q], Z[q + 1], Z[q + 2]);
                if (void 0 !== P.index) {
                    var K = P.index.array;
                    if (j.length > 0)for (var k = 0; k < j.length; k++)for (var $ = j[k], J = $.index, q = $.start, X = $.start + $.count; X > q; q += 3)Y.pushTriangle(K[q] + J, K[q + 1] + J, K[q + 2] + J); else for (var q = 0, X = K.length; X > q; q += 3)Y.pushTriangle(K[q], K[q + 1], K[q + 2])
                } else for (var q = 0, X = W.length / 3; X > q; q += 3)Y.pushTriangle(q, q + 1, q + 2)
            } else if (y instanceof THREE.Geometry) {
                b = y.vertices, x = y.faces, C = y.faceVertexUvs, G.getNormalMatrix(g), _ = v.material instanceof THREE.MeshFaceMaterial, D = _ === !0 ? v.material : null;
                for (var et = 0, tt = b.length; tt > et; et++) {
                    var nt = b[et];
                    Y.pushVertex(nt.x, nt.y, nt.z)
                }
                for (var rt = 0, it = x.length; it > rt; rt++) {
                    w = x[rt];
                    var at = _ === !0 ? D.materials[w.materialIndex] : v.material;
                    if (void 0 !== at) {
                        var ot = at.side, st = E[w.a], lt = E[w.b], ut = E[w.c];
                        if (at.morphTargets === !0) {
                            var ht = y.morphTargets, ct = v.morphTargetInfluences, At = st.position, ft = lt.position, dt = ut.position;
                            M.set(0, 0, 0), H.set(0, 0, 0), S.set(0, 0, 0);
                            for (var pt = 0, mt = ht.length; mt > pt; pt++) {
                                var gt = ct[pt];
                                if (0 !== gt) {
                                    var vt = ht[pt].vertices;
                                    M.x += (vt[w.a].x - At.x) * gt, M.y += (vt[w.a].y - At.y) * gt, M.z += (vt[w.a].z - At.z) * gt, H.x += (vt[w.b].x - ft.x) * gt, H.y += (vt[w.b].y - ft.y) * gt, H.z += (vt[w.b].z - ft.z) * gt, S.x += (vt[w.c].x - dt.x) * gt, S.y += (vt[w.c].y - dt.y) * gt, S.z += (vt[w.c].z - dt.z) * gt
                                }
                            }
                            st.position.add(M), lt.position.add(H), ut.position.add(S), Y.projectVertex(st), Y.projectVertex(lt), Y.projectVertex(ut)
                        }
                        var yt = Y.checkTriangleVisibility(st, lt, ut);
                        if (!(yt === !1 && ot === THREE.FrontSide || yt === !0 && ot === THREE.BackSide)) {
                            c = n(), c.id = v.id, c.v1.copy(st), c.v2.copy(lt), c.v3.copy(ut), c.normalModel.copy(w.normal), yt !== !1 || ot !== THREE.BackSide && ot !== THREE.DoubleSide || c.normalModel.negate(), c.normalModel.applyMatrix3(G).normalize(), c.centroidModel.copy(w.centroid).applyMatrix4(g), T = w.vertexNormals;
                            for (var Et = 0, bt = Math.min(T.length, 3); bt > Et; Et++) {
                                var xt = c.vertexNormalsModel[Et];
                                xt.copy(T[Et]), yt !== !1 || ot !== THREE.BackSide && ot !== THREE.DoubleSide || xt.negate(), xt.applyMatrix3(G).normalize()
                            }
                            c.vertexNormalsLength = T.length;
                            for (var wt = 0, Tt = Math.min(C.length, 3); Tt > wt; wt++)if (R = C[wt][rt], void 0 !== R)for (var Ct = 0, Rt = R.length; Rt > Ct; Ct++)c.uvs[wt][Ct] = R[Ct];
                            c.color = w.color, c.material = at, c.z = (st.positionScreen.z + lt.positionScreen.z + ut.positionScreen.z) / 3, B.elements.push(c)
                        }
                    }
                }
            }
        } else if (v instanceof THREE.Line) {
            if (y instanceof THREE.BufferGeometry) {
                var P = y.attributes;
                if (void 0 !== P.position) {
                    for (var W = P.position.array, q = 0, X = W.length; X > q; q += 3)Y.pushVertex(W[q], W[q + 1], W[q + 2]);
                    if (void 0 !== P.index)for (var K = P.index.array, q = 0, X = K.length; X > q; q += 2)Y.pushLine(K[q], K[q + 1]); else for (var q = 0, X = W.length / 3 - 1; X > q; q++)Y.pushLine(q, q + 1)
                }
            } else if (y instanceof THREE.Geometry) {
                if (I.multiplyMatrices(z, g), b = v.geometry.vertices, 0 === b.length)continue;
                st = t(), st.positionScreen.copy(b[0]).applyMatrix4(I);
                for (var _t = v.type === THREE.LinePieces ? 2 : 1, et = 1, tt = b.length; tt > et; et++)st = t(), st.positionScreen.copy(b[et]).applyMatrix4(I), (et + 1) % _t > 0 || (lt = E[h - 2], V.copy(st.positionScreen), U.copy(lt.positionScreen), o(V, U) === !0 && (V.multiplyScalar(1 / V.w), U.multiplyScalar(1 / U.w), f = r(), f.id = v.id, f.v1.positionScreen.copy(V), f.v2.positionScreen.copy(U), f.z = Math.max(V.z, U.z), f.material = v.material, v.material.vertexColors === THREE.VertexColors && (f.vertexColors[0].copy(v.geometry.colors[et]), f.vertexColors[1].copy(v.geometry.colors[et - 1])), B.elements.push(f)))
            }
        } else if (v instanceof THREE.Sprite) {
            F.set(g.elements[12], g.elements[13], g.elements[14], 1), F.applyMatrix4(z);
            var Bt = 1 / F.w;
            F.z *= Bt, F.z >= -1 && F.z <= 1 && (p = i(), p.id = v.id, p.x = F.x * Bt, p.y = F.y * Bt, p.z = F.z, p.object = v, p.rotation = v.rotation, p.scale.x = v.scale.x * Math.abs(p.x - (F.x + s.projectionMatrix.elements[0]) / (F.w + s.projectionMatrix.elements[12])), p.scale.y = v.scale.y * Math.abs(p.y - (F.y + s.projectionMatrix.elements[5]) / (F.w + s.projectionMatrix.elements[13])), p.material = v.material, B.elements.push(p))
        }
        return u === !0 && B.elements.sort(a), B
    }
},THREE.Face3 = function (e, t, n, r, i, a) {
    this.a = e, this.b = t, this.c = n, this.normal = r instanceof THREE.Vector3 ? r : new THREE.Vector3, this.vertexNormals = r instanceof Array ? r : [], this.color = i instanceof THREE.Color ? i : new THREE.Color, this.vertexColors = i instanceof Array ? i : [], this.vertexTangents = [], this.materialIndex = void 0 !== a ? a : 0, this.centroid = new THREE.Vector3
},THREE.Face3.prototype = {
    constructor: THREE.Face3, clone: function () {
        var e = new THREE.Face3(this.a, this.b, this.c);
        e.normal.copy(this.normal), e.color.copy(this.color), e.centroid.copy(this.centroid), e.materialIndex = this.materialIndex;
        var t, n;
        for (t = 0, n = this.vertexNormals.length; n > t; t++)e.vertexNormals[t] = this.vertexNormals[t].clone();
        for (t = 0, n = this.vertexColors.length; n > t; t++)e.vertexColors[t] = this.vertexColors[t].clone();
        for (t = 0, n = this.vertexTangents.length; n > t; t++)e.vertexTangents[t] = this.vertexTangents[t].clone();
        return e
    }
},THREE.Face4 = function (e, t, n, r, i, a, o) {
    return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."), new THREE.Face3(e, t, n, i, a, o)
},THREE.BufferGeometry = function () {
    this.id = THREE.GeometryIdCount++, this.uuid = THREE.Math.generateUUID(), this.name = "", this.attributes = {}, this.offsets = [], this.boundingBox = null, this.boundingSphere = null
},THREE.BufferGeometry.prototype = {
    constructor: THREE.BufferGeometry, addAttribute: function (e, t, n, r) {
        return this.attributes[e] = {array: new t(n * r), itemSize: r}, this.attributes[e]
    }, applyMatrix: function (e) {
        var t = this.attributes.position;
        void 0 !== t && (e.multiplyVector3Array(t.array), t.needsUpdate = !0);
        var n = this.attributes.normal;
        if (void 0 !== n) {
            var r = (new THREE.Matrix3).getNormalMatrix(e);
            r.multiplyVector3Array(n.array), n.needsUpdate = !0
        }
    }, computeBoundingBox: function () {
        null === this.boundingBox && (this.boundingBox = new THREE.Box3);
        var e = this.attributes.position.array;
        if (e) {
            var t = this.boundingBox;
            e.length >= 3 && (t.min.x = t.max.x = e[0], t.min.y = t.max.y = e[1], t.min.z = t.max.z = e[2]);
            for (var n = 3, r = e.length; r > n; n += 3) {
                var i = e[n], a = e[n + 1], o = e[n + 2];
                i < t.min.x ? t.min.x = i : i > t.max.x && (t.max.x = i), a < t.min.y ? t.min.y = a : a > t.max.y && (t.max.y = a), o < t.min.z ? t.min.z = o : o > t.max.z && (t.max.z = o)
            }
        }
        (void 0 === e || 0 === e.length) && (this.boundingBox.min.set(0, 0, 0), this.boundingBox.max.set(0, 0, 0))
    }, computeBoundingSphere: function () {
        var e = new THREE.Box3, t = new THREE.Vector3;
        return function () {
            null === this.boundingSphere && (this.boundingSphere = new THREE.Sphere);
            var n = this.attributes.position.array;
            if (n) {
                e.makeEmpty();
                for (var r = this.boundingSphere.center, i = 0, a = n.length; a > i; i += 3)t.set(n[i], n[i + 1], n[i + 2]), e.addPoint(t);
                e.center(r);
                for (var o = 0, i = 0, a = n.length; a > i; i += 3)t.set(n[i], n[i + 1], n[i + 2]), o = Math.max(o, r.distanceToSquared(t));
                this.boundingSphere.radius = Math.sqrt(o)
            }
        }
    }(), computeVertexNormals: function () {
        if (this.attributes.position) {
            var e, t, n, r, i = this.attributes.position.array.length;
            if (void 0 === this.attributes.normal)this.attributes.normal = {
                itemSize: 3,
                array: new Float32Array(i)
            }; else for (e = 0, t = this.attributes.normal.array.length; t > e; e++)this.attributes.normal.array[e] = 0;
            var a, o, s, l, u, h, c = this.attributes.position.array, A = this.attributes.normal.array, f = new THREE.Vector3, d = new THREE.Vector3, p = new THREE.Vector3, m = new THREE.Vector3, g = new THREE.Vector3;
            if (this.attributes.index) {
                var v = this.attributes.index.array, y = this.offsets;
                for (n = 0, r = y.length; r > n; ++n) {
                    var E = y[n].start, b = y[n].count, x = y[n].index;
                    for (e = E, t = E + b; t > e; e += 3)a = x + v[e], o = x + v[e + 1], s = x + v[e + 2], l = c[3 * a], u = c[3 * a + 1], h = c[3 * a + 2], f.set(l, u, h), l = c[3 * o], u = c[3 * o + 1], h = c[3 * o + 2], d.set(l, u, h), l = c[3 * s], u = c[3 * s + 1], h = c[3 * s + 2], p.set(l, u, h), m.subVectors(p, d), g.subVectors(f, d), m.cross(g), A[3 * a] += m.x, A[3 * a + 1] += m.y, A[3 * a + 2] += m.z, A[3 * o] += m.x, A[3 * o + 1] += m.y, A[3 * o + 2] += m.z, A[3 * s] += m.x, A[3 * s + 1] += m.y, A[3 * s + 2] += m.z
                }
            } else for (e = 0, t = c.length; t > e; e += 9)l = c[e], u = c[e + 1], h = c[e + 2], f.set(l, u, h), l = c[e + 3], u = c[e + 4], h = c[e + 5], d.set(l, u, h), l = c[e + 6], u = c[e + 7], h = c[e + 8], p.set(l, u, h), m.subVectors(p, d), g.subVectors(f, d), m.cross(g), A[e] = m.x, A[e + 1] = m.y, A[e + 2] = m.z, A[e + 3] = m.x, A[e + 4] = m.y, A[e + 5] = m.z, A[e + 6] = m.x, A[e + 7] = m.y, A[e + 8] = m.z;
            this.normalizeNormals(), this.normalsNeedUpdate = !0
        }
    }, normalizeNormals: function () {
        for (var e, t, n, r, i = this.attributes.normal.array, a = 0, o = i.length; o > a; a += 3)e = i[a], t = i[a + 1], n = i[a + 2], r = 1 / Math.sqrt(e * e + t * t + n * n), i[a] *= r, i[a + 1] *= r, i[a + 2] *= r
    }, computeTangents: function () {
        function e(e, t, n) {
            A = r[3 * e], f = r[3 * e + 1], d = r[3 * e + 2], p = r[3 * t], m = r[3 * t + 1], g = r[3 * t + 2], v = r[3 * n], y = r[3 * n + 1], E = r[3 * n + 2], b = a[2 * e], x = a[2 * e + 1], w = a[2 * t], T = a[2 * t + 1], C = a[2 * n], R = a[2 * n + 1], _ = p - A, B = v - A, M = m - f, H = y - f, S = g - d, D = E - d, F = w - b, k = C - b, O = T - x, P = R - x, L = 1 / (F * P - k * O), Q.set((P * _ - O * B) * L, (P * M - O * H) * L, (P * S - O * D) * L), W.set((F * B - k * _) * L, (F * H - k * M) * L, (F * D - k * S) * L), u[e].add(Q), u[t].add(Q), u[n].add(Q), h[e].add(W), h[t].add(W), h[n].add(W)
        }

        function t(e) {
            nt.x = i[3 * e], nt.y = i[3 * e + 1], nt.z = i[3 * e + 2], rt.copy(nt), $ = u[e], et.copy($), et.sub(nt.multiplyScalar(nt.dot($))).normalize(), tt.crossVectors(rt, $), J = tt.dot(h[e]), K = 0 > J ? -1 : 1, l[4 * e] = et.x, l[4 * e + 1] = et.y, l[4 * e + 2] = et.z, l[4 * e + 3] = K
        }

        if (void 0 === this.attributes.index || void 0 === this.attributes.position || void 0 === this.attributes.normal || void 0 === this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");
        var n = this.attributes.index.array, r = this.attributes.position.array, i = this.attributes.normal.array, a = this.attributes.uv.array, o = r.length / 3;
        if (void 0 === this.attributes.tangent) {
            var s = 4 * o;
            this.attributes.tangent = {itemSize: 4, array: new Float32Array(s)}
        }
        for (var l = this.attributes.tangent.array, u = [], h = [], c = 0; o > c; c++)u[c] = new THREE.Vector3, h[c] = new THREE.Vector3;
        var A, f, d, p, m, g, v, y, E, b, x, w, T, C, R, _, B, M, H, S, D, F, k, O, P, L, z, I, G, N, V, U, j, Q = new THREE.Vector3, W = new THREE.Vector3, Y = this.offsets;
        for (G = 0, N = Y.length; N > G; ++G) {
            var q = Y[G].start, X = Y[G].count, Z = Y[G].index;
            for (z = q, I = q + X; I > z; z += 3)V = Z + n[z], U = Z + n[z + 1], j = Z + n[z + 2], e(V, U, j)
        }
        var K, $, J, et = new THREE.Vector3, tt = new THREE.Vector3, nt = new THREE.Vector3, rt = new THREE.Vector3;
        for (G = 0, N = Y.length; N > G; ++G) {
            var q = Y[G].start, X = Y[G].count, Z = Y[G].index;
            for (z = q, I = q + X; I > z; z += 3)V = Z + n[z], U = Z + n[z + 1], j = Z + n[z + 2], t(V), t(U), t(j)
        }
    }, computeOffsets: function (e) {
        var t = e;
        void 0 === e && (t = 65535);
        for (var n = (Date.now(), this.attributes.index.array), r = this.attributes.position.array, i = (r.length / 3, n.length / 3), a = new Uint16Array(n.length), o = 0, s = 0, l = [{
            start: 0,
            count: 0,
            index: 0
        }], u = l[0], h = 0, c = 0, A = new Int32Array(6), f = new Int32Array(r.length), d = new Int32Array(r.length), p = 0; p < r.length; p++)f[p] = -1, d[p] = -1;
        for (var m = 0; i > m; m++) {
            c = 0;
            for (var g = 0; 3 > g; g++) {
                var v = n[3 * m + g];
                -1 == f[v] ? (A[2 * g] = v, A[2 * g + 1] = -1, c++) : f[v] < u.index ? (A[2 * g] = v, A[2 * g + 1] = -1, h++) : (A[2 * g] = v, A[2 * g + 1] = f[v])
            }
            var y = s + c;
            if (y > u.index + t) {
                var E = {start: o, count: 0, index: s};
                l.push(E), u = E;
                for (var b = 0; 6 > b; b += 2) {
                    var x = A[b + 1];
                    x > -1 && x < u.index && (A[b + 1] = -1)
                }
            }
            for (var b = 0; 6 > b; b += 2) {
                var v = A[b], x = A[b + 1];
                -1 === x && (x = s++), f[v] = x, d[x] = v, a[o++] = x - u.index, u.count++
            }
        }
        return this.reorderBuffers(a, d, s), this.offsets = l, l
    }, reorderBuffers: function (e, t, n) {
        var r = {}, i = [Int8Array, Uint8Array, Uint8ClampedArray, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array];
        for (var a in this.attributes)if ("index" != a)for (var o = this.attributes[a].array, s = 0, l = i.length; l > s; s++) {
            var u = i[s];
            if (o instanceof u) {
                r[a] = new u(this.attributes[a].itemSize * n);
                break
            }
        }
        for (var h = 0; n > h; h++) {
            var c = t[h];
            for (var a in this.attributes)if ("index" != a)for (var A = this.attributes[a].array, f = this.attributes[a].itemSize, d = r[a], p = 0; f > p; p++)d[h * f + p] = A[c * f + p]
        }
        this.attributes.index.array = e;
        for (var a in this.attributes)"index" != a && (this.attributes[a].array = r[a], this.attributes[a].numItems = this.attributes[a].itemSize * n)
    }, clone: function () {
        var e = new THREE.BufferGeometry, t = [Int8Array, Uint8Array, Uint8ClampedArray, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array];
        for (var n in this.attributes) {
            for (var r = this.attributes[n], i = r.array, a = {
                itemSize: r.itemSize,
                array: null
            }, o = 0, s = t.length; s > o; o++) {
                var l = t[o];
                if (i instanceof l) {
                    a.array = new l(i);
                    break
                }
            }
            e.attributes[n] = a
        }
        for (var o = 0, s = this.offsets.length; s > o; o++) {
            var u = this.offsets[o];
            e.offsets.push({start: u.start, index: u.index, count: u.count})
        }
        return e
    }, dispose: function () {
        this.dispatchEvent({type: "dispose"})
    }
},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Geometry = function () {
    this.id = THREE.GeometryIdCount++, this.uuid = THREE.Math.generateUUID(), this.name = "", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [[]], this.morphTargets = [], this.morphColors = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.hasTangents = !1, this.dynamic = !0, this.verticesNeedUpdate = !1, this.elementsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.tangentsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.buffersNeedUpdate = !1
},THREE.Geometry.prototype = {
    constructor: THREE.Geometry, applyMatrix: function (e) {
        for (var t = (new THREE.Matrix3).getNormalMatrix(e), n = 0, r = this.vertices.length; r > n; n++) {
            var i = this.vertices[n];
            i.applyMatrix4(e)
        }
        for (var n = 0, r = this.faces.length; r > n; n++) {
            var a = this.faces[n];
            a.normal.applyMatrix3(t).normalize();
            for (var o = 0, s = a.vertexNormals.length; s > o; o++)a.vertexNormals[o].applyMatrix3(t).normalize();
            a.centroid.applyMatrix4(e)
        }
        this.boundingBox instanceof THREE.Box3 && this.computeBoundingBox(), this.boundingSphere instanceof THREE.Sphere && this.computeBoundingSphere()
    }, computeCentroids: function () {
        var e, t, n;
        for (e = 0, t = this.faces.length; t > e; e++)n = this.faces[e], n.centroid.set(0, 0, 0), n.centroid.add(this.vertices[n.a]), n.centroid.add(this.vertices[n.b]), n.centroid.add(this.vertices[n.c]), n.centroid.divideScalar(3)
    }, computeFaceNormals: function () {
        for (var e = new THREE.Vector3, t = new THREE.Vector3, n = 0, r = this.faces.length; r > n; n++) {
            var i = this.faces[n], a = this.vertices[i.a], o = this.vertices[i.b], s = this.vertices[i.c];
            e.subVectors(s, o), t.subVectors(a, o), e.cross(t), e.normalize(), i.normal.copy(e)
        }
    }, computeVertexNormals: function (e) {
        var t, n, r, i, a, o;
        for (o = new Array(this.vertices.length), t = 0, n = this.vertices.length; n > t; t++)o[t] = new THREE.Vector3;
        if (e) {
            {
                var s, l, u, h = new THREE.Vector3, c = new THREE.Vector3;
                new THREE.Vector3, new THREE.Vector3, new THREE.Vector3
            }
            for (r = 0, i = this.faces.length; i > r; r++)a = this.faces[r], s = this.vertices[a.a], l = this.vertices[a.b], u = this.vertices[a.c], h.subVectors(u, l), c.subVectors(s, l), h.cross(c), o[a.a].add(h), o[a.b].add(h), o[a.c].add(h)
        } else for (r = 0, i = this.faces.length; i > r; r++)a = this.faces[r], o[a.a].add(a.normal), o[a.b].add(a.normal), o[a.c].add(a.normal);
        for (t = 0, n = this.vertices.length; n > t; t++)o[t].normalize();
        for (r = 0, i = this.faces.length; i > r; r++)a = this.faces[r], a.vertexNormals[0] = o[a.a].clone(), a.vertexNormals[1] = o[a.b].clone(), a.vertexNormals[2] = o[a.c].clone()
    }, computeMorphNormals: function () {
        var e, t, n, r, i;
        for (n = 0, r = this.faces.length; r > n; n++)for (i = this.faces[n], i.__originalFaceNormal ? i.__originalFaceNormal.copy(i.normal) : i.__originalFaceNormal = i.normal.clone(), i.__originalVertexNormals || (i.__originalVertexNormals = []), e = 0, t = i.vertexNormals.length; t > e; e++)i.__originalVertexNormals[e] ? i.__originalVertexNormals[e].copy(i.vertexNormals[e]) : i.__originalVertexNormals[e] = i.vertexNormals[e].clone();
        var a = new THREE.Geometry;
        for (a.faces = this.faces, e = 0, t = this.morphTargets.length; t > e; e++) {
            if (!this.morphNormals[e]) {
                this.morphNormals[e] = {}, this.morphNormals[e].faceNormals = [], this.morphNormals[e].vertexNormals = [];
                var o, s, l = this.morphNormals[e].faceNormals, u = this.morphNormals[e].vertexNormals;
                for (n = 0, r = this.faces.length; r > n; n++)i = this.faces[n], o = new THREE.Vector3, s = {
                    a: new THREE.Vector3,
                    b: new THREE.Vector3,
                    c: new THREE.Vector3
                }, l.push(o), u.push(s)
            }
            var h = this.morphNormals[e];
            a.vertices = this.morphTargets[e].vertices, a.computeFaceNormals(), a.computeVertexNormals();
            var o, s;
            for (n = 0, r = this.faces.length; r > n; n++)i = this.faces[n], o = h.faceNormals[n], s = h.vertexNormals[n], o.copy(i.normal), s.a.copy(i.vertexNormals[0]), s.b.copy(i.vertexNormals[1]), s.c.copy(i.vertexNormals[2])
        }
        for (n = 0, r = this.faces.length; r > n; n++)i = this.faces[n], i.normal = i.__originalFaceNormal, i.vertexNormals = i.__originalVertexNormals
    }, computeTangents: function () {
        function e(e, t, n, r, i, a, o) {
            u = e.vertices[t], h = e.vertices[n], c = e.vertices[r], A = l[i], f = l[a], d = l[o], p = h.x - u.x, m = c.x - u.x, g = h.y - u.y, v = c.y - u.y, y = h.z - u.z, E = c.z - u.z, b = f.x - A.x, x = d.x - A.x, w = f.y - A.y, T = d.y - A.y, C = 1 / (b * T - x * w), S.set((T * p - w * m) * C, (T * g - w * v) * C, (T * y - w * E) * C), D.set((b * m - x * p) * C, (b * v - x * g) * C, (b * E - x * y) * C), M[t].add(S), M[n].add(S), M[r].add(S), H[t].add(D), H[n].add(D), H[r].add(D)
        }

        var t, n, r, i, a, o, s, l, u, h, c, A, f, d, p, m, g, v, y, E, b, x, w, T, C, R, _, B, M = [], H = [], S = new THREE.Vector3, D = new THREE.Vector3, F = new THREE.Vector3, k = new THREE.Vector3, O = new THREE.Vector3;
        for (r = 0, i = this.vertices.length; i > r; r++)M[r] = new THREE.Vector3, H[r] = new THREE.Vector3;
        for (t = 0, n = this.faces.length; n > t; t++)s = this.faces[t], l = this.faceVertexUvs[0][t], e(this, s.a, s.b, s.c, 0, 1, 2);
        var P = ["a", "b", "c", "d"];
        for (t = 0, n = this.faces.length; n > t; t++)for (s = this.faces[t], a = 0; a < Math.min(s.vertexNormals.length, 3); a++)O.copy(s.vertexNormals[a]), o = s[P[a]], R = M[o], F.copy(R), F.sub(O.multiplyScalar(O.dot(R))).normalize(), k.crossVectors(s.vertexNormals[a], R), _ = k.dot(H[o]), B = 0 > _ ? -1 : 1, s.vertexTangents[a] = new THREE.Vector4(F.x, F.y, F.z, B);
        this.hasTangents = !0
    }, computeLineDistances: function () {
        for (var e = 0, t = this.vertices, n = 0, r = t.length; r > n; n++)n > 0 && (e += t[n].distanceTo(t[n - 1])), this.lineDistances[n] = e
    }, computeBoundingBox: function () {
        null === this.boundingBox && (this.boundingBox = new THREE.Box3), this.boundingBox.setFromPoints(this.vertices)
    }, computeBoundingSphere: function () {
        null === this.boundingSphere && (this.boundingSphere = new THREE.Sphere), this.boundingSphere.setFromPoints(this.vertices)
    }, mergeVertices: function () {
        var e, t, n, r, i, a, o, s, l = {}, u = [], h = [], c = 4, A = Math.pow(10, c);
        for (n = 0, r = this.vertices.length; r > n; n++)e = this.vertices[n], t = Math.round(e.x * A) + "_" + Math.round(e.y * A) + "_" + Math.round(e.z * A), void 0 === l[t] ? (l[t] = n, u.push(this.vertices[n]), h[n] = u.length - 1) : h[n] = h[l[t]];
        var f = [];
        for (n = 0, r = this.faces.length; r > n; n++) {
            i = this.faces[n], i.a = h[i.a], i.b = h[i.b], i.c = h[i.c], a = [i.a, i.b, i.c];
            for (var d = -1, p = 0; 3 > p; p++)if (a[p] == a[(p + 1) % 3]) {
                d = p, f.push(n);
                break
            }
        }
        for (n = f.length - 1; n >= 0; n--) {
            var m = f[n];
            for (this.faces.splice(m, 1), o = 0, s = this.faceVertexUvs.length; s > o; o++)this.faceVertexUvs[o].splice(m, 1)
        }
        var g = this.vertices.length - u.length;
        return this.vertices = u, g
    }, makeGroups: function () {
        var e = 0;
        return function (t) {
            var n, r, i, a, o, s = {}, l = this.morphTargets.length, u = this.morphNormals.length;
            for (this.geometryGroups = {}, n = 0, r = this.faces.length; r > n; n++)i = this.faces[n], a = t ? i.materialIndex : 0, a in s || (s[a] = {
                hash: a,
                counter: 0
            }), o = s[a].hash + "_" + s[a].counter, o in this.geometryGroups || (this.geometryGroups[o] = {
                faces3: [],
                materialIndex: a,
                vertices: 0,
                numMorphTargets: l,
                numMorphNormals: u
            }), this.geometryGroups[o].vertices + 3 > 65535 && (s[a].counter += 1, o = s[a].hash + "_" + s[a].counter, o in this.geometryGroups || (this.geometryGroups[o] = {
                faces3: [],
                materialIndex: a,
                vertices: 0,
                numMorphTargets: l,
                numMorphNormals: u
            })), this.geometryGroups[o].faces3.push(n), this.geometryGroups[o].vertices += 3;
            this.geometryGroupsList = [];
            for (var h in this.geometryGroups)this.geometryGroups[h].id = e++, this.geometryGroupsList.push(this.geometryGroups[h])
        }
    }(), clone: function () {
        for (var e = new THREE.Geometry, t = this.vertices, n = 0, r = t.length; r > n; n++)e.vertices.push(t[n].clone());
        for (var i = this.faces, n = 0, r = i.length; r > n; n++)e.faces.push(i[n].clone());
        for (var a = this.faceVertexUvs[0], n = 0, r = a.length; r > n; n++) {
            for (var o = a[n], s = [], l = 0, u = o.length; u > l; l++)s.push(new THREE.Vector2(o[l].x, o[l].y));
            e.faceVertexUvs[0].push(s)
        }
        return e
    }, dispose: function () {
        this.dispatchEvent({type: "dispose"})
    }
},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount = 0,THREE.Geometry2 = function (e) {
    THREE.BufferGeometry.call(this), this.vertices = this.addAttribute("position", Float32Array, e, 3).array, this.normals = this.addAttribute("normal", Float32Array, e, 3).array, this.uvs = this.addAttribute("uv", Float32Array, e, 2).array, this.boundingBox = null, this.boundingSphere = null
},THREE.Geometry2.prototype = Object.create(THREE.BufferGeometry.prototype),THREE.Camera = function () {
    THREE.Object3D.call(this), this.matrixWorldInverse = new THREE.Matrix4, this.projectionMatrix = new THREE.Matrix4
},THREE.Camera.prototype = Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.lookAt = function () {
    var e = new THREE.Matrix4;
    return function (t) {
        e.lookAt(this.position, t, this.up), this.quaternion.setFromRotationMatrix(e)
    }
}(),THREE.Camera.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.Camera), THREE.Object3D.prototype.clone.call(this, e), e.matrixWorldInverse.copy(this.matrixWorldInverse), e.projectionMatrix.copy(this.projectionMatrix), e
},THREE.OrthographicCamera = function (e, t, n, r, i, a) {
    THREE.Camera.call(this), this.left = e, this.right = t, this.top = n, this.bottom = r, this.near = void 0 !== i ? i : .1, this.far = void 0 !== a ? a : 2e3, this.updateProjectionMatrix()
},THREE.OrthographicCamera.prototype = Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix = function () {
    this.projectionMatrix.makeOrthographic(this.left, this.right, this.top, this.bottom, this.near, this.far)
},THREE.OrthographicCamera.prototype.clone = function () {
    var e = new THREE.OrthographicCamera;
    return THREE.Camera.prototype.clone.call(this, e), e.left = this.left, e.right = this.right, e.top = this.top, e.bottom = this.bottom, e.near = this.near, e.far = this.far, e
},THREE.PerspectiveCamera = function (e, t, n, r) {
    THREE.Camera.call(this), this.fov = void 0 !== e ? e : 50, this.aspect = void 0 !== t ? t : 1, this.near = void 0 !== n ? n : .1, this.far = void 0 !== r ? r : 2e3, this.updateProjectionMatrix()
},THREE.PerspectiveCamera.prototype = Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens = function (e, t) {
    void 0 === t && (t = 24), this.fov = 2 * THREE.Math.radToDeg(Math.atan(t / (2 * e))), this.updateProjectionMatrix()
},THREE.PerspectiveCamera.prototype.setViewOffset = function (e, t, n, r, i, a) {
    this.fullWidth = e, this.fullHeight = t, this.x = n, this.y = r, this.width = i, this.height = a, this.updateProjectionMatrix()
},THREE.PerspectiveCamera.prototype.updateProjectionMatrix = function () {
    if (this.fullWidth) {
        var e = this.fullWidth / this.fullHeight, t = Math.tan(THREE.Math.degToRad(.5 * this.fov)) * this.near, n = -t, r = e * n, i = e * t, a = Math.abs(i - r), o = Math.abs(t - n);
        this.projectionMatrix.makeFrustum(r + this.x * a / this.fullWidth, r + (this.x + this.width) * a / this.fullWidth, t - (this.y + this.height) * o / this.fullHeight, t - this.y * o / this.fullHeight, this.near, this.far)
    } else this.projectionMatrix.makePerspective(this.fov, this.aspect, this.near, this.far)
},THREE.PerspectiveCamera.prototype.clone = function () {
    var e = new THREE.PerspectiveCamera;
    return THREE.Camera.prototype.clone.call(this, e), e.fov = this.fov, e.aspect = this.aspect, e.near = this.near, e.far = this.far, e
},THREE.Light = function (e) {
    THREE.Object3D.call(this), this.color = new THREE.Color(e)
},THREE.Light.prototype = Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.Light), THREE.Object3D.prototype.clone.call(this, e), e.color.copy(this.color), e
},THREE.AmbientLight = function (e) {
    THREE.Light.call(this, e)
},THREE.AmbientLight.prototype = Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone = function () {
    var e = new THREE.AmbientLight;
    return THREE.Light.prototype.clone.call(this, e), e
},THREE.AreaLight = function (e, t) {
    THREE.Light.call(this, e), this.normal = new THREE.Vector3(0, -1, 0), this.right = new THREE.Vector3(1, 0, 0), this.intensity = void 0 !== t ? t : 1, this.width = 1, this.height = 1, this.constantAttenuation = 1.5, this.linearAttenuation = .5, this.quadraticAttenuation = .1
},THREE.AreaLight.prototype = Object.create(THREE.Light.prototype),THREE.DirectionalLight = function (e, t) {
    THREE.Light.call(this, e), this.position.set(0, 1, 0), this.target = new THREE.Object3D, this.intensity = void 0 !== t ? t : 1, this.castShadow = !1, this.onlyShadow = !1, this.shadowCameraNear = 50, this.shadowCameraFar = 5e3, this.shadowCameraLeft = -500, this.shadowCameraRight = 500, this.shadowCameraTop = 500, this.shadowCameraBottom = -500, this.shadowCameraVisible = !1, this.shadowBias = 0, this.shadowDarkness = .5, this.shadowMapWidth = 512, this.shadowMapHeight = 512, this.shadowCascade = !1, this.shadowCascadeOffset = new THREE.Vector3(0, 0, -1e3), this.shadowCascadeCount = 2, this.shadowCascadeBias = [0, 0, 0], this.shadowCascadeWidth = [512, 512, 512], this.shadowCascadeHeight = [512, 512, 512], this.shadowCascadeNearZ = [-1, .99, .998], this.shadowCascadeFarZ = [.99, .998, 1], this.shadowCascadeArray = [], this.shadowMap = null, this.shadowMapSize = null, this.shadowCamera = null, this.shadowMatrix = null
},THREE.DirectionalLight.prototype = Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone = function () {
    var e = new THREE.DirectionalLight;
    return THREE.Light.prototype.clone.call(this, e), e.target = this.target.clone(), e.intensity = this.intensity, e.castShadow = this.castShadow, e.onlyShadow = this.onlyShadow, e
},THREE.HemisphereLight = function (e, t, n) {
    THREE.Light.call(this, e), this.position.set(0, 100, 0), this.groundColor = new THREE.Color(t), this.intensity = void 0 !== n ? n : 1
},THREE.HemisphereLight.prototype = Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone = function () {
    var e = new THREE.HemisphereLight;
    return THREE.Light.prototype.clone.call(this, e), e.groundColor.copy(this.groundColor), e.intensity = this.intensity, e
},THREE.PointLight = function (e, t, n) {
    THREE.Light.call(this, e), this.intensity = void 0 !== t ? t : 1, this.distance = void 0 !== n ? n : 0
},THREE.PointLight.prototype = Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone = function () {
    var e = new THREE.PointLight;
    return THREE.Light.prototype.clone.call(this, e), e.intensity = this.intensity, e.distance = this.distance, e
},THREE.SpotLight = function (e, t, n, r, i) {
    THREE.Light.call(this, e), this.position.set(0, 1, 0), this.target = new THREE.Object3D, this.intensity = void 0 !== t ? t : 1, this.distance = void 0 !== n ? n : 0, this.angle = void 0 !== r ? r : Math.PI / 3, this.exponent = void 0 !== i ? i : 10, this.castShadow = !1, this.onlyShadow = !1, this.shadowCameraNear = 50, this.shadowCameraFar = 5e3, this.shadowCameraFov = 50, this.shadowCameraVisible = !1, this.shadowBias = 0, this.shadowDarkness = .5, this.shadowMapWidth = 512, this.shadowMapHeight = 512, this.shadowMap = null, this.shadowMapSize = null, this.shadowCamera = null, this.shadowMatrix = null
},THREE.SpotLight.prototype = Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone = function () {
    var e = new THREE.SpotLight;
    return THREE.Light.prototype.clone.call(this, e), e.target = this.target.clone(), e.intensity = this.intensity, e.distance = this.distance, e.angle = this.angle, e.exponent = this.exponent, e.castShadow = this.castShadow, e.onlyShadow = this.onlyShadow, e
},THREE.Loader = function (e) {
    this.showStatus = e, this.statusDomElement = e ? THREE.Loader.prototype.addStatusElement() : null, this.onLoadStart = function () {
    }, this.onLoadProgress = function () {
    }, this.onLoadComplete = function () {
    }
},THREE.Loader.prototype = {
    constructor: THREE.Loader, crossOrigin: void 0, addStatusElement: function () {
        var e = document.createElement("div");
        return e.style.position = "absolute", e.style.right = "0px", e.style.top = "0px", e.style.fontSize = "0.8em", e.style.textAlign = "left", e.style.background = "rgba(0,0,0,0.25)", e.style.color = "#fff", e.style.width = "120px", e.style.padding = "0.5em 0.5em 0.5em 0.5em", e.style.zIndex = 1e3, e.innerHTML = "Loading ...", e
    }, updateProgress: function (e) {
        var t = "Loaded ";
        t += e.total ? (100 * e.loaded / e.total).toFixed(0) + "%" : (e.loaded / 1e3).toFixed(2) + " KB", this.statusDomElement.innerHTML = t
    }, extractUrlBase: function (e) {
        var t = e.split("/");
        return 1 === t.length ? "./" : (t.pop(), t.join("/") + "/")
    }, initMaterials: function (e, t) {
        for (var n = [], r = 0; r < e.length; ++r)n[r] = THREE.Loader.prototype.createMaterial(e[r], t);
        return n
    }, needsTangents: function (e) {
        for (var t = 0, n = e.length; n > t; t++) {
            var r = e[t];
            if (r instanceof THREE.ShaderMaterial)return !0
        }
        return !1
    }, createMaterial: function (e, t) {
        function n(e) {
            var t = Math.log(e) / Math.LN2;
            return Math.floor(t) == t
        }

        function r(e) {
            var t = Math.log(e) / Math.LN2;
            return Math.pow(2, Math.round(t))
        }

        function i(e, t) {
            var i = new Image;
            i.onload = function () {
                if (n(this.width) && n(this.height))e.image = this; else {
                    var t = r(this.width), i = r(this.height);
                    e.image.width = t, e.image.height = i, e.image.getContext("2d").drawImage(this, 0, 0, t, i)
                }
                e.needsUpdate = !0
            }, void 0 !== s.crossOrigin && (i.crossOrigin = s.crossOrigin), i.src = t
        }

        function a(e, n, r, a, o, s, l) {
            var u = /\.dds$/i.test(r), h = t + r;
            if (u) {
                var c = THREE.ImageUtils.loadCompressedTexture(h);
                e[n] = c
            } else {
                var c = document.createElement("canvas");
                e[n] = new THREE.Texture(c)
            }
            if (e[n].sourceFile = r, a && (e[n].repeat.set(a[0], a[1]), 1 !== a[0] && (e[n].wrapS = THREE.RepeatWrapping), 1 !== a[1] && (e[n].wrapT = THREE.RepeatWrapping)), o && e[n].offset.set(o[0], o[1]), s) {
                var A = {repeat: THREE.RepeatWrapping, mirror: THREE.MirroredRepeatWrapping};
                void 0 !== A[s[0]] && (e[n].wrapS = A[s[0]]), void 0 !== A[s[1]] && (e[n].wrapT = A[s[1]])
            }
            l && (e[n].anisotropy = l), u || i(e[n], h)
        }

        function o(e) {
            return (255 * e[0] << 16) + (255 * e[1] << 8) + 255 * e[2]
        }

        var s = this, l = "MeshLambertMaterial", u = {
            color: 15658734,
            opacity: 1,
            map: null,
            lightMap: null,
            normalMap: null,
            bumpMap: null,
            wireframe: !1
        };
        if (e.shading) {
            var h = e.shading.toLowerCase();
            "phong" === h ? l = "MeshPhongMaterial" : "basic" === h && (l = "MeshBasicMaterial")
        }
        if (void 0 !== e.blending && void 0 !== THREE[e.blending] && (u.blending = THREE[e.blending]), (void 0 !== e.transparent || e.opacity < 1) && (u.transparent = e.transparent), void 0 !== e.depthTest && (u.depthTest = e.depthTest), void 0 !== e.depthWrite && (u.depthWrite = e.depthWrite), void 0 !== e.visible && (u.visible = e.visible), void 0 !== e.flipSided && (u.side = THREE.BackSide), void 0 !== e.doubleSided && (u.side = THREE.DoubleSide), void 0 !== e.wireframe && (u.wireframe = e.wireframe), void 0 !== e.vertexColors && ("face" === e.vertexColors ? u.vertexColors = THREE.FaceColors : e.vertexColors && (u.vertexColors = THREE.VertexColors)), e.colorDiffuse ? u.color = o(e.colorDiffuse) : e.DbgColor && (u.color = e.DbgColor), e.colorSpecular && (u.specular = o(e.colorSpecular)), e.colorAmbient && (u.ambient = o(e.colorAmbient)), e.transparency && (u.opacity = e.transparency), e.specularCoef && (u.shininess = e.specularCoef), e.mapDiffuse && t && a(u, "map", e.mapDiffuse, e.mapDiffuseRepeat, e.mapDiffuseOffset, e.mapDiffuseWrap, e.mapDiffuseAnisotropy), e.mapLight && t && a(u, "lightMap", e.mapLight, e.mapLightRepeat, e.mapLightOffset, e.mapLightWrap, e.mapLightAnisotropy), e.mapBump && t && a(u, "bumpMap", e.mapBump, e.mapBumpRepeat, e.mapBumpOffset, e.mapBumpWrap, e.mapBumpAnisotropy), e.mapNormal && t && a(u, "normalMap", e.mapNormal, e.mapNormalRepeat, e.mapNormalOffset, e.mapNormalWrap, e.mapNormalAnisotropy), e.mapSpecular && t && a(u, "specularMap", e.mapSpecular, e.mapSpecularRepeat, e.mapSpecularOffset, e.mapSpecularWrap, e.mapSpecularAnisotropy), e.mapBumpScale && (u.bumpScale = e.mapBumpScale), e.mapNormal) {
            var c = THREE.ShaderLib.normalmap, A = THREE.UniformsUtils.clone(c.uniforms);
            A.tNormal.value = u.normalMap, e.mapNormalFactor && A.uNormalScale.value.set(e.mapNormalFactor, e.mapNormalFactor), u.map && (A.tDiffuse.value = u.map, A.enableDiffuse.value = !0), u.specularMap && (A.tSpecular.value = u.specularMap, A.enableSpecular.value = !0), u.lightMap && (A.tAO.value = u.lightMap, A.enableAO.value = !0), A.diffuse.value.setHex(u.color), A.specular.value.setHex(u.specular), A.ambient.value.setHex(u.ambient), A.shininess.value = u.shininess, void 0 !== u.opacity && (A.opacity.value = u.opacity);
            var f = {
                fragmentShader: c.fragmentShader,
                vertexShader: c.vertexShader,
                uniforms: A,
                lights: !0,
                fog: !0
            }, d = new THREE.ShaderMaterial(f);
            u.transparent && (d.transparent = !0)
        } else var d = new THREE[l](u);
        return void 0 !== e.DbgName && (d.name = e.DbgName), d
    }
},THREE.XHRLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.XHRLoader.prototype = {
    constructor: THREE.XHRLoader, load: function (e, t, n, r) {
        var i = this, a = new XMLHttpRequest;
        void 0 !== t && a.addEventListener("load", function (n) {
            t(n.target.responseText), i.manager.itemEnd(e)
        }, !1), void 0 !== n && a.addEventListener("progress", function (e) {
            n(e)
        }, !1), void 0 !== r && a.addEventListener("error", function (e) {
            r(e)
        }, !1), void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin), a.open("GET", e, !0), a.send(null), i.manager.itemStart(e)
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }
},THREE.ImageLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.ImageLoader.prototype = {
    constructor: THREE.ImageLoader, load: function (e, t, n, r) {
        var i = this, a = document.createElement("img");
        return void 0 !== t && a.addEventListener("load", function () {
            i.manager.itemEnd(e), t(this)
        }, !1), void 0 !== n && a.addEventListener("progress", function (e) {
            n(e)
        }, !1), void 0 !== r && a.addEventListener("error", function (e) {
            r(e)
        }, !1), void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin), a.src = e, i.manager.itemStart(e), a
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }
},THREE.JSONLoader = function (e) {
    THREE.Loader.call(this, e), this.withCredentials = !1
},THREE.JSONLoader.prototype = Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load = function (e, t, n) {
    n = n && "string" == typeof n ? n : this.extractUrlBase(e), this.onLoadStart(), this.loadAjaxJSON(this, e, t, n)
},THREE.JSONLoader.prototype.loadAjaxJSON = function (e, t, n, r, i) {
    var a = new XMLHttpRequest, o = 0;
    a.onreadystatechange = function () {
        if (a.readyState === a.DONE)if (200 === a.status || 0 === a.status) {
            if (a.responseText) {
                var s = JSON.parse(a.responseText);
                if ("scene" === s.metadata.type)return void console.error('THREE.JSONLoader: "' + t + '" seems to be a Scene. Use THREE.SceneLoader instead.');
                var l = e.parse(s, r);
                n(l.geometry, l.materials)
            } else console.error('THREE.JSONLoader: "' + t + '" seems to be unreachable or the file is empty.');
            e.onLoadComplete()
        } else console.error("THREE.JSONLoader: Couldn't load \"" + t + '" (' + a.status + ")"); else a.readyState === a.LOADING ? i && (0 === o && (o = a.getResponseHeader("Content-Length")), i({
            total: o,
            loaded: a.responseText.length
        })) : a.readyState === a.HEADERS_RECEIVED && void 0 !== i && (o = a.getResponseHeader("Content-Length"))
    }, a.open("GET", t, !0), a.withCredentials = this.withCredentials, a.send(null)
},THREE.JSONLoader.prototype.parse = function (e, t) {
    function n(t) {
        function n(e, t) {
            return e & 1 << t
        }

        var r, i, o, s, l, u, h, c, A, f, d, p, m, g, v, y, E, b, x, w, T, C, R, _, B, M, H, S = e.faces, D = e.vertices, F = e.normals, k = e.colors, O = 0;
        if (void 0 !== e.uvs) {
            for (r = 0; r < e.uvs.length; r++)e.uvs[r].length && O++;
            for (r = 0; O > r; r++)a.faceVertexUvs[r] = []
        }
        for (s = 0, l = D.length; l > s;)b = new THREE.Vector3, b.x = D[s++] * t, b.y = D[s++] * t, b.z = D[s++] * t, a.vertices.push(b);
        for (s = 0, l = S.length; l > s;)if (f = S[s++], d = n(f, 0), p = n(f, 1), m = n(f, 3), g = n(f, 4), v = n(f, 5), y = n(f, 6), E = n(f, 7), d) {
            if (w = new THREE.Face3, w.a = S[s], w.b = S[s + 1], w.c = S[s + 3], T = new THREE.Face3, T.a = S[s + 1], T.b = S[s + 2], T.c = S[s + 3], s += 4, p && (A = S[s++], w.materialIndex = A, T.materialIndex = A), o = a.faces.length, m)for (r = 0; O > r; r++)for (_ = e.uvs[r], a.faceVertexUvs[r][o] = [], a.faceVertexUvs[r][o + 1] = [], i = 0; 4 > i; i++)c = S[s++], M = _[2 * c], H = _[2 * c + 1], B = new THREE.Vector2(M, H), 2 !== i && a.faceVertexUvs[r][o].push(B), 0 !== i && a.faceVertexUvs[r][o + 1].push(B);
            if (g && (h = 3 * S[s++], w.normal.set(F[h++], F[h++], F[h]), T.normal.copy(w.normal)), v)for (r = 0; 4 > r; r++)h = 3 * S[s++], R = new THREE.Vector3(F[h++], F[h++], F[h]), 2 !== r && w.vertexNormals.push(R), 0 !== r && T.vertexNormals.push(R);
            if (y && (u = S[s++], C = k[u], w.color.setHex(C), T.color.setHex(C)), E)for (r = 0; 4 > r; r++)u = S[s++], C = k[u], 2 !== r && w.vertexColors.push(new THREE.Color(C)), 0 !== r && T.vertexColors.push(new THREE.Color(C));
            a.faces.push(w), a.faces.push(T)
        } else {
            if (x = new THREE.Face3, x.a = S[s++], x.b = S[s++], x.c = S[s++], p && (A = S[s++], x.materialIndex = A), o = a.faces.length, m)for (r = 0; O > r; r++)for (_ = e.uvs[r], a.faceVertexUvs[r][o] = [], i = 0; 3 > i; i++)c = S[s++], M = _[2 * c], H = _[2 * c + 1], B = new THREE.Vector2(M, H), a.faceVertexUvs[r][o].push(B);
            if (g && (h = 3 * S[s++], x.normal.set(F[h++], F[h++], F[h])), v)for (r = 0; 3 > r; r++)h = 3 * S[s++], R = new THREE.Vector3(F[h++], F[h++], F[h]), x.vertexNormals.push(R);
            if (y && (u = S[s++], x.color.setHex(k[u])), E)for (r = 0; 3 > r; r++)u = S[s++], x.vertexColors.push(new THREE.Color(k[u]));
            a.faces.push(x)
        }
    }

    function r() {
        if (e.skinWeights)for (var t = 0, n = e.skinWeights.length; n > t; t += 2) {
            var r = e.skinWeights[t], i = e.skinWeights[t + 1], o = 0, s = 0;
            a.skinWeights.push(new THREE.Vector4(r, i, o, s))
        }
        if (e.skinIndices)for (var t = 0, n = e.skinIndices.length; n > t; t += 2) {
            var l = e.skinIndices[t], u = e.skinIndices[t + 1], h = 0, c = 0;
            a.skinIndices.push(new THREE.Vector4(l, u, h, c))
        }
        a.bones = e.bones, a.bones && a.bones.length > 0 && (a.skinWeights.length !== a.skinIndices.length || a.skinIndices.length !== a.vertices.length) && console.warn("When skinning, number of vertices (" + a.vertices.length + "), skinIndices (" + a.skinIndices.length + "), and skinWeights (" + a.skinWeights.length + ") should match."), a.animation = e.animation, a.animations = e.animations
    }

    function i(t) {
        if (void 0 !== e.morphTargets) {
            var n, r, i, o, s, l;
            for (n = 0, r = e.morphTargets.length; r > n; n++)for (a.morphTargets[n] = {}, a.morphTargets[n].name = e.morphTargets[n].name, a.morphTargets[n].vertices = [], s = a.morphTargets[n].vertices, l = e.morphTargets[n].vertices, i = 0, o = l.length; o > i; i += 3) {
                var u = new THREE.Vector3;
                u.x = l[i] * t, u.y = l[i + 1] * t, u.z = l[i + 2] * t, s.push(u)
            }
        }
        if (void 0 !== e.morphColors) {
            var n, r, h, c, A, f, d;
            for (n = 0, r = e.morphColors.length; r > n; n++)for (a.morphColors[n] = {}, a.morphColors[n].name = e.morphColors[n].name, a.morphColors[n].colors = [], A = a.morphColors[n].colors, f = e.morphColors[n].colors, h = 0, c = f.length; c > h; h += 3)d = new THREE.Color(16755200), d.setRGB(f[h], f[h + 1], f[h + 2]), A.push(d)
        }
    }

    var a = new THREE.Geometry, o = void 0 !== e.scale ? 1 / e.scale : 1;
    if (n(o), r(), i(o), a.computeCentroids(), a.computeFaceNormals(), a.computeBoundingSphere(), void 0 === e.materials)return {geometry: a};
    var s = this.initMaterials(e.materials, t);
    return this.needsTangents(s) && a.computeTangents(), {geometry: a, materials: s}
},THREE.LoadingManager = function (e, t, n) {
    var r = this, i = 0, a = 0;
    this.onLoad = e, this.onProgress = t, this.onError = n, this.itemStart = function () {
        a++
    }, this.itemEnd = function (e) {
        i++, void 0 !== r.onProgress && r.onProgress(e, i, a), i === a && void 0 !== r.onLoad && r.onLoad()
    }
},THREE.DefaultLoadingManager = new THREE.LoadingManager,THREE.BufferGeometryLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.BufferGeometryLoader.prototype = {
    constructor: THREE.BufferGeometryLoader, load: function (e, t) {
        var n = this, r = new THREE.XHRLoader;
        r.setCrossOrigin(this.crossOrigin), r.load(e, function (e) {
            t(n.parse(JSON.parse(e)))
        })
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }, parse: function (e) {
        var t = new THREE.BufferGeometry, n = e.attributes, r = e.offsets, i = e.boundingSphere;
        for (var a in n) {
            var o = n[a];
            t.attributes[a] = {itemSize: o.itemSize, array: new self[o.type](o.array)}
        }
        return void 0 !== r && (t.offsets = JSON.parse(JSON.stringify(r))), void 0 !== i && (t.boundingSphere = new THREE.Sphere((new THREE.Vector3).fromArray(void 0 !== i.center ? i.center : [0, 0, 0]), i.radius)), t
    }
},THREE.Geometry2Loader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.Geometry2Loader.prototype = {
    constructor: THREE.Geometry2Loader, load: function (e, t) {
        var n = this, r = new THREE.XHRLoader;
        r.setCrossOrigin(this.crossOrigin), r.load(e, function (e) {
            t(n.parse(JSON.parse(e)))
        })
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }, parse: function (e) {
        var t = new THREE.Geometry2(e.vertices.length / 3), n = ["vertices", "normals", "uvs"], r = e.boundingSphere;
        for (var i in n) {
            var a = n[i];
            t[a].set(e[a])
        }
        return void 0 !== r && (t.boundingSphere = new THREE.Sphere((new THREE.Vector3).fromArray(void 0 !== r.center ? r.center : [0, 0, 0]), r.radius)), t
    }
},THREE.MaterialLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.MaterialLoader.prototype = {
    constructor: THREE.MaterialLoader, load: function (e, t) {
        var n = this, r = new THREE.XHRLoader;
        r.setCrossOrigin(this.crossOrigin), r.load(e, function (e) {
            t(n.parse(JSON.parse(e)))
        })
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }, parse: function (e) {
        var t = new THREE[e.type];
        if (void 0 !== e.color && t.color.setHex(e.color), void 0 !== e.ambient && t.ambient.setHex(e.ambient), void 0 !== e.emissive && t.emissive.setHex(e.emissive), void 0 !== e.specular && t.specular.setHex(e.specular), void 0 !== e.shininess && (t.shininess = e.shininess), void 0 !== e.vertexColors && (t.vertexColors = e.vertexColors), void 0 !== e.blending && (t.blending = e.blending), void 0 !== e.side && (t.side = e.side), void 0 !== e.opacity && (t.opacity = e.opacity), void 0 !== e.transparent && (t.transparent = e.transparent), void 0 !== e.wireframe && (t.wireframe = e.wireframe), void 0 !== e.materials)for (var n = 0, r = e.materials.length; r > n; n++)t.materials.push(this.parse(e.materials[n]));
        return t
    }
},THREE.ObjectLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.ObjectLoader.prototype = {
    constructor: THREE.ObjectLoader, load: function (e, t) {
        var n = this, r = new THREE.XHRLoader(n.manager);
        r.setCrossOrigin(this.crossOrigin), r.load(e, function (e) {
            t(n.parse(JSON.parse(e)))
        })
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }, parse: function (e) {
        var t = this.parseGeometries(e.geometries), n = this.parseMaterials(e.materials), r = this.parseObject(e.object, t, n);
        return r
    }, parseGeometries: function (e) {
        var t = {};
        if (void 0 !== e)for (var n = new THREE.JSONLoader, r = new THREE.Geometry2Loader, i = new THREE.BufferGeometryLoader, a = 0, o = e.length; o > a; a++) {
            var s, l = e[a];
            switch (l.type) {
                case"PlaneGeometry":
                    s = new THREE.PlaneGeometry(l.width, l.height, l.widthSegments, l.heightSegments);
                    break;
                case"BoxGeometry":
                case"CubeGeometry":
                    s = new THREE.BoxGeometry(l.width, l.height, l.depth, l.widthSegments, l.heightSegments, l.depthSegments);
                    break;
                case"CircleGeometry":
                    s = new THREE.CircleGeometry(l.radius, l.segments);
                    break;
                case"CylinderGeometry":
                    s = new THREE.CylinderGeometry(l.radiusTop, l.radiusBottom, l.height, l.radialSegments, l.heightSegments, l.openEnded);
                    break;
                case"SphereGeometry":
                    s = new THREE.SphereGeometry(l.radius, l.widthSegments, l.heightSegments, l.phiStart, l.phiLength, l.thetaStart, l.thetaLength);
                    break;
                case"IcosahedronGeometry":
                    s = new THREE.IcosahedronGeometry(l.radius, l.detail);
                    break;
                case"TorusGeometry":
                    s = new THREE.TorusGeometry(l.radius, l.tube, l.radialSegments, l.tubularSegments, l.arc);
                    break;
                case"TorusKnotGeometry":
                    s = new THREE.TorusKnotGeometry(l.radius, l.tube, l.radialSegments, l.tubularSegments, l.p, l.q, l.heightScale);
                    break;
                case"BufferGeometry":
                    s = i.parse(l.data);
                    break;
                case"Geometry2":
                    s = r.parse(l.data);
                    break;
                case"Geometry":
                    s = n.parse(l.data).geometry
            }
            s.uuid = l.uuid, void 0 !== l.name && (s.name = l.name), t[l.uuid] = s
        }
        return t
    }, parseMaterials: function (e) {
        var t = {};
        if (void 0 !== e)for (var n = new THREE.MaterialLoader, r = 0, i = e.length; i > r; r++) {
            var a = e[r], o = n.parse(a);
            o.uuid = a.uuid, void 0 !== a.name && (o.name = a.name), t[a.uuid] = o
        }
        return t
    }, parseObject: function () {
        var e = new THREE.Matrix4;
        return function (t, n, r) {
            var i;
            switch (t.type) {
                case"Scene":
                    i = new THREE.Scene;
                    break;
                case"PerspectiveCamera":
                    i = new THREE.PerspectiveCamera(t.fov, t.aspect, t.near, t.far);
                    break;
                case"OrthographicCamera":
                    i = new THREE.OrthographicCamera(t.left, t.right, t.top, t.bottom, t.near, t.far);
                    break;
                case"AmbientLight":
                    i = new THREE.AmbientLight(t.color);
                    break;
                case"DirectionalLight":
                    i = new THREE.DirectionalLight(t.color, t.intensity);
                    break;
                case"PointLight":
                    i = new THREE.PointLight(t.color, t.intensity, t.distance);
                    break;
                case"SpotLight":
                    i = new THREE.SpotLight(t.color, t.intensity, t.distance, t.angle, t.exponent);
                    break;
                case"HemisphereLight":
                    i = new THREE.HemisphereLight(t.color, t.groundColor, t.intensity);
                    break;
                case"Mesh":
                    var a = n[t.geometry], o = r[t.material];
                    void 0 === a && console.error("THREE.ObjectLoader: Undefined geometry " + t.geometry), void 0 === o && console.error("THREE.ObjectLoader: Undefined material " + t.material), i = new THREE.Mesh(a, o);
                    break;
                case"Sprite":
                    var o = r[t.material];
                    void 0 === o && console.error("THREE.ObjectLoader: Undefined material " + t.material), i = new THREE.Sprite(o);
                    break;
                default:
                    i = new THREE.Object3D
            }
            if (i.uuid = t.uuid, void 0 !== t.name && (i.name = t.name), void 0 !== t.matrix ? (e.fromArray(t.matrix), e.decompose(i.position, i.quaternion, i.scale)) : (void 0 !== t.position && i.position.fromArray(t.position), void 0 !== t.rotation && i.rotation.fromArray(t.rotation), void 0 !== t.scale && i.scale.fromArray(t.scale)), void 0 !== t.visible && (i.visible = t.visible), void 0 !== t.userData && (i.userData = t.userData), void 0 !== t.children)for (var s in t.children)i.add(this.parseObject(t.children[s], n, r));
            return i
        }
    }()
},THREE.SceneLoader = function () {
    this.onLoadStart = function () {
    }, this.onLoadProgress = function () {
    }, this.onLoadComplete = function () {
    }, this.callbackSync = function () {
    }, this.callbackProgress = function () {
    }, this.geometryHandlers = {}, this.hierarchyHandlers = {}, this.addGeometryHandler("ascii", THREE.JSONLoader)
},THREE.SceneLoader.prototype = {
    constructor: THREE.SceneLoader, load: function (e, t) {
        var n = this, r = new THREE.XHRLoader(n.manager);
        r.setCrossOrigin(this.crossOrigin), r.load(e, function (r) {
            n.parse(JSON.parse(r), t, e)
        })
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }, addGeometryHandler: function (e, t) {
        this.geometryHandlers[e] = {loaderClass: t}
    }, addHierarchyHandler: function (e, t) {
        this.hierarchyHandlers[e] = {loaderClass: t}
    }, parse: function (e, t, n) {
        function r(e, t) {
            return "relativeToHTML" == t ? e : _ + e
        }

        function i() {
            a(C.scene, M.objects)
        }

        function a(e, t) {
            var n, i, o, s, l;
            for (var h in t) {
                var c = C.objects[h], A = t[h];
                if (void 0 === c) {
                    if (A.type && A.type in R.hierarchyHandlers) {
                        if (void 0 === A.loading) {
                            var f = {
                                type: 1,
                                url: 1,
                                material: 1,
                                position: 1,
                                rotation: 1,
                                scale: 1,
                                visible: 1,
                                children: 1,
                                userData: 1,
                                skin: 1,
                                morph: 1,
                                mirroredLoop: 1,
                                duration: 1
                            }, g = {};
                            for (var v in A)v in f || (g[v] = A[v]);
                            p = C.materials[A.material], A.loading = !0;
                            var y = R.hierarchyHandlers[A.type].loaderObject;
                            y.options ? y.load(r(A.url, M.urlBaseType), u(h, e, p, A)) : y.load(r(A.url, M.urlBaseType), u(h, e, p, A), g)
                        }
                    } else if (void 0 !== A.geometry) {
                        if (d = C.geometries[A.geometry]) {
                            var b = !1;
                            if (p = C.materials[A.material], b = p instanceof THREE.ShaderMaterial, i = A.position, o = A.rotation, s = A.scale, n = A.matrix, l = A.quaternion, A.material || (p = new THREE.MeshFaceMaterial(C.face_materials[A.geometry])), p instanceof THREE.MeshFaceMaterial && 0 === p.materials.length && (p = new THREE.MeshFaceMaterial(C.face_materials[A.geometry])), p instanceof THREE.MeshFaceMaterial)for (var x = 0; x < p.materials.length; x++)b = b || p.materials[x] instanceof THREE.ShaderMaterial;
                            b && d.computeTangents(), A.skin ? c = new THREE.SkinnedMesh(d, p) : A.morph ? (c = new THREE.MorphAnimMesh(d, p), void 0 !== A.duration && (c.duration = A.duration), void 0 !== A.time && (c.time = A.time), void 0 !== A.mirroredLoop && (c.mirroredLoop = A.mirroredLoop), p.morphNormals && d.computeMorphNormals()) : c = new THREE.Mesh(d, p), c.name = h, n ? (c.matrixAutoUpdate = !1, c.matrix.set(n[0], n[1], n[2], n[3], n[4], n[5], n[6], n[7], n[8], n[9], n[10], n[11], n[12], n[13], n[14], n[15])) : (c.position.fromArray(i), l ? c.quaternion.fromArray(l) : c.rotation.fromArray(o), c.scale.fromArray(s)), c.visible = A.visible, c.castShadow = A.castShadow, c.receiveShadow = A.receiveShadow, e.add(c), C.objects[h] = c
                        }
                    } else if ("AmbientLight" === A.type || "PointLight" === A.type || "DirectionalLight" === A.type || "SpotLight" === A.type || "HemisphereLight" === A.type || "AreaLight" === A.type) {
                        var w = A.color, T = A.intensity, _ = A.distance, B = A.position, H = A.rotation;
                        switch (A.type) {
                            case"AmbientLight":
                                E = new THREE.AmbientLight(w);
                                break;
                            case"PointLight":
                                E = new THREE.PointLight(w, T, _), E.position.fromArray(B);
                                break;
                            case"DirectionalLight":
                                E = new THREE.DirectionalLight(w, T), E.position.fromArray(A.direction);
                                break;
                            case"SpotLight":
                                E = new THREE.SpotLight(w, T, _, 1), E.angle = A.angle, E.position.fromArray(B), E.target.set(B[0], B[1] - _, B[2]), E.target.applyEuler(new THREE.Euler(H[0], H[1], H[2], "XYZ"));
                                break;
                            case"HemisphereLight":
                                E = new THREE.DirectionalLight(w, T, _), E.target.set(B[0], B[1] - _, B[2]), E.target.applyEuler(new THREE.Euler(H[0], H[1], H[2], "XYZ"));
                                break;
                            case"AreaLight":
                                E = new THREE.AreaLight(w, T), E.position.fromArray(B), E.width = A.size, E.height = A.size_y
                        }
                        e.add(E), E.name = h, C.lights[h] = E, C.objects[h] = E
                    } else"PerspectiveCamera" === A.type || "OrthographicCamera" === A.type ? (i = A.position, o = A.rotation, l = A.quaternion, "PerspectiveCamera" === A.type ? m = new THREE.PerspectiveCamera(A.fov, A.aspect, A.near, A.far) : "OrthographicCamera" === A.type && (m = new THREE.OrthographicCamera(A.left, A.right, A.top, A.bottom, A.near, A.far)), m.name = h, m.position.fromArray(i), void 0 !== l ? m.quaternion.fromArray(l) : void 0 !== o && m.rotation.fromArray(o), e.add(m), C.cameras[h] = m, C.objects[h] = m) : (i = A.position, o = A.rotation, s = A.scale, l = A.quaternion, c = new THREE.Object3D, c.name = h, c.position.fromArray(i), l ? c.quaternion.fromArray(l) : c.rotation.fromArray(o), c.scale.fromArray(s), c.visible = void 0 !== A.visible ? A.visible : !1, e.add(c), C.objects[h] = c, C.empties[h] = c);
                    if (c) {
                        if (void 0 !== A.userData)for (var S in A.userData) {
                            var D = A.userData[S];
                            c.userData[S] = D
                        }
                        if (void 0 !== A.groups)for (var x = 0; x < A.groups.length; x++) {
                            var F = A.groups[x];
                            void 0 === C.groups[F] && (C.groups[F] = []), C.groups[F].push(h)
                        }
                    }
                }
                void 0 !== c && void 0 !== A.children && a(c, A.children)
            }
        }

        function o(e, t, n) {
            C.geometries[n] = e, C.face_materials[n] = t, i()
        }

        function s(e, t, n, r, a) {
            var o = a.position, s = a.rotation, l = a.quaternion, u = a.scale;
            e.position.fromArray(o), l ? e.quaternion.fromArray(l) : e.rotation.fromArray(s), e.scale.fromArray(u), r && e.traverse(function (e) {
                e.material = r
            });
            var h = void 0 !== a.visible ? a.visible : !0;
            e.traverse(function (e) {
                e.visible = h
            }), n.add(e), e.name = t, C.objects[t] = e, i()
        }

        function l(e) {
            return function (t, n) {
                t.name = e, o(t, n, e), b -= 1, R.onLoadComplete(), c()
            }
        }

        function u(e, t, n, r) {
            return function (i) {
                var a;
                a = i.content ? i.content : i.dae ? i.scene : i, s(a, e, t, n, r), b -= 1, R.onLoadComplete(), c()
            }
        }

        function h(e) {
            return function (t, n) {
                t.name = e, C.geometries[e] = t, C.face_materials[e] = n
            }
        }

        function c() {
            var e = {totalModels: w, totalTextures: T, loadedModels: w - b, loadedTextures: T - x};
            R.callbackProgress(e, C), R.onLoadProgress(), 0 === b && 0 === x && (A(), t(C))
        }

        function A() {
            for (var e = 0; e < B.length; e++) {
                var t = B[e], n = C.objects[t.targetName];
                n ? t.object.target = n : (t.object.target = new THREE.Object3D, C.scene.add(t.object.target)), t.object.target.userData.targetInverse = t.object
            }
        }

        function f(e, t) {
            if (t(e), void 0 !== e.children)for (var n in e.children)f(e.children[n], t)
        }

        var d, p, m, g, v, y, E, b, x, w, T, C, R = this, _ = THREE.Loader.prototype.extractUrlBase(n), B = [], M = e;
        for (var H in this.geometryHandlers) {
            var S = this.geometryHandlers[H].loaderClass;
            this.geometryHandlers[H].loaderObject = new S
        }
        for (var H in this.hierarchyHandlers) {
            var S = this.hierarchyHandlers[H].loaderClass;
            this.hierarchyHandlers[H].loaderObject = new S
        }
        if (b = 0, x = 0, C = {
                scene: new THREE.Scene,
                geometries: {},
                face_materials: {},
                materials: {},
                textures: {},
                objects: {},
                cameras: {},
                lights: {},
                fogs: {},
                empties: {},
                groups: {}
            }, M.transform) {
            var D = M.transform.position, F = M.transform.rotation, k = M.transform.scale;
            D && C.scene.position.fromArray(D), F && C.scene.rotation.fromArray(F), k && C.scene.scale.fromArray(k), (D || F || k) && (C.scene.updateMatrix(), C.scene.updateMatrixWorld())
        }
        var O, P, L = function (e) {
            x -= e, c(), R.onLoadComplete()
        }, z = function (e) {
            return function () {
                L(e)
            }
        };
        for (O in M.fogs)P = M.fogs[O], "linear" === P.type ? g = new THREE.Fog(0, P.near, P.far) : "exp2" === P.type && (g = new THREE.FogExp2(0, P.density)), y = P.color, g.color.setRGB(y[0], y[1], y[2]), C.fogs[O] = g;
        var I, G;
        for (I in M.geometries)G = M.geometries[I], G.type in this.geometryHandlers && (b += 1, R.onLoadStart());
        for (var N in M.objects)f(M.objects[N], function (e) {
            e.type && e.type in R.hierarchyHandlers && (b += 1, R.onLoadStart())
        });
        w = b;
        for (I in M.geometries)if (G = M.geometries[I], "cube" === G.type)d = new THREE.BoxGeometry(G.width, G.height, G.depth, G.widthSegments, G.heightSegments, G.depthSegments), d.name = I, C.geometries[I] = d; else if ("plane" === G.type)d = new THREE.PlaneGeometry(G.width, G.height, G.widthSegments, G.heightSegments), d.name = I, C.geometries[I] = d; else if ("sphere" === G.type)d = new THREE.SphereGeometry(G.radius, G.widthSegments, G.heightSegments), d.name = I, C.geometries[I] = d; else if ("cylinder" === G.type)d = new THREE.CylinderGeometry(G.topRad, G.botRad, G.height, G.radSegs, G.heightSegs), d.name = I, C.geometries[I] = d; else if ("torus" === G.type)d = new THREE.TorusGeometry(G.radius, G.tube, G.segmentsR, G.segmentsT), d.name = I, C.geometries[I] = d; else if ("icosahedron" === G.type)d = new THREE.IcosahedronGeometry(G.radius, G.subdivisions), d.name = I, C.geometries[I] = d; else if (G.type in this.geometryHandlers) {
            var V = {};
            for (var U in G)"type" !== U && "url" !== U && (V[U] = G[U]);
            var j = this.geometryHandlers[G.type].loaderObject;
            j.load(r(G.url, M.urlBaseType), l(I), V)
        } else if ("embedded" === G.type) {
            var Q = M.embeds[G.id], W = "";
            if (Q.metadata = M.metadata, Q) {
                var Y = this.geometryHandlers.ascii.loaderObject, q = Y.parse(Q, W);
                h(I)(q.geometry, q.materials)
            }
        }
        var X, Z;
        for (X in M.textures)if (Z = M.textures[X], Z.url instanceof Array) {
            x += Z.url.length;
            for (var K = 0; K < Z.url.length; K++)R.onLoadStart()
        } else x += 1, R.onLoadStart();
        T = x;
        for (X in M.textures) {
            if (Z = M.textures[X], void 0 !== Z.mapping && void 0 !== THREE[Z.mapping] && (Z.mapping = new THREE[Z.mapping]), Z.url instanceof Array) {
                for (var $ = Z.url.length, J = [], et = 0; $ > et; et++)J[et] = r(Z.url[et], M.urlBaseType);
                var tt = /\.dds$/i.test(J[0]);
                v = tt ? THREE.ImageUtils.loadCompressedTextureCube(J, Z.mapping, z($)) : THREE.ImageUtils.loadTextureCube(J, Z.mapping, z($))
            } else {
                var tt = /\.dds$/i.test(Z.url), nt = r(Z.url, M.urlBaseType), rt = z(1);
                if (v = tt ? THREE.ImageUtils.loadCompressedTexture(nt, Z.mapping, rt) : THREE.ImageUtils.loadTexture(nt, Z.mapping, rt), void 0 !== THREE[Z.minFilter] && (v.minFilter = THREE[Z.minFilter]), void 0 !== THREE[Z.magFilter] && (v.magFilter = THREE[Z.magFilter]), Z.anisotropy && (v.anisotropy = Z.anisotropy), Z.repeat && (v.repeat.set(Z.repeat[0], Z.repeat[1]), 1 !== Z.repeat[0] && (v.wrapS = THREE.RepeatWrapping), 1 !== Z.repeat[1] && (v.wrapT = THREE.RepeatWrapping)), Z.offset && v.offset.set(Z.offset[0], Z.offset[1]), Z.wrap) {
                    var it = {repeat: THREE.RepeatWrapping, mirror: THREE.MirroredRepeatWrapping};
                    void 0 !== it[Z.wrap[0]] && (v.wrapS = it[Z.wrap[0]]), void 0 !== it[Z.wrap[1]] && (v.wrapT = it[Z.wrap[1]])
                }
            }
            C.textures[X] = v
        }
        var at, ot, st;
        for (at in M.materials) {
            ot = M.materials[at];
            for (st in ot.parameters)if ("envMap" === st || "map" === st || "lightMap" === st || "bumpMap" === st)ot.parameters[st] = C.textures[ot.parameters[st]]; else if ("shading" === st)ot.parameters[st] = "flat" === ot.parameters[st] ? THREE.FlatShading : THREE.SmoothShading; else if ("side" === st)ot.parameters[st] = "double" == ot.parameters[st] ? THREE.DoubleSide : "back" == ot.parameters[st] ? THREE.BackSide : THREE.FrontSide; else if ("blending" === st)ot.parameters[st] = ot.parameters[st] in THREE ? THREE[ot.parameters[st]] : THREE.NormalBlending; else if ("combine" === st)ot.parameters[st] = ot.parameters[st] in THREE ? THREE[ot.parameters[st]] : THREE.MultiplyOperation; else if ("vertexColors" === st)"face" == ot.parameters[st] ? ot.parameters[st] = THREE.FaceColors : ot.parameters[st] && (ot.parameters[st] = THREE.VertexColors); else if ("wrapRGB" === st) {
                var lt = ot.parameters[st];
                ot.parameters[st] = new THREE.Vector3(lt[0], lt[1], lt[2])
            }
            if (void 0 !== ot.parameters.opacity && ot.parameters.opacity < 1 && (ot.parameters.transparent = !0), ot.parameters.normalMap) {
                var ut = THREE.ShaderLib.normalmap, ht = THREE.UniformsUtils.clone(ut.uniforms), ct = ot.parameters.color, At = ot.parameters.specular, ft = ot.parameters.ambient, dt = ot.parameters.shininess;
                ht.tNormal.value = C.textures[ot.parameters.normalMap], ot.parameters.normalScale && ht.uNormalScale.value.set(ot.parameters.normalScale[0], ot.parameters.normalScale[1]), ot.parameters.map && (ht.tDiffuse.value = ot.parameters.map, ht.enableDiffuse.value = !0), ot.parameters.envMap && (ht.tCube.value = ot.parameters.envMap, ht.enableReflection.value = !0, ht.reflectivity.value = ot.parameters.reflectivity), ot.parameters.lightMap && (ht.tAO.value = ot.parameters.lightMap, ht.enableAO.value = !0), ot.parameters.specularMap && (ht.tSpecular.value = C.textures[ot.parameters.specularMap], ht.enableSpecular.value = !0), ot.parameters.displacementMap && (ht.tDisplacement.value = C.textures[ot.parameters.displacementMap], ht.enableDisplacement.value = !0, ht.uDisplacementBias.value = ot.parameters.displacementBias, ht.uDisplacementScale.value = ot.parameters.displacementScale), ht.diffuse.value.setHex(ct), ht.specular.value.setHex(At), ht.ambient.value.setHex(ft), ht.shininess.value = dt, ot.parameters.opacity && (ht.opacity.value = ot.parameters.opacity);
                var pt = {
                    fragmentShader: ut.fragmentShader,
                    vertexShader: ut.vertexShader,
                    uniforms: ht,
                    lights: !0,
                    fog: !0
                };
                p = new THREE.ShaderMaterial(pt)
            } else p = new THREE[ot.type](ot.parameters);
            p.name = at, C.materials[at] = p
        }
        for (at in M.materials)if (ot = M.materials[at], ot.parameters.materials) {
            for (var mt = [], et = 0; et < ot.parameters.materials.length; et++) {
                var gt = ot.parameters.materials[et];
                mt.push(C.materials[gt])
            }
            C.materials[at].materials = mt
        }
        i(), C.cameras && M.defaults.camera && (C.currentCamera = C.cameras[M.defaults.camera]), C.fogs && M.defaults.fog && (C.scene.fog = C.fogs[M.defaults.fog]), R.callbackSync(C), c()
    }
},THREE.TextureLoader = function (e) {
    this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager
},THREE.TextureLoader.prototype = {
    constructor: THREE.TextureLoader, load: function (e, t) {
        var n = this, r = new THREE.ImageLoader(n.manager);
        r.setCrossOrigin(this.crossOrigin), r.load(e, function (e) {
            var n = new THREE.Texture(e);
            n.needsUpdate = !0, void 0 !== t && t(n)
        })
    }, setCrossOrigin: function (e) {
        this.crossOrigin = e
    }
},THREE.Material = function () {
    this.id = THREE.MaterialIdCount++, this.uuid = THREE.Math.generateUUID(), this.name = "", this.side = THREE.FrontSide, this.opacity = 1, this.transparent = !1, this.blending = THREE.NormalBlending, this.blendSrc = THREE.SrcAlphaFactor, this.blendDst = THREE.OneMinusSrcAlphaFactor, this.blendEquation = THREE.AddEquation, this.depthTest = !0, this.depthWrite = !0, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.alphaTest = 0, this.overdraw = 0, this.visible = !0, this.needsUpdate = !0
},THREE.Material.prototype = {
    constructor: THREE.Material, setValues: function (e) {
        if (void 0 !== e)for (var t in e) {
            var n = e[t];
            if (void 0 !== n) {
                if (t in this) {
                    var r = this[t];
                    r instanceof THREE.Color ? r.set(n) : r instanceof THREE.Vector3 && n instanceof THREE.Vector3 ? r.copy(n) : this[t] = "overdraw" == t ? Number(n) : n
                }
            } else console.warn("THREE.Material: '" + t + "' parameter is undefined.")
        }
    }, clone: function (e) {
        return void 0 === e && (e = new THREE.Material), e.name = this.name, e.side = this.side, e.opacity = this.opacity, e.transparent = this.transparent, e.blending = this.blending, e.blendSrc = this.blendSrc, e.blendDst = this.blendDst, e.blendEquation = this.blendEquation, e.depthTest = this.depthTest, e.depthWrite = this.depthWrite, e.polygonOffset = this.polygonOffset, e.polygonOffsetFactor = this.polygonOffsetFactor, e.polygonOffsetUnits = this.polygonOffsetUnits, e.alphaTest = this.alphaTest, e.overdraw = this.overdraw, e.visible = this.visible, e
    }, dispose: function () {
        this.dispatchEvent({type: "dispose"})
    }
},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount = 0,THREE.LineBasicMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.vertexColors = !1, this.fog = !0, this.setValues(e)
},THREE.LineBasicMaterial.prototype = Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone = function () {
    var e = new THREE.LineBasicMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.linewidth = this.linewidth, e.linecap = this.linecap, e.linejoin = this.linejoin, e.vertexColors = this.vertexColors, e.fog = this.fog, e
},THREE.LineDashedMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.linewidth = 1, this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.vertexColors = !1, this.fog = !0, this.setValues(e)
},THREE.LineDashedMaterial.prototype = Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone = function () {
    var e = new THREE.LineDashedMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.linewidth = this.linewidth, e.scale = this.scale, e.dashSize = this.dashSize, e.gapSize = this.gapSize, e.vertexColors = this.vertexColors, e.fog = this.fog, e
},THREE.MeshBasicMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.map = null, this.lightMap = null, this.specularMap = null, this.envMap = null, this.combine = THREE.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.fog = !0, this.shading = THREE.SmoothShading, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = THREE.NoColors, this.skinning = !1, this.morphTargets = !1, this.setValues(e)
},THREE.MeshBasicMaterial.prototype = Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone = function () {
    var e = new THREE.MeshBasicMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.map = this.map, e.lightMap = this.lightMap, e.specularMap = this.specularMap, e.envMap = this.envMap, e.combine = this.combine, e.reflectivity = this.reflectivity, e.refractionRatio = this.refractionRatio, e.fog = this.fog, e.shading = this.shading, e.wireframe = this.wireframe, e.wireframeLinewidth = this.wireframeLinewidth, e.wireframeLinecap = this.wireframeLinecap, e.wireframeLinejoin = this.wireframeLinejoin, e.vertexColors = this.vertexColors, e.skinning = this.skinning, e.morphTargets = this.morphTargets, e
},THREE.MeshLambertMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.ambient = new THREE.Color(16777215), this.emissive = new THREE.Color(0), this.wrapAround = !1, this.wrapRGB = new THREE.Vector3(1, 1, 1), this.map = null, this.lightMap = null, this.specularMap = null, this.envMap = null, this.combine = THREE.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.fog = !0, this.shading = THREE.SmoothShading, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = THREE.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
},THREE.MeshLambertMaterial.prototype = Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone = function () {
    var e = new THREE.MeshLambertMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.ambient.copy(this.ambient), e.emissive.copy(this.emissive), e.wrapAround = this.wrapAround, e.wrapRGB.copy(this.wrapRGB), e.map = this.map, e.lightMap = this.lightMap, e.specularMap = this.specularMap, e.envMap = this.envMap, e.combine = this.combine, e.reflectivity = this.reflectivity, e.refractionRatio = this.refractionRatio, e.fog = this.fog, e.shading = this.shading, e.wireframe = this.wireframe, e.wireframeLinewidth = this.wireframeLinewidth, e.wireframeLinecap = this.wireframeLinecap, e.wireframeLinejoin = this.wireframeLinejoin, e.vertexColors = this.vertexColors, e.skinning = this.skinning, e.morphTargets = this.morphTargets, e.morphNormals = this.morphNormals, e
},THREE.MeshPhongMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.ambient = new THREE.Color(16777215), this.emissive = new THREE.Color(0), this.specular = new THREE.Color(1118481), this.shininess = 30, this.metal = !1, this.wrapAround = !1, this.wrapRGB = new THREE.Vector3(1, 1, 1), this.map = null, this.lightMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new THREE.Vector2(1, 1), this.specularMap = null, this.envMap = null, this.combine = THREE.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.fog = !0, this.shading = THREE.SmoothShading, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = THREE.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
},THREE.MeshPhongMaterial.prototype = Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone = function () {
    var e = new THREE.MeshPhongMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.ambient.copy(this.ambient), e.emissive.copy(this.emissive), e.specular.copy(this.specular), e.shininess = this.shininess, e.metal = this.metal, e.wrapAround = this.wrapAround, e.wrapRGB.copy(this.wrapRGB), e.map = this.map, e.lightMap = this.lightMap, e.bumpMap = this.bumpMap, e.bumpScale = this.bumpScale, e.normalMap = this.normalMap, e.normalScale.copy(this.normalScale), e.specularMap = this.specularMap, e.envMap = this.envMap, e.combine = this.combine, e.reflectivity = this.reflectivity, e.refractionRatio = this.refractionRatio, e.fog = this.fog, e.shading = this.shading, e.wireframe = this.wireframe, e.wireframeLinewidth = this.wireframeLinewidth, e.wireframeLinecap = this.wireframeLinecap, e.wireframeLinejoin = this.wireframeLinejoin, e.vertexColors = this.vertexColors, e.skinning = this.skinning, e.morphTargets = this.morphTargets, e.morphNormals = this.morphNormals, e
},THREE.MeshDepthMaterial = function (e) {
    THREE.Material.call(this), this.wireframe = !1, this.wireframeLinewidth = 1, this.setValues(e)
},THREE.MeshDepthMaterial.prototype = Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone = function () {
    var e = new THREE.MeshDepthMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.wireframe = this.wireframe, e.wireframeLinewidth = this.wireframeLinewidth, e
},THREE.MeshNormalMaterial = function (e) {
    THREE.Material.call(this, e), this.shading = THREE.FlatShading, this.wireframe = !1, this.wireframeLinewidth = 1, this.morphTargets = !1, this.setValues(e)
},THREE.MeshNormalMaterial.prototype = Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone = function () {
    var e = new THREE.MeshNormalMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.shading = this.shading, e.wireframe = this.wireframe, e.wireframeLinewidth = this.wireframeLinewidth, e
},THREE.MeshFaceMaterial = function (e) {
    this.materials = e instanceof Array ? e : []
},THREE.MeshFaceMaterial.prototype.clone = function () {
    for (var e = new THREE.MeshFaceMaterial, t = 0; t < this.materials.length; t++)e.materials.push(this.materials[t].clone());
    return e
},THREE.ParticleSystemMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.vertexColors = !1, this.fog = !0, this.setValues(e)
},THREE.ParticleSystemMaterial.prototype = Object.create(THREE.Material.prototype),THREE.ParticleSystemMaterial.prototype.clone = function () {
    var e = new THREE.ParticleSystemMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.map = this.map, e.size = this.size, e.sizeAttenuation = this.sizeAttenuation, e.vertexColors = this.vertexColors, e.fog = this.fog, e
},THREE.ParticleBasicMaterial = THREE.ParticleSystemMaterial,THREE.ShaderMaterial = function (e) {
    THREE.Material.call(this), this.fragmentShader = "void main() {}", this.vertexShader = "void main() {}", this.uniforms = {}, this.defines = {}, this.attributes = null, this.shading = THREE.SmoothShading, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.vertexColors = THREE.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.defaultAttributeValues = {
        color: [1, 1, 1],
        uv: [0, 0],
        uv2: [0, 0]
    }, this.index0AttributeName = "position", this.setValues(e)
},THREE.ShaderMaterial.prototype = Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone = function () {
    var e = new THREE.ShaderMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.fragmentShader = this.fragmentShader, e.vertexShader = this.vertexShader, e.uniforms = THREE.UniformsUtils.clone(this.uniforms), e.attributes = this.attributes, e.defines = this.defines, e.shading = this.shading, e.wireframe = this.wireframe, e.wireframeLinewidth = this.wireframeLinewidth, e.fog = this.fog, e.lights = this.lights, e.vertexColors = this.vertexColors, e.skinning = this.skinning, e.morphTargets = this.morphTargets, e.morphNormals = this.morphNormals, e
},THREE.SpriteMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.map = null, this.rotation = 0, this.fog = !1, this.setValues(e)
},THREE.SpriteMaterial.prototype = Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone = function () {
    var e = new THREE.SpriteMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.map = this.map, e.rotation = this.rotation, e.fog = this.fog, e
},THREE.SpriteCanvasMaterial = function (e) {
    THREE.Material.call(this), this.color = new THREE.Color(16777215), this.program = function () {
    }, this.setValues(e)
},THREE.SpriteCanvasMaterial.prototype = Object.create(THREE.Material.prototype),THREE.SpriteCanvasMaterial.prototype.clone = function () {
    var e = new THREE.SpriteCanvasMaterial;
    return THREE.Material.prototype.clone.call(this, e), e.color.copy(this.color), e.program = this.program, e
},THREE.ParticleCanvasMaterial = THREE.SpriteCanvasMaterial,THREE.Texture = function (e, t, n, r, i, a, o, s, l) {
    this.id = THREE.TextureIdCount++, this.uuid = THREE.Math.generateUUID(), this.name = "", this.image = e, this.mipmaps = [], this.mapping = void 0 !== t ? t : new THREE.UVMapping, this.wrapS = void 0 !== n ? n : THREE.ClampToEdgeWrapping, this.wrapT = void 0 !== r ? r : THREE.ClampToEdgeWrapping, this.magFilter = void 0 !== i ? i : THREE.LinearFilter, this.minFilter = void 0 !== a ? a : THREE.LinearMipMapLinearFilter, this.anisotropy = void 0 !== l ? l : 1, this.format = void 0 !== o ? o : THREE.RGBAFormat, this.type = void 0 !== s ? s : THREE.UnsignedByteType, this.offset = new THREE.Vector2(0, 0), this.repeat = new THREE.Vector2(1, 1), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this._needsUpdate = !1, this.onUpdate = null
},THREE.Texture.prototype = {
    constructor: THREE.Texture, get needsUpdate() {
        return this._needsUpdate
    }, set needsUpdate(e) {
        e === !0 && this.update(), this._needsUpdate = e
    }, clone: function (e) {
        return void 0 === e && (e = new THREE.Texture), e.image = this.image, e.mipmaps = this.mipmaps.slice(0), e.mapping = this.mapping, e.wrapS = this.wrapS, e.wrapT = this.wrapT, e.magFilter = this.magFilter, e.minFilter = this.minFilter, e.anisotropy = this.anisotropy, e.format = this.format, e.type = this.type, e.offset.copy(this.offset), e.repeat.copy(this.repeat), e.generateMipmaps = this.generateMipmaps, e.premultiplyAlpha = this.premultiplyAlpha, e.flipY = this.flipY, e.unpackAlignment = this.unpackAlignment, e
    }, update: function () {
        this.dispatchEvent({type: "update"})
    }, dispose: function () {
        this.dispatchEvent({type: "dispose"})
    }
},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount = 0,THREE.CompressedTexture = function (e, t, n, r, i, a, o, s, l, u, h) {
    THREE.Texture.call(this, null, a, o, s, l, u, r, i, h), this.image = {
        width: t,
        height: n
    }, this.mipmaps = e, this.generateMipmaps = !1
},THREE.CompressedTexture.prototype = Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone = function () {
    var e = new THREE.CompressedTexture;
    return THREE.Texture.prototype.clone.call(this, e), e
},THREE.DataTexture = function (e, t, n, r, i, a, o, s, l, u, h) {
    THREE.Texture.call(this, null, a, o, s, l, u, r, i, h), this.image = {data: e, width: t, height: n}
},THREE.DataTexture.prototype = Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone = function () {
    var e = new THREE.DataTexture;
    return THREE.Texture.prototype.clone.call(this, e), e
},THREE.ParticleSystem = function (e, t) {
    THREE.Object3D.call(this), this.geometry = void 0 !== e ? e : new THREE.Geometry, this.material = void 0 !== t ? t : new THREE.ParticleSystemMaterial({color: 16777215 * Math.random()}), this.sortParticles = !1, this.frustumCulled = !1
},THREE.ParticleSystem.prototype = Object.create(THREE.Object3D.prototype),THREE.ParticleSystem.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.ParticleSystem(this.geometry, this.material)), e.sortParticles = this.sortParticles, THREE.Object3D.prototype.clone.call(this, e), e
},THREE.Line = function (e, t, n) {
    THREE.Object3D.call(this), this.geometry = void 0 !== e ? e : new THREE.Geometry, this.material = void 0 !== t ? t : new THREE.LineBasicMaterial({color: 16777215 * Math.random()}), this.type = void 0 !== n ? n : THREE.LineStrip
},THREE.LineStrip = 0,THREE.LinePieces = 1,THREE.Line.prototype = Object.create(THREE.Object3D.prototype),THREE.Line.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.Line(this.geometry, this.material, this.type)), THREE.Object3D.prototype.clone.call(this, e), e
},THREE.Mesh = function (e, t) {
    THREE.Object3D.call(this), this.geometry = void 0 !== e ? e : new THREE.Geometry, this.material = void 0 !== t ? t : new THREE.MeshBasicMaterial({color: 16777215 * Math.random()}), this.updateMorphTargets()
},THREE.Mesh.prototype = Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.updateMorphTargets = function () {
    if (void 0 !== this.geometry.morphTargets && this.geometry.morphTargets.length > 0) {
        this.morphTargetBase = -1, this.morphTargetForcedOrder = [], this.morphTargetInfluences = [], this.morphTargetDictionary = {};
        for (var e = 0, t = this.geometry.morphTargets.length; t > e; e++)this.morphTargetInfluences.push(0), this.morphTargetDictionary[this.geometry.morphTargets[e].name] = e
    }
},THREE.Mesh.prototype.getMorphTargetIndexByName = function (e) {
    return void 0 !== this.morphTargetDictionary[e] ? this.morphTargetDictionary[e] : (console.log("THREE.Mesh.getMorphTargetIndexByName: morph target " + e + " does not exist. Returning 0."), 0)
},THREE.Mesh.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.Mesh(this.geometry, this.material)), THREE.Object3D.prototype.clone.call(this, e), e
},THREE.Bone = function (e) {
    THREE.Object3D.call(this), this.skin = e, this.skinMatrix = new THREE.Matrix4
},THREE.Bone.prototype = Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.update = function (e, t) {
    this.matrixAutoUpdate && (t |= this.updateMatrix()), (t || this.matrixWorldNeedsUpdate) && (e ? this.skinMatrix.multiplyMatrices(e, this.matrix) : this.skinMatrix.copy(this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
    var n, r = this.children.length;
    for (n = 0; r > n; n++)this.children[n].update(this.skinMatrix, t)
},THREE.SkinnedMesh = function (e, t, n) {
    THREE.Mesh.call(this, e, t), this.useVertexTexture = void 0 !== n ? n : !0, this.identityMatrix = new THREE.Matrix4, this.bones = [], this.boneMatrices = [];
    var r, i, a, o, s, l;
    if (this.geometry && void 0 !== this.geometry.bones) {
        for (r = 0; r < this.geometry.bones.length; r++)a = this.geometry.bones[r], o = a.pos, s = a.rotq, l = a.scl, i = this.addBone(), i.name = a.name, i.position.set(o[0], o[1], o[2]), i.quaternion.set(s[0], s[1], s[2], s[3]), void 0 !== l ? i.scale.set(l[0], l[1], l[2]) : i.scale.set(1, 1, 1);
        for (r = 0; r < this.bones.length; r++)a = this.geometry.bones[r], i = this.bones[r], -1 === a.parent ? this.add(i) : this.bones[a.parent].add(i);
        var u = this.bones.length;
        if (this.useVertexTexture) {
            var h;
            h = u > 256 ? 64 : u > 64 ? 32 : u > 16 ? 16 : 8, this.boneTextureWidth = h, this.boneTextureHeight = h, this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4), this.boneTexture = new THREE.DataTexture(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, THREE.RGBAFormat, THREE.FloatType), this.boneTexture.minFilter = THREE.NearestFilter, this.boneTexture.magFilter = THREE.NearestFilter, this.boneTexture.generateMipmaps = !1, this.boneTexture.flipY = !1
        } else this.boneMatrices = new Float32Array(16 * u);
        this.pose()
    }
},THREE.SkinnedMesh.prototype = Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.addBone = function (e) {
    return void 0 === e && (e = new THREE.Bone(this)), this.bones.push(e), e
},THREE.SkinnedMesh.prototype.updateMatrixWorld = function () {
    var e = new THREE.Matrix4;
    return function (t) {
        this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t) && (this.parent ? this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix) : this.matrixWorld.copy(this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
        for (var n = 0, r = this.children.length; r > n; n++) {
            var i = this.children[n];
            i instanceof THREE.Bone ? i.update(this.identityMatrix, !1) : i.updateMatrixWorld(!0)
        }
        if (void 0 == this.boneInverses) {
            this.boneInverses = [];
            for (var a = 0, o = this.bones.length; o > a; a++) {
                var s = new THREE.Matrix4;
                s.getInverse(this.bones[a].skinMatrix), this.boneInverses.push(s)
            }
        }
        for (var a = 0, o = this.bones.length; o > a; a++)e.multiplyMatrices(this.bones[a].skinMatrix, this.boneInverses[a]), e.flattenToArrayOffset(this.boneMatrices, 16 * a);
        this.useVertexTexture && (this.boneTexture.needsUpdate = !0)
    }
}(),THREE.SkinnedMesh.prototype.pose = function () {
    this.updateMatrixWorld(!0), this.normalizeSkinWeights()
},THREE.SkinnedMesh.prototype.normalizeSkinWeights = function () {
    if (this.geometry instanceof THREE.Geometry)for (var e = 0; e < this.geometry.skinIndices.length; e++) {
        var t = this.geometry.skinWeights[e], n = 1 / t.lengthManhattan();
        1 / 0 !== n ? t.multiplyScalar(n) : t.set(1)
    }
},THREE.SkinnedMesh.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.SkinnedMesh(this.geometry, this.material, this.useVertexTexture)), THREE.Mesh.prototype.clone.call(this, e), e
},THREE.MorphAnimMesh = function (e, t) {
    THREE.Mesh.call(this, e, t), this.duration = 1e3, this.mirroredLoop = !1, this.time = 0, this.lastKeyframe = 0, this.currentKeyframe = 0, this.direction = 1, this.directionBackwards = !1, this.setFrameRange(0, this.geometry.morphTargets.length - 1)
},THREE.MorphAnimMesh.prototype = Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange = function (e, t) {
    this.startKeyframe = e, this.endKeyframe = t, this.length = this.endKeyframe - this.startKeyframe + 1
},THREE.MorphAnimMesh.prototype.setDirectionForward = function () {
    this.direction = 1, this.directionBackwards = !1
},THREE.MorphAnimMesh.prototype.setDirectionBackward = function () {
    this.direction = -1, this.directionBackwards = !0
},THREE.MorphAnimMesh.prototype.parseAnimations = function () {
    var e = this.geometry;
    e.animations || (e.animations = {});
    for (var t, n = e.animations, r = /([a-z]+)(\d+)/, i = 0, a = e.morphTargets.length; a > i; i++) {
        var o = e.morphTargets[i], s = o.name.match(r);
        if (s && s.length > 1) {
            {
                var l = s[1];
                s[2]
            }
            n[l] || (n[l] = {start: 1 / 0, end: -1 / 0});
            var u = n[l];
            i < u.start && (u.start = i), i > u.end && (u.end = i), t || (t = l)
        }
    }
    e.firstAnimation = t
},THREE.MorphAnimMesh.prototype.setAnimationLabel = function (e, t, n) {
    this.geometry.animations || (this.geometry.animations = {}), this.geometry.animations[e] = {start: t, end: n}
},THREE.MorphAnimMesh.prototype.playAnimation = function (e, t) {
    var n = this.geometry.animations[e];
    n ? (this.setFrameRange(n.start, n.end), this.duration = 1e3 * ((n.end - n.start) / t), this.time = 0) : console.warn("animation[" + e + "] undefined")
},THREE.MorphAnimMesh.prototype.updateAnimation = function (e) {
    var t = this.duration / this.length;
    this.time += this.direction * e, this.mirroredLoop ? (this.time > this.duration || this.time < 0) && (this.direction *= -1, this.time > this.duration && (this.time = this.duration, this.directionBackwards = !0), this.time < 0 && (this.time = 0, this.directionBackwards = !1)) : (this.time = this.time % this.duration, this.time < 0 && (this.time += this.duration));
    var n = this.startKeyframe + THREE.Math.clamp(Math.floor(this.time / t), 0, this.length - 1);
    n !== this.currentKeyframe && (this.morphTargetInfluences[this.lastKeyframe] = 0, this.morphTargetInfluences[this.currentKeyframe] = 1, this.morphTargetInfluences[n] = 0, this.lastKeyframe = this.currentKeyframe, this.currentKeyframe = n);
    var r = this.time % t / t;
    this.directionBackwards && (r = 1 - r), this.morphTargetInfluences[this.currentKeyframe] = r, this.morphTargetInfluences[this.lastKeyframe] = 1 - r
},THREE.MorphAnimMesh.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.MorphAnimMesh(this.geometry, this.material)), e.duration = this.duration, e.mirroredLoop = this.mirroredLoop, e.time = this.time, e.lastKeyframe = this.lastKeyframe, e.currentKeyframe = this.currentKeyframe, e.direction = this.direction, e.directionBackwards = this.directionBackwards, THREE.Mesh.prototype.clone.call(this, e), e
},THREE.LOD = function () {
    THREE.Object3D.call(this), this.objects = []
},THREE.LOD.prototype = Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel = function (e, t) {
    void 0 === t && (t = 0), t = Math.abs(t);
    for (var n = 0; n < this.objects.length && !(t < this.objects[n].distance); n++);
    this.objects.splice(n, 0, {distance: t, object: e}), this.add(e)
},THREE.LOD.prototype.getObjectForDistance = function (e) {
    for (var t = 1, n = this.objects.length; n > t && !(e < this.objects[t].distance); t++);
    return this.objects[t - 1].object
},THREE.LOD.prototype.update = function () {
    var e = new THREE.Vector3, t = new THREE.Vector3;
    return function (n) {
        if (this.objects.length > 1) {
            e.setFromMatrixPosition(n.matrixWorld), t.setFromMatrixPosition(this.matrixWorld);
            var r = e.distanceTo(t);
            this.objects[0].object.visible = !0;
            for (var i = 1, a = this.objects.length; a > i && r >= this.objects[i].distance; i++)this.objects[i - 1].object.visible = !1, this.objects[i].object.visible = !0;
            for (; a > i; i++)this.objects[i].object.visible = !1
        }
    }
}(),THREE.LOD.prototype.clone = function (e) {
    void 0 === e && (e = new THREE.LOD), THREE.Object3D.prototype.clone.call(this, e);
    for (var t = 0, n = this.objects.length; n > t; t++) {
        var r = this.objects[t].object.clone();
        r.visible = 0 === t, e.addLevel(r, this.objects[t].distance)
    }
    return e
},THREE.Sprite = function () {
    var e = new THREE.Geometry2(3);
    return e.vertices.set([-.5, -.5, 0, .5, -.5, 0, .5, .5, 0]), function (t) {
        THREE.Object3D.call(this), this.geometry = e, this.material = void 0 !== t ? t : new THREE.SpriteMaterial
    }
}(),THREE.Sprite.prototype = Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.updateMatrix = function () {
    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
},THREE.Sprite.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.Sprite(this.material)), THREE.Object3D.prototype.clone.call(this, e), e
},THREE.Particle = THREE.Sprite,THREE.Scene = function () {
    THREE.Object3D.call(this), this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0, this.matrixAutoUpdate = !1, this.__lights = [], this.__objectsAdded = [], this.__objectsRemoved = []
},THREE.Scene.prototype = Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.__addObject = function (e) {
    if (e instanceof THREE.Light)-1 === this.__lights.indexOf(e) && this.__lights.push(e), e.target && void 0 === e.target.parent && this.add(e.target); else if (!(e instanceof THREE.Camera || e instanceof THREE.Bone)) {
        this.__objectsAdded.push(e);
        var t = this.__objectsRemoved.indexOf(e);
        -1 !== t && this.__objectsRemoved.splice(t, 1)
    }
    this.dispatchEvent({type: "objectAdded", object: e}), e.dispatchEvent({type: "addedToScene", scene: this});
    for (var n = 0; n < e.children.length; n++)this.__addObject(e.children[n])
},THREE.Scene.prototype.__removeObject = function (e) {
    if (e instanceof THREE.Light) {
        var t = this.__lights.indexOf(e);
        if (-1 !== t && this.__lights.splice(t, 1), e.shadowCascadeArray)for (var n = 0; n < e.shadowCascadeArray.length; n++)this.__removeObject(e.shadowCascadeArray[n])
    } else if (!(e instanceof THREE.Camera)) {
        this.__objectsRemoved.push(e);
        var t = this.__objectsAdded.indexOf(e);
        -1 !== t && this.__objectsAdded.splice(t, 1)
    }
    this.dispatchEvent({type: "objectRemoved", object: e}), e.dispatchEvent({type: "removedFromScene", scene: this});
    for (var r = 0; r < e.children.length; r++)this.__removeObject(e.children[r])
},THREE.Scene.prototype.clone = function (e) {
    return void 0 === e && (e = new THREE.Scene), THREE.Object3D.prototype.clone.call(this, e), null !== this.fog && (e.fog = this.fog.clone()), null !== this.overrideMaterial && (e.overrideMaterial = this.overrideMaterial.clone()), e.autoUpdate = this.autoUpdate, e.matrixAutoUpdate = this.matrixAutoUpdate, e
},THREE.Fog = function (e, t, n) {
    this.name = "", this.color = new THREE.Color(e), this.near = void 0 !== t ? t : 1, this.far = void 0 !== n ? n : 1e3
},THREE.Fog.prototype.clone = function () {
    return new THREE.Fog(this.color.getHex(), this.near, this.far)
},THREE.FogExp2 = function (e, t) {
    this.name = "", this.color = new THREE.Color(e), this.density = void 0 !== t ? t : 25e-5
},THREE.FogExp2.prototype.clone = function () {
    return new THREE.FogExp2(this.color.getHex(), this.density)
},THREE.CanvasRenderer = function (e) {
    function t() {
        Ht.setRGB(0, 0, 0), St.setRGB(0, 0, 0), Dt.setRGB(0, 0, 0);
        for (var e = 0, t = R.length; t > e; e++) {
            var n = R[e], r = n.color;
            n instanceof THREE.AmbientLight ? Ht.add(r) : n instanceof THREE.DirectionalLight ? St.add(r) : n instanceof THREE.PointLight && Dt.add(r)
        }
    }

    function n(e, t, n) {
        for (var r = 0, i = R.length; i > r; r++) {
            var a = R[r];
            if (Ct.copy(a.color), a instanceof THREE.DirectionalLight) {
                var o = Ft.setFromMatrixPosition(a.matrixWorld).normalize(), s = t.dot(o);
                if (0 >= s)continue;
                s *= a.intensity, n.add(Ct.multiplyScalar(s))
            } else if (a instanceof THREE.PointLight) {
                var o = Ft.setFromMatrixPosition(a.matrixWorld), s = t.dot(Ft.subVectors(o, e).normalize());
                if (0 >= s)continue;
                if (s *= 0 == a.distance ? 1 : 1 - Math.min(e.distanceTo(o) / a.distance, 1), 0 == s)continue;
                s *= a.intensity, n.add(Ct.multiplyScalar(s))
            }
        }
    }

    function r(e, t, n) {
        p(n.opacity), m(n.blending);
        var r = t.scale.x * it, i = t.scale.y * at, a = .5 * Math.sqrt(r * r + i * i);
        if (Mt.min.set(e.x - a, e.y - a), Mt.max.set(e.x + a, e.y + a), n instanceof THREE.SpriteMaterial || n instanceof THREE.ParticleSystemMaterial) {
            var o = n.map;
            if (null !== o) {
                o.hasEventListener("update", u) === !1 && (void 0 !== o.image && o.image.width > 0 && h(o), o.addEventListener("update", u));
                var s = Rt[o.id];
                b(void 0 !== s ? s : "rgba( 0, 0, 0, 1 )");
                var l = o.image, c = l.width * o.offset.x, A = l.height * o.offset.y, f = l.width * o.repeat.x, d = l.height * o.repeat.y, g = r / f, v = i / d;
                ot.save(), ot.translate(e.x, e.y), 0 !== n.rotation && ot.rotate(n.rotation), ot.translate(-r / 2, -i / 2), ot.scale(g, v), ot.translate(-c, -A), ot.fillRect(c, A, f, d), ot.restore()
            } else b(n.color.getStyle()), ot.save(), ot.translate(e.x, e.y), 0 !== n.rotation && ot.rotate(n.rotation), ot.scale(r, -i), ot.fillRect(-.5, -.5, 1, 1), ot.restore()
        } else n instanceof THREE.SpriteCanvasMaterial && (E(n.color.getStyle()), b(n.color.getStyle()), ot.save(), ot.translate(e.x, e.y), 0 !== n.rotation && ot.rotate(n.rotation), ot.scale(r, i), n.program(ot), ot.restore())
    }

    function i(e, t, n, r) {
        if (p(r.opacity), m(r.blending), ot.beginPath(), ot.moveTo(e.positionScreen.x, e.positionScreen.y), ot.lineTo(t.positionScreen.x, t.positionScreen.y), r instanceof THREE.LineBasicMaterial) {
            if (g(r.linewidth), v(r.linecap), y(r.linejoin), r.vertexColors !== THREE.VertexColors)E(r.color.getStyle()); else {
                var i = n.vertexColors[0].getStyle(), a = n.vertexColors[1].getStyle();
                if (i === a)E(i); else {
                    try {
                        var o = ot.createLinearGradient(e.positionScreen.x, e.positionScreen.y, t.positionScreen.x, t.positionScreen.y);
                        o.addColorStop(0, i), o.addColorStop(1, a)
                    } catch (s) {
                        o = i
                    }
                    E(o)
                }
            }
            ot.stroke(), Mt.expandByScalar(2 * r.linewidth)
        } else r instanceof THREE.LineDashedMaterial && (g(r.linewidth), v(r.linecap), y(r.linejoin), E(r.color.getStyle()), x(r.dashSize, r.gapSize), ot.stroke(), Mt.expandByScalar(2 * r.linewidth), x(null, null))
    }

    function a(e, t, r, i, a, u, h, d) {
        J.info.render.vertices += 3, J.info.render.faces++, p(d.opacity), m(d.blending), S = e.positionScreen.x, D = e.positionScreen.y, F = t.positionScreen.x, k = t.positionScreen.y, O = r.positionScreen.x, P = r.positionScreen.y, o(S, D, F, k, O, P), (d instanceof THREE.MeshLambertMaterial || d instanceof THREE.MeshPhongMaterial) && null === d.map ? (wt.copy(d.color), Tt.copy(d.emissive), d.vertexColors === THREE.FaceColors && wt.multiply(h.color), d.wireframe === !1 && d.shading === THREE.SmoothShading && 3 === h.vertexNormalsLength ? (yt.copy(Ht), Et.copy(Ht), bt.copy(Ht), n(h.v1.positionWorld, h.vertexNormalsModel[0], yt), n(h.v2.positionWorld, h.vertexNormalsModel[1], Et), n(h.v3.positionWorld, h.vertexNormalsModel[2], bt), yt.multiply(wt).add(Tt), Et.multiply(wt).add(Tt), bt.multiply(wt).add(Tt), xt.addColors(Et, bt).multiplyScalar(.5), I = f(yt, Et, bt, xt), A(S, D, F, k, O, P, 0, 0, 1, 0, 0, 1, I)) : (vt.copy(Ht), n(h.centroidModel, h.normalModel, vt), vt.multiply(wt).add(Tt), d.wireframe === !0 ? s(vt, d.wireframeLinewidth, d.wireframeLinecap, d.wireframeLinejoin) : l(vt))) : d instanceof THREE.MeshBasicMaterial || d instanceof THREE.MeshLambertMaterial || d instanceof THREE.MeshPhongMaterial ? null !== d.map ? d.map.mapping instanceof THREE.UVMapping && (G = h.uvs[0], c(S, D, F, k, O, P, G[i].x, G[i].y, G[a].x, G[a].y, G[u].x, G[u].y, d.map)) : null !== d.envMap ? d.envMap.mapping instanceof THREE.SphericalReflectionMapping && (kt.copy(h.vertexNormalsModel[i]).applyMatrix3(Ot), N = .5 * kt.x + .5, V = .5 * kt.y + .5, kt.copy(h.vertexNormalsModel[a]).applyMatrix3(Ot), U = .5 * kt.x + .5, j = .5 * kt.y + .5, kt.copy(h.vertexNormalsModel[u]).applyMatrix3(Ot), Q = .5 * kt.x + .5, W = .5 * kt.y + .5, c(S, D, F, k, O, P, N, V, U, j, Q, W, d.envMap)) : (vt.copy(d.color), d.vertexColors === THREE.FaceColors && vt.multiply(h.color), d.wireframe === !0 ? s(vt, d.wireframeLinewidth, d.wireframeLinecap, d.wireframeLinejoin) : l(vt)) : d instanceof THREE.MeshDepthMaterial ? (L = _.near, z = _.far, yt.r = yt.g = yt.b = 1 - w(e.positionScreen.z * e.positionScreen.w, L, z), Et.r = Et.g = Et.b = 1 - w(t.positionScreen.z * t.positionScreen.w, L, z), bt.r = bt.g = bt.b = 1 - w(r.positionScreen.z * r.positionScreen.w, L, z), xt.addColors(Et, bt).multiplyScalar(.5), I = f(yt, Et, bt, xt), A(S, D, F, k, O, P, 0, 0, 1, 0, 0, 1, I)) : d instanceof THREE.MeshNormalMaterial && (d.shading === THREE.FlatShading ? (kt.copy(h.normalModel).applyMatrix3(Ot), vt.setRGB(kt.x, kt.y, kt.z).multiplyScalar(.5).addScalar(.5), d.wireframe === !0 ? s(vt, d.wireframeLinewidth, d.wireframeLinecap, d.wireframeLinejoin) : l(vt)) : d.shading === THREE.SmoothShading && (kt.copy(h.vertexNormalsModel[i]).applyMatrix3(Ot), yt.setRGB(kt.x, kt.y, kt.z).multiplyScalar(.5).addScalar(.5), kt.copy(h.vertexNormalsModel[a]).applyMatrix3(Ot), Et.setRGB(kt.x, kt.y, kt.z).multiplyScalar(.5).addScalar(.5), kt.copy(h.vertexNormalsModel[u]).applyMatrix3(Ot), bt.setRGB(kt.x, kt.y, kt.z).multiplyScalar(.5).addScalar(.5), xt.addColors(Et, bt).multiplyScalar(.5), I = f(yt, Et, bt, xt), A(S, D, F, k, O, P, 0, 0, 1, 0, 0, 1, I)))
    }

    function o(e, t, n, r, i, a) {
        ot.beginPath(), ot.moveTo(e, t), ot.lineTo(n, r), ot.lineTo(i, a), ot.closePath()
    }

    function s(e, t, n, r) {
        g(t), v(n), y(r), E(e.getStyle()), ot.stroke(), Mt.expandByScalar(2 * t)
    }

    function l(e) {
        b(e.getStyle()), ot.fill()
    }

    function u(e) {
        h(e.target)
    }

    function h(e) {
        var t = e.wrapS === THREE.RepeatWrapping, n = e.wrapT === THREE.RepeatWrapping, r = e.image, i = document.createElement("canvas");
        i.width = r.width, i.height = r.height;
        var a = i.getContext("2d");
        a.setTransform(1, 0, 0, -1, 0, r.height), a.drawImage(r, 0, 0), Rt[e.id] = ot.createPattern(i, t === !0 && n === !0 ? "repeat" : t === !0 && n === !1 ? "repeat-x" : t === !1 && n === !0 ? "repeat-y" : "no-repeat")
    }

    function c(e, t, n, r, i, a, o, s, l, c, A, f, d) {
        if (!(d instanceof THREE.DataTexture)) {
            d.hasEventListener("update", u) === !1 && (void 0 !== d.image && d.image.width > 0 && h(d), d.addEventListener("update", u));
            var p = Rt[d.id];
            if (void 0 === p)return b("rgba(0,0,0,1)"), void ot.fill();
            b(p);
            var m, g, v, y, E, x, w, T, C = d.offset.x / d.repeat.x, R = d.offset.y / d.repeat.y, _ = d.image.width * d.repeat.x, B = d.image.height * d.repeat.y;
            o = (o + C) * _, s = (s + R) * B, l = (l + C) * _, c = (c + R) * B, A = (A + C) * _, f = (f + R) * B, n -= e, r -= t, i -= e, a -= t, l -= o, c -= s, A -= o, f -= s, w = l * f - A * c, 0 !== w && (T = 1 / w, m = (f * n - c * i) * T, g = (f * r - c * a) * T, v = (l * i - A * n) * T, y = (l * a - A * r) * T, E = e - m * o - v * s, x = t - g * o - y * s, ot.save(), ot.transform(m, g, v, y, E, x), ot.fill(), ot.restore())
        }
    }

    function A(e, t, n, r, i, a, o, s, l, u, h, c, A) {
        var f, d, p, m, g, v, y, E, b = A.width - 1, x = A.height - 1;
        o *= b, s *= x, l *= b, u *= x, h *= b, c *= x, n -= e, r -= t, i -= e, a -= t, l -= o, u -= s, h -= o, c -= s, y = l * c - h * u, E = 1 / y, f = (c * n - u * i) * E, d = (c * r - u * a) * E, p = (l * i - h * n) * E, m = (l * a - h * r) * E, g = e - f * o - p * s, v = t - d * o - m * s, ot.save(), ot.transform(f, d, p, m, g, v), ot.clip(), ot.drawImage(A, 0, 0), ot.restore()
    }

    function f(e, t, n, r) {
        return Z[0] = 255 * e.r | 0, Z[1] = 255 * e.g | 0, Z[2] = 255 * e.b | 0, Z[4] = 255 * t.r | 0, Z[5] = 255 * t.g | 0, Z[6] = 255 * t.b | 0, Z[8] = 255 * n.r | 0, Z[9] = 255 * n.g | 0, Z[10] = 255 * n.b | 0, Z[12] = 255 * r.r | 0, Z[13] = 255 * r.g | 0, Z[14] = 255 * r.b | 0, q.putImageData(X, 0, 0), $.drawImage(Y, 0, 0), K
    }

    function d(e, t, n) {
        var r, i = t.x - e.x, a = t.y - e.y, o = i * i + a * a;
        0 !== o && (r = n / Math.sqrt(o), i *= r, a *= r, t.x += i, t.y += a, e.x -= i, e.y -= a)
    }

    function p(e) {
        ut !== e && (ot.globalAlpha = e, ut = e)
    }

    function m(e) {
        ht !== e && (e === THREE.NormalBlending ? ot.globalCompositeOperation = "source-over" : e === THREE.AdditiveBlending ? ot.globalCompositeOperation = "lighter" : e === THREE.SubtractiveBlending && (ot.globalCompositeOperation = "darker"), ht = e)
    }

    function g(e) {
        ft !== e && (ot.lineWidth = e, ft = e)
    }

    function v(e) {
        dt !== e && (ot.lineCap = e, dt = e)
    }

    function y(e) {
        pt !== e && (ot.lineJoin = e, pt = e)
    }

    function E(e) {
        ct !== e && (ot.strokeStyle = e, ct = e)
    }

    function b(e) {
        At !== e && (ot.fillStyle = e, At = e)
    }

    function x(e, t) {
        (mt !== e || gt !== t) && (ot.setLineDash([e, t]), mt = e, gt = t)
    }

    console.log("THREE.CanvasRenderer", THREE.REVISION);
    var w = THREE.Math.smoothstep;
    e = e || {};
    var T, C, R, _, B, M, H, S, D, F, k, O, P, L, z, I, G, N, V, U, j, Q, W, Y, q, X, Z, K, $, J = this, et = new THREE.Projector, tt = void 0 !== e.canvas ? e.canvas : document.createElement("canvas"), nt = tt.width, rt = tt.height, it = Math.floor(nt / 2), at = Math.floor(rt / 2), ot = tt.getContext("2d", {alpha: e.alpha === !0}), st = new THREE.Color(0), lt = 0, ut = 1, ht = 0, ct = null, At = null, ft = null, dt = null, pt = null, mt = null, gt = 0, vt = (new THREE.RenderableVertex, new THREE.RenderableVertex, new THREE.Color), yt = new THREE.Color, Et = new THREE.Color, bt = new THREE.Color, xt = new THREE.Color, wt = new THREE.Color, Tt = new THREE.Color, Ct = new THREE.Color, Rt = {}, _t = new THREE.Box2, Bt = new THREE.Box2, Mt = new THREE.Box2, Ht = new THREE.Color, St = new THREE.Color, Dt = new THREE.Color, Ft = new THREE.Vector3, kt = new THREE.Vector3, Ot = new THREE.Matrix3, Pt = 16;
    Y = document.createElement("canvas"), Y.width = Y.height = 2, q = Y.getContext("2d"), q.fillStyle = "rgba(0,0,0,1)", q.fillRect(0, 0, 2, 2), X = q.getImageData(0, 0, 2, 2), Z = X.data, K = document.createElement("canvas"), K.width = K.height = Pt, $ = K.getContext("2d"), $.translate(-Pt / 2, -Pt / 2), $.scale(Pt, Pt), Pt--, void 0 === ot.setLineDash && (ot.setLineDash = void 0 !== ot.mozDash ? function (e) {
        ot.mozDash = null !== e[0] ? e : null
    } : function () {
    }), this.domElement = tt, this.devicePixelRatio = void 0 !== e.devicePixelRatio ? e.devicePixelRatio : void 0 !== self.devicePixelRatio ? self.devicePixelRatio : 1, this.autoClear = !0, this.sortObjects = !0, this.sortElements = !0, this.info = {
        render: {
            vertices: 0,
            faces: 0
        }
    }, this.supportsVertexTextures = function () {
    }, this.setFaceCulling = function () {
    }, this.setSize = function (e, t, n) {
        nt = e * this.devicePixelRatio, rt = t * this.devicePixelRatio, it = Math.floor(nt / 2), at = Math.floor(rt / 2), tt.width = nt, tt.height = rt, 1 !== this.devicePixelRatio && n !== !1 && (tt.style.width = e + "px", tt.style.height = t + "px"), _t.min.set(-it, -at), _t.max.set(it, at), Bt.min.set(-it, -at), Bt.max.set(it, at), ut = 1, ht = 0, ct = null, At = null, ft = null, dt = null, pt = null
    }, this.setClearColor = function (e, t) {
        st.set(e), lt = void 0 !== t ? t : 1, Bt.min.set(-it, -at), Bt.max.set(it, at)
    }, this.setClearColorHex = function (e, t) {
        console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."), this.setClearColor(e, t)
    }, this.getMaxAnisotropy = function () {
        return 0
    }, this.clear = function () {
        ot.setTransform(1, 0, 0, -1, it, at), Bt.empty() === !1 && (Bt.intersect(_t), Bt.expandByScalar(2), 1 > lt && ot.clearRect(0 | Bt.min.x, 0 | Bt.min.y, Bt.max.x - Bt.min.x | 0, Bt.max.y - Bt.min.y | 0), lt > 0 && (m(THREE.NormalBlending), p(1), b("rgba(" + Math.floor(255 * st.r) + "," + Math.floor(255 * st.g) + "," + Math.floor(255 * st.b) + "," + lt + ")"), ot.fillRect(0 | Bt.min.x, 0 | Bt.min.y, Bt.max.x - Bt.min.x | 0, Bt.max.y - Bt.min.y | 0)), Bt.makeEmpty())
    }, this.clearColor = function () {
    }, this.clearDepth = function () {
    }, this.clearStencil = function () {
    }, this.render = function (e, n) {
        if (n instanceof THREE.Camera == !1)return void console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");
        this.autoClear === !0 && this.clear(), ot.setTransform(1, 0, 0, -1, it, at), J.info.render.vertices = 0, J.info.render.faces = 0, T = et.projectScene(e, n, this.sortObjects, this.sortElements), C = T.elements, R = T.lights, _ = n, Ot.getNormalMatrix(n.matrixWorldInverse), t();
        for (var o = 0, s = C.length; s > o; o++) {
            var l = C[o], u = l.material;
            if (void 0 !== u && u.visible !== !1) {
                if (Mt.makeEmpty(), l instanceof THREE.RenderableSprite)B = l, B.x *= it, B.y *= at, r(B, l, u); else if (l instanceof THREE.RenderableLine)B = l.v1, M = l.v2, B.positionScreen.x *= it, B.positionScreen.y *= at, M.positionScreen.x *= it, M.positionScreen.y *= at, Mt.setFromPoints([B.positionScreen, M.positionScreen]), _t.isIntersectionBox(Mt) === !0 && i(B, M, l, u); else if (l instanceof THREE.RenderableFace) {
                    if (B = l.v1, M = l.v2, H = l.v3, B.positionScreen.z < -1 || B.positionScreen.z > 1)continue;
                    if (M.positionScreen.z < -1 || M.positionScreen.z > 1)continue;
                    if (H.positionScreen.z < -1 || H.positionScreen.z > 1)continue;
                    B.positionScreen.x *= it, B.positionScreen.y *= at, M.positionScreen.x *= it, M.positionScreen.y *= at, H.positionScreen.x *= it, H.positionScreen.y *= at, u.overdraw > 0 && (d(B.positionScreen, M.positionScreen, u.overdraw), d(M.positionScreen, H.positionScreen, u.overdraw), d(H.positionScreen, B.positionScreen, u.overdraw)), Mt.setFromPoints([B.positionScreen, M.positionScreen, H.positionScreen]), _t.isIntersectionBox(Mt) === !0 && a(B, M, H, 0, 1, 2, l, u)
                }
                Bt.union(Mt)
            }
        }
        ot.setTransform(1, 0, 0, 1, 0, 0)
    }
},THREE.ShaderChunk = {
    fog_pars_fragment: ["#ifdef USE_FOG", "uniform vec3 fogColor;", "#ifdef FOG_EXP2", "uniform float fogDensity;", "#else", "uniform float fogNear;", "uniform float fogFar;", "#endif", "#endif"].join("\n"),
    fog_fragment: ["#ifdef USE_FOG", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "#ifdef FOG_EXP2", "const float LOG2 = 1.442695;", "float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "#else", "float fogFactor = smoothstep( fogNear, fogFar, depth );", "#endif", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "#endif"].join("\n"),
    envmap_pars_fragment: ["#ifdef USE_ENVMAP", "uniform float reflectivity;", "uniform samplerCube envMap;", "uniform float flipEnvMap;", "uniform int combine;", "#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )", "uniform bool useRefract;", "uniform float refractionRatio;", "#else", "varying vec3 vReflect;", "#endif", "#endif"].join("\n"),
    envmap_fragment: ["#ifdef USE_ENVMAP", "vec3 reflectVec;", "#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )", "vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );", "if ( useRefract ) {", "reflectVec = refract( cameraToVertex, normal, refractionRatio );", "} else { ", "reflectVec = reflect( cameraToVertex, normal );", "}", "#else", "reflectVec = vReflect;", "#endif", "#ifdef DOUBLE_SIDED", "float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );", "vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );", "#else", "vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );", "#endif", "#ifdef GAMMA_INPUT", "cubeColor.xyz *= cubeColor.xyz;", "#endif", "if ( combine == 1 ) {", "gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );", "} else if ( combine == 2 ) {", "gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;", "} else {", "gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );", "}", "#endif"].join("\n"),
    envmap_pars_vertex: ["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )", "varying vec3 vReflect;", "uniform float refractionRatio;", "uniform bool useRefract;", "#endif"].join("\n"),
    worldpos_vertex: ["#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )", "#ifdef USE_SKINNING", "vec4 worldPosition = modelMatrix * skinned;", "#endif", "#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )", "vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );", "#endif", "#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )", "vec4 worldPosition = modelMatrix * vec4( position, 1.0 );", "#endif", "#endif"].join("\n"),
    envmap_vertex: ["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )", "vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;", "worldNormal = normalize( worldNormal );", "vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );", "if ( useRefract ) {", "vReflect = refract( cameraToVertex, worldNormal, refractionRatio );", "} else {", "vReflect = reflect( cameraToVertex, worldNormal );", "}", "#endif"].join("\n"),
    map_particle_pars_fragment: ["#ifdef USE_MAP", "uniform sampler2D map;", "#endif"].join("\n"),
    map_particle_fragment: ["#ifdef USE_MAP", "gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );", "#endif"].join("\n"),
    map_pars_vertex: ["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )", "varying vec2 vUv;", "uniform vec4 offsetRepeat;", "#endif"].join("\n"),
    map_pars_fragment: ["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )", "varying vec2 vUv;", "#endif", "#ifdef USE_MAP", "uniform sampler2D map;", "#endif"].join("\n"),
    map_vertex: ["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )", "vUv = uv * offsetRepeat.zw + offsetRepeat.xy;", "#endif"].join("\n"),
    map_fragment: ["#ifdef USE_MAP", "vec4 texelColor = texture2D( map, vUv );", "#ifdef GAMMA_INPUT", "texelColor.xyz *= texelColor.xyz;", "#endif", "gl_FragColor = gl_FragColor * texelColor;", "#endif"].join("\n"),
    lightmap_pars_fragment: ["#ifdef USE_LIGHTMAP", "varying vec2 vUv2;", "uniform sampler2D lightMap;", "#endif"].join("\n"),
    lightmap_pars_vertex: ["#ifdef USE_LIGHTMAP", "varying vec2 vUv2;", "#endif"].join("\n"),
    lightmap_fragment: ["#ifdef USE_LIGHTMAP", "gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );", "#endif"].join("\n"),
    lightmap_vertex: ["#ifdef USE_LIGHTMAP", "vUv2 = uv2;", "#endif"].join("\n"),
    bumpmap_pars_fragment: ["#ifdef USE_BUMPMAP", "uniform sampler2D bumpMap;", "uniform float bumpScale;", "vec2 dHdxy_fwd() {", "vec2 dSTdx = dFdx( vUv );", "vec2 dSTdy = dFdy( vUv );", "float Hll = bumpScale * texture2D( bumpMap, vUv ).x;", "float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;", "float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;", "return vec2( dBx, dBy );", "}", "vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {", "vec3 vSigmaX = dFdx( surf_pos );", "vec3 vSigmaY = dFdy( surf_pos );", "vec3 vN = surf_norm;", "vec3 R1 = cross( vSigmaY, vN );", "vec3 R2 = cross( vN, vSigmaX );", "float fDet = dot( vSigmaX, R1 );", "vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );", "return normalize( abs( fDet ) * surf_norm - vGrad );", "}", "#endif"].join("\n"),
    normalmap_pars_fragment: ["#ifdef USE_NORMALMAP", "uniform sampler2D normalMap;", "uniform vec2 normalScale;", "vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {", "vec3 q0 = dFdx( eye_pos.xyz );", "vec3 q1 = dFdy( eye_pos.xyz );", "vec2 st0 = dFdx( vUv.st );", "vec2 st1 = dFdy( vUv.st );", "vec3 S = normalize(  q0 * st1.t - q1 * st0.t );", "vec3 T = normalize( -q0 * st1.s + q1 * st0.s );", "vec3 N = normalize( surf_norm );", "vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;", "mapN.xy = normalScale * mapN.xy;", "mat3 tsn = mat3( S, T, N );", "return normalize( tsn * mapN );", "}", "#endif"].join("\n"),
    specularmap_pars_fragment: ["#ifdef USE_SPECULARMAP", "uniform sampler2D specularMap;", "#endif"].join("\n"),
    specularmap_fragment: ["float specularStrength;", "#ifdef USE_SPECULARMAP", "vec4 texelSpecular = texture2D( specularMap, vUv );", "specularStrength = texelSpecular.r;", "#else", "specularStrength = 1.0;", "#endif"].join("\n"),
    lights_lambert_pars_vertex: ["uniform vec3 ambient;", "uniform vec3 diffuse;", "uniform vec3 emissive;", "uniform vec3 ambientLightColor;", "#if MAX_DIR_LIGHTS > 0", "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];", "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];", "#endif", "#if MAX_HEMI_LIGHTS > 0", "uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];", "uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];", "uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];", "#endif", "#if MAX_POINT_LIGHTS > 0", "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];", "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];", "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];", "#endif", "#if MAX_SPOT_LIGHTS > 0", "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];", "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];", "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];", "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];", "uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];", "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];", "#endif", "#ifdef WRAP_AROUND", "uniform vec3 wrapRGB;", "#endif"].join("\n"),
    lights_lambert_vertex: ["vLightFront = vec3( 0.0 );", "#ifdef DOUBLE_SIDED", "vLightBack = vec3( 0.0 );", "#endif", "transformedNormal = normalize( transformedNormal );", "#if MAX_DIR_LIGHTS > 0", "for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {", "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );", "vec3 dirVector = normalize( lDirection.xyz );", "float dotProduct = dot( transformedNormal, dirVector );", "vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );", "#ifdef DOUBLE_SIDED", "vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );", "#ifdef WRAP_AROUND", "vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );", "#endif", "#endif", "#ifdef WRAP_AROUND", "vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );", "directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );", "#ifdef DOUBLE_SIDED", "directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );", "#endif", "#endif", "vLightFront += directionalLightColor[ i ] * directionalLightWeighting;", "#ifdef DOUBLE_SIDED", "vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;", "#endif", "}", "#endif", "#if MAX_POINT_LIGHTS > 0", "for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {", "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );", "vec3 lVector = lPosition.xyz - mvPosition.xyz;", "float lDistance = 1.0;", "if ( pointLightDistance[ i ] > 0.0 )", "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );", "lVector = normalize( lVector );", "float dotProduct = dot( transformedNormal, lVector );", "vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );", "#ifdef DOUBLE_SIDED", "vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );", "#ifdef WRAP_AROUND", "vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );", "#endif", "#endif", "#ifdef WRAP_AROUND", "vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );", "pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );", "#ifdef DOUBLE_SIDED", "pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );", "#endif", "#endif", "vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;", "#ifdef DOUBLE_SIDED", "vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;", "#endif", "}", "#endif", "#if MAX_SPOT_LIGHTS > 0", "for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {", "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );", "vec3 lVector = lPosition.xyz - mvPosition.xyz;", "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );", "if ( spotEffect > spotLightAngleCos[ i ] ) {", "spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );", "float lDistance = 1.0;", "if ( spotLightDistance[ i ] > 0.0 )", "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );", "lVector = normalize( lVector );", "float dotProduct = dot( transformedNormal, lVector );", "vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );", "#ifdef DOUBLE_SIDED", "vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );", "#ifdef WRAP_AROUND", "vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );", "#endif", "#endif", "#ifdef WRAP_AROUND", "vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );", "spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );", "#ifdef DOUBLE_SIDED", "spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );", "#endif", "#endif", "vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;", "#ifdef DOUBLE_SIDED", "vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;", "#endif", "}", "}", "#endif", "#if MAX_HEMI_LIGHTS > 0", "for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {", "vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );", "vec3 lVector = normalize( lDirection.xyz );", "float dotProduct = dot( transformedNormal, lVector );", "float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;", "float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;", "vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );", "#ifdef DOUBLE_SIDED", "vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );", "#endif", "}", "#endif", "vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;", "#ifdef DOUBLE_SIDED", "vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;", "#endif"].join("\n"),
    lights_phong_pars_vertex: ["#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )", "varying vec3 vWorldPosition;", "#endif"].join("\n"),
    lights_phong_vertex: ["#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )", "vWorldPosition = worldPosition.xyz;", "#endif"].join("\n"),
    lights_phong_pars_fragment: ["uniform vec3 ambientLightColor;", "#if MAX_DIR_LIGHTS > 0", "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];", "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];", "#endif", "#if MAX_HEMI_LIGHTS > 0", "uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];", "uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];", "uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];", "#endif", "#if MAX_POINT_LIGHTS > 0", "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];", "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];", "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];", "#endif", "#if MAX_SPOT_LIGHTS > 0", "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];", "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];", "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];", "uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];", "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];", "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];", "#endif", "#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )", "varying vec3 vWorldPosition;", "#endif", "#ifdef WRAP_AROUND", "uniform vec3 wrapRGB;", "#endif", "varying vec3 vViewPosition;", "varying vec3 vNormal;"].join("\n"),
    lights_phong_fragment: ["vec3 normal = normalize( vNormal );", "vec3 viewPosition = normalize( vViewPosition );", "#ifdef DOUBLE_SIDED", "normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );", "#endif", "#ifdef USE_NORMALMAP", "normal = perturbNormal2Arb( -vViewPosition, normal );", "#elif defined( USE_BUMPMAP )", "normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );", "#endif", "#if MAX_POINT_LIGHTS > 0", "vec3 pointDiffuse  = vec3( 0.0 );", "vec3 pointSpecular = vec3( 0.0 );", "for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {", "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );", "vec3 lVector = lPosition.xyz + vViewPosition.xyz;", "float lDistance = 1.0;", "if ( pointLightDistance[ i ] > 0.0 )", "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );", "lVector = normalize( lVector );", "float dotProduct = dot( normal, lVector );", "#ifdef WRAP_AROUND", "float pointDiffuseWeightFull = max( dotProduct, 0.0 );", "float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );", "vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );", "#else", "float pointDiffuseWeight = max( dotProduct, 0.0 );", "#endif", "pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;", "vec3 pointHalfVector = normalize( lVector + viewPosition );", "float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );", "float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );", "pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;", "}", "#endif", "#if MAX_SPOT_LIGHTS > 0", "vec3 spotDiffuse  = vec3( 0.0 );", "vec3 spotSpecular = vec3( 0.0 );", "for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {", "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );", "vec3 lVector = lPosition.xyz + vViewPosition.xyz;", "float lDistance = 1.0;", "if ( spotLightDistance[ i ] > 0.0 )", "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );", "lVector = normalize( lVector );", "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );", "if ( spotEffect > spotLightAngleCos[ i ] ) {", "spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );", "float dotProduct = dot( normal, lVector );", "#ifdef WRAP_AROUND", "float spotDiffuseWeightFull = max( dotProduct, 0.0 );", "float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );", "vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );", "#else", "float spotDiffuseWeight = max( dotProduct, 0.0 );", "#endif", "spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;", "vec3 spotHalfVector = normalize( lVector + viewPosition );", "float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );", "float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );", "spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;", "}", "}", "#endif", "#if MAX_DIR_LIGHTS > 0", "vec3 dirDiffuse  = vec3( 0.0 );", "vec3 dirSpecular = vec3( 0.0 );", "for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {", "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );", "vec3 dirVector = normalize( lDirection.xyz );", "float dotProduct = dot( normal, dirVector );", "#ifdef WRAP_AROUND", "float dirDiffuseWeightFull = max( dotProduct, 0.0 );", "float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );", "vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );", "#else", "float dirDiffuseWeight = max( dotProduct, 0.0 );", "#endif", "dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;", "vec3 dirHalfVector = normalize( dirVector + viewPosition );", "float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );", "float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );", "dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;", "}", "#endif", "#if MAX_HEMI_LIGHTS > 0", "vec3 hemiDiffuse  = vec3( 0.0 );", "vec3 hemiSpecular = vec3( 0.0 );", "for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {", "vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );", "vec3 lVector = normalize( lDirection.xyz );", "float dotProduct = dot( normal, lVector );", "float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;", "vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );", "hemiDiffuse += diffuse * hemiColor;", "vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );", "float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;", "float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );", "vec3 lVectorGround = -lVector;", "vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );", "float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;", "float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );", "float dotProductGround = dot( normal, lVectorGround );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );", "vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );", "hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );", "}", "#endif", "vec3 totalDiffuse = vec3( 0.0 );", "vec3 totalSpecular = vec3( 0.0 );", "#if MAX_DIR_LIGHTS > 0", "totalDiffuse += dirDiffuse;", "totalSpecular += dirSpecular;", "#endif", "#if MAX_HEMI_LIGHTS > 0", "totalDiffuse += hemiDiffuse;", "totalSpecular += hemiSpecular;", "#endif", "#if MAX_POINT_LIGHTS > 0", "totalDiffuse += pointDiffuse;", "totalSpecular += pointSpecular;", "#endif", "#if MAX_SPOT_LIGHTS > 0", "totalDiffuse += spotDiffuse;", "totalSpecular += spotSpecular;", "#endif", "#ifdef METAL", "gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );", "#else", "gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;", "#endif"].join("\n"),
    color_pars_fragment: ["#ifdef USE_COLOR", "varying vec3 vColor;", "#endif"].join("\n"),
    color_fragment: ["#ifdef USE_COLOR", "gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );", "#endif"].join("\n"),
    color_pars_vertex: ["#ifdef USE_COLOR", "varying vec3 vColor;", "#endif"].join("\n"),
    color_vertex: ["#ifdef USE_COLOR", "#ifdef GAMMA_INPUT", "vColor = color * color;", "#else", "vColor = color;", "#endif", "#endif"].join("\n"),
    skinning_pars_vertex: ["#ifdef USE_SKINNING", "#ifdef BONE_TEXTURE", "uniform sampler2D boneTexture;", "uniform int boneTextureWidth;", "uniform int boneTextureHeight;", "mat4 getBoneMatrix( const in float i ) {", "float j = i * 4.0;", "float x = mod( j, float( boneTextureWidth ) );", "float y = floor( j / float( boneTextureWidth ) );", "float dx = 1.0 / float( boneTextureWidth );", "float dy = 1.0 / float( boneTextureHeight );", "y = dy * ( y + 0.5 );", "vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );", "vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );", "vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );", "vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );", "mat4 bone = mat4( v1, v2, v3, v4 );", "return bone;", "}", "#else", "uniform mat4 boneGlobalMatrices[ MAX_BONES ];", "mat4 getBoneMatrix( const in float i ) {", "mat4 bone = boneGlobalMatrices[ int(i) ];", "return bone;", "}", "#endif", "#endif"].join("\n"),
    skinbase_vertex: ["#ifdef USE_SKINNING", "mat4 boneMatX = getBoneMatrix( skinIndex.x );", "mat4 boneMatY = getBoneMatrix( skinIndex.y );", "mat4 boneMatZ = getBoneMatrix( skinIndex.z );", "mat4 boneMatW = getBoneMatrix( skinIndex.w );", "#endif"].join("\n"),
    skinning_vertex: ["#ifdef USE_SKINNING", "#ifdef USE_MORPHTARGETS", "vec4 skinVertex = vec4( morphed, 1.0 );", "#else", "vec4 skinVertex = vec4( position, 1.0 );", "#endif", "vec4 skinned  = boneMatX * skinVertex * skinWeight.x;", "skinned      += boneMatY * skinVertex * skinWeight.y;", "skinned      += boneMatZ * skinVertex * skinWeight.z;", "skinned      += boneMatW * skinVertex * skinWeight.w;", "#endif"].join("\n"),
    morphtarget_pars_vertex: ["#ifdef USE_MORPHTARGETS", "#ifndef USE_MORPHNORMALS", "uniform float morphTargetInfluences[ 8 ];", "#else", "uniform float morphTargetInfluences[ 4 ];", "#endif", "#endif"].join("\n"),
    morphtarget_vertex: ["#ifdef USE_MORPHTARGETS", "vec3 morphed = vec3( 0.0 );", "morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];", "morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];", "morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];", "morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];", "#ifndef USE_MORPHNORMALS", "morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];", "morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];", "morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];", "morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];", "#endif", "morphed += position;", "#endif"].join("\n"),
    default_vertex: ["vec4 mvPosition;", "#ifdef USE_SKINNING", "mvPosition = modelViewMatrix * skinned;", "#endif", "#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )", "mvPosition = modelViewMatrix * vec4( morphed, 1.0 );", "#endif", "#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )", "mvPosition = modelViewMatrix * vec4( position, 1.0 );", "#endif", "gl_Position = projectionMatrix * mvPosition;"].join("\n"),
    morphnormal_vertex: ["#ifdef USE_MORPHNORMALS", "vec3 morphedNormal = vec3( 0.0 );", "morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];", "morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];", "morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];", "morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];", "morphedNormal += normal;", "#endif"].join("\n"),
    skinnormal_vertex: ["#ifdef USE_SKINNING", "mat4 skinMatrix = skinWeight.x * boneMatX;", "skinMatrix 	+= skinWeight.y * boneMatY;", "#ifdef USE_MORPHNORMALS", "vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );", "#else", "vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );", "#endif", "#endif"].join("\n"),
    defaultnormal_vertex: ["vec3 objectNormal;", "#ifdef USE_SKINNING", "objectNormal = skinnedNormal.xyz;", "#endif", "#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )", "objectNormal = morphedNormal;", "#endif", "#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )", "objectNormal = normal;", "#endif", "#ifdef FLIP_SIDED", "objectNormal = -objectNormal;", "#endif", "vec3 transformedNormal = normalMatrix * objectNormal;"].join("\n"),
    shadowmap_pars_fragment: ["#ifdef USE_SHADOWMAP", "uniform sampler2D shadowMap[ MAX_SHADOWS ];", "uniform vec2 shadowMapSize[ MAX_SHADOWS ];", "uniform float shadowDarkness[ MAX_SHADOWS ];", "uniform float shadowBias[ MAX_SHADOWS ];", "varying vec4 vShadowCoord[ MAX_SHADOWS ];", "float unpackDepth( const in vec4 rgba_depth ) {", "const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );", "float depth = dot( rgba_depth, bit_shift );", "return depth;", "}", "#endif"].join("\n"),
    shadowmap_fragment: ["#ifdef USE_SHADOWMAP", "#ifdef SHADOWMAP_DEBUG", "vec3 frustumColors[3];", "frustumColors[0] = vec3( 1.0, 0.5, 0.0 );", "frustumColors[1] = vec3( 0.0, 1.0, 0.8 );", "frustumColors[2] = vec3( 0.0, 0.5, 1.0 );", "#endif", "#ifdef SHADOWMAP_CASCADE", "int inFrustumCount = 0;", "#endif", "float fDepth;", "vec3 shadowColor = vec3( 1.0 );", "for( int i = 0; i < MAX_SHADOWS; i ++ ) {", "vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;", "bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );", "bool inFrustum = all( inFrustumVec );", "#ifdef SHADOWMAP_CASCADE", "inFrustumCount += int( inFrustum );", "bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );", "#else", "bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );", "#endif", "bool frustumTest = all( frustumTestVec );", "if ( frustumTest ) {", "shadowCoord.z += shadowBias[ i ];", "#if defined( SHADOWMAP_TYPE_PCF )", "float shadow = 0.0;", "const float shadowDelta = 1.0 / 9.0;", "float xPixelOffset = 1.0 / shadowMapSize[ i ].x;", "float yPixelOffset = 1.0 / shadowMapSize[ i ].y;", "float dx0 = -1.25 * xPixelOffset;", "float dy0 = -1.25 * yPixelOffset;", "float dx1 = 1.25 * xPixelOffset;", "float dy1 = 1.25 * yPixelOffset;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );", "if ( fDepth < shadowCoord.z ) shadow += shadowDelta;", "shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );", "#elif defined( SHADOWMAP_TYPE_PCF_SOFT )", "float shadow = 0.0;", "float xPixelOffset = 1.0 / shadowMapSize[ i ].x;", "float yPixelOffset = 1.0 / shadowMapSize[ i ].y;", "float dx0 = -1.0 * xPixelOffset;", "float dy0 = -1.0 * yPixelOffset;", "float dx1 = 1.0 * xPixelOffset;", "float dy1 = 1.0 * yPixelOffset;", "mat3 shadowKernel;", "mat3 depthKernel;", "depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );", "depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );", "depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );", "depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );", "depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );", "depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );", "depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );", "depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );", "depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );", "vec3 shadowZ = vec3( shadowCoord.z );", "shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));", "shadowKernel[0] *= vec3(0.25);", "shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));", "shadowKernel[1] *= vec3(0.25);", "shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));", "shadowKernel[2] *= vec3(0.25);", "vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );", "shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );", "shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );", "vec4 shadowValues;", "shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );", "shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );", "shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );", "shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );", "shadow = dot( shadowValues, vec4( 1.0 ) );", "shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );", "#else", "vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );", "float fDepth = unpackDepth( rgbaDepth );", "if ( fDepth < shadowCoord.z )", "shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );", "#endif", "}", "#ifdef SHADOWMAP_DEBUG", "#ifdef SHADOWMAP_CASCADE", "if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];", "#else", "if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];", "#endif", "#endif", "}", "#ifdef GAMMA_OUTPUT", "shadowColor *= shadowColor;", "#endif", "gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;", "#endif"].join("\n"),
    shadowmap_pars_vertex: ["#ifdef USE_SHADOWMAP", "varying vec4 vShadowCoord[ MAX_SHADOWS ];", "uniform mat4 shadowMatrix[ MAX_SHADOWS ];", "#endif"].join("\n"),
    shadowmap_vertex: ["#ifdef USE_SHADOWMAP", "for( int i = 0; i < MAX_SHADOWS; i ++ ) {", "vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;", "}", "#endif"].join("\n"),
    alphatest_fragment: ["#ifdef ALPHATEST", "if ( gl_FragColor.a < ALPHATEST ) discard;", "#endif"].join("\n"),
    linear_to_gamma_fragment: ["#ifdef GAMMA_OUTPUT", "gl_FragColor.xyz = sqrt( gl_FragColor.xyz );", "#endif"].join("\n")
},THREE.UniformsUtils = {
    merge: function (e) {
        var t, n, r, i = {};
        for (t = 0; t < e.length; t++) {
            r = this.clone(e[t]);
            for (n in r)i[n] = r[n]
        }
        return i
    }, clone: function (e) {
        var t, n, r, i = {};
        for (t in e) {
            i[t] = {};
            for (n in e[t])r = e[t][n], i[t][n] = r instanceof THREE.Color || r instanceof THREE.Vector2 || r instanceof THREE.Vector3 || r instanceof THREE.Vector4 || r instanceof THREE.Matrix4 || r instanceof THREE.Texture ? r.clone() : r instanceof Array ? r.slice() : r
        }
        return i
    }
},THREE.UniformsLib = {
    common: {
        diffuse: {type: "c", value: new THREE.Color(15658734)},
        opacity: {type: "f", value: 1},
        map: {type: "t", value: null},
        offsetRepeat: {type: "v4", value: new THREE.Vector4(0, 0, 1, 1)},
        lightMap: {type: "t", value: null},
        specularMap: {type: "t", value: null},
        envMap: {type: "t", value: null},
        flipEnvMap: {type: "f", value: -1},
        useRefract: {type: "i", value: 0},
        reflectivity: {type: "f", value: 1},
        refractionRatio: {type: "f", value: .98},
        combine: {type: "i", value: 0},
        morphTargetInfluences: {type: "f", value: 0}
    },
    bump: {bumpMap: {type: "t", value: null}, bumpScale: {type: "f", value: 1}},
    normalmap: {normalMap: {type: "t", value: null}, normalScale: {type: "v2", value: new THREE.Vector2(1, 1)}},
    fog: {
        fogDensity: {type: "f", value: 25e-5},
        fogNear: {type: "f", value: 1},
        fogFar: {type: "f", value: 2e3},
        fogColor: {type: "c", value: new THREE.Color(16777215)}
    },
    lights: {
        ambientLightColor: {type: "fv", value: []},
        directionalLightDirection: {type: "fv", value: []},
        directionalLightColor: {type: "fv", value: []},
        hemisphereLightDirection: {type: "fv", value: []},
        hemisphereLightSkyColor: {type: "fv", value: []},
        hemisphereLightGroundColor: {type: "fv", value: []},
        pointLightColor: {type: "fv", value: []},
        pointLightPosition: {type: "fv", value: []},
        pointLightDistance: {type: "fv1", value: []},
        spotLightColor: {type: "fv", value: []},
        spotLightPosition: {type: "fv", value: []},
        spotLightDirection: {type: "fv", value: []},
        spotLightDistance: {type: "fv1", value: []},
        spotLightAngleCos: {type: "fv1", value: []},
        spotLightExponent: {type: "fv1", value: []}
    },
    particle: {
        psColor: {type: "c", value: new THREE.Color(15658734)},
        opacity: {type: "f", value: 1},
        size: {type: "f", value: 1},
        scale: {type: "f", value: 1},
        map: {type: "t", value: null},
        fogDensity: {type: "f", value: 25e-5},
        fogNear: {type: "f", value: 1},
        fogFar: {type: "f", value: 2e3},
        fogColor: {type: "c", value: new THREE.Color(16777215)}
    },
    shadowmap: {
        shadowMap: {type: "tv", value: []},
        shadowMapSize: {type: "v2v", value: []},
        shadowBias: {type: "fv1", value: []},
        shadowDarkness: {type: "fv1", value: []},
        shadowMatrix: {type: "m4v", value: []}
    }
},THREE.ShaderLib = {
    basic: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.fog, THREE.UniformsLib.shadowmap]),
        vertexShader: [THREE.ShaderChunk.map_pars_vertex, THREE.ShaderChunk.lightmap_pars_vertex, THREE.ShaderChunk.envmap_pars_vertex, THREE.ShaderChunk.color_pars_vertex, THREE.ShaderChunk.morphtarget_pars_vertex, THREE.ShaderChunk.skinning_pars_vertex, THREE.ShaderChunk.shadowmap_pars_vertex, "void main() {", THREE.ShaderChunk.map_vertex, THREE.ShaderChunk.lightmap_vertex, THREE.ShaderChunk.color_vertex, THREE.ShaderChunk.skinbase_vertex, "#ifdef USE_ENVMAP", THREE.ShaderChunk.morphnormal_vertex, THREE.ShaderChunk.skinnormal_vertex, THREE.ShaderChunk.defaultnormal_vertex, "#endif", THREE.ShaderChunk.morphtarget_vertex, THREE.ShaderChunk.skinning_vertex, THREE.ShaderChunk.default_vertex, THREE.ShaderChunk.worldpos_vertex, THREE.ShaderChunk.envmap_vertex, THREE.ShaderChunk.shadowmap_vertex, "}"].join("\n"),
        fragmentShader: ["uniform vec3 diffuse;", "uniform float opacity;", THREE.ShaderChunk.color_pars_fragment, THREE.ShaderChunk.map_pars_fragment, THREE.ShaderChunk.lightmap_pars_fragment, THREE.ShaderChunk.envmap_pars_fragment, THREE.ShaderChunk.fog_pars_fragment, THREE.ShaderChunk.shadowmap_pars_fragment, THREE.ShaderChunk.specularmap_pars_fragment, "void main() {", "gl_FragColor = vec4( diffuse, opacity );", THREE.ShaderChunk.map_fragment, THREE.ShaderChunk.alphatest_fragment, THREE.ShaderChunk.specularmap_fragment, THREE.ShaderChunk.lightmap_fragment, THREE.ShaderChunk.color_fragment, THREE.ShaderChunk.envmap_fragment, THREE.ShaderChunk.shadowmap_fragment, THREE.ShaderChunk.linear_to_gamma_fragment, THREE.ShaderChunk.fog_fragment, "}"].join("\n")
    },
    lambert: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.fog, THREE.UniformsLib.lights, THREE.UniformsLib.shadowmap, {
            ambient: {
                type: "c",
                value: new THREE.Color(16777215)
            },
            emissive: {type: "c", value: new THREE.Color(0)},
            wrapRGB: {type: "v3", value: new THREE.Vector3(1, 1, 1)}
        }]),
        vertexShader: ["#define LAMBERT", "varying vec3 vLightFront;", "#ifdef DOUBLE_SIDED", "varying vec3 vLightBack;", "#endif", THREE.ShaderChunk.map_pars_vertex, THREE.ShaderChunk.lightmap_pars_vertex, THREE.ShaderChunk.envmap_pars_vertex, THREE.ShaderChunk.lights_lambert_pars_vertex, THREE.ShaderChunk.color_pars_vertex, THREE.ShaderChunk.morphtarget_pars_vertex, THREE.ShaderChunk.skinning_pars_vertex, THREE.ShaderChunk.shadowmap_pars_vertex, "void main() {", THREE.ShaderChunk.map_vertex, THREE.ShaderChunk.lightmap_vertex, THREE.ShaderChunk.color_vertex, THREE.ShaderChunk.morphnormal_vertex, THREE.ShaderChunk.skinbase_vertex, THREE.ShaderChunk.skinnormal_vertex, THREE.ShaderChunk.defaultnormal_vertex, THREE.ShaderChunk.morphtarget_vertex, THREE.ShaderChunk.skinning_vertex, THREE.ShaderChunk.default_vertex, THREE.ShaderChunk.worldpos_vertex, THREE.ShaderChunk.envmap_vertex, THREE.ShaderChunk.lights_lambert_vertex, THREE.ShaderChunk.shadowmap_vertex, "}"].join("\n"),
        fragmentShader: ["uniform float opacity;", "varying vec3 vLightFront;", "#ifdef DOUBLE_SIDED", "varying vec3 vLightBack;", "#endif", THREE.ShaderChunk.color_pars_fragment, THREE.ShaderChunk.map_pars_fragment, THREE.ShaderChunk.lightmap_pars_fragment, THREE.ShaderChunk.envmap_pars_fragment, THREE.ShaderChunk.fog_pars_fragment, THREE.ShaderChunk.shadowmap_pars_fragment, THREE.ShaderChunk.specularmap_pars_fragment, "void main() {", "gl_FragColor = vec4( vec3 ( 1.0 ), opacity );", THREE.ShaderChunk.map_fragment, THREE.ShaderChunk.alphatest_fragment, THREE.ShaderChunk.specularmap_fragment, "#ifdef DOUBLE_SIDED", "if ( gl_FrontFacing )", "gl_FragColor.xyz *= vLightFront;", "else", "gl_FragColor.xyz *= vLightBack;", "#else", "gl_FragColor.xyz *= vLightFront;", "#endif", THREE.ShaderChunk.lightmap_fragment, THREE.ShaderChunk.color_fragment, THREE.ShaderChunk.envmap_fragment, THREE.ShaderChunk.shadowmap_fragment, THREE.ShaderChunk.linear_to_gamma_fragment, THREE.ShaderChunk.fog_fragment, "}"].join("\n")
    },
    phong: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.bump, THREE.UniformsLib.normalmap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, THREE.UniformsLib.shadowmap, {
            ambient: {
                type: "c",
                value: new THREE.Color(16777215)
            },
            emissive: {type: "c", value: new THREE.Color(0)},
            specular: {type: "c", value: new THREE.Color(1118481)},
            shininess: {type: "f", value: 30},
            wrapRGB: {type: "v3", value: new THREE.Vector3(1, 1, 1)}
        }]),
        vertexShader: ["#define PHONG", "varying vec3 vViewPosition;", "varying vec3 vNormal;", THREE.ShaderChunk.map_pars_vertex, THREE.ShaderChunk.lightmap_pars_vertex, THREE.ShaderChunk.envmap_pars_vertex, THREE.ShaderChunk.lights_phong_pars_vertex, THREE.ShaderChunk.color_pars_vertex, THREE.ShaderChunk.morphtarget_pars_vertex, THREE.ShaderChunk.skinning_pars_vertex, THREE.ShaderChunk.shadowmap_pars_vertex, "void main() {", THREE.ShaderChunk.map_vertex, THREE.ShaderChunk.lightmap_vertex, THREE.ShaderChunk.color_vertex, THREE.ShaderChunk.morphnormal_vertex, THREE.ShaderChunk.skinbase_vertex, THREE.ShaderChunk.skinnormal_vertex, THREE.ShaderChunk.defaultnormal_vertex, "vNormal = normalize( transformedNormal );", THREE.ShaderChunk.morphtarget_vertex, THREE.ShaderChunk.skinning_vertex, THREE.ShaderChunk.default_vertex, "vViewPosition = -mvPosition.xyz;", THREE.ShaderChunk.worldpos_vertex, THREE.ShaderChunk.envmap_vertex, THREE.ShaderChunk.lights_phong_vertex, THREE.ShaderChunk.shadowmap_vertex, "}"].join("\n"),
        fragmentShader: ["uniform vec3 diffuse;", "uniform float opacity;", "uniform vec3 ambient;", "uniform vec3 emissive;", "uniform vec3 specular;", "uniform float shininess;", THREE.ShaderChunk.color_pars_fragment, THREE.ShaderChunk.map_pars_fragment, THREE.ShaderChunk.lightmap_pars_fragment, THREE.ShaderChunk.envmap_pars_fragment, THREE.ShaderChunk.fog_pars_fragment, THREE.ShaderChunk.lights_phong_pars_fragment, THREE.ShaderChunk.shadowmap_pars_fragment, THREE.ShaderChunk.bumpmap_pars_fragment, THREE.ShaderChunk.normalmap_pars_fragment, THREE.ShaderChunk.specularmap_pars_fragment, "void main() {", "gl_FragColor = vec4( vec3 ( 1.0 ), opacity );", THREE.ShaderChunk.map_fragment, THREE.ShaderChunk.alphatest_fragment, THREE.ShaderChunk.specularmap_fragment, THREE.ShaderChunk.lights_phong_fragment, THREE.ShaderChunk.lightmap_fragment, THREE.ShaderChunk.color_fragment, THREE.ShaderChunk.envmap_fragment, THREE.ShaderChunk.shadowmap_fragment, THREE.ShaderChunk.linear_to_gamma_fragment, THREE.ShaderChunk.fog_fragment, "}"].join("\n")
    },
    particle_basic: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.particle, THREE.UniformsLib.shadowmap]),
        vertexShader: ["uniform float size;", "uniform float scale;", THREE.ShaderChunk.color_pars_vertex, THREE.ShaderChunk.shadowmap_pars_vertex, "void main() {", THREE.ShaderChunk.color_vertex, "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", "#ifdef USE_SIZEATTENUATION", "gl_PointSize = size * ( scale / length( mvPosition.xyz ) );", "#else", "gl_PointSize = size;", "#endif", "gl_Position = projectionMatrix * mvPosition;", THREE.ShaderChunk.worldpos_vertex, THREE.ShaderChunk.shadowmap_vertex, "}"].join("\n"),
        fragmentShader: ["uniform vec3 psColor;", "uniform float opacity;", THREE.ShaderChunk.color_pars_fragment, THREE.ShaderChunk.map_particle_pars_fragment, THREE.ShaderChunk.fog_pars_fragment, THREE.ShaderChunk.shadowmap_pars_fragment, "void main() {", "gl_FragColor = vec4( psColor, opacity );", THREE.ShaderChunk.map_particle_fragment, THREE.ShaderChunk.alphatest_fragment, THREE.ShaderChunk.color_fragment, THREE.ShaderChunk.shadowmap_fragment, THREE.ShaderChunk.fog_fragment, "}"].join("\n")
    },
    dashed: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.fog, {
            scale: {
                type: "f",
                value: 1
            }, dashSize: {type: "f", value: 1}, totalSize: {type: "f", value: 2}
        }]),
        vertexShader: ["uniform float scale;", "attribute float lineDistance;", "varying float vLineDistance;", THREE.ShaderChunk.color_pars_vertex, "void main() {", THREE.ShaderChunk.color_vertex, "vLineDistance = scale * lineDistance;", "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", "gl_Position = projectionMatrix * mvPosition;", "}"].join("\n"),
        fragmentShader: ["uniform vec3 diffuse;", "uniform float opacity;", "uniform float dashSize;", "uniform float totalSize;", "varying float vLineDistance;", THREE.ShaderChunk.color_pars_fragment, THREE.ShaderChunk.fog_pars_fragment, "void main() {", "if ( mod( vLineDistance, totalSize ) > dashSize ) {", "discard;", "}", "gl_FragColor = vec4( diffuse, opacity );", THREE.ShaderChunk.color_fragment, THREE.ShaderChunk.fog_fragment, "}"].join("\n")
    },
    depth: {
        uniforms: {mNear: {type: "f", value: 1}, mFar: {type: "f", value: 2e3}, opacity: {type: "f", value: 1}},
        vertexShader: ["void main() {", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
        fragmentShader: ["uniform float mNear;", "uniform float mFar;", "uniform float opacity;", "void main() {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float color = 1.0 - smoothstep( mNear, mFar, depth );", "gl_FragColor = vec4( vec3( color ), opacity );", "}"].join("\n")
    },
    normal: {
        uniforms: {opacity: {type: "f", value: 1}},
        vertexShader: ["varying vec3 vNormal;", THREE.ShaderChunk.morphtarget_pars_vertex, "void main() {", "vNormal = normalize( normalMatrix * normal );", THREE.ShaderChunk.morphtarget_vertex, THREE.ShaderChunk.default_vertex, "}"].join("\n"),
        fragmentShader: ["uniform float opacity;", "varying vec3 vNormal;", "void main() {", "gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );", "}"].join("\n")
    },
    normalmap: {
        uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.fog, THREE.UniformsLib.lights, THREE.UniformsLib.shadowmap, {
            enableAO: {
                type: "i",
                value: 0
            },
            enableDiffuse: {type: "i", value: 0},
            enableSpecular: {type: "i", value: 0},
            enableReflection: {type: "i", value: 0},
            enableDisplacement: {type: "i", value: 0},
            tDisplacement: {type: "t", value: null},
            tDiffuse: {type: "t", value: null},
            tCube: {type: "t", value: null},
            tNormal: {type: "t", value: null},
            tSpecular: {type: "t", value: null},
            tAO: {type: "t", value: null},
            uNormalScale: {type: "v2", value: new THREE.Vector2(1, 1)},
            uDisplacementBias: {type: "f", value: 0},
            uDisplacementScale: {type: "f", value: 1},
            diffuse: {type: "c", value: new THREE.Color(16777215)},
            specular: {type: "c", value: new THREE.Color(1118481)},
            ambient: {type: "c", value: new THREE.Color(16777215)},
            shininess: {type: "f", value: 30},
            opacity: {type: "f", value: 1},
            useRefract: {type: "i", value: 0},
            refractionRatio: {type: "f", value: .98},
            reflectivity: {type: "f", value: .5},
            uOffset: {type: "v2", value: new THREE.Vector2(0, 0)},
            uRepeat: {type: "v2", value: new THREE.Vector2(1, 1)},
            wrapRGB: {type: "v3", value: new THREE.Vector3(1, 1, 1)}
        }]),
        fragmentShader: ["uniform vec3 ambient;", "uniform vec3 diffuse;", "uniform vec3 specular;", "uniform float shininess;", "uniform float opacity;", "uniform bool enableDiffuse;", "uniform bool enableSpecular;", "uniform bool enableAO;", "uniform bool enableReflection;", "uniform sampler2D tDiffuse;", "uniform sampler2D tNormal;", "uniform sampler2D tSpecular;", "uniform sampler2D tAO;", "uniform samplerCube tCube;", "uniform vec2 uNormalScale;", "uniform bool useRefract;", "uniform float refractionRatio;", "uniform float reflectivity;", "varying vec3 vTangent;", "varying vec3 vBinormal;", "varying vec3 vNormal;", "varying vec2 vUv;", "uniform vec3 ambientLightColor;", "#if MAX_DIR_LIGHTS > 0", "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];", "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];", "#endif", "#if MAX_HEMI_LIGHTS > 0", "uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];", "uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];", "uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];", "#endif", "#if MAX_POINT_LIGHTS > 0", "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];", "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];", "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];", "#endif", "#if MAX_SPOT_LIGHTS > 0", "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];", "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];", "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];", "uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];", "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];", "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];", "#endif", "#ifdef WRAP_AROUND", "uniform vec3 wrapRGB;", "#endif", "varying vec3 vWorldPosition;", "varying vec3 vViewPosition;", THREE.ShaderChunk.shadowmap_pars_fragment, THREE.ShaderChunk.fog_pars_fragment, "void main() {", "gl_FragColor = vec4( vec3( 1.0 ), opacity );", "vec3 specularTex = vec3( 1.0 );", "vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;", "normalTex.xy *= uNormalScale;", "normalTex = normalize( normalTex );", "if( enableDiffuse ) {", "#ifdef GAMMA_INPUT", "vec4 texelColor = texture2D( tDiffuse, vUv );", "texelColor.xyz *= texelColor.xyz;", "gl_FragColor = gl_FragColor * texelColor;", "#else", "gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );", "#endif", "}", "if( enableAO ) {", "#ifdef GAMMA_INPUT", "vec4 aoColor = texture2D( tAO, vUv );", "aoColor.xyz *= aoColor.xyz;", "gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;", "#else", "gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;", "#endif", "}", "if( enableSpecular )", "specularTex = texture2D( tSpecular, vUv ).xyz;", "mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );", "vec3 finalNormal = tsb * normalTex;", "#ifdef FLIP_SIDED", "finalNormal = -finalNormal;", "#endif", "vec3 normal = normalize( finalNormal );", "vec3 viewPosition = normalize( vViewPosition );", "#if MAX_POINT_LIGHTS > 0", "vec3 pointDiffuse = vec3( 0.0 );", "vec3 pointSpecular = vec3( 0.0 );", "for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {", "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );", "vec3 pointVector = lPosition.xyz + vViewPosition.xyz;", "float pointDistance = 1.0;", "if ( pointLightDistance[ i ] > 0.0 )", "pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );", "pointVector = normalize( pointVector );", "#ifdef WRAP_AROUND", "float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );", "float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );", "vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );", "#else", "float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );", "#endif", "pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;", "vec3 pointHalfVector = normalize( pointVector + viewPosition );", "float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );", "float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );", "pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;", "}", "#endif", "#if MAX_SPOT_LIGHTS > 0", "vec3 spotDiffuse = vec3( 0.0 );", "vec3 spotSpecular = vec3( 0.0 );", "for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {", "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );", "vec3 spotVector = lPosition.xyz + vViewPosition.xyz;", "float spotDistance = 1.0;", "if ( spotLightDistance[ i ] > 0.0 )", "spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );", "spotVector = normalize( spotVector );", "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );", "if ( spotEffect > spotLightAngleCos[ i ] ) {", "spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );", "#ifdef WRAP_AROUND", "float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );", "float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );", "vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );", "#else", "float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );", "#endif", "spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;", "vec3 spotHalfVector = normalize( spotVector + viewPosition );", "float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );", "float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );", "spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;", "}", "}", "#endif", "#if MAX_DIR_LIGHTS > 0", "vec3 dirDiffuse = vec3( 0.0 );", "vec3 dirSpecular = vec3( 0.0 );", "for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {", "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );", "vec3 dirVector = normalize( lDirection.xyz );", "#ifdef WRAP_AROUND", "float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );", "float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );", "vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );", "#else", "float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );", "#endif", "dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;", "vec3 dirHalfVector = normalize( dirVector + viewPosition );", "float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );", "float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );", "dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;", "}", "#endif", "#if MAX_HEMI_LIGHTS > 0", "vec3 hemiDiffuse  = vec3( 0.0 );", "vec3 hemiSpecular = vec3( 0.0 );", "for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {", "vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );", "vec3 lVector = normalize( lDirection.xyz );", "float dotProduct = dot( normal, lVector );", "float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;", "vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );", "hemiDiffuse += diffuse * hemiColor;", "vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );", "float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;", "float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );", "vec3 lVectorGround = -lVector;", "vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );", "float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;", "float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );", "float dotProductGround = dot( normal, lVectorGround );", "float specularNormalization = ( shininess + 2.0001 ) / 8.0;", "vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );", "vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );", "hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );", "}", "#endif", "vec3 totalDiffuse = vec3( 0.0 );", "vec3 totalSpecular = vec3( 0.0 );", "#if MAX_DIR_LIGHTS > 0", "totalDiffuse += dirDiffuse;", "totalSpecular += dirSpecular;", "#endif", "#if MAX_HEMI_LIGHTS > 0", "totalDiffuse += hemiDiffuse;", "totalSpecular += hemiSpecular;", "#endif", "#if MAX_POINT_LIGHTS > 0", "totalDiffuse += pointDiffuse;", "totalSpecular += pointSpecular;", "#endif", "#if MAX_SPOT_LIGHTS > 0", "totalDiffuse += spotDiffuse;", "totalSpecular += spotSpecular;", "#endif", "#ifdef METAL", "gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );", "#else", "gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;", "#endif", "if ( enableReflection ) {", "vec3 vReflect;", "vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );", "if ( useRefract ) {", "vReflect = refract( cameraToVertex, normal, refractionRatio );", "} else {", "vReflect = reflect( cameraToVertex, normal );", "}", "vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );", "#ifdef GAMMA_INPUT", "cubeColor.xyz *= cubeColor.xyz;", "#endif", "gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );", "}", THREE.ShaderChunk.shadowmap_fragment, THREE.ShaderChunk.linear_to_gamma_fragment, THREE.ShaderChunk.fog_fragment, "}"].join("\n"),
        vertexShader: ["attribute vec4 tangent;", "uniform vec2 uOffset;", "uniform vec2 uRepeat;", "uniform bool enableDisplacement;", "#ifdef VERTEX_TEXTURES", "uniform sampler2D tDisplacement;", "uniform float uDisplacementScale;", "uniform float uDisplacementBias;", "#endif", "varying vec3 vTangent;", "varying vec3 vBinormal;", "varying vec3 vNormal;", "varying vec2 vUv;", "varying vec3 vWorldPosition;", "varying vec3 vViewPosition;", THREE.ShaderChunk.skinning_pars_vertex, THREE.ShaderChunk.shadowmap_pars_vertex, "void main() {", THREE.ShaderChunk.skinbase_vertex, THREE.ShaderChunk.skinnormal_vertex, "#ifdef USE_SKINNING", "vNormal = normalize( normalMatrix * skinnedNormal.xyz );", "vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );", "vTangent = normalize( normalMatrix * skinnedTangent.xyz );", "#else", "vNormal = normalize( normalMatrix * normal );", "vTangent = normalize( normalMatrix * tangent.xyz );", "#endif", "vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );", "vUv = uv * uRepeat + uOffset;", "vec3 displacedPosition;", "#ifdef VERTEX_TEXTURES", "if ( enableDisplacement ) {", "vec3 dv = texture2D( tDisplacement, uv ).xyz;", "float df = uDisplacementScale * dv.x + uDisplacementBias;", "displacedPosition = position + normalize( normal ) * df;", "} else {", "#ifdef USE_SKINNING", "vec4 skinVertex = vec4( position, 1.0 );", "vec4 skinned  = boneMatX * skinVertex * skinWeight.x;", "skinned 	  += boneMatY * skinVertex * skinWeight.y;", "displacedPosition  = skinned.xyz;", "#else", "displacedPosition = position;", "#endif", "}", "#else", "#ifdef USE_SKINNING", "vec4 skinVertex = vec4( position, 1.0 );", "vec4 skinned  = boneMatX * skinVertex * skinWeight.x;", "skinned 	  += boneMatY * skinVertex * skinWeight.y;", "displacedPosition  = skinned.xyz;", "#else", "displacedPosition = position;", "#endif", "#endif", "vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );", "vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );", "gl_Position = projectionMatrix * mvPosition;", "vWorldPosition = worldPosition.xyz;", "vViewPosition = -mvPosition.xyz;", "#ifdef USE_SHADOWMAP", "for( int i = 0; i < MAX_SHADOWS; i ++ ) {", "vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;", "}", "#endif", "}"].join("\n")
    },
    cube: {
        uniforms: {tCube: {type: "t", value: null}, tFlip: {type: "f", value: -1}},
        vertexShader: ["varying vec3 vWorldPosition;", "void main() {", "vec4 worldPosition = modelMatrix * vec4( position, 1.0 );", "vWorldPosition = worldPosition.xyz;", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
        fragmentShader: ["uniform samplerCube tCube;", "uniform float tFlip;", "varying vec3 vWorldPosition;", "void main() {", "gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );", "}"].join("\n")
    },
    depthRGBA: {
        uniforms: {},
        vertexShader: [THREE.ShaderChunk.morphtarget_pars_vertex, THREE.ShaderChunk.skinning_pars_vertex, "void main() {", THREE.ShaderChunk.skinbase_vertex, THREE.ShaderChunk.morphtarget_vertex, THREE.ShaderChunk.skinning_vertex, THREE.ShaderChunk.default_vertex, "}"].join("\n"),
        fragmentShader: ["vec4 pack_depth( const in float depth ) {", "const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );", "const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );", "vec4 res = fract( depth * bit_shift );", "res -= res.xxyz * bit_mask;", "return res;", "}", "void main() {", "gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );", "}"].join("\n")
    }
},THREE.WebGLRenderer = function (e) {
    function t(e) {
        e.__webglVertexBuffer = kt.createBuffer(), e.__webglColorBuffer = kt.createBuffer(), Gt.info.memory.geometries++
    }

    function n(e) {
        e.__webglVertexBuffer = kt.createBuffer(), e.__webglColorBuffer = kt.createBuffer(), e.__webglLineDistanceBuffer = kt.createBuffer(), Gt.info.memory.geometries++
    }

    function r(e) {
        e.__webglVertexBuffer = kt.createBuffer(), e.__webglNormalBuffer = kt.createBuffer(), e.__webglTangentBuffer = kt.createBuffer(), e.__webglColorBuffer = kt.createBuffer(), e.__webglUVBuffer = kt.createBuffer(), e.__webglUV2Buffer = kt.createBuffer(), e.__webglSkinIndicesBuffer = kt.createBuffer(), e.__webglSkinWeightsBuffer = kt.createBuffer(), e.__webglFaceBuffer = kt.createBuffer(), e.__webglLineBuffer = kt.createBuffer();
        var t, n;
        if (e.numMorphTargets)for (e.__webglMorphTargetsBuffers = [], t = 0, n = e.numMorphTargets; n > t; t++)e.__webglMorphTargetsBuffers.push(kt.createBuffer());
        if (e.numMorphNormals)for (e.__webglMorphNormalsBuffers = [], t = 0, n = e.numMorphNormals; n > t; t++)e.__webglMorphNormalsBuffers.push(kt.createBuffer());
        Gt.info.memory.geometries++
    }

    function i(e, t) {
        var n = e.vertices.length, r = t.material;
        if (r.attributes) {
            void 0 === e.__webglCustomAttributesList && (e.__webglCustomAttributesList = []);
            for (var i in r.attributes) {
                var a = r.attributes[i];
                if (!a.__webglInitialized || a.createUniqueBuffers) {
                    a.__webglInitialized = !0;
                    var o = 1;
                    "v2" === a.type ? o = 2 : "v3" === a.type ? o = 3 : "v4" === a.type ? o = 4 : "c" === a.type && (o = 3), a.size = o, a.array = new Float32Array(n * o), a.buffer = kt.createBuffer(), a.buffer.belongsToAttribute = i, a.needsUpdate = !0
                }
                e.__webglCustomAttributesList.push(a)
            }
        }
    }

    function a(e, t) {
        var n = e.vertices.length;
        e.__vertexArray = new Float32Array(3 * n), e.__colorArray = new Float32Array(3 * n), e.__sortArray = [], e.__webglParticleCount = n, i(e, t)
    }

    function o(e, t) {
        var n = e.vertices.length;
        e.__vertexArray = new Float32Array(3 * n), e.__colorArray = new Float32Array(3 * n), e.__lineDistanceArray = new Float32Array(1 * n), e.__webglLineCount = n, i(e, t)
    }

    function s(e, t) {
        var n = t.geometry, r = e.faces3, i = 3 * r.length, a = 1 * r.length, o = 3 * r.length, s = l(t, e), u = A(s), f = h(s), d = c(s);
        e.__vertexArray = new Float32Array(3 * i), f && (e.__normalArray = new Float32Array(3 * i)), n.hasTangents && (e.__tangentArray = new Float32Array(4 * i)), d && (e.__colorArray = new Float32Array(3 * i)), u && (n.faceVertexUvs.length > 0 && (e.__uvArray = new Float32Array(2 * i)), n.faceVertexUvs.length > 1 && (e.__uv2Array = new Float32Array(2 * i))), t.geometry.skinWeights.length && t.geometry.skinIndices.length && (e.__skinIndexArray = new Float32Array(4 * i), e.__skinWeightArray = new Float32Array(4 * i)), e.__faceArray = new Uint16Array(3 * a), e.__lineArray = new Uint16Array(2 * o);
        var p, m;
        if (e.numMorphTargets)for (e.__morphTargetsArrays = [], p = 0, m = e.numMorphTargets; m > p; p++)e.__morphTargetsArrays.push(new Float32Array(3 * i));
        if (e.numMorphNormals)for (e.__morphNormalsArrays = [], p = 0, m = e.numMorphNormals; m > p; p++)e.__morphNormalsArrays.push(new Float32Array(3 * i));
        if (e.__webglFaceCount = 3 * a, e.__webglLineCount = 2 * o, s.attributes) {
            void 0 === e.__webglCustomAttributesList && (e.__webglCustomAttributesList = []);
            for (var g in s.attributes) {
                var v = s.attributes[g], y = {};
                for (var E in v)y[E] = v[E];
                if (!y.__webglInitialized || y.createUniqueBuffers) {
                    y.__webglInitialized = !0;
                    var b = 1;
                    "v2" === y.type ? b = 2 : "v3" === y.type ? b = 3 : "v4" === y.type ? b = 4 : "c" === y.type && (b = 3), y.size = b, y.array = new Float32Array(i * b), y.buffer = kt.createBuffer(), y.buffer.belongsToAttribute = g, v.needsUpdate = !0, y.__original = v
                }
                e.__webglCustomAttributesList.push(y)
            }
        }
        e.__inittedArrays = !0
    }

    function l(e, t) {
        return e.material instanceof THREE.MeshFaceMaterial ? e.material.materials[t.materialIndex] : e.material
    }

    function u(e) {
        return e && void 0 !== e.shading && e.shading === THREE.SmoothShading
    }

    function h(e) {
        return e instanceof THREE.MeshBasicMaterial && !e.envMap || e instanceof THREE.MeshDepthMaterial ? !1 : u(e) ? THREE.SmoothShading : THREE.FlatShading
    }

    function c(e) {
        return e.vertexColors ? e.vertexColors : !1
    }

    function A(e) {
        return e.map || e.lightMap || e.bumpMap || e.normalMap || e.specularMap || e instanceof THREE.ShaderMaterial ? !0 : !1
    }

    function f(e) {
        var t, n, r;
        for (t in e.attributes)r = "index" === t ? kt.ELEMENT_ARRAY_BUFFER : kt.ARRAY_BUFFER, n = e.attributes[t], n.buffer = kt.createBuffer(), kt.bindBuffer(r, n.buffer), kt.bufferData(r, n.array, kt.STATIC_DRAW)
    }

    function d(e, t, n) {
        var r, i, a, o, s, l, u, h, c, A, f, d, p = e.vertices, m = p.length, g = e.colors, v = g.length, y = e.__vertexArray, E = e.__colorArray, b = e.__sortArray, x = e.verticesNeedUpdate, T = (e.elementsNeedUpdate, e.colorsNeedUpdate), C = e.__webglCustomAttributesList;
        if (n.sortParticles) {
            for (gn.copy(mn), gn.multiply(n.matrixWorld), r = 0; m > r; r++)a = p[r], vn.copy(a), vn.applyProjection(gn), b[r] = [vn.z, r];
            for (b.sort(w), r = 0; m > r; r++)a = p[b[r][1]], o = 3 * r, y[o] = a.x, y[o + 1] = a.y, y[o + 2] = a.z;
            for (i = 0; v > i; i++)o = 3 * i, l = g[b[i][1]], E[o] = l.r, E[o + 1] = l.g, E[o + 2] = l.b;
            if (C)for (u = 0, h = C.length; h > u; u++)if (d = C[u], void 0 === d.boundTo || "vertices" === d.boundTo)if (o = 0, A = d.value.length, 1 === d.size)for (c = 0; A > c; c++)s = b[c][1], d.array[c] = d.value[s]; else if (2 === d.size)for (c = 0; A > c; c++)s = b[c][1], f = d.value[s], d.array[o] = f.x, d.array[o + 1] = f.y, o += 2; else if (3 === d.size)if ("c" === d.type)for (c = 0; A > c; c++)s = b[c][1], f = d.value[s], d.array[o] = f.r, d.array[o + 1] = f.g, d.array[o + 2] = f.b, o += 3; else for (c = 0; A > c; c++)s = b[c][1], f = d.value[s], d.array[o] = f.x, d.array[o + 1] = f.y, d.array[o + 2] = f.z, o += 3; else if (4 === d.size)for (c = 0; A > c; c++)s = b[c][1], f = d.value[s], d.array[o] = f.x, d.array[o + 1] = f.y, d.array[o + 2] = f.z, d.array[o + 3] = f.w, o += 4
        } else {
            if (x)for (r = 0; m > r; r++)a = p[r], o = 3 * r, y[o] = a.x, y[o + 1] = a.y, y[o + 2] = a.z;
            if (T)for (i = 0; v > i; i++)l = g[i], o = 3 * i, E[o] = l.r, E[o + 1] = l.g, E[o + 2] = l.b;
            if (C)for (u = 0, h = C.length; h > u; u++)if (d = C[u], d.needsUpdate && (void 0 === d.boundTo || "vertices" === d.boundTo))if (A = d.value.length, o = 0, 1 === d.size)for (c = 0; A > c; c++)d.array[c] = d.value[c]; else if (2 === d.size)for (c = 0; A > c; c++)f = d.value[c], d.array[o] = f.x, d.array[o + 1] = f.y, o += 2; else if (3 === d.size)if ("c" === d.type)for (c = 0; A > c; c++)f = d.value[c], d.array[o] = f.r, d.array[o + 1] = f.g, d.array[o + 2] = f.b, o += 3;
            else for (c = 0; A > c; c++)f = d.value[c], d.array[o] = f.x, d.array[o + 1] = f.y, d.array[o + 2] = f.z, o += 3; else if (4 === d.size)for (c = 0; A > c; c++)f = d.value[c], d.array[o] = f.x, d.array[o + 1] = f.y, d.array[o + 2] = f.z, d.array[o + 3] = f.w, o += 4
        }
        if ((x || n.sortParticles) && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglVertexBuffer), kt.bufferData(kt.ARRAY_BUFFER, y, t)), (T || n.sortParticles) && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglColorBuffer), kt.bufferData(kt.ARRAY_BUFFER, E, t)), C)for (u = 0, h = C.length; h > u; u++)d = C[u], (d.needsUpdate || n.sortParticles) && (kt.bindBuffer(kt.ARRAY_BUFFER, d.buffer), kt.bufferData(kt.ARRAY_BUFFER, d.array, t))
    }

    function p(e, t) {
        var n, r, i, a, o, s, l, u, h, c, A, f, d = e.vertices, p = e.colors, m = e.lineDistances, g = d.length, v = p.length, y = m.length, E = e.__vertexArray, b = e.__colorArray, x = e.__lineDistanceArray, w = e.verticesNeedUpdate, T = e.colorsNeedUpdate, C = e.lineDistancesNeedUpdate, R = e.__webglCustomAttributesList;
        if (w) {
            for (n = 0; g > n; n++)a = d[n], o = 3 * n, E[o] = a.x, E[o + 1] = a.y, E[o + 2] = a.z;
            kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglVertexBuffer), kt.bufferData(kt.ARRAY_BUFFER, E, t)
        }
        if (T) {
            for (r = 0; v > r; r++)s = p[r], o = 3 * r, b[o] = s.r, b[o + 1] = s.g, b[o + 2] = s.b;
            kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglColorBuffer), kt.bufferData(kt.ARRAY_BUFFER, b, t)
        }
        if (C) {
            for (i = 0; y > i; i++)x[i] = m[i];
            kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglLineDistanceBuffer), kt.bufferData(kt.ARRAY_BUFFER, x, t)
        }
        if (R)for (l = 0, u = R.length; u > l; l++)if (f = R[l], f.needsUpdate && (void 0 === f.boundTo || "vertices" === f.boundTo)) {
            if (o = 0, c = f.value.length, 1 === f.size)for (h = 0; c > h; h++)f.array[h] = f.value[h]; else if (2 === f.size)for (h = 0; c > h; h++)A = f.value[h], f.array[o] = A.x, f.array[o + 1] = A.y, o += 2; else if (3 === f.size)if ("c" === f.type)for (h = 0; c > h; h++)A = f.value[h], f.array[o] = A.r, f.array[o + 1] = A.g, f.array[o + 2] = A.b, o += 3; else for (h = 0; c > h; h++)A = f.value[h], f.array[o] = A.x, f.array[o + 1] = A.y, f.array[o + 2] = A.z, o += 3; else if (4 === f.size)for (h = 0; c > h; h++)A = f.value[h], f.array[o] = A.x, f.array[o + 1] = A.y, f.array[o + 2] = A.z, f.array[o + 3] = A.w, o += 4;
            kt.bindBuffer(kt.ARRAY_BUFFER, f.buffer), kt.bufferData(kt.ARRAY_BUFFER, f.array, t)
        }
    }

    function m(e, t, n, r, i) {
        if (e.__inittedArrays) {
            var a, o, s, l, u, f, d, p, m, g, v, y, E, b, x, w, T, C, R, _, B, M, H, S, D, F, k, O, P, L, z, I, G, N, V, U, j, Q, W, Y, q, X, Z = h(i), K = c(i), $ = A(i), J = Z === THREE.SmoothShading, et = 0, tt = 0, nt = 0, rt = 0, it = 0, at = 0, ot = 0, st = 0, lt = 0, ut = 0, ht = 0, ct = 0, At = 0, ft = e.__vertexArray, dt = e.__uvArray, pt = e.__uv2Array, mt = e.__normalArray, gt = e.__tangentArray, vt = e.__colorArray, yt = e.__skinIndexArray, Et = e.__skinWeightArray, bt = e.__morphTargetsArrays, xt = e.__morphNormalsArrays, wt = e.__webglCustomAttributesList, Tt = e.__faceArray, Ct = e.__lineArray, Rt = t.geometry, _t = Rt.verticesNeedUpdate, Bt = Rt.elementsNeedUpdate, Mt = Rt.uvsNeedUpdate, Ht = Rt.normalsNeedUpdate, St = Rt.tangentsNeedUpdate, Dt = Rt.colorsNeedUpdate, Ft = Rt.morphTargetsNeedUpdate, Ot = Rt.vertices, Pt = e.faces3, Lt = Rt.faces, zt = Rt.faceVertexUvs[0], It = Rt.faceVertexUvs[1], Gt = (Rt.colors, Rt.skinIndices), Nt = Rt.skinWeights, Vt = Rt.morphTargets, Ut = Rt.morphNormals;
            if (_t) {
                for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], y = Ot[l.a], E = Ot[l.b], b = Ot[l.c], ft[tt] = y.x, ft[tt + 1] = y.y, ft[tt + 2] = y.z, ft[tt + 3] = E.x, ft[tt + 4] = E.y, ft[tt + 5] = E.z, ft[tt + 6] = b.x, ft[tt + 7] = b.y, ft[tt + 8] = b.z, tt += 9;
                kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglVertexBuffer), kt.bufferData(kt.ARRAY_BUFFER, ft, n)
            }
            if (Ft)for (V = 0, U = Vt.length; U > V; V++) {
                for (ht = 0, a = 0, o = Pt.length; o > a; a++)W = Pt[a], l = Lt[W], y = Vt[V].vertices[l.a], E = Vt[V].vertices[l.b], b = Vt[V].vertices[l.c], j = bt[V], j[ht] = y.x, j[ht + 1] = y.y, j[ht + 2] = y.z, j[ht + 3] = E.x, j[ht + 4] = E.y, j[ht + 5] = E.z, j[ht + 6] = b.x, j[ht + 7] = b.y, j[ht + 8] = b.z, i.morphNormals && (J ? (Y = Ut[V].vertexNormals[W], C = Y.a, R = Y.b, _ = Y.c) : (C = Ut[V].faceNormals[W], R = C, _ = C), Q = xt[V], Q[ht] = C.x, Q[ht + 1] = C.y, Q[ht + 2] = C.z, Q[ht + 3] = R.x, Q[ht + 4] = R.y, Q[ht + 5] = R.z, Q[ht + 6] = _.x, Q[ht + 7] = _.y, Q[ht + 8] = _.z), ht += 9;
                kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglMorphTargetsBuffers[V]), kt.bufferData(kt.ARRAY_BUFFER, bt[V], n), i.morphNormals && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglMorphNormalsBuffers[V]), kt.bufferData(kt.ARRAY_BUFFER, xt[V], n))
            }
            if (Nt.length) {
                for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], S = Nt[l.a], D = Nt[l.b], F = Nt[l.c], Et[ut] = S.x, Et[ut + 1] = S.y, Et[ut + 2] = S.z, Et[ut + 3] = S.w, Et[ut + 4] = D.x, Et[ut + 5] = D.y, Et[ut + 6] = D.z, Et[ut + 7] = D.w, Et[ut + 8] = F.x, Et[ut + 9] = F.y, Et[ut + 10] = F.z, Et[ut + 11] = F.w, k = Gt[l.a], O = Gt[l.b], P = Gt[l.c], yt[ut] = k.x, yt[ut + 1] = k.y, yt[ut + 2] = k.z, yt[ut + 3] = k.w, yt[ut + 4] = O.x, yt[ut + 5] = O.y, yt[ut + 6] = O.z, yt[ut + 7] = O.w, yt[ut + 8] = P.x, yt[ut + 9] = P.y, yt[ut + 10] = P.z, yt[ut + 11] = P.w, ut += 12;
                ut > 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglSkinIndicesBuffer), kt.bufferData(kt.ARRAY_BUFFER, yt, n), kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglSkinWeightsBuffer), kt.bufferData(kt.ARRAY_BUFFER, Et, n))
            }
            if (Dt && K) {
                for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], d = l.vertexColors, p = l.color, 3 === d.length && K === THREE.VertexColors ? (B = d[0], M = d[1], H = d[2]) : (B = p, M = p, H = p), vt[lt] = B.r, vt[lt + 1] = B.g, vt[lt + 2] = B.b, vt[lt + 3] = M.r, vt[lt + 4] = M.g, vt[lt + 5] = M.b, vt[lt + 6] = H.r, vt[lt + 7] = H.g, vt[lt + 8] = H.b, lt += 9;
                lt > 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglColorBuffer), kt.bufferData(kt.ARRAY_BUFFER, vt, n))
            }
            if (St && Rt.hasTangents) {
                for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], m = l.vertexTangents, x = m[0], w = m[1], T = m[2], gt[ot] = x.x, gt[ot + 1] = x.y, gt[ot + 2] = x.z, gt[ot + 3] = x.w, gt[ot + 4] = w.x, gt[ot + 5] = w.y, gt[ot + 6] = w.z, gt[ot + 7] = w.w, gt[ot + 8] = T.x, gt[ot + 9] = T.y, gt[ot + 10] = T.z, gt[ot + 11] = T.w, ot += 12;
                kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglTangentBuffer), kt.bufferData(kt.ARRAY_BUFFER, gt, n)
            }
            if (Ht && Z) {
                for (a = 0, o = Pt.length; o > a; a++)if (l = Lt[Pt[a]], u = l.vertexNormals, f = l.normal, 3 === u.length && J)for (L = 0; 3 > L; L++)I = u[L], mt[at] = I.x, mt[at + 1] = I.y, mt[at + 2] = I.z, at += 3; else for (L = 0; 3 > L; L++)mt[at] = f.x, mt[at + 1] = f.y, mt[at + 2] = f.z, at += 3;
                kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglNormalBuffer), kt.bufferData(kt.ARRAY_BUFFER, mt, n)
            }
            if (Mt && zt && $) {
                for (a = 0, o = Pt.length; o > a; a++)if (s = Pt[a], g = zt[s], void 0 !== g)for (L = 0; 3 > L; L++)G = g[L], dt[nt] = G.x, dt[nt + 1] = G.y, nt += 2;
                nt > 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglUVBuffer), kt.bufferData(kt.ARRAY_BUFFER, dt, n))
            }
            if (Mt && It && $) {
                for (a = 0, o = Pt.length; o > a; a++)if (s = Pt[a], v = It[s], void 0 !== v)for (L = 0; 3 > L; L++)N = v[L], pt[rt] = N.x, pt[rt + 1] = N.y, rt += 2;
                rt > 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglUV2Buffer), kt.bufferData(kt.ARRAY_BUFFER, pt, n))
            }
            if (Bt) {
                for (a = 0, o = Pt.length; o > a; a++)Tt[it] = et, Tt[it + 1] = et + 1, Tt[it + 2] = et + 2, it += 3, Ct[st] = et, Ct[st + 1] = et + 1, Ct[st + 2] = et, Ct[st + 3] = et + 2, Ct[st + 4] = et + 1, Ct[st + 5] = et + 2, st += 6, et += 3;
                kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, e.__webglFaceBuffer), kt.bufferData(kt.ELEMENT_ARRAY_BUFFER, Tt, n), kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, e.__webglLineBuffer), kt.bufferData(kt.ELEMENT_ARRAY_BUFFER, Ct, n)
            }
            if (wt)for (L = 0, z = wt.length; z > L; L++)if (X = wt[L], X.__original.needsUpdate) {
                if (ct = 0, At = 0, 1 === X.size) {
                    if (void 0 === X.boundTo || "vertices" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], X.array[ct] = X.value[l.a], X.array[ct + 1] = X.value[l.b], X.array[ct + 2] = X.value[l.c], ct += 3; else if ("faces" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)q = X.value[Pt[a]], X.array[ct] = q, X.array[ct + 1] = q, X.array[ct + 2] = q, ct += 3
                } else if (2 === X.size) {
                    if (void 0 === X.boundTo || "vertices" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], y = X.value[l.a], E = X.value[l.b], b = X.value[l.c], X.array[ct] = y.x, X.array[ct + 1] = y.y, X.array[ct + 2] = E.x, X.array[ct + 3] = E.y, X.array[ct + 4] = b.x, X.array[ct + 5] = b.y, ct += 6; else if ("faces" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)q = X.value[Pt[a]], y = q, E = q, b = q, X.array[ct] = y.x, X.array[ct + 1] = y.y, X.array[ct + 2] = E.x, X.array[ct + 3] = E.y, X.array[ct + 4] = b.x, X.array[ct + 5] = b.y, ct += 6
                } else if (3 === X.size) {
                    var jt;
                    if (jt = "c" === X.type ? ["r", "g", "b"] : ["x", "y", "z"], void 0 === X.boundTo || "vertices" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], y = X.value[l.a], E = X.value[l.b], b = X.value[l.c], X.array[ct] = y[jt[0]], X.array[ct + 1] = y[jt[1]], X.array[ct + 2] = y[jt[2]], X.array[ct + 3] = E[jt[0]], X.array[ct + 4] = E[jt[1]], X.array[ct + 5] = E[jt[2]], X.array[ct + 6] = b[jt[0]], X.array[ct + 7] = b[jt[1]], X.array[ct + 8] = b[jt[2]], ct += 9; else if ("faces" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)q = X.value[Pt[a]], y = q, E = q, b = q, X.array[ct] = y[jt[0]], X.array[ct + 1] = y[jt[1]], X.array[ct + 2] = y[jt[2]], X.array[ct + 3] = E[jt[0]], X.array[ct + 4] = E[jt[1]], X.array[ct + 5] = E[jt[2]], X.array[ct + 6] = b[jt[0]], X.array[ct + 7] = b[jt[1]], X.array[ct + 8] = b[jt[2]], ct += 9; else if ("faceVertices" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)q = X.value[Pt[a]], y = q[0], E = q[1], b = q[2], X.array[ct] = y[jt[0]], X.array[ct + 1] = y[jt[1]], X.array[ct + 2] = y[jt[2]], X.array[ct + 3] = E[jt[0]], X.array[ct + 4] = E[jt[1]], X.array[ct + 5] = E[jt[2]], X.array[ct + 6] = b[jt[0]], X.array[ct + 7] = b[jt[1]], X.array[ct + 8] = b[jt[2]], ct += 9
                } else if (4 === X.size)if (void 0 === X.boundTo || "vertices" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)l = Lt[Pt[a]], y = X.value[l.a], E = X.value[l.b], b = X.value[l.c], X.array[ct] = y.x, X.array[ct + 1] = y.y, X.array[ct + 2] = y.z, X.array[ct + 3] = y.w, X.array[ct + 4] = E.x, X.array[ct + 5] = E.y, X.array[ct + 6] = E.z, X.array[ct + 7] = E.w, X.array[ct + 8] = b.x, X.array[ct + 9] = b.y, X.array[ct + 10] = b.z, X.array[ct + 11] = b.w, ct += 12; else if ("faces" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)q = X.value[Pt[a]], y = q, E = q, b = q, X.array[ct] = y.x, X.array[ct + 1] = y.y, X.array[ct + 2] = y.z, X.array[ct + 3] = y.w, X.array[ct + 4] = E.x, X.array[ct + 5] = E.y, X.array[ct + 6] = E.z, X.array[ct + 7] = E.w, X.array[ct + 8] = b.x, X.array[ct + 9] = b.y, X.array[ct + 10] = b.z, X.array[ct + 11] = b.w, ct += 12; else if ("faceVertices" === X.boundTo)for (a = 0, o = Pt.length; o > a; a++)q = X.value[Pt[a]], y = q[0], E = q[1], b = q[2], X.array[ct] = y.x, X.array[ct + 1] = y.y, X.array[ct + 2] = y.z, X.array[ct + 3] = y.w, X.array[ct + 4] = E.x, X.array[ct + 5] = E.y, X.array[ct + 6] = E.z, X.array[ct + 7] = E.w, X.array[ct + 8] = b.x, X.array[ct + 9] = b.y, X.array[ct + 10] = b.z, X.array[ct + 11] = b.w, ct += 12;
                kt.bindBuffer(kt.ARRAY_BUFFER, X.buffer), kt.bufferData(kt.ARRAY_BUFFER, X.array, n)
            }
            r && (delete e.__inittedArrays, delete e.__colorArray, delete e.__normalArray, delete e.__tangentArray, delete e.__uvArray, delete e.__uv2Array, delete e.__faceArray, delete e.__vertexArray, delete e.__lineArray, delete e.__skinIndexArray, delete e.__skinWeightArray)
        }
    }

    function g(e, t, n, r) {
        var i, a, o, s;
        for (a in t)o = t[a], i = n[a], o >= 0 && (i ? (s = i.itemSize, kt.bindBuffer(kt.ARRAY_BUFFER, i.buffer), y(o), kt.vertexAttribPointer(o, s, kt.FLOAT, !1, 0, r * s * 4)) : e.defaultAttributeValues && (2 === e.defaultAttributeValues[a].length ? kt.vertexAttrib2fv(o, e.defaultAttributeValues[a]) : 3 === e.defaultAttributeValues[a].length && kt.vertexAttrib3fv(o, e.defaultAttributeValues[a])))
    }

    function v(e, t) {
        var n, r, i = e.attributes;
        for (n in i)r = i[n], r.needsUpdate && ("index" === n ? (kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, r.buffer), kt.bufferData(kt.ELEMENT_ARRAY_BUFFER, r.array, t)) : (kt.bindBuffer(kt.ARRAY_BUFFER, r.buffer), kt.bufferData(kt.ARRAY_BUFFER, r.array, t)), r.needsUpdate = !1)
    }

    function y(e) {
        0 === dn[e] && (kt.enableVertexAttribArray(e), dn[e] = 1)
    }

    function E() {
        for (var e in dn)1 === dn[e] && (kt.disableVertexAttribArray(e), dn[e] = 0)
    }

    function b(e, t, n) {
        var r = e.program.attributes;
        if (-1 !== n.morphTargetBase && r.position >= 0 ? (kt.bindBuffer(kt.ARRAY_BUFFER, t.__webglMorphTargetsBuffers[n.morphTargetBase]), y(r.position), kt.vertexAttribPointer(r.position, 3, kt.FLOAT, !1, 0, 0)) : r.position >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, t.__webglVertexBuffer), y(r.position), kt.vertexAttribPointer(r.position, 3, kt.FLOAT, !1, 0, 0)), n.morphTargetForcedOrder.length)for (var i = 0, a = n.morphTargetForcedOrder, o = n.morphTargetInfluences; i < e.numSupportedMorphTargets && i < a.length;)r["morphTarget" + i] >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, t.__webglMorphTargetsBuffers[a[i]]), y(r["morphTarget" + i]), kt.vertexAttribPointer(r["morphTarget" + i], 3, kt.FLOAT, !1, 0, 0)), r["morphNormal" + i] >= 0 && e.morphNormals && (kt.bindBuffer(kt.ARRAY_BUFFER, t.__webglMorphNormalsBuffers[a[i]]), y(r["morphNormal" + i]), kt.vertexAttribPointer(r["morphNormal" + i], 3, kt.FLOAT, !1, 0, 0)), n.__webglMorphTargetInfluences[i] = o[a[i]], i++; else {
            var s, l, u = [], o = n.morphTargetInfluences, h = o.length;
            for (l = 0; h > l; l++)s = o[l], s > 0 && u.push([s, l]);
            u.length > e.numSupportedMorphTargets ? (u.sort(w), u.length = e.numSupportedMorphTargets) : u.length > e.numSupportedMorphNormals ? u.sort(w) : 0 === u.length && u.push([0, 0]);
            for (var c, i = 0; i < e.numSupportedMorphTargets;)u[i] ? (c = u[i][1], r["morphTarget" + i] >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, t.__webglMorphTargetsBuffers[c]), y(r["morphTarget" + i]), kt.vertexAttribPointer(r["morphTarget" + i], 3, kt.FLOAT, !1, 0, 0)), r["morphNormal" + i] >= 0 && e.morphNormals && (kt.bindBuffer(kt.ARRAY_BUFFER, t.__webglMorphNormalsBuffers[c]), y(r["morphNormal" + i]), kt.vertexAttribPointer(r["morphNormal" + i], 3, kt.FLOAT, !1, 0, 0)), n.__webglMorphTargetInfluences[i] = o[c]) : n.__webglMorphTargetInfluences[i] = 0, i++
        }
        null !== e.program.uniforms.morphTargetInfluences && kt.uniform1fv(e.program.uniforms.morphTargetInfluences, n.__webglMorphTargetInfluences)
    }

    function x(e, t) {
        return e.z !== t.z ? t.z - e.z : e.id - t.id
    }

    function w(e, t) {
        return t[0] - e[0]
    }

    function T(e, t, n) {
        if (e.length)for (var r = 0, i = e.length; i > r; r++)Ut = null, Yt = null, Kt = -1, tn = -1, nn = -1, Xt = -1, Zt = -1, Wt = -1, Qt = -1, En = !0, e[r].render(t, n, An, fn), Ut = null, Yt = null, Kt = -1, tn = -1, nn = -1, Xt = -1, Zt = -1, Wt = -1, Qt = -1, En = !0
    }

    function C(e, t, n, r, i, a, o, s) {
        var l, u, h, c, A, f, d;
        t ? (A = e.length - 1, f = -1, d = -1) : (A = 0, f = e.length, d = 1);
        for (var p = A; p !== f; p += d)if (l = e[p], l.render) {
            if (u = l.object, h = l.buffer, s)c = s; else {
                if (c = l[n], !c)continue;
                o && Gt.setBlending(c.blending, c.blendEquation, c.blendSrc, c.blendDst), Gt.setDepthTest(c.depthTest), Gt.setDepthWrite(c.depthWrite), rt(c.polygonOffset, c.polygonOffsetFactor, c.polygonOffsetUnits)
            }
            Gt.setMaterialFaces(c), h instanceof THREE.BufferGeometry ? Gt.renderBufferDirect(r, i, a, c, h, u) : Gt.renderBuffer(r, i, a, c, h, u)
        }
    }

    function R(e, t, n, r, i, a, o) {
        for (var s, l, u, h = 0, c = e.length; c > h; h++)if (s = e[h], l = s.object, l.visible) {
            if (o)u = o; else {
                if (u = s[t], !u)continue;
                a && Gt.setBlending(u.blending, u.blendEquation, u.blendSrc, u.blendDst), Gt.setDepthTest(u.depthTest), Gt.setDepthWrite(u.depthWrite), rt(u.polygonOffset, u.polygonOffsetFactor, u.polygonOffsetUnits)
            }
            Gt.renderImmediateObject(n, r, i, u, l)
        }
    }

    function _(e) {
        var t = e.object, n = t.material;
        n.transparent ? (e.transparent = n, e.opaque = null) : (e.opaque = n, e.transparent = null)
    }

    function B(e) {
        var t = e.object, n = e.buffer, r = t.geometry, i = t.material;
        if (i instanceof THREE.MeshFaceMaterial) {
            var a = r instanceof THREE.BufferGeometry ? 0 : n.materialIndex;
            i = i.materials[a], i.transparent ? (e.transparent = i, e.opaque = null) : (e.opaque = i, e.transparent = null)
        } else i && (i.transparent ? (e.transparent = i, e.opaque = null) : (e.opaque = i, e.transparent = null))
    }

    function M(e, i) {
        var l, u, h, c;
        if (void 0 === e.__webglInit)if (e.__webglInit = !0, e._modelViewMatrix = new THREE.Matrix4, e._normalMatrix = new THREE.Matrix3, void 0 !== e.geometry && void 0 === e.geometry.__webglInit && (e.geometry.__webglInit = !0, e.geometry.addEventListener("dispose", kn)), u = e.geometry, void 0 === u); else if (u instanceof THREE.BufferGeometry)f(u); else if (e instanceof THREE.Mesh) {
            h = e.material, void 0 === u.geometryGroups && u.makeGroups(h instanceof THREE.MeshFaceMaterial);
            for (l in u.geometryGroups)c = u.geometryGroups[l], c.__webglVertexBuffer || (r(c), s(c, e), u.verticesNeedUpdate = !0, u.morphTargetsNeedUpdate = !0, u.elementsNeedUpdate = !0, u.uvsNeedUpdate = !0, u.normalsNeedUpdate = !0, u.tangentsNeedUpdate = !0, u.colorsNeedUpdate = !0)
        } else e instanceof THREE.Line ? u.__webglVertexBuffer || (n(u), o(u, e), u.verticesNeedUpdate = !0, u.colorsNeedUpdate = !0, u.lineDistancesNeedUpdate = !0) : e instanceof THREE.ParticleSystem && (u.__webglVertexBuffer || (t(u), a(u, e), u.verticesNeedUpdate = !0, u.colorsNeedUpdate = !0));
        if (void 0 === e.__webglActive) {
            if (e instanceof THREE.Mesh) {
                if (u = e.geometry, u instanceof THREE.BufferGeometry)H(i.__webglObjects, u, e); else if (u instanceof THREE.Geometry)for (l in u.geometryGroups)c = u.geometryGroups[l], H(i.__webglObjects, c, e)
            } else e instanceof THREE.Line || e instanceof THREE.ParticleSystem ? (u = e.geometry, H(i.__webglObjects, u, e)) : e instanceof THREE.ImmediateRenderObject || e.immediateRenderCallback ? S(i.__webglObjectsImmediate, e) : e instanceof THREE.Sprite ? i.__webglSprites.push(e) : e instanceof THREE.LensFlare && i.__webglFlares.push(e);
            e.__webglActive = !0
        }
    }

    function H(e, t, n) {
        e.push({id: null, buffer: t, object: n, opaque: null, transparent: null, z: 0})
    }

    function S(e, t) {
        e.push({id: null, object: t, opaque: null, transparent: null, z: 0})
    }

    function D(e) {
        var t, n, r, i = e.geometry;
        if (i instanceof THREE.BufferGeometry)v(i, kt.DYNAMIC_DRAW); else if (e instanceof THREE.Mesh) {
            for (var a = 0, o = i.geometryGroupsList.length; o > a; a++)t = i.geometryGroupsList[a], r = l(e, t), i.buffersNeedUpdate && s(t, e), n = r.attributes && F(r), (i.verticesNeedUpdate || i.morphTargetsNeedUpdate || i.elementsNeedUpdate || i.uvsNeedUpdate || i.normalsNeedUpdate || i.colorsNeedUpdate || i.tangentsNeedUpdate || n) && m(t, e, kt.DYNAMIC_DRAW, !i.dynamic, r);
            i.verticesNeedUpdate = !1, i.morphTargetsNeedUpdate = !1, i.elementsNeedUpdate = !1, i.uvsNeedUpdate = !1, i.normalsNeedUpdate = !1, i.colorsNeedUpdate = !1, i.tangentsNeedUpdate = !1, i.buffersNeedUpdate = !1, r.attributes && k(r)
        } else e instanceof THREE.Line ? (r = l(e, i), n = r.attributes && F(r), (i.verticesNeedUpdate || i.colorsNeedUpdate || i.lineDistancesNeedUpdate || n) && p(i, kt.DYNAMIC_DRAW), i.verticesNeedUpdate = !1, i.colorsNeedUpdate = !1, i.lineDistancesNeedUpdate = !1, r.attributes && k(r)) : e instanceof THREE.ParticleSystem && (r = l(e, i), n = r.attributes && F(r), (i.verticesNeedUpdate || i.colorsNeedUpdate || e.sortParticles || n) && d(i, kt.DYNAMIC_DRAW, e), i.verticesNeedUpdate = !1, i.colorsNeedUpdate = !1, r.attributes && k(r))
    }

    function F(e) {
        for (var t in e.attributes)if (e.attributes[t].needsUpdate)return !0;
        return !1
    }

    function k(e) {
        for (var t in e.attributes)e.attributes[t].needsUpdate = !1
    }

    function O(e, t) {
        e instanceof THREE.Mesh || e instanceof THREE.ParticleSystem || e instanceof THREE.Line ? P(t.__webglObjects, e) : e instanceof THREE.Sprite ? L(t.__webglSprites, e) : e instanceof THREE.LensFlare ? L(t.__webglFlares, e) : (e instanceof THREE.ImmediateRenderObject || e.immediateRenderCallback) && P(t.__webglObjectsImmediate, e), delete e.__webglActive
    }

    function P(e, t) {
        for (var n = e.length - 1; n >= 0; n--)e[n].object === t && e.splice(n, 1)
    }

    function L(e, t) {
        for (var n = e.length - 1; n >= 0; n--)e[n] === t && e.splice(n, 1)
    }

    function z(e, t) {
        e.uniforms = THREE.UniformsUtils.clone(t.uniforms), e.vertexShader = t.vertexShader, e.fragmentShader = t.fragmentShader
    }

    function I(e, t, n, r, i) {
        qt = 0, r.needsUpdate && (r.program && Vn(r), Gt.initMaterial(r, t, n, i), r.needsUpdate = !1), r.morphTargets && (i.__webglMorphTargetInfluences || (i.__webglMorphTargetInfluences = new Float32Array(Gt.maxMorphTargets)));
        var a = !1, o = r.program, s = o.uniforms, l = r.uniforms;
        if (o !== Ut && (kt.useProgram(o), Ut = o, a = !0), r.id !== Qt && (Qt = r.id, a = !0), (a || e !== Yt) && (kt.uniformMatrix4fv(s.projectionMatrix, !1, e.projectionMatrix.elements), e !== Yt && (Yt = e)), r.skinning)if (_n && i.useVertexTexture) {
            if (null !== s.boneTexture) {
                var u = Z();
                kt.uniform1i(s.boneTexture, u), Gt.setTexture(i.boneTexture, u)
            }
            null !== s.boneTextureWidth && kt.uniform1i(s.boneTextureWidth, i.boneTextureWidth), null !== s.boneTextureHeight && kt.uniform1i(s.boneTextureHeight, i.boneTextureHeight)
        } else null !== s.boneGlobalMatrices && kt.uniformMatrix4fv(s.boneGlobalMatrices, !1, i.boneMatrices);
        return a && (n && r.fog && j(l, n), (r instanceof THREE.MeshPhongMaterial || r instanceof THREE.MeshLambertMaterial || r.lights) && (En && (tt(o, t), En = !1), Y(l, bn)), (r instanceof THREE.MeshBasicMaterial || r instanceof THREE.MeshLambertMaterial || r instanceof THREE.MeshPhongMaterial) && G(l, r), r instanceof THREE.LineBasicMaterial ? N(l, r) : r instanceof THREE.LineDashedMaterial ? (N(l, r), V(l, r)) : r instanceof THREE.ParticleSystemMaterial ? U(l, r) : r instanceof THREE.MeshPhongMaterial ? Q(l, r) : r instanceof THREE.MeshLambertMaterial ? W(l, r) : r instanceof THREE.MeshDepthMaterial ? (l.mNear.value = e.near, l.mFar.value = e.far, l.opacity.value = r.opacity) : r instanceof THREE.MeshNormalMaterial && (l.opacity.value = r.opacity), i.receiveShadow && !r._shadowPass && q(l, t), K(o, r.uniformsList), (r instanceof THREE.ShaderMaterial || r instanceof THREE.MeshPhongMaterial || r.envMap) && null !== s.cameraPosition && (vn.setFromMatrixPosition(e.matrixWorld), kt.uniform3f(s.cameraPosition, vn.x, vn.y, vn.z)), (r instanceof THREE.MeshPhongMaterial || r instanceof THREE.MeshLambertMaterial || r instanceof THREE.ShaderMaterial || r.skinning) && null !== s.viewMatrix && kt.uniformMatrix4fv(s.viewMatrix, !1, e.matrixWorldInverse.elements)), X(s, i), null !== s.modelMatrix && kt.uniformMatrix4fv(s.modelMatrix, !1, i.matrixWorld.elements), o
    }

    function G(e, t) {
        e.opacity.value = t.opacity, Gt.gammaInput ? e.diffuse.value.copyGammaToLinear(t.color) : e.diffuse.value = t.color, e.map.value = t.map, e.lightMap.value = t.lightMap, e.specularMap.value = t.specularMap, t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale), t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale));
        var n;
        if (t.map ? n = t.map : t.specularMap ? n = t.specularMap : t.normalMap ? n = t.normalMap : t.bumpMap && (n = t.bumpMap), void 0 !== n) {
            var r = n.offset, i = n.repeat;
            e.offsetRepeat.value.set(r.x, r.y, i.x, i.y)
        }
        e.envMap.value = t.envMap, e.flipEnvMap.value = t.envMap instanceof THREE.WebGLRenderTargetCube ? 1 : -1, e.reflectivity.value = Gt.gammaInput ? t.reflectivity : t.reflectivity, e.refractionRatio.value = t.refractionRatio, e.combine.value = t.combine, e.useRefract.value = t.envMap && t.envMap.mapping instanceof THREE.CubeRefractionMapping
    }

    function N(e, t) {
        e.diffuse.value = t.color, e.opacity.value = t.opacity
    }

    function V(e, t) {
        e.dashSize.value = t.dashSize, e.totalSize.value = t.dashSize + t.gapSize, e.scale.value = t.scale
    }

    function U(e, t) {
        e.psColor.value = t.color, e.opacity.value = t.opacity, e.size.value = t.size, e.scale.value = Tt.height / 2, e.map.value = t.map
    }

    function j(e, t) {
        e.fogColor.value = t.color, t instanceof THREE.Fog ? (e.fogNear.value = t.near, e.fogFar.value = t.far) : t instanceof THREE.FogExp2 && (e.fogDensity.value = t.density)
    }

    function Q(e, t) {
        e.shininess.value = t.shininess, Gt.gammaInput ? (e.ambient.value.copyGammaToLinear(t.ambient), e.emissive.value.copyGammaToLinear(t.emissive), e.specular.value.copyGammaToLinear(t.specular)) : (e.ambient.value = t.ambient, e.emissive.value = t.emissive, e.specular.value = t.specular), t.wrapAround && e.wrapRGB.value.copy(t.wrapRGB)
    }

    function W(e, t) {
        Gt.gammaInput ? (e.ambient.value.copyGammaToLinear(t.ambient), e.emissive.value.copyGammaToLinear(t.emissive)) : (e.ambient.value = t.ambient, e.emissive.value = t.emissive), t.wrapAround && e.wrapRGB.value.copy(t.wrapRGB)
    }

    function Y(e, t) {
        e.ambientLightColor.value = t.ambient, e.directionalLightColor.value = t.directional.colors, e.directionalLightDirection.value = t.directional.positions, e.pointLightColor.value = t.point.colors, e.pointLightPosition.value = t.point.positions, e.pointLightDistance.value = t.point.distances, e.spotLightColor.value = t.spot.colors, e.spotLightPosition.value = t.spot.positions, e.spotLightDistance.value = t.spot.distances, e.spotLightDirection.value = t.spot.directions, e.spotLightAngleCos.value = t.spot.anglesCos, e.spotLightExponent.value = t.spot.exponents, e.hemisphereLightSkyColor.value = t.hemi.skyColors, e.hemisphereLightGroundColor.value = t.hemi.groundColors, e.hemisphereLightDirection.value = t.hemi.positions
    }

    function q(e, t) {
        if (e.shadowMatrix)for (var n = 0, r = 0, i = t.length; i > r; r++) {
            var a = t[r];
            a.castShadow && (a instanceof THREE.SpotLight || a instanceof THREE.DirectionalLight && !a.shadowCascade) && (e.shadowMap.value[n] = a.shadowMap, e.shadowMapSize.value[n] = a.shadowMapSize, e.shadowMatrix.value[n] = a.shadowMatrix, e.shadowDarkness.value[n] = a.shadowDarkness, e.shadowBias.value[n] = a.shadowBias, n++)
        }
    }

    function X(e, t) {
        kt.uniformMatrix4fv(e.modelViewMatrix, !1, t._modelViewMatrix.elements), e.normalMatrix && kt.uniformMatrix3fv(e.normalMatrix, !1, t._normalMatrix.elements)
    }

    function Z() {
        var e = qt;
        return e >= xn && console.warn("WebGLRenderer: trying to use " + e + " texture units while this GPU supports only " + xn), qt += 1, e
    }

    function K(e, t) {
        var n, r, i, a, o, s, l, u, h, c, A;
        for (h = 0, c = t.length; c > h; h++)if (a = e.uniforms[t[h][1]])if (n = t[h][0], i = n.type, r = n.value, "i" === i)kt.uniform1i(a, r); else if ("f" === i)kt.uniform1f(a, r); else if ("v2" === i)kt.uniform2f(a, r.x, r.y); else if ("v3" === i)kt.uniform3f(a, r.x, r.y, r.z); else if ("v4" === i)kt.uniform4f(a, r.x, r.y, r.z, r.w); else if ("c" === i)kt.uniform3f(a, r.r, r.g, r.b); else if ("iv1" === i)kt.uniform1iv(a, r); else if ("iv" === i)kt.uniform3iv(a, r); else if ("fv1" === i)kt.uniform1fv(a, r); else if ("fv" === i)kt.uniform3fv(a, r); else if ("v2v" === i) {
            for (void 0 === n._array && (n._array = new Float32Array(2 * r.length)), l = 0, u = r.length; u > l; l++)A = 2 * l, n._array[A] = r[l].x, n._array[A + 1] = r[l].y;
            kt.uniform2fv(a, n._array)
        } else if ("v3v" === i) {
            for (void 0 === n._array && (n._array = new Float32Array(3 * r.length)), l = 0, u = r.length; u > l; l++)A = 3 * l, n._array[A] = r[l].x, n._array[A + 1] = r[l].y, n._array[A + 2] = r[l].z;
            kt.uniform3fv(a, n._array)
        } else if ("v4v" === i) {
            for (void 0 === n._array && (n._array = new Float32Array(4 * r.length)), l = 0, u = r.length; u > l; l++)A = 4 * l, n._array[A] = r[l].x, n._array[A + 1] = r[l].y, n._array[A + 2] = r[l].z, n._array[A + 3] = r[l].w;
            kt.uniform4fv(a, n._array)
        } else if ("m4" === i)void 0 === n._array && (n._array = new Float32Array(16)), r.flattenToArray(n._array), kt.uniformMatrix4fv(a, !1, n._array); else if ("m4v" === i) {
            for (void 0 === n._array && (n._array = new Float32Array(16 * r.length)), l = 0, u = r.length; u > l; l++)r[l].flattenToArrayOffset(n._array, 16 * l);
            kt.uniformMatrix4fv(a, !1, n._array)
        } else if ("t" === i) {
            if (o = r, s = Z(), kt.uniform1i(a, s), !o)continue;
            o.image instanceof Array && 6 === o.image.length ? At(o, s) : o instanceof THREE.WebGLRenderTargetCube ? ft(o, s) : Gt.setTexture(o, s)
        } else if ("tv" === i) {
            for (void 0 === n._array && (n._array = []), l = 0, u = n.value.length; u > l; l++)n._array[l] = Z();
            for (kt.uniform1iv(a, n._array), l = 0, u = n.value.length; u > l; l++)o = n.value[l], s = n._array[l], o && Gt.setTexture(o, s)
        } else console.warn("THREE.WebGLRenderer: Unknown uniform type: " + i)
    }

    function $(e, t) {
        e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse, e.matrixWorld), e._normalMatrix.getNormalMatrix(e._modelViewMatrix)
    }

    function J(e, t, n, r) {
        e[t] = n.r * n.r * r, e[t + 1] = n.g * n.g * r, e[t + 2] = n.b * n.b * r
    }

    function et(e, t, n, r) {
        e[t] = n.r * r, e[t + 1] = n.g * r, e[t + 2] = n.b * r
    }

    function tt(e, t) {
        var n, r, i, a, o, s, l, u, h, c = 0, A = 0, f = 0, d = bn, p = d.directional.colors, m = d.directional.positions, g = d.point.colors, v = d.point.positions, y = d.point.distances, E = d.spot.colors, b = d.spot.positions, x = d.spot.distances, w = d.spot.directions, T = d.spot.anglesCos, C = d.spot.exponents, R = d.hemi.skyColors, _ = d.hemi.groundColors, B = d.hemi.positions, M = 0, H = 0, S = 0, D = 0, F = 0, k = 0, O = 0, P = 0, L = 0, z = 0, I = 0, G = 0;
        for (n = 0, r = t.length; r > n; n++)if (i = t[n], !i.onlyShadow)if (a = i.color, l = i.intensity, h = i.distance, i instanceof THREE.AmbientLight) {
            if (!i.visible)continue;
            Gt.gammaInput ? (c += a.r * a.r, A += a.g * a.g, f += a.b * a.b) : (c += a.r, A += a.g, f += a.b)
        } else if (i instanceof THREE.DirectionalLight) {
            if (F += 1, !i.visible)continue;
            if (yn.setFromMatrixPosition(i.matrixWorld), vn.setFromMatrixPosition(i.target.matrixWorld), yn.sub(vn), yn.normalize(), 0 === yn.x && 0 === yn.y && 0 === yn.z)continue;
            L = 3 * M, m[L] = yn.x, m[L + 1] = yn.y, m[L + 2] = yn.z, Gt.gammaInput ? J(p, L, a, l * l) : et(p, L, a, l), M += 1
        } else if (i instanceof THREE.PointLight) {
            if (k += 1, !i.visible)continue;
            z = 3 * H, Gt.gammaInput ? J(g, z, a, l * l) : et(g, z, a, l), vn.setFromMatrixPosition(i.matrixWorld), v[z] = vn.x, v[z + 1] = vn.y, v[z + 2] = vn.z, y[H] = h, H += 1
        } else if (i instanceof THREE.SpotLight) {
            if (O += 1, !i.visible)continue;
            I = 3 * S, Gt.gammaInput ? J(E, I, a, l * l) : et(E, I, a, l), vn.setFromMatrixPosition(i.matrixWorld), b[I] = vn.x, b[I + 1] = vn.y, b[I + 2] = vn.z, x[S] = h, yn.copy(vn), vn.setFromMatrixPosition(i.target.matrixWorld), yn.sub(vn), yn.normalize(), w[I] = yn.x, w[I + 1] = yn.y, w[I + 2] = yn.z, T[S] = Math.cos(i.angle), C[S] = i.exponent, S += 1
        } else if (i instanceof THREE.HemisphereLight) {
            if (P += 1, !i.visible)continue;
            if (yn.setFromMatrixPosition(i.matrixWorld), yn.normalize(), 0 === yn.x && 0 === yn.y && 0 === yn.z)continue;
            G = 3 * D, B[G] = yn.x, B[G + 1] = yn.y, B[G + 2] = yn.z, o = i.color, s = i.groundColor, Gt.gammaInput ? (u = l * l, J(R, G, o, u), J(_, G, s, u)) : (et(R, G, o, l), et(_, G, s, l)), D += 1
        }
        for (n = 3 * M, r = Math.max(p.length, 3 * F); r > n; n++)p[n] = 0;
        for (n = 3 * H, r = Math.max(g.length, 3 * k); r > n; n++)g[n] = 0;
        for (n = 3 * S, r = Math.max(E.length, 3 * O); r > n; n++)E[n] = 0;
        for (n = 3 * D, r = Math.max(R.length, 3 * P); r > n; n++)R[n] = 0;
        for (n = 3 * D, r = Math.max(_.length, 3 * P); r > n; n++)_[n] = 0;
        d.directional.length = M, d.point.length = H, d.spot.length = S, d.hemi.length = D, d.ambient[0] = c, d.ambient[1] = A, d.ambient[2] = f
    }

    function nt(e) {
        e !== sn && (kt.lineWidth(e), sn = e)
    }

    function rt(e, t, n) {
        rn !== e && (e ? kt.enable(kt.POLYGON_OFFSET_FILL) : kt.disable(kt.POLYGON_OFFSET_FILL), rn = e), !e || an === t && on === n || (kt.polygonOffset(t, n), an = t, on = n)
    }

    function it(e) {
        var t, n, r = [];
        for (var i in e)t = e[i], t !== !1 && (n = "#define " + i + " " + t, r.push(n));
        return r.join("\n")
    }

    function at(e, t, n, r, i, a, o, s) {
        var l, u, h, c, A, f = [];
        e ? f.push(e) : (f.push(t), f.push(n));
        for (h in a)f.push(h), f.push(a[h]);
        for (l in o)f.push(l), f.push(o[l]);
        for (A = f.join(), l = 0, u = Nt.length; u > l; l++) {
            var d = Nt[l];
            if (d.code === A)return d.usedTimes++, d.program
        }
        var p = "SHADOWMAP_TYPE_BASIC";
        o.shadowMapType === THREE.PCFShadowMap ? p = "SHADOWMAP_TYPE_PCF" : o.shadowMapType === THREE.PCFSoftShadowMap && (p = "SHADOWMAP_TYPE_PCF_SOFT");
        var m = it(a);
        c = kt.createProgram();
        var g = ["precision " + Rt + " float;", "precision " + Rt + " int;", m, Rn ? "#define VERTEX_TEXTURES" : "", Gt.gammaInput ? "#define GAMMA_INPUT" : "", Gt.gammaOutput ? "#define GAMMA_OUTPUT" : "", "#define MAX_DIR_LIGHTS " + o.maxDirLights, "#define MAX_POINT_LIGHTS " + o.maxPointLights, "#define MAX_SPOT_LIGHTS " + o.maxSpotLights, "#define MAX_HEMI_LIGHTS " + o.maxHemiLights, "#define MAX_SHADOWS " + o.maxShadows, "#define MAX_BONES " + o.maxBones, o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.vertexColors ? "#define USE_COLOR" : "", o.skinning ? "#define USE_SKINNING" : "", o.useVertexTexture ? "#define BONE_TEXTURE" : "", o.morphTargets ? "#define USE_MORPHTARGETS" : "", o.morphNormals ? "#define USE_MORPHNORMALS" : "", o.wrapAround ? "#define WRAP_AROUND" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + p : "", o.shadowMapDebug ? "#define SHADOWMAP_DEBUG" : "", o.shadowMapCascade ? "#define SHADOWMAP_CASCADE" : "", o.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "attribute vec2 uv2;", "#ifdef USE_COLOR", "attribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "attribute vec3 morphTarget0;", "attribute vec3 morphTarget1;", "attribute vec3 morphTarget2;", "attribute vec3 morphTarget3;", "#ifdef USE_MORPHNORMALS", "attribute vec3 morphNormal0;", "attribute vec3 morphNormal1;", "attribute vec3 morphNormal2;", "attribute vec3 morphNormal3;", "#else", "attribute vec3 morphTarget4;", "attribute vec3 morphTarget5;", "attribute vec3 morphTarget6;", "attribute vec3 morphTarget7;", "#endif", "#endif", "#ifdef USE_SKINNING", "attribute vec4 skinIndex;", "attribute vec4 skinWeight;", "#endif", ""].join("\n"), v = ["precision " + Rt + " float;", "precision " + Rt + " int;", o.bumpMap || o.normalMap ? "#extension GL_OES_standard_derivatives : enable" : "", m, "#define MAX_DIR_LIGHTS " + o.maxDirLights, "#define MAX_POINT_LIGHTS " + o.maxPointLights, "#define MAX_SPOT_LIGHTS " + o.maxSpotLights, "#define MAX_HEMI_LIGHTS " + o.maxHemiLights, "#define MAX_SHADOWS " + o.maxShadows, o.alphaTest ? "#define ALPHATEST " + o.alphaTest : "", Gt.gammaInput ? "#define GAMMA_INPUT" : "", Gt.gammaOutput ? "#define GAMMA_OUTPUT" : "", o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.vertexColors ? "#define USE_COLOR" : "", o.metal ? "#define METAL" : "", o.wrapAround ? "#define WRAP_AROUND" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + p : "", o.shadowMapDebug ? "#define SHADOWMAP_DEBUG" : "", o.shadowMapCascade ? "#define SHADOWMAP_CASCADE" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", ""].join("\n"), y = ut("vertex", g + n), E = ut("fragment", v + t);
        kt.attachShader(c, y), kt.attachShader(c, E), void 0 !== s && kt.bindAttribLocation(c, 0, s), kt.linkProgram(c), kt.getProgramParameter(c, kt.LINK_STATUS) === !1 && (console.error("Could not initialise shader"), console.error("gl.VALIDATE_STATUS", kt.getProgramParameter(c, kt.VALIDATE_STATUS)), console.error("gl.getError()", kt.getError())), "" !== kt.getProgramInfoLog(c) && console.error("gl.getProgramInfoLog()", kt.getProgramInfoLog(c)), kt.deleteShader(E), kt.deleteShader(y), c.uniforms = {}, c.attributes = {};
        var b, x, w, T;
        b = ["viewMatrix", "modelViewMatrix", "projectionMatrix", "normalMatrix", "modelMatrix", "cameraPosition", "morphTargetInfluences"], o.useVertexTexture ? (b.push("boneTexture"), b.push("boneTextureWidth"), b.push("boneTextureHeight")) : b.push("boneGlobalMatrices");
        for (x in r)b.push(x);
        for (ot(c, b), b = ["position", "normal", "uv", "uv2", "tangent", "color", "skinIndex", "skinWeight", "lineDistance"], T = 0; T < o.maxMorphTargets; T++)b.push("morphTarget" + T);
        for (T = 0; T < o.maxMorphNormals; T++)b.push("morphNormal" + T);
        for (w in i)b.push(w);
        return st(c, b), c.id = Vt++, Nt.push({
            program: c,
            code: A,
            usedTimes: 1
        }), Gt.info.memory.programs = Nt.length, c
    }

    function ot(e, t) {
        var n, r, i;
        for (n = 0, r = t.length; r > n; n++)i = t[n], e.uniforms[i] = kt.getUniformLocation(e, i)
    }

    function st(e, t) {
        var n, r, i;
        for (n = 0, r = t.length; r > n; n++)i = t[n], e.attributes[i] = kt.getAttribLocation(e, i)
    }

    function lt(e) {
        for (var t = e.split("\n"), n = 0, r = t.length; r > n; n++)t[n] = n + 1 + ": " + t[n];
        return t.join("\n")
    }

    function ut(e, t) {
        var n;
        return "fragment" === e ? n = kt.createShader(kt.FRAGMENT_SHADER) : "vertex" === e && (n = kt.createShader(kt.VERTEX_SHADER)), kt.shaderSource(n, t), kt.compileShader(n), kt.getShaderParameter(n, kt.COMPILE_STATUS) ? n : (console.error(kt.getShaderInfoLog(n)), console.error(lt(t)), null)
    }

    function ht(e, t, n) {
        n ? (kt.texParameteri(e, kt.TEXTURE_WRAP_S, vt(t.wrapS)), kt.texParameteri(e, kt.TEXTURE_WRAP_T, vt(t.wrapT)), kt.texParameteri(e, kt.TEXTURE_MAG_FILTER, vt(t.magFilter)), kt.texParameteri(e, kt.TEXTURE_MIN_FILTER, vt(t.minFilter))) : (kt.texParameteri(e, kt.TEXTURE_WRAP_S, kt.CLAMP_TO_EDGE), kt.texParameteri(e, kt.TEXTURE_WRAP_T, kt.CLAMP_TO_EDGE), kt.texParameteri(e, kt.TEXTURE_MAG_FILTER, gt(t.magFilter)), kt.texParameteri(e, kt.TEXTURE_MIN_FILTER, gt(t.minFilter))), zt && t.type !== THREE.FloatType && (t.anisotropy > 1 || t.__oldAnisotropy) && (kt.texParameterf(e, zt.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(t.anisotropy, Cn)), t.__oldAnisotropy = t.anisotropy)
    }

    function ct(e, t) {
        if (e.width <= t && e.height <= t)return e;
        var n = Math.max(e.width, e.height), r = Math.floor(e.width * t / n), i = Math.floor(e.height * t / n), a = document.createElement("canvas");
        a.width = r, a.height = i;
        var o = a.getContext("2d");
        return o.drawImage(e, 0, 0, e.width, e.height, 0, 0, r, i), a
    }

    function At(e, t) {
        if (6 === e.image.length)if (e.needsUpdate) {
            e.image.__webglTextureCube || (e.addEventListener("dispose", On), e.image.__webglTextureCube = kt.createTexture(), Gt.info.memory.textures++), kt.activeTexture(kt.TEXTURE0 + t), kt.bindTexture(kt.TEXTURE_CUBE_MAP, e.image.__webglTextureCube), kt.pixelStorei(kt.UNPACK_FLIP_Y_WEBGL, e.flipY);
            for (var n = e instanceof THREE.CompressedTexture, r = [], i = 0; 6 > i; i++)r[i] = Gt.autoScaleCubemaps && !n ? ct(e.image[i], Tn) : e.image[i];
            var a = r[0], o = THREE.Math.isPowerOfTwo(a.width) && THREE.Math.isPowerOfTwo(a.height), s = vt(e.format), l = vt(e.type);
            ht(kt.TEXTURE_CUBE_MAP, e, o);
            for (var i = 0; 6 > i; i++)if (n)for (var u, h = r[i].mipmaps, c = 0, A = h.length; A > c; c++)u = h[c], e.format !== THREE.RGBAFormat ? kt.compressedTexImage2D(kt.TEXTURE_CUBE_MAP_POSITIVE_X + i, c, s, u.width, u.height, 0, u.data) : kt.texImage2D(kt.TEXTURE_CUBE_MAP_POSITIVE_X + i, c, s, u.width, u.height, 0, s, l, u.data); else kt.texImage2D(kt.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, s, s, l, r[i]);
            e.generateMipmaps && o && kt.generateMipmap(kt.TEXTURE_CUBE_MAP), e.needsUpdate = !1, e.onUpdate && e.onUpdate()
        } else kt.activeTexture(kt.TEXTURE0 + t), kt.bindTexture(kt.TEXTURE_CUBE_MAP, e.image.__webglTextureCube)
    }

    function ft(e, t) {
        kt.activeTexture(kt.TEXTURE0 + t), kt.bindTexture(kt.TEXTURE_CUBE_MAP, e.__webglTexture)
    }

    function dt(e, t, n) {
        kt.bindFramebuffer(kt.FRAMEBUFFER, e), kt.framebufferTexture2D(kt.FRAMEBUFFER, kt.COLOR_ATTACHMENT0, n, t.__webglTexture, 0)
    }

    function pt(e, t) {
        kt.bindRenderbuffer(kt.RENDERBUFFER, e), t.depthBuffer && !t.stencilBuffer ? (kt.renderbufferStorage(kt.RENDERBUFFER, kt.DEPTH_COMPONENT16, t.width, t.height), kt.framebufferRenderbuffer(kt.FRAMEBUFFER, kt.DEPTH_ATTACHMENT, kt.RENDERBUFFER, e)) : t.depthBuffer && t.stencilBuffer ? (kt.renderbufferStorage(kt.RENDERBUFFER, kt.DEPTH_STENCIL, t.width, t.height), kt.framebufferRenderbuffer(kt.FRAMEBUFFER, kt.DEPTH_STENCIL_ATTACHMENT, kt.RENDERBUFFER, e)) : kt.renderbufferStorage(kt.RENDERBUFFER, kt.RGBA4, t.width, t.height)
    }

    function mt(e) {
        e instanceof THREE.WebGLRenderTargetCube ? (kt.bindTexture(kt.TEXTURE_CUBE_MAP, e.__webglTexture), kt.generateMipmap(kt.TEXTURE_CUBE_MAP), kt.bindTexture(kt.TEXTURE_CUBE_MAP, null)) : (kt.bindTexture(kt.TEXTURE_2D, e.__webglTexture), kt.generateMipmap(kt.TEXTURE_2D), kt.bindTexture(kt.TEXTURE_2D, null))
    }

    function gt(e) {
        return e === THREE.NearestFilter || e === THREE.NearestMipMapNearestFilter || e === THREE.NearestMipMapLinearFilter ? kt.NEAREST : kt.LINEAR
    }

    function vt(e) {
        if (e === THREE.RepeatWrapping)return kt.REPEAT;
        if (e === THREE.ClampToEdgeWrapping)return kt.CLAMP_TO_EDGE;
        if (e === THREE.MirroredRepeatWrapping)return kt.MIRRORED_REPEAT;
        if (e === THREE.NearestFilter)return kt.NEAREST;
        if (e === THREE.NearestMipMapNearestFilter)return kt.NEAREST_MIPMAP_NEAREST;
        if (e === THREE.NearestMipMapLinearFilter)return kt.NEAREST_MIPMAP_LINEAR;
        if (e === THREE.LinearFilter)return kt.LINEAR;
        if (e === THREE.LinearMipMapNearestFilter)return kt.LINEAR_MIPMAP_NEAREST;
        if (e === THREE.LinearMipMapLinearFilter)return kt.LINEAR_MIPMAP_LINEAR;
        if (e === THREE.UnsignedByteType)return kt.UNSIGNED_BYTE;
        if (e === THREE.UnsignedShort4444Type)return kt.UNSIGNED_SHORT_4_4_4_4;
        if (e === THREE.UnsignedShort5551Type)return kt.UNSIGNED_SHORT_5_5_5_1;
        if (e === THREE.UnsignedShort565Type)return kt.UNSIGNED_SHORT_5_6_5;
        if (e === THREE.ByteType)return kt.BYTE;
        if (e === THREE.ShortType)return kt.SHORT;
        if (e === THREE.UnsignedShortType)return kt.UNSIGNED_SHORT;
        if (e === THREE.IntType)return kt.INT;
        if (e === THREE.UnsignedIntType)return kt.UNSIGNED_INT;
        if (e === THREE.FloatType)return kt.FLOAT;
        if (e === THREE.AlphaFormat)return kt.ALPHA;
        if (e === THREE.RGBFormat)return kt.RGB;
        if (e === THREE.RGBAFormat)return kt.RGBA;
        if (e === THREE.LuminanceFormat)return kt.LUMINANCE;
        if (e === THREE.LuminanceAlphaFormat)return kt.LUMINANCE_ALPHA;
        if (e === THREE.AddEquation)return kt.FUNC_ADD;
        if (e === THREE.SubtractEquation)return kt.FUNC_SUBTRACT;
        if (e === THREE.ReverseSubtractEquation)return kt.FUNC_REVERSE_SUBTRACT;
        if (e === THREE.ZeroFactor)return kt.ZERO;
        if (e === THREE.OneFactor)return kt.ONE;
        if (e === THREE.SrcColorFactor)return kt.SRC_COLOR;
        if (e === THREE.OneMinusSrcColorFactor)return kt.ONE_MINUS_SRC_COLOR;
        if (e === THREE.SrcAlphaFactor)return kt.SRC_ALPHA;
        if (e === THREE.OneMinusSrcAlphaFactor)return kt.ONE_MINUS_SRC_ALPHA;
        if (e === THREE.DstAlphaFactor)return kt.DST_ALPHA;
        if (e === THREE.OneMinusDstAlphaFactor)return kt.ONE_MINUS_DST_ALPHA;
        if (e === THREE.DstColorFactor)return kt.DST_COLOR;
        if (e === THREE.OneMinusDstColorFactor)return kt.ONE_MINUS_DST_COLOR;
        if (e === THREE.SrcAlphaSaturateFactor)return kt.SRC_ALPHA_SATURATE;
        if (void 0 !== It) {
            if (e === THREE.RGB_S3TC_DXT1_Format)return It.COMPRESSED_RGB_S3TC_DXT1_EXT;
            if (e === THREE.RGBA_S3TC_DXT1_Format)return It.COMPRESSED_RGBA_S3TC_DXT1_EXT;
            if (e === THREE.RGBA_S3TC_DXT3_Format)return It.COMPRESSED_RGBA_S3TC_DXT3_EXT;
            if (e === THREE.RGBA_S3TC_DXT5_Format)return It.COMPRESSED_RGBA_S3TC_DXT5_EXT
        }
        return 0
    }

    function yt(e) {
        if (_n && e && e.useVertexTexture)return 1024;
        var t = kt.getParameter(kt.MAX_VERTEX_UNIFORM_VECTORS), n = Math.floor((t - 20) / 4), r = n;
        return void 0 !== e && e instanceof THREE.SkinnedMesh && (r = Math.min(e.bones.length, r), r < e.bones.length && console.warn("WebGLRenderer: too many bones - " + e.bones.length + ", this GPU supports just " + r + " (try OpenGL instead of ANGLE)")), r
    }

    function Et(e) {
        for (var t = 0, n = 0, r = 0, i = 0, a = 0, o = e.length; o > a; a++) {
            var s = e[a];
            s.onlyShadow || s.visible === !1 || (s instanceof THREE.DirectionalLight && t++, s instanceof THREE.PointLight && n++, s instanceof THREE.SpotLight && r++, s instanceof THREE.HemisphereLight && i++)
        }
        return {directional: t, point: n, spot: r, hemi: i}
    }

    function bt(e) {
        for (var t = 0, n = 0, r = e.length; r > n; n++) {
            var i = e[n];
            i.castShadow && (i instanceof THREE.SpotLight && t++, i instanceof THREE.DirectionalLight && !i.shadowCascade && t++)
        }
        return t
    }

    function xt() {
        try {
            var e = {alpha: _t, premultipliedAlpha: Bt, antialias: Mt, stencil: Ht, preserveDrawingBuffer: St};
            if (kt = Ct || Tt.getContext("webgl", e) || Tt.getContext("experimental-webgl", e), null === kt)throw"Error creating WebGL context."
        } catch (t) {
            console.error(t)
        }
        Ot = kt.getExtension("OES_texture_float"), Pt = kt.getExtension("OES_texture_float_linear"), Lt = kt.getExtension("OES_standard_derivatives"), zt = kt.getExtension("EXT_texture_filter_anisotropic") || kt.getExtension("MOZ_EXT_texture_filter_anisotropic") || kt.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), It = kt.getExtension("WEBGL_compressed_texture_s3tc") || kt.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || kt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"), Ot || console.log("THREE.WebGLRenderer: Float textures not supported."), Lt || console.log("THREE.WebGLRenderer: Standard derivatives not supported."), zt || console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported."), It || console.log("THREE.WebGLRenderer: S3TC compressed textures not supported."), void 0 === kt.getShaderPrecisionFormat && (kt.getShaderPrecisionFormat = function () {
            return {rangeMin: 1, rangeMax: 1, precision: 1}
        })
    }

    function wt() {
        kt.clearColor(0, 0, 0, 1), kt.clearDepth(1), kt.clearStencil(0), kt.enable(kt.DEPTH_TEST), kt.depthFunc(kt.LEQUAL), kt.frontFace(kt.CCW), kt.cullFace(kt.BACK), kt.enable(kt.CULL_FACE), kt.enable(kt.BLEND), kt.blendEquation(kt.FUNC_ADD), kt.blendFunc(kt.SRC_ALPHA, kt.ONE_MINUS_SRC_ALPHA), kt.viewport(ln, un, hn, cn), kt.clearColor(Dt.r, Dt.g, Dt.b, Ft)
    }

    console.log("THREE.WebGLRenderer", THREE.REVISION), e = e || {};
    var Tt = void 0 !== e.canvas ? e.canvas : document.createElement("canvas"), Ct = void 0 !== e.context ? e.context : null, Rt = void 0 !== e.precision ? e.precision : "highp", _t = void 0 !== e.alpha ? e.alpha : !1, Bt = void 0 !== e.premultipliedAlpha ? e.premultipliedAlpha : !0, Mt = void 0 !== e.antialias ? e.antialias : !1, Ht = void 0 !== e.stencil ? e.stencil : !0, St = void 0 !== e.preserveDrawingBuffer ? e.preserveDrawingBuffer : !1, Dt = new THREE.Color(0), Ft = 0;
    this.domElement = Tt, this.context = null, this.devicePixelRatio = void 0 !== e.devicePixelRatio ? e.devicePixelRatio : void 0 !== self.devicePixelRatio ? self.devicePixelRatio : 1, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.autoUpdateObjects = !0, this.gammaInput = !1, this.gammaOutput = !1, this.shadowMapEnabled = !1, this.shadowMapAutoUpdate = !0, this.shadowMapType = THREE.PCFShadowMap, this.shadowMapCullFace = THREE.CullFaceFront, this.shadowMapDebug = !1, this.shadowMapCascade = !1, this.maxMorphTargets = 8, this.maxMorphNormals = 4, this.autoScaleCubemaps = !0, this.renderPluginsPre = [], this.renderPluginsPost = [], this.info = {
        memory: {
            programs: 0,
            geometries: 0,
            textures: 0
        }, render: {calls: 0, vertices: 0, faces: 0, points: 0}
    };
    var kt, Ot, Pt, Lt, zt, It, Gt = this, Nt = [], Vt = 0, Ut = null, jt = null, Qt = -1, Wt = null, Yt = null, qt = 0, Xt = -1, Zt = -1, Kt = -1, $t = -1, Jt = -1, en = -1, tn = -1, nn = -1, rn = null, an = null, on = null, sn = null, ln = 0, un = 0, hn = Tt.width, cn = Tt.height, An = 0, fn = 0, dn = new Uint8Array(16), pn = new THREE.Frustum, mn = new THREE.Matrix4, gn = new THREE.Matrix4, vn = new THREE.Vector3, yn = new THREE.Vector3, En = !0, bn = {
        ambient: [0, 0, 0],
        directional: {length: 0, colors: new Array, positions: new Array},
        point: {length: 0, colors: new Array, positions: new Array, distances: new Array},
        spot: {
            length: 0,
            colors: new Array,
            positions: new Array,
            distances: new Array,
            directions: new Array,
            anglesCos: new Array,
            exponents: new Array
        },
        hemi: {length: 0, skyColors: new Array, groundColors: new Array, positions: new Array}
    };
    xt(), wt(), this.context = kt;
    var xn = kt.getParameter(kt.MAX_TEXTURE_IMAGE_UNITS), wn = kt.getParameter(kt.MAX_VERTEX_TEXTURE_IMAGE_UNITS), Tn = (kt.getParameter(kt.MAX_TEXTURE_SIZE), kt.getParameter(kt.MAX_CUBE_MAP_TEXTURE_SIZE)), Cn = zt ? kt.getParameter(zt.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0, Rn = wn > 0, _n = Rn && Ot, Bn = (It ? kt.getParameter(kt.COMPRESSED_TEXTURE_FORMATS) : [], kt.getShaderPrecisionFormat(kt.VERTEX_SHADER, kt.HIGH_FLOAT)), Mn = kt.getShaderPrecisionFormat(kt.VERTEX_SHADER, kt.MEDIUM_FLOAT), Hn = (kt.getShaderPrecisionFormat(kt.VERTEX_SHADER, kt.LOW_FLOAT), kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER, kt.HIGH_FLOAT)), Sn = kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER, kt.MEDIUM_FLOAT), Dn = (kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER, kt.LOW_FLOAT), kt.getShaderPrecisionFormat(kt.VERTEX_SHADER, kt.HIGH_INT), kt.getShaderPrecisionFormat(kt.VERTEX_SHADER, kt.MEDIUM_INT), kt.getShaderPrecisionFormat(kt.VERTEX_SHADER, kt.LOW_INT), kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER, kt.HIGH_INT), kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER, kt.MEDIUM_INT), kt.getShaderPrecisionFormat(kt.FRAGMENT_SHADER, kt.LOW_INT), Bn.precision > 0 && Hn.precision > 0), Fn = Mn.precision > 0 && Sn.precision > 0;
    "highp" !== Rt || Dn || (Fn ? (Rt = "mediump", console.warn("WebGLRenderer: highp not supported, using mediump")) : (Rt = "lowp", console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))), "mediump" !== Rt || Fn || (Rt = "lowp", console.warn("WebGLRenderer: mediump not supported, using lowp")), this.getContext = function () {
        return kt
    }, this.supportsVertexTextures = function () {
        return Rn
    }, this.supportsFloatTextures = function () {
        return Ot
    }, this.supportsStandardDerivatives = function () {
        return Lt
    }, this.supportsCompressedTextureS3TC = function () {
        return It
    }, this.getMaxAnisotropy = function () {
        return Cn
    }, this.getPrecision = function () {
        return Rt
    }, this.setSize = function (e, t, n) {
        Tt.width = e * this.devicePixelRatio, Tt.height = t * this.devicePixelRatio, 1 !== this.devicePixelRatio && n !== !1 && (Tt.style.width = e + "px", Tt.style.height = t + "px"), this.setViewport(0, 0, e, t)
    }, this.setViewport = function (e, t, n, r) {
        ln = e * this.devicePixelRatio, un = t * this.devicePixelRatio, hn = n * this.devicePixelRatio, cn = r * this.devicePixelRatio, kt.viewport(ln, un, hn, cn)
    }, this.setScissor = function (e, t, n, r) {
        kt.scissor(e * this.devicePixelRatio, t * this.devicePixelRatio, n * this.devicePixelRatio, r * this.devicePixelRatio)
    }, this.enableScissorTest = function (e) {
        e ? kt.enable(kt.SCISSOR_TEST) : kt.disable(kt.SCISSOR_TEST)
    }, this.setClearColor = function (e, t) {
        Dt.set(e), Ft = void 0 !== t ? t : 1, kt.clearColor(Dt.r, Dt.g, Dt.b, Ft)
    }, this.setClearColorHex = function (e, t) {
        console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."), this.setClearColor(e, t)
    }, this.getClearColor = function () {
        return Dt
    }, this.getClearAlpha = function () {
        return Ft
    }, this.clear = function (e, t, n) {
        var r = 0;
        (void 0 === e || e) && (r |= kt.COLOR_BUFFER_BIT), (void 0 === t || t) && (r |= kt.DEPTH_BUFFER_BIT), (void 0 === n || n) && (r |= kt.STENCIL_BUFFER_BIT), kt.clear(r)
    }, this.clearColor = function () {
        kt.clear(kt.COLOR_BUFFER_BIT)
    }, this.clearDepth = function () {
        kt.clear(kt.DEPTH_BUFFER_BIT)
    }, this.clearStencil = function () {
        kt.clear(kt.STENCIL_BUFFER_BIT)
    }, this.clearTarget = function (e, t, n, r) {
        this.setRenderTarget(e), this.clear(t, n, r)
    }, this.addPostPlugin = function (e) {
        e.init(this), this.renderPluginsPost.push(e)
    }, this.addPrePlugin = function (e) {
        e.init(this), this.renderPluginsPre.push(e)
    }, this.updateShadowMap = function (e, t) {
        Ut = null, Kt = -1, tn = -1, nn = -1, Wt = -1, Qt = -1, En = !0, Xt = -1, Zt = -1, this.shadowMapPlugin.update(e, t)
    };
    var kn = function (e) {
        var t = e.target;
        t.removeEventListener("dispose", kn), In(t)
    }, On = function (e) {
        var t = e.target;
        t.removeEventListener("dispose", On), Gn(t), Gt.info.memory.textures--
    }, Pn = function (e) {
        var t = e.target;
        t.removeEventListener("dispose", Pn), Nn(t), Gt.info.memory.textures--
    }, Ln = function (e) {
        var t = e.target;
        t.removeEventListener("dispose", Ln), Vn(t)
    }, zn = function (e) {
        if (void 0 !== e.__webglVertexBuffer && kt.deleteBuffer(e.__webglVertexBuffer), void 0 !== e.__webglNormalBuffer && kt.deleteBuffer(e.__webglNormalBuffer), void 0 !== e.__webglTangentBuffer && kt.deleteBuffer(e.__webglTangentBuffer), void 0 !== e.__webglColorBuffer && kt.deleteBuffer(e.__webglColorBuffer), void 0 !== e.__webglUVBuffer && kt.deleteBuffer(e.__webglUVBuffer), void 0 !== e.__webglUV2Buffer && kt.deleteBuffer(e.__webglUV2Buffer), void 0 !== e.__webglSkinIndicesBuffer && kt.deleteBuffer(e.__webglSkinIndicesBuffer), void 0 !== e.__webglSkinWeightsBuffer && kt.deleteBuffer(e.__webglSkinWeightsBuffer), void 0 !== e.__webglFaceBuffer && kt.deleteBuffer(e.__webglFaceBuffer), void 0 !== e.__webglLineBuffer && kt.deleteBuffer(e.__webglLineBuffer), void 0 !== e.__webglLineDistanceBuffer && kt.deleteBuffer(e.__webglLineDistanceBuffer), void 0 !== e.__webglCustomAttributesList)for (var t in e.__webglCustomAttributesList)kt.deleteBuffer(e.__webglCustomAttributesList[t].buffer);
        Gt.info.memory.geometries--
    }, In = function (e) {
        if (e.__webglInit = void 0, e instanceof THREE.BufferGeometry) {
            var t = e.attributes;
            for (var n in t)void 0 !== t[n].buffer && kt.deleteBuffer(t[n].buffer);
            Gt.info.memory.geometries--
        } else if (void 0 !== e.geometryGroups)for (var r in e.geometryGroups) {
            var i = e.geometryGroups[r];
            if (void 0 !== i.numMorphTargets)for (var a = 0, o = i.numMorphTargets; o > a; a++)kt.deleteBuffer(i.__webglMorphTargetsBuffers[a]);
            if (void 0 !== i.numMorphNormals)for (var a = 0, o = i.numMorphNormals; o > a; a++)kt.deleteBuffer(i.__webglMorphNormalsBuffers[a]);
            zn(i)
        } else zn(e)
    }, Gn = function (e) {
        if (e.image && e.image.__webglTextureCube)kt.deleteTexture(e.image.__webglTextureCube); else {
            if (!e.__webglInit)return;
            e.__webglInit = !1, kt.deleteTexture(e.__webglTexture)
        }
    }, Nn = function (e) {
        if (e && e.__webglTexture)if (kt.deleteTexture(e.__webglTexture), e instanceof THREE.WebGLRenderTargetCube)for (var t = 0; 6 > t; t++)kt.deleteFramebuffer(e.__webglFramebuffer[t]), kt.deleteRenderbuffer(e.__webglRenderbuffer[t]); else kt.deleteFramebuffer(e.__webglFramebuffer), kt.deleteRenderbuffer(e.__webglRenderbuffer)
    }, Vn = function (e) {
        var t = e.program;
        if (void 0 !== t) {
            e.program = void 0;
            var n, r, i, a = !1;
            for (n = 0, r = Nt.length; r > n; n++)if (i = Nt[n], i.program === t) {
                i.usedTimes--, 0 === i.usedTimes && (a = !0);
                break
            }
            if (a === !0) {
                var o = [];
                for (n = 0, r = Nt.length; r > n; n++)i = Nt[n], i.program !== t && o.push(i);
                Nt = o, kt.deleteProgram(t), Gt.info.memory.programs--
            }
        }
    };
    this.renderBufferImmediate = function (e, t, n) {
        if (e.hasPositions && !e.__webglVertexBuffer && (e.__webglVertexBuffer = kt.createBuffer()), e.hasNormals && !e.__webglNormalBuffer && (e.__webglNormalBuffer = kt.createBuffer()), e.hasUvs && !e.__webglUvBuffer && (e.__webglUvBuffer = kt.createBuffer()), e.hasColors && !e.__webglColorBuffer && (e.__webglColorBuffer = kt.createBuffer()), e.hasPositions && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglVertexBuffer), kt.bufferData(kt.ARRAY_BUFFER, e.positionArray, kt.DYNAMIC_DRAW), kt.enableVertexAttribArray(t.attributes.position), kt.vertexAttribPointer(t.attributes.position, 3, kt.FLOAT, !1, 0, 0)), e.hasNormals) {
            if (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglNormalBuffer), n.shading === THREE.FlatShading) {
                var r, i, a, o, s, l, u, h, c, A, f, d, p, m, g = 3 * e.count;
                for (m = 0; g > m; m += 9)p = e.normalArray, o = p[m], u = p[m + 1], A = p[m + 2], s = p[m + 3], h = p[m + 4], f = p[m + 5], l = p[m + 6], c = p[m + 7], d = p[m + 8], r = (o + s + l) / 3, i = (u + h + c) / 3, a = (A + f + d) / 3, p[m] = r, p[m + 1] = i, p[m + 2] = a, p[m + 3] = r, p[m + 4] = i, p[m + 5] = a, p[m + 6] = r, p[m + 7] = i, p[m + 8] = a
            }
            kt.bufferData(kt.ARRAY_BUFFER, e.normalArray, kt.DYNAMIC_DRAW), kt.enableVertexAttribArray(t.attributes.normal), kt.vertexAttribPointer(t.attributes.normal, 3, kt.FLOAT, !1, 0, 0)
        }
        e.hasUvs && n.map && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglUvBuffer), kt.bufferData(kt.ARRAY_BUFFER, e.uvArray, kt.DYNAMIC_DRAW), kt.enableVertexAttribArray(t.attributes.uv), kt.vertexAttribPointer(t.attributes.uv, 2, kt.FLOAT, !1, 0, 0)), e.hasColors && n.vertexColors !== THREE.NoColors && (kt.bindBuffer(kt.ARRAY_BUFFER, e.__webglColorBuffer), kt.bufferData(kt.ARRAY_BUFFER, e.colorArray, kt.DYNAMIC_DRAW), kt.enableVertexAttribArray(t.attributes.color), kt.vertexAttribPointer(t.attributes.color, 3, kt.FLOAT, !1, 0, 0)), kt.drawArrays(kt.TRIANGLES, 0, e.count), e.count = 0
    }, this.renderBufferDirect = function (e, t, n, r, i, a) {
        if (r.visible !== !1) {
            var o, s, l, u, h = I(e, t, n, r, a), c = h.attributes, A = i.attributes, f = !1, d = r.wireframe ? 1 : 0, p = 16777215 * i.id + 2 * h.id + d;
            if (p !== Wt && (Wt = p, f = !0), f && E(), a instanceof THREE.Mesh) {
                var m = A.index;
                if (m) {
                    var v = i.offsets;
                    v.length > 1 && (f = !0);
                    for (var b = 0, x = v.length; x > b; b++) {
                        var w = v[b].index;
                        if (f) {
                            for (s in c)l = c[s], o = A[s], l >= 0 && (o ? (u = o.itemSize, kt.bindBuffer(kt.ARRAY_BUFFER, o.buffer), y(l), kt.vertexAttribPointer(l, u, kt.FLOAT, !1, 0, w * u * 4)) : r.defaultAttributeValues && (2 === r.defaultAttributeValues[s].length ? kt.vertexAttrib2fv(l, r.defaultAttributeValues[s]) : 3 === r.defaultAttributeValues[s].length && kt.vertexAttrib3fv(l, r.defaultAttributeValues[s])));
                            kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, m.buffer)
                        }
                        kt.drawElements(kt.TRIANGLES, v[b].count, kt.UNSIGNED_SHORT, 2 * v[b].start), Gt.info.render.calls++, Gt.info.render.vertices += v[b].count, Gt.info.render.faces += v[b].count / 3
                    }
                } else {
                    if (f)for (s in c)"index" !== s && (l = c[s], o = A[s], l >= 0 && (o ? (u = o.itemSize, kt.bindBuffer(kt.ARRAY_BUFFER, o.buffer), y(l), kt.vertexAttribPointer(l, u, kt.FLOAT, !1, 0, 0)) : r.defaultAttributeValues && r.defaultAttributeValues[s] && (2 === r.defaultAttributeValues[s].length ? kt.vertexAttrib2fv(l, r.defaultAttributeValues[s]) : 3 === r.defaultAttributeValues[s].length && kt.vertexAttrib3fv(l, r.defaultAttributeValues[s]))));
                    var T = i.attributes.position;
                    kt.drawArrays(kt.TRIANGLES, 0, T.array.length / 3), Gt.info.render.calls++, Gt.info.render.vertices += T.array.length / 3, Gt.info.render.faces += T.array.length / 3 / 3
                }
            } else if (a instanceof THREE.ParticleSystem) {
                if (f)for (s in c)l = c[s], o = A[s], l >= 0 && (o ? (u = o.itemSize, kt.bindBuffer(kt.ARRAY_BUFFER, o.buffer), y(l), kt.vertexAttribPointer(l, u, kt.FLOAT, !1, 0, 0)) : r.defaultAttributeValues && r.defaultAttributeValues[s] && (2 === r.defaultAttributeValues[s].length ? kt.vertexAttrib2fv(l, r.defaultAttributeValues[s]) : 3 === r.defaultAttributeValues[s].length && kt.vertexAttrib3fv(l, r.defaultAttributeValues[s])));
                var T = A.position;
                kt.drawArrays(kt.POINTS, 0, T.array.length / 3), Gt.info.render.calls++, Gt.info.render.points += T.array.length / 3
            } else if (a instanceof THREE.Line) {
                var C = a.type === THREE.LineStrip ? kt.LINE_STRIP : kt.LINES;
                nt(r.linewidth);
                var m = A.index;
                if (m) {
                    var v = i.offsets;
                    v.length > 1 && (f = !0);
                    for (var b = 0, x = v.length; x > b; b++) {
                        var w = v[b].index;
                        f && (g(r, c, A, w), kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, m.buffer)), kt.drawElements(kt.LINES, v[b].count, kt.UNSIGNED_SHORT, 2 * v[b].start), Gt.info.render.calls++, Gt.info.render.vertices += v[b].count
                    }
                } else {
                    f && g(r, c, A, 0);
                    var T = A.position;
                    kt.drawArrays(C, 0, T.array.length / 3), Gt.info.render.calls++, Gt.info.render.points += T.array.length
                }
            }
        }
    }, this.renderBuffer = function (e, t, n, r, i, a) {
        if (r.visible !== !1) {
            var o, s, l, u = I(e, t, n, r, a), h = u.attributes, c = !1, A = r.wireframe ? 1 : 0, f = 16777215 * i.id + 2 * u.id + A;
            if (f !== Wt && (Wt = f, c = !0), c && E(), !r.morphTargets && h.position >= 0 ? c && (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglVertexBuffer), y(h.position), kt.vertexAttribPointer(h.position, 3, kt.FLOAT, !1, 0, 0)) : a.morphTargetBase && b(r, i, a), c) {
                if (i.__webglCustomAttributesList)for (s = 0, l = i.__webglCustomAttributesList.length; l > s; s++)o = i.__webglCustomAttributesList[s], h[o.buffer.belongsToAttribute] >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, o.buffer), y(h[o.buffer.belongsToAttribute]), kt.vertexAttribPointer(h[o.buffer.belongsToAttribute], o.size, kt.FLOAT, !1, 0, 0));
                h.color >= 0 && (a.geometry.colors.length > 0 || a.geometry.faces.length > 0 ? (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglColorBuffer), y(h.color), kt.vertexAttribPointer(h.color, 3, kt.FLOAT, !1, 0, 0)) : r.defaultAttributeValues && kt.vertexAttrib3fv(h.color, r.defaultAttributeValues.color)), h.normal >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglNormalBuffer), y(h.normal), kt.vertexAttribPointer(h.normal, 3, kt.FLOAT, !1, 0, 0)), h.tangent >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglTangentBuffer), y(h.tangent), kt.vertexAttribPointer(h.tangent, 4, kt.FLOAT, !1, 0, 0)), h.uv >= 0 && (a.geometry.faceVertexUvs[0] ? (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglUVBuffer), y(h.uv), kt.vertexAttribPointer(h.uv, 2, kt.FLOAT, !1, 0, 0)) : r.defaultAttributeValues && kt.vertexAttrib2fv(h.uv, r.defaultAttributeValues.uv)), h.uv2 >= 0 && (a.geometry.faceVertexUvs[1] ? (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglUV2Buffer), y(h.uv2), kt.vertexAttribPointer(h.uv2, 2, kt.FLOAT, !1, 0, 0)) : r.defaultAttributeValues && kt.vertexAttrib2fv(h.uv2, r.defaultAttributeValues.uv2)), r.skinning && h.skinIndex >= 0 && h.skinWeight >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglSkinIndicesBuffer), y(h.skinIndex), kt.vertexAttribPointer(h.skinIndex, 4, kt.FLOAT, !1, 0, 0), kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglSkinWeightsBuffer), y(h.skinWeight), kt.vertexAttribPointer(h.skinWeight, 4, kt.FLOAT, !1, 0, 0)), h.lineDistance >= 0 && (kt.bindBuffer(kt.ARRAY_BUFFER, i.__webglLineDistanceBuffer), y(h.lineDistance), kt.vertexAttribPointer(h.lineDistance, 1, kt.FLOAT, !1, 0, 0))
            }
            if (a instanceof THREE.Mesh)r.wireframe ? (nt(r.wireframeLinewidth), c && kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, i.__webglLineBuffer), kt.drawElements(kt.LINES, i.__webglLineCount, kt.UNSIGNED_SHORT, 0)) : (c && kt.bindBuffer(kt.ELEMENT_ARRAY_BUFFER, i.__webglFaceBuffer), kt.drawElements(kt.TRIANGLES, i.__webglFaceCount, kt.UNSIGNED_SHORT, 0)), Gt.info.render.calls++, Gt.info.render.vertices += i.__webglFaceCount, Gt.info.render.faces += i.__webglFaceCount / 3; else if (a instanceof THREE.Line) {
                var d = a.type === THREE.LineStrip ? kt.LINE_STRIP : kt.LINES;
                nt(r.linewidth), kt.drawArrays(d, 0, i.__webglLineCount), Gt.info.render.calls++
            } else a instanceof THREE.ParticleSystem && (kt.drawArrays(kt.POINTS, 0, i.__webglParticleCount), Gt.info.render.calls++, Gt.info.render.points += i.__webglParticleCount)
        }
    }, this.render = function (e, t, n, r) {
        if (t instanceof THREE.Camera == !1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
        var i, a, o, s, l, u = e.__lights, h = e.fog;
        for (Qt = -1, En = !0, e.autoUpdate === !0 && e.updateMatrixWorld(), void 0 === t.parent && t.updateMatrixWorld(), t.matrixWorldInverse.getInverse(t.matrixWorld), mn.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), pn.setFromMatrix(mn), this.autoUpdateObjects && this.initWebGLObjects(e), T(this.renderPluginsPre, e, t), Gt.info.render.calls = 0, Gt.info.render.vertices = 0, Gt.info.render.faces = 0, Gt.info.render.points = 0, this.setRenderTarget(n), (this.autoClear || r) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), l = e.__webglObjects, i = 0, a = l.length; a > i; i++)o = l[i], s = o.object, o.id = i, o.render = !1, s.visible && ((s instanceof THREE.Mesh || s instanceof THREE.ParticleSystem) && s.frustumCulled && !pn.intersectsObject(s) || ($(s, t), B(o), o.render = !0, this.sortObjects === !0 && (null !== s.renderDepth ? o.z = s.renderDepth : (vn.setFromMatrixPosition(s.matrixWorld), vn.applyProjection(mn), o.z = vn.z))));
        for (this.sortObjects && l.sort(x), l = e.__webglObjectsImmediate, i = 0, a = l.length; a > i; i++)o = l[i], s = o.object, s.visible && ($(s, t), _(o));
        if (e.overrideMaterial) {
            var c = e.overrideMaterial;
            this.setBlending(c.blending, c.blendEquation, c.blendSrc, c.blendDst), this.setDepthTest(c.depthTest), this.setDepthWrite(c.depthWrite), rt(c.polygonOffset, c.polygonOffsetFactor, c.polygonOffsetUnits), C(e.__webglObjects, !1, "", t, u, h, !0, c), R(e.__webglObjectsImmediate, "", t, u, h, !1, c)
        } else {
            var c = null;
            this.setBlending(THREE.NoBlending), C(e.__webglObjects, !0, "opaque", t, u, h, !1, c), R(e.__webglObjectsImmediate, "opaque", t, u, h, !1, c), C(e.__webglObjects, !1, "transparent", t, u, h, !0, c), R(e.__webglObjectsImmediate, "transparent", t, u, h, !0, c)
        }
        T(this.renderPluginsPost, e, t), n && n.generateMipmaps && n.minFilter !== THREE.NearestFilter && n.minFilter !== THREE.LinearFilter && mt(n), this.setDepthTest(!0), this.setDepthWrite(!0)
    }, this.renderImmediateObject = function (e, t, n, r, i) {
        var a = I(e, t, n, r, i);
        Wt = -1, Gt.setMaterialFaces(r), i.immediateRenderCallback ? i.immediateRenderCallback(a, kt, pn) : i.render(function (e) {
            Gt.renderBufferImmediate(e, a, r)
        })
    }, this.initWebGLObjects = function (e) {
        for (e.__webglObjects || (e.__webglObjects = [], e.__webglObjectsImmediate = [], e.__webglSprites = [], e.__webglFlares = []); e.__objectsAdded.length;)M(e.__objectsAdded[0], e), e.__objectsAdded.splice(0, 1);
        for (; e.__objectsRemoved.length;)O(e.__objectsRemoved[0], e), e.__objectsRemoved.splice(0, 1);
        for (var t = 0, n = e.__webglObjects.length; n > t; t++) {
            var r = e.__webglObjects[t].object;
            void 0 === r.__webglInit && (void 0 !== r.__webglActive && O(r, e), M(r, e)), D(r)
        }
    }, this.initMaterial = function (e, t, n, r) {
        e.addEventListener("dispose", Ln);
        var i, a, o, s, l, u, h;
        e instanceof THREE.MeshDepthMaterial ? h = "depth" : e instanceof THREE.MeshNormalMaterial ? h = "normal" : e instanceof THREE.MeshBasicMaterial ? h = "basic" : e instanceof THREE.MeshLambertMaterial ? h = "lambert" : e instanceof THREE.MeshPhongMaterial ? h = "phong" : e instanceof THREE.LineBasicMaterial ? h = "basic" : e instanceof THREE.LineDashedMaterial ? h = "dashed" : e instanceof THREE.ParticleSystemMaterial && (h = "particle_basic"), h && z(e, THREE.ShaderLib[h]), s = Et(t), u = bt(t), l = yt(r), o = {
            map: !!e.map,
            envMap: !!e.envMap,
            lightMap: !!e.lightMap,
            bumpMap: !!e.bumpMap,
            normalMap: !!e.normalMap,
            specularMap: !!e.specularMap,
            vertexColors: e.vertexColors,
            fog: n,
            useFog: e.fog,
            fogExp: n instanceof THREE.FogExp2,
            sizeAttenuation: e.sizeAttenuation,
            skinning: e.skinning,
            maxBones: l,
            useVertexTexture: _n && r && r.useVertexTexture,
            morphTargets: e.morphTargets,
            morphNormals: e.morphNormals,
            maxMorphTargets: this.maxMorphTargets,
            maxMorphNormals: this.maxMorphNormals,
            maxDirLights: s.directional,
            maxPointLights: s.point,
            maxSpotLights: s.spot,
            maxHemiLights: s.hemi,
            maxShadows: u,
            shadowMapEnabled: this.shadowMapEnabled && r.receiveShadow && u > 0,
            shadowMapType: this.shadowMapType,
            shadowMapDebug: this.shadowMapDebug,
            shadowMapCascade: this.shadowMapCascade,
            alphaTest: e.alphaTest,
            metal: e.metal,
            wrapAround: e.wrapAround,
            doubleSided: e.side === THREE.DoubleSide,
            flipSided: e.side === THREE.BackSide
        }, e.program = at(h, e.fragmentShader, e.vertexShader, e.uniforms, e.attributes, e.defines, o, e.index0AttributeName);
        var c = e.program.attributes;
        if (e.morphTargets) {
            e.numSupportedMorphTargets = 0;
            var A, f = "morphTarget";
            for (a = 0; a < this.maxMorphTargets; a++)A = f + a, c[A] >= 0 && e.numSupportedMorphTargets++
        }
        if (e.morphNormals) {
            e.numSupportedMorphNormals = 0;
            var A, f = "morphNormal";
            for (a = 0; a < this.maxMorphNormals; a++)A = f + a, c[A] >= 0 && e.numSupportedMorphNormals++
        }
        e.uniformsList = [];
        for (i in e.uniforms)e.uniformsList.push([e.uniforms[i], i])
    }, this.setFaceCulling = function (e, t) {
        e === THREE.CullFaceNone ? kt.disable(kt.CULL_FACE) : (kt.frontFace(t === THREE.FrontFaceDirectionCW ? kt.CW : kt.CCW), kt.cullFace(e === THREE.CullFaceBack ? kt.BACK : e === THREE.CullFaceFront ? kt.FRONT : kt.FRONT_AND_BACK), kt.enable(kt.CULL_FACE))
    }, this.setMaterialFaces = function (e) {
        var t = e.side === THREE.DoubleSide, n = e.side === THREE.BackSide;
        Xt !== t && (t ? kt.disable(kt.CULL_FACE) : kt.enable(kt.CULL_FACE), Xt = t), Zt !== n && (kt.frontFace(n ? kt.CW : kt.CCW), Zt = n)
    }, this.setDepthTest = function (e) {
        tn !== e && (e ? kt.enable(kt.DEPTH_TEST) : kt.disable(kt.DEPTH_TEST), tn = e)
    }, this.setDepthWrite = function (e) {
        nn !== e && (kt.depthMask(e), nn = e)
    }, this.setBlending = function (e, t, n, r) {
        e !== Kt && (e === THREE.NoBlending ? kt.disable(kt.BLEND) : e === THREE.AdditiveBlending ? (kt.enable(kt.BLEND), kt.blendEquation(kt.FUNC_ADD), kt.blendFunc(kt.SRC_ALPHA, kt.ONE)) : e === THREE.SubtractiveBlending ? (kt.enable(kt.BLEND), kt.blendEquation(kt.FUNC_ADD), kt.blendFunc(kt.ZERO, kt.ONE_MINUS_SRC_COLOR)) : e === THREE.MultiplyBlending ? (kt.enable(kt.BLEND), kt.blendEquation(kt.FUNC_ADD), kt.blendFunc(kt.ZERO, kt.SRC_COLOR)) : e === THREE.CustomBlending ? kt.enable(kt.BLEND) : (kt.enable(kt.BLEND), kt.blendEquationSeparate(kt.FUNC_ADD, kt.FUNC_ADD), kt.blendFuncSeparate(kt.SRC_ALPHA, kt.ONE_MINUS_SRC_ALPHA, kt.ONE, kt.ONE_MINUS_SRC_ALPHA)), Kt = e), e === THREE.CustomBlending ? (t !== $t && (kt.blendEquation(vt(t)), $t = t), (n !== Jt || r !== en) && (kt.blendFunc(vt(n), vt(r)), Jt = n, en = r)) : ($t = null, Jt = null, en = null)
    }, this.setTexture = function (e, t) {
        if (e.needsUpdate) {
            e.__webglInit || (e.__webglInit = !0, e.addEventListener("dispose", On), e.__webglTexture = kt.createTexture(), Gt.info.memory.textures++), kt.activeTexture(kt.TEXTURE0 + t), kt.bindTexture(kt.TEXTURE_2D, e.__webglTexture), kt.pixelStorei(kt.UNPACK_FLIP_Y_WEBGL, e.flipY), kt.pixelStorei(kt.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.premultiplyAlpha), kt.pixelStorei(kt.UNPACK_ALIGNMENT, e.unpackAlignment);
            var n = e.image, r = THREE.Math.isPowerOfTwo(n.width) && THREE.Math.isPowerOfTwo(n.height), i = vt(e.format), a = vt(e.type);
            ht(kt.TEXTURE_2D, e, r);
            var o, s = e.mipmaps;
            if (e instanceof THREE.DataTexture)if (s.length > 0 && r) {
                for (var l = 0, u = s.length; u > l; l++)o = s[l], kt.texImage2D(kt.TEXTURE_2D, l, i, o.width, o.height, 0, i, a, o.data);
                e.generateMipmaps = !1
            } else kt.texImage2D(kt.TEXTURE_2D, 0, i, n.width, n.height, 0, i, a, n.data); else if (e instanceof THREE.CompressedTexture)for (var l = 0, u = s.length; u > l; l++)o = s[l], e.format !== THREE.RGBAFormat ? kt.compressedTexImage2D(kt.TEXTURE_2D, l, i, o.width, o.height, 0, o.data) : kt.texImage2D(kt.TEXTURE_2D, l, i, o.width, o.height, 0, i, a, o.data); else if (s.length > 0 && r) {
                for (var l = 0, u = s.length; u > l; l++)o = s[l], kt.texImage2D(kt.TEXTURE_2D, l, i, i, a, o);
                e.generateMipmaps = !1
            } else kt.texImage2D(kt.TEXTURE_2D, 0, i, i, a, e.image);
            e.generateMipmaps && r && kt.generateMipmap(kt.TEXTURE_2D), e.needsUpdate = !1, e.onUpdate && e.onUpdate()
        } else kt.activeTexture(kt.TEXTURE0 + t), kt.bindTexture(kt.TEXTURE_2D, e.__webglTexture)
    }, this.setRenderTarget = function (e) {
        var t = e instanceof THREE.WebGLRenderTargetCube;
        if (e && !e.__webglFramebuffer) {
            void 0 === e.depthBuffer && (e.depthBuffer = !0), void 0 === e.stencilBuffer && (e.stencilBuffer = !0), e.addEventListener("dispose", Pn), e.__webglTexture = kt.createTexture(), Gt.info.memory.textures++;
            var n = THREE.Math.isPowerOfTwo(e.width) && THREE.Math.isPowerOfTwo(e.height), r = vt(e.format), i = vt(e.type);
            if (t) {
                e.__webglFramebuffer = [], e.__webglRenderbuffer = [], kt.bindTexture(kt.TEXTURE_CUBE_MAP, e.__webglTexture), ht(kt.TEXTURE_CUBE_MAP, e, n);
                for (var a = 0; 6 > a; a++)e.__webglFramebuffer[a] = kt.createFramebuffer(), e.__webglRenderbuffer[a] = kt.createRenderbuffer(), kt.texImage2D(kt.TEXTURE_CUBE_MAP_POSITIVE_X + a, 0, r, e.width, e.height, 0, r, i, null), dt(e.__webglFramebuffer[a], e, kt.TEXTURE_CUBE_MAP_POSITIVE_X + a), pt(e.__webglRenderbuffer[a], e);
                n && kt.generateMipmap(kt.TEXTURE_CUBE_MAP)
            } else e.__webglFramebuffer = kt.createFramebuffer(), e.__webglRenderbuffer = e.shareDepthFrom ? e.shareDepthFrom.__webglRenderbuffer : kt.createRenderbuffer(), kt.bindTexture(kt.TEXTURE_2D, e.__webglTexture), ht(kt.TEXTURE_2D, e, n), kt.texImage2D(kt.TEXTURE_2D, 0, r, e.width, e.height, 0, r, i, null), dt(e.__webglFramebuffer, e, kt.TEXTURE_2D), e.shareDepthFrom ? e.depthBuffer && !e.stencilBuffer ? kt.framebufferRenderbuffer(kt.FRAMEBUFFER, kt.DEPTH_ATTACHMENT, kt.RENDERBUFFER, e.__webglRenderbuffer) : e.depthBuffer && e.stencilBuffer && kt.framebufferRenderbuffer(kt.FRAMEBUFFER, kt.DEPTH_STENCIL_ATTACHMENT, kt.RENDERBUFFER, e.__webglRenderbuffer) : pt(e.__webglRenderbuffer, e), n && kt.generateMipmap(kt.TEXTURE_2D);
            t ? kt.bindTexture(kt.TEXTURE_CUBE_MAP, null) : kt.bindTexture(kt.TEXTURE_2D, null), kt.bindRenderbuffer(kt.RENDERBUFFER, null), kt.bindFramebuffer(kt.FRAMEBUFFER, null)
        }
        var o, s, l, u, h;
        e ? (o = t ? e.__webglFramebuffer[e.activeCubeFace] : e.__webglFramebuffer, s = e.width, l = e.height, u = 0, h = 0) : (o = null, s = hn, l = cn, u = ln, h = un), o !== jt && (kt.bindFramebuffer(kt.FRAMEBUFFER, o), kt.viewport(u, h, s, l), jt = o), An = s, fn = l
    }, this.shadowMapPlugin = new THREE.ShadowMapPlugin, this.addPrePlugin(this.shadowMapPlugin), this.addPostPlugin(new THREE.SpritePlugin), this.addPostPlugin(new THREE.LensFlarePlugin)
},THREE.WebGLRenderTarget = function (e, t, n) {
    this.width = e, this.height = t, n = n || {}, this.wrapS = void 0 !== n.wrapS ? n.wrapS : THREE.ClampToEdgeWrapping, this.wrapT = void 0 !== n.wrapT ? n.wrapT : THREE.ClampToEdgeWrapping, this.magFilter = void 0 !== n.magFilter ? n.magFilter : THREE.LinearFilter, this.minFilter = void 0 !== n.minFilter ? n.minFilter : THREE.LinearMipMapLinearFilter, this.anisotropy = void 0 !== n.anisotropy ? n.anisotropy : 1, this.offset = new THREE.Vector2(0, 0), this.repeat = new THREE.Vector2(1, 1), this.format = void 0 !== n.format ? n.format : THREE.RGBAFormat, this.type = void 0 !== n.type ? n.type : THREE.UnsignedByteType, this.depthBuffer = void 0 !== n.depthBuffer ? n.depthBuffer : !0, this.stencilBuffer = void 0 !== n.stencilBuffer ? n.stencilBuffer : !0, this.generateMipmaps = !0, this.shareDepthFrom = null
},THREE.WebGLRenderTarget.prototype = {
    constructor: THREE.WebGLRenderTarget, clone: function () {
        var e = new THREE.WebGLRenderTarget(this.width, this.height);
        return e.wrapS = this.wrapS, e.wrapT = this.wrapT, e.magFilter = this.magFilter, e.minFilter = this.minFilter, e.anisotropy = this.anisotropy, e.offset.copy(this.offset), e.repeat.copy(this.repeat), e.format = this.format, e.type = this.type, e.depthBuffer = this.depthBuffer, e.stencilBuffer = this.stencilBuffer, e.generateMipmaps = this.generateMipmaps, e.shareDepthFrom = this.shareDepthFrom, e
    }, dispose: function () {
        this.dispatchEvent({type: "dispose"})
    }
},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube = function (e, t, n) {
    THREE.WebGLRenderTarget.call(this, e, t, n), this.activeCubeFace = 0
},THREE.WebGLRenderTargetCube.prototype = Object.create(THREE.WebGLRenderTarget.prototype),THREE.RenderableVertex = function () {
    this.position = new THREE.Vector3, this.positionWorld = new THREE.Vector3, this.positionScreen = new THREE.Vector4, this.visible = !0
},THREE.RenderableVertex.prototype.copy = function (e) {
    this.positionWorld.copy(e.positionWorld), this.positionScreen.copy(e.positionScreen)
},THREE.RenderableFace = function () {
    this.id = 0, this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.v3 = new THREE.RenderableVertex, this.centroidModel = new THREE.Vector3, this.normalModel = new THREE.Vector3, this.vertexNormalsModel = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3], this.vertexNormalsLength = 0, this.color = null, this.material = null, this.uvs = [[]], this.z = 0
},THREE.RenderableObject = function () {
    this.id = 0, this.object = null, this.z = 0
},THREE.RenderableSprite = function () {
    this.id = 0, this.object = null, this.x = 0, this.y = 0, this.z = 0, this.rotation = 0, this.scale = new THREE.Vector2, this.material = null
},THREE.RenderableLine = function () {
    this.id = 0, this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.vertexColors = [new THREE.Color, new THREE.Color], this.material = null, this.z = 0
},THREE.GeometryUtils = {
    merge: function (e, t, n) {
        var r, i, a = e.vertices.length, o = (e.faceVertexUvs[0].length, t instanceof THREE.Mesh ? t.geometry : t), s = e.vertices, l = o.vertices, u = e.faces, h = o.faces, c = e.faceVertexUvs[0], A = o.faceVertexUvs[0];
        void 0 === n && (n = 0), t instanceof THREE.Mesh && (t.matrixAutoUpdate && t.updateMatrix(), r = t.matrix, i = (new THREE.Matrix3).getNormalMatrix(r));
        for (var f = 0, d = l.length; d > f; f++) {
            var p = l[f], m = p.clone();
            r && m.applyMatrix4(r), s.push(m)
        }
        for (f = 0, d = h.length; d > f; f++) {
            var g, v, y, E = h[f], b = E.vertexNormals, x = E.vertexColors;
            g = new THREE.Face3(E.a + a, E.b + a, E.c + a), g.normal.copy(E.normal), i && g.normal.applyMatrix3(i).normalize();
            for (var w = 0, T = b.length; T > w; w++)v = b[w].clone(), i && v.applyMatrix3(i).normalize(), g.vertexNormals.push(v);
            g.color.copy(E.color);
            for (var w = 0, T = x.length; T > w; w++)y = x[w], g.vertexColors.push(y.clone());
            g.materialIndex = E.materialIndex + n, g.centroid.copy(E.centroid), r && g.centroid.applyMatrix4(r), u.push(g)
        }
        for (f = 0, d = A.length; d > f; f++) {
            for (var C = A[f], R = [], w = 0, T = C.length; T > w; w++)R.push(new THREE.Vector2(C[w].x, C[w].y));
            c.push(R)
        }
    }, randomPointInTriangle: function () {
        var e = new THREE.Vector3;
        return function (t, n, r) {
            var i = new THREE.Vector3, a = THREE.Math.random16(), o = THREE.Math.random16();
            a + o > 1 && (a = 1 - a, o = 1 - o);
            var s = 1 - a - o;
            return i.copy(t), i.multiplyScalar(a), e.copy(n), e.multiplyScalar(o), i.add(e), e.copy(r), e.multiplyScalar(s), i.add(e), i
        }
    }(), randomPointInFace: function (e, t) {
        var n, r, i;
        return n = t.vertices[e.a], r = t.vertices[e.b], i = t.vertices[e.c], THREE.GeometryUtils.randomPointInTriangle(n, r, i)
    }, randomPointsInGeometry: function (e, t) {
        function n(e) {
            function t(n, r) {
                if (n > r)return n;
                var i = n + Math.floor((r - n) / 2);
                return A[i] > e ? t(n, i - 1) : A[i] < e ? t(i + 1, r) : i
            }

            var n = t(0, A.length - 1);
            return n
        }

        var r, i, a, o, s, l = e.faces, u = e.vertices, h = l.length, c = 0, A = [];
        for (i = 0; h > i; i++)r = l[i], a = u[r.a], o = u[r.b], s = u[r.c], r._area = THREE.GeometryUtils.triangleArea(a, o, s), c += r._area, A[i] = c;
        var f, d, p = [], m = {};
        for (i = 0; t > i; i++)f = THREE.Math.random16() * c, d = n(f), p[i] = THREE.GeometryUtils.randomPointInFace(l[d], e, !0), m[d] ? m[d] += 1 : m[d] = 1;
        return p
    }, triangleArea: function () {
        var e = new THREE.Vector3, t = new THREE.Vector3;
        return function (n, r, i) {
            return e.subVectors(r, n), t.subVectors(i, n), e.cross(t), .5 * e.length()
        }
    }(), center: function (e) {
        e.computeBoundingBox();
        var t = e.boundingBox, n = new THREE.Vector3;
        return n.addVectors(t.min, t.max), n.multiplyScalar(-.5), e.applyMatrix((new THREE.Matrix4).makeTranslation(n.x, n.y, n.z)), e.computeBoundingBox(), n
    }, triangulateQuads: function (e) {
        var t, n, r, i, a = [], o = [];
        for (t = 0, n = e.faceVertexUvs.length; n > t; t++)o[t] = [];
        for (t = 0, n = e.faces.length; n > t; t++) {
            var s = e.faces[t];
            for (a.push(s), r = 0, i = e.faceVertexUvs.length; i > r; r++)o[r].push(e.faceVertexUvs[r][t])
        }
        e.faces = a, e.faceVertexUvs = o, e.computeCentroids(), e.computeFaceNormals(), e.computeVertexNormals(), e.hasTangents && e.computeTangents()
    }
},THREE.ImageUtils = {
    crossOrigin: void 0, loadTexture: function (e, t, n) {
        var r = new THREE.ImageLoader;
        r.crossOrigin = this.crossOrigin;
        var i = new THREE.Texture(void 0, t), a = r.load(e, function () {
            i.needsUpdate = !0, n && n(i)
        });
        return i.image = a, i.sourceFile = e, i
    }, loadCompressedTexture: function (e, t, n, r) {
        var i = new THREE.CompressedTexture;
        i.mapping = t;
        var a = new XMLHttpRequest;
        return a.onload = function () {
            var e = a.response, t = THREE.ImageUtils.parseDDS(e, !0);
            i.format = t.format, i.mipmaps = t.mipmaps, i.image.width = t.width, i.image.height = t.height, i.generateMipmaps = !1, i.needsUpdate = !0, n && n(i)
        }, a.onerror = r, a.open("GET", e, !0), a.responseType = "arraybuffer", a.send(null), i
    }, loadTextureCube: function (e, t, n, r) {
        var i = [];
        i.loadCount = 0;
        var a = new THREE.Texture;
        a.image = i, void 0 !== t && (a.mapping = t), a.flipY = !1;
        for (var o = 0, s = e.length; s > o; ++o) {
            var l = new Image;
            i[o] = l, l.onload = function () {
                i.loadCount += 1, 6 === i.loadCount && (a.needsUpdate = !0, n && n(a))
            }, l.onerror = r, l.crossOrigin = this.crossOrigin, l.src = e[o]
        }
        return a
    }, loadCompressedTextureCube: function (e, t, n, r) {
        var i = [];
        i.loadCount = 0;
        var a = new THREE.CompressedTexture;
        a.image = i, void 0 !== t && (a.mapping = t), a.flipY = !1, a.generateMipmaps = !1;
        var o = function (e, t) {
            return function () {
                var r = e.response, o = THREE.ImageUtils.parseDDS(r, !0);
                t.format = o.format, t.mipmaps = o.mipmaps, t.width = o.width, t.height = o.height, i.loadCount += 1, 6 === i.loadCount && (a.format = o.format, a.needsUpdate = !0, n && n(a))
            }
        };
        if (e instanceof Array)for (var s = 0, l = e.length; l > s; ++s) {
            var u = {};
            i[s] = u;
            var h = new XMLHttpRequest;
            h.onload = o(h, u), h.onerror = r;
            var c = e[s];
            h.open("GET", c, !0), h.responseType = "arraybuffer", h.send(null)
        } else {
            var c = e, h = new XMLHttpRequest;
            h.onload = function () {
                var e = h.response, t = THREE.ImageUtils.parseDDS(e, !0);
                if (t.isCubemap) {
                    for (var r = t.mipmaps.length / t.mipmapCount, o = 0; r > o; o++) {
                        i[o] = {mipmaps: []};
                        for (var s = 0; s < t.mipmapCount; s++)i[o].mipmaps.push(t.mipmaps[o * t.mipmapCount + s]), i[o].format = t.format, i[o].width = t.width, i[o].height = t.height
                    }
                    a.format = t.format, a.needsUpdate = !0, n && n(a)
                }
            }, h.onerror = r, h.open("GET", c, !0), h.responseType = "arraybuffer", h.send(null)
        }
        return a
    }, loadDDSTexture: function (e, t, n, r) {
        var i = [];
        i.loadCount = 0;
        var a = new THREE.CompressedTexture;
        a.image = i, void 0 !== t && (a.mapping = t), a.flipY = !1, a.generateMipmaps = !1;
        var o = new XMLHttpRequest;
        return o.onload = function () {
            var e = o.response, t = THREE.ImageUtils.parseDDS(e, !0);
            if (t.isCubemap)for (var r = t.mipmaps.length / t.mipmapCount, s = 0; r > s; s++) {
                i[s] = {mipmaps: []};
                for (var l = 0; l < t.mipmapCount; l++)i[s].mipmaps.push(t.mipmaps[s * t.mipmapCount + l]), i[s].format = t.format, i[s].width = t.width, i[s].height = t.height
            } else a.image.width = t.width, a.image.height = t.height, a.mipmaps = t.mipmaps;
            a.format = t.format, a.needsUpdate = !0, n && n(a)
        }, o.onerror = r, o.open("GET", e, !0), o.responseType = "arraybuffer", o.send(null), a
    }, parseDDS: function (e, t) {
        function n(e) {
            return e.charCodeAt(0) + (e.charCodeAt(1) << 8) + (e.charCodeAt(2) << 16) + (e.charCodeAt(3) << 24)
        }

        function r(e) {
            return String.fromCharCode(255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255)
        }

        function i(e, t, n, r) {
            for (var i = n * r * 4, a = new Uint8Array(e, t, i), o = new Uint8Array(i), s = 0, l = 0, u = 0; r > u; u++)for (var h = 0; n > h; h++) {
                var c = a[l];
                l++;
                var A = a[l];
                l++;
                var f = a[l];
                l++;
                var d = a[l];
                l++, o[s] = f, s++, o[s] = A, s++, o[s] = c, s++, o[s] = d, s++
            }
            return o
        }

        var a = {
            mipmaps: [],
            width: 0,
            height: 0,
            format: null,
            mipmapCount: 1
        }, o = 542327876, s = 131072, l = 512, u = 4, h = n("DXT1"), c = n("DXT3"), A = n("DXT5"), f = 31, d = 0, p = 1, m = 2, g = 3, v = 4, y = 7, E = 20, b = 21, x = 22, w = 23, T = 24, C = 25, R = 26, _ = 28, B = new Int32Array(e, 0, f);
        if (B[d] !== o)return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"), a;
        if (!B[E] & u)return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"), a;
        var M, H = B[b], S = !1;
        switch (H) {
            case h:
                M = 8, a.format = THREE.RGB_S3TC_DXT1_Format;
                break;
            case c:
                M = 16, a.format = THREE.RGBA_S3TC_DXT3_Format;
                break;
            case A:
                M = 16, a.format = THREE.RGBA_S3TC_DXT5_Format;
                break;
            default:
                if (!(32 == B[x] && 16711680 & B[w] && 65280 & B[T] && 255 & B[C] && 4278190080 & B[R]))return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ", r(H)), a;
                S = !0, M = 64, a.format = THREE.RGBAFormat
        }
        a.mipmapCount = 1, B[m] & s && t !== !1 && (a.mipmapCount = Math.max(1, B[y])), a.isCubemap = B[_] & l ? !0 : !1, a.width = B[v], a.height = B[g];
        for (var D = B[p] + 4, F = a.width, k = a.height, O = a.isCubemap ? 6 : 1, P = 0; O > P; P++) {
            for (var L = 0; L < a.mipmapCount; L++) {
                if (S)var z = i(e, D, F, k), I = z.length; else var I = Math.max(4, F) / 4 * Math.max(4, k) / 4 * M, z = new Uint8Array(e, D, I);
                var G = {data: z, width: F, height: k};
                a.mipmaps.push(G), D += I, F = Math.max(.5 * F, 1), k = Math.max(.5 * k, 1)
            }
            F = a.width, k = a.height
        }
        return a
    }, getNormalMap: function (e, t) {
        var n = function (e, t) {
            return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
        }, r = function (e, t) {
            return [e[0] - t[0], e[1] - t[1], e[2] - t[2]]
        }, i = function (e) {
            var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
            return [e[0] / t, e[1] / t, e[2] / t]
        };
        t = 1 | t;
        var a = e.width, o = e.height, s = document.createElement("canvas");
        s.width = a, s.height = o;
        var l = s.getContext("2d");
        l.drawImage(e, 0, 0);
        for (var u = l.getImageData(0, 0, a, o).data, h = l.createImageData(a, o), c = h.data, A = 0; a > A; A++)for (var f = 0; o > f; f++) {
            var d = 0 > f - 1 ? 0 : f - 1, p = f + 1 > o - 1 ? o - 1 : f + 1, m = 0 > A - 1 ? 0 : A - 1, g = A + 1 > a - 1 ? a - 1 : A + 1, v = [], y = [0, 0, u[4 * (f * a + A)] / 255 * t];
            v.push([-1, 0, u[4 * (f * a + m)] / 255 * t]), v.push([-1, -1, u[4 * (d * a + m)] / 255 * t]), v.push([0, -1, u[4 * (d * a + A)] / 255 * t]), v.push([1, -1, u[4 * (d * a + g)] / 255 * t]), v.push([1, 0, u[4 * (f * a + g)] / 255 * t]), v.push([1, 1, u[4 * (p * a + g)] / 255 * t]), v.push([0, 1, u[4 * (p * a + A)] / 255 * t]), v.push([-1, 1, u[4 * (p * a + m)] / 255 * t]);
            for (var E = [], b = v.length, x = 0; b > x; x++) {
                var w = v[x], T = v[(x + 1) % b];
                w = r(w, y), T = r(T, y), E.push(i(n(w, T)))
            }
            for (var C = [0, 0, 0], x = 0; x < E.length; x++)C[0] += E[x][0], C[1] += E[x][1], C[2] += E[x][2];
            C[0] /= E.length, C[1] /= E.length, C[2] /= E.length;
            var R = 4 * (f * a + A);
            c[R] = (C[0] + 1) / 2 * 255 | 0, c[R + 1] = (C[1] + 1) / 2 * 255 | 0, c[R + 2] = 255 * C[2] | 0, c[R + 3] = 255
        }
        return l.putImageData(h, 0, 0), s
    }, generateDataTexture: function (e, t, n) {
        for (var r = e * t, i = new Uint8Array(3 * r), a = Math.floor(255 * n.r), o = Math.floor(255 * n.g), s = Math.floor(255 * n.b), l = 0; r > l; l++)i[3 * l] = a, i[3 * l + 1] = o, i[3 * l + 2] = s;
        var u = new THREE.DataTexture(i, e, t, THREE.RGBFormat);
        return u.needsUpdate = !0, u
    }
},THREE.SceneUtils = {
    createMultiMaterialObject: function (e, t) {
        for (var n = new THREE.Object3D, r = 0, i = t.length; i > r; r++)n.add(new THREE.Mesh(e, t[r]));
        return n
    }, detach: function (e, t, n) {
        e.applyMatrix(t.matrixWorld), t.remove(e), n.add(e)
    }, attach: function (e, t, n) {
        var r = new THREE.Matrix4;
        r.getInverse(n.matrixWorld), e.applyMatrix(r), t.remove(e), n.add(e)
    }
},THREE.FontUtils = {
    faces: {},
    face: "helvetiker",
    weight: "normal",
    style: "normal",
    size: 150,
    divisions: 10,
    getFace: function () {
        return this.faces[this.face][this.weight][this.style]
    },
    loadFace: function (e) {
        var t = e.familyName.toLowerCase(), n = this;
        n.faces[t] = n.faces[t] || {}, n.faces[t][e.cssFontWeight] = n.faces[t][e.cssFontWeight] || {}, n.faces[t][e.cssFontWeight][e.cssFontStyle] = e;
        n.faces[t][e.cssFontWeight][e.cssFontStyle] = e;
        return e
    },
    drawText: function (e) {
        var t, n = this.getFace(), r = this.size / n.resolution, i = 0, a = String(e).split(""), o = a.length, s = [];
        for (t = 0; o > t; t++) {
            var l = new THREE.Path, u = this.extractGlyphPoints(a[t], n, r, i, l);
            i += u.offset, s.push(u.path)
        }
        var h = i / 2;
        return {paths: s, offset: h}
    },
    extractGlyphPoints: function (e, t, n, r, i) {
        var a, o, s, l, u, h, c, A, f, d, p, m, g, v, y, E, b, x, w, T = [], C = t.glyphs[e] || t.glyphs["?"];
        if (C) {
            if (C.o)for (l = C._cachedOutline || (C._cachedOutline = C.o.split(" ")), h = l.length, c = n, A = n, a = 0; h > a;)switch (u = l[a++]) {
                case"m":
                    f = l[a++] * c + r, d = l[a++] * A, i.moveTo(f, d);
                    break;
                case"l":
                    f = l[a++] * c + r, d = l[a++] * A, i.lineTo(f, d);
                    break;
                case"q":
                    if (p = l[a++] * c + r, m = l[a++] * A, y = l[a++] * c + r, E = l[a++] * A, i.quadraticCurveTo(y, E, p, m), w = T[T.length - 1])for (g = w.x, v = w.y, o = 1, s = this.divisions; s >= o; o++) {
                        var R = o / s;
                        THREE.Shape.Utils.b2(R, g, y, p), THREE.Shape.Utils.b2(R, v, E, m)
                    }
                    break;
                case"b":
                    if (p = l[a++] * c + r, m = l[a++] * A, y = l[a++] * c + r, E = l[a++] * -A, b = l[a++] * c + r, x = l[a++] * -A, i.bezierCurveTo(p, m, y, E, b, x), w = T[T.length - 1])for (g = w.x, v = w.y, o = 1, s = this.divisions; s >= o; o++) {
                        var R = o / s;
                        THREE.Shape.Utils.b3(R, g, y, b, p), THREE.Shape.Utils.b3(R, v, E, x, m)
                    }
            }
            return {offset: C.ha * n, path: i}
        }
    }
},THREE.FontUtils.generateShapes = function (e, t) {
    t = t || {};
    var n = void 0 !== t.size ? t.size : 100, r = void 0 !== t.curveSegments ? t.curveSegments : 4, i = void 0 !== t.font ? t.font : "helvetiker", a = void 0 !== t.weight ? t.weight : "normal", o = void 0 !== t.style ? t.style : "normal";
    THREE.FontUtils.size = n, THREE.FontUtils.divisions = r, THREE.FontUtils.face = i, THREE.FontUtils.weight = a, THREE.FontUtils.style = o;
    for (var s = THREE.FontUtils.drawText(e), l = s.paths, u = [], h = 0, c = l.length; c > h; h++)Array.prototype.push.apply(u, l[h].toShapes());
    return u
},function (e) {
    var t = 1e-10, n = function (e, t) {
        var n = e.length;
        if (3 > n)return null;
        var a, o, s, l = [], u = [], h = [];
        if (r(e) > 0)for (o = 0; n > o; o++)u[o] = o; else for (o = 0; n > o; o++)u[o] = n - 1 - o;
        var c = n, A = 2 * c;
        for (o = c - 1; c > 2;) {
            if (A-- <= 0)return console.log("Warning, unable to triangulate polygon!"), t ? h : l;
            if (a = o, a >= c && (a = 0), o = a + 1, o >= c && (o = 0), s = o + 1, s >= c && (s = 0), i(e, a, o, s, c, u)) {
                var f, d, p, m, g;
                for (f = u[a], d = u[o], p = u[s], l.push([e[f], e[d], e[p]]), h.push([u[a], u[o], u[s]]), m = o, g = o + 1; c > g; m++, g++)u[m] = u[g];
                c--, A = 2 * c
            }
        }
        return t ? h : l
    }, r = function (e) {
        for (var t = e.length, n = 0, r = t - 1, i = 0; t > i; r = i++)n += e[r].x * e[i].y - e[i].x * e[r].y;
        return .5 * n
    }, i = function (e, n, r, i, a, o) {
        var s, l, u, h, c, A, f, d, p;
        if (l = e[o[n]].x, u = e[o[n]].y, h = e[o[r]].x, c = e[o[r]].y, A = e[o[i]].x, f = e[o[i]].y, t > (h - l) * (f - u) - (c - u) * (A - l))return !1;
        var m, g, v, y, E, b, x, w, T, C, R, _, B, M, H;
        for (m = A - h, g = f - c, v = l - A, y = u - f, E = h - l, b = c - u, s = 0; a > s; s++)if (d = e[o[s]].x, p = e[o[s]].y, !(d === l && p === u || d === h && p === c || d === A && p === f) && (x = d - l, w = p - u, T = d - h, C = p - c, R = d - A, _ = p - f, H = m * C - g * T, B = E * w - b * x, M = v * _ - y * R, H >= -t && M >= -t && B >= -t))return !1;
        return !0
    };
    return e.Triangulate = n, e.Triangulate.area = r, e
}(THREE.FontUtils),self._typeface_js = {
    faces: THREE.FontUtils.faces,
    loadFace: THREE.FontUtils.loadFace
},THREE.typeface_js = self._typeface_js,THREE.Curve = function () {
},THREE.Curve.prototype.getPoint = function () {
    return console.log("Warning, getPoint() not implemented!"), null
},THREE.Curve.prototype.getPointAt = function (e) {
    var t = this.getUtoTmapping(e);
    return this.getPoint(t)
},THREE.Curve.prototype.getPoints = function (e) {
    e || (e = 5);
    var t, n = [];
    for (t = 0; e >= t; t++)n.push(this.getPoint(t / e));
    return n
},THREE.Curve.prototype.getSpacedPoints = function (e) {
    e || (e = 5);
    var t, n = [];
    for (t = 0; e >= t; t++)n.push(this.getPointAt(t / e));
    return n
},THREE.Curve.prototype.getLength = function () {
    var e = this.getLengths();
    return e[e.length - 1]
},THREE.Curve.prototype.getLengths = function (e) {
    if (e || (e = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length == e + 1 && !this.needsUpdate)return this.cacheArcLengths;
    this.needsUpdate = !1;
    var t, n, r = [], i = this.getPoint(0), a = 0;
    for (r.push(0), n = 1; e >= n; n++)t = this.getPoint(n / e), a += t.distanceTo(i), r.push(a), i = t;
    return this.cacheArcLengths = r, r
},THREE.Curve.prototype.updateArcLengths = function () {
    this.needsUpdate = !0, this.getLengths()
},THREE.Curve.prototype.getUtoTmapping = function (e, t) {
    var n, r = this.getLengths(), i = 0, a = r.length;
    n = t ? t : e * r[a - 1];
    for (var o, s = 0, l = a - 1; l >= s;)if (i = Math.floor(s + (l - s) / 2), o = r[i] - n, 0 > o)s = i + 1; else {
        if (!(o > 0)) {
            l = i;
            break
        }
        l = i - 1
    }
    if (i = l, r[i] == n) {
        var u = i / (a - 1);
        return u
    }
    var h = r[i], c = r[i + 1], A = c - h, f = (n - h) / A, u = (i + f) / (a - 1);
    return u
},THREE.Curve.prototype.getTangent = function (e) {
    var t = 1e-4, n = e - t, r = e + t;
    0 > n && (n = 0), r > 1 && (r = 1);
    var i = this.getPoint(n), a = this.getPoint(r), o = a.clone().sub(i);
    return o.normalize()
},THREE.Curve.prototype.getTangentAt = function (e) {
    var t = this.getUtoTmapping(e);
    return this.getTangent(t)
},THREE.Curve.Utils = {
    tangentQuadraticBezier: function (e, t, n, r) {
        return 2 * (1 - e) * (n - t) + 2 * e * (r - n)
    }, tangentCubicBezier: function (e, t, n, r, i) {
        return -3 * t * (1 - e) * (1 - e) + 3 * n * (1 - e) * (1 - e) - 6 * e * n * (1 - e) + 6 * e * r * (1 - e) - 3 * e * e * r + 3 * e * e * i
    }, tangentSpline: function (e) {
        var t = 6 * e * e - 6 * e, n = 3 * e * e - 4 * e + 1, r = -6 * e * e + 6 * e, i = 3 * e * e - 2 * e;
        return t + n + r + i
    }, interpolate: function (e, t, n, r, i) {
        var a = .5 * (n - e), o = .5 * (r - t), s = i * i, l = i * s;
        return (2 * t - 2 * n + a + o) * l + (-3 * t + 3 * n - 2 * a - o) * s + a * i + t
    }
},THREE.Curve.create = function (e, t) {
    return e.prototype = Object.create(THREE.Curve.prototype), e.prototype.getPoint = t, e
},THREE.CurvePath = function () {
    this.curves = [], this.bends = [], this.autoClose = !1
},THREE.CurvePath.prototype = Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add = function (e) {
    this.curves.push(e)
},THREE.CurvePath.prototype.checkConnection = function () {
},THREE.CurvePath.prototype.closePath = function () {
    var e = this.curves[0].getPoint(0), t = this.curves[this.curves.length - 1].getPoint(1);
    e.equals(t) || this.curves.push(new THREE.LineCurve(t, e))
},THREE.CurvePath.prototype.getPoint = function (e) {
    for (var t, n, r = e * this.getLength(), i = this.getCurveLengths(), a = 0; a < i.length;) {
        if (i[a] >= r) {
            t = i[a] - r, n = this.curves[a];
            var o = 1 - t / n.getLength();
            return n.getPointAt(o)
        }
        a++
    }
    return null
},THREE.CurvePath.prototype.getLength = function () {
    var e = this.getCurveLengths();
    return e[e.length - 1]
},THREE.CurvePath.prototype.getCurveLengths = function () {
    if (this.cacheLengths && this.cacheLengths.length == this.curves.length)return this.cacheLengths;
    var e, t = [], n = 0, r = this.curves.length;
    for (e = 0; r > e; e++)n += this.curves[e].getLength(), t.push(n);
    return this.cacheLengths = t, t
},THREE.CurvePath.prototype.getBoundingBox = function () {
    var e, t, n, r, i, a, o = this.getPoints();
    e = t = Number.NEGATIVE_INFINITY, r = i = Number.POSITIVE_INFINITY;
    var s, l, u, h, c = o[0] instanceof THREE.Vector3;
    for (h = c ? new THREE.Vector3 : new THREE.Vector2, l = 0, u = o.length; u > l; l++)s = o[l], s.x > e ? e = s.x : s.x < r && (r = s.x), s.y > t ? t = s.y : s.y < i && (i = s.y), c && (s.z > n ? n = s.z : s.z < a && (a = s.z)), h.add(s);
    var A = {minX: r, minY: i, maxX: e, maxY: t, centroid: h.divideScalar(u)};
    return c && (A.maxZ = n, A.minZ = a), A
},THREE.CurvePath.prototype.createPointsGeometry = function (e) {
    var t = this.getPoints(e, !0);
    return this.createGeometry(t)
},THREE.CurvePath.prototype.createSpacedPointsGeometry = function (e) {
    var t = this.getSpacedPoints(e, !0);
    return this.createGeometry(t)
},THREE.CurvePath.prototype.createGeometry = function (e) {
    for (var t = new THREE.Geometry, n = 0; n < e.length; n++)t.vertices.push(new THREE.Vector3(e[n].x, e[n].y, e[n].z || 0));
    return t
},THREE.CurvePath.prototype.addWrapPath = function (e) {
    this.bends.push(e)
},THREE.CurvePath.prototype.getTransformedPoints = function (e, t) {
    var n, r, i = this.getPoints(e);
    for (t || (t = this.bends), n = 0, r = t.length; r > n; n++)i = this.getWrapPoints(i, t[n]);
    return i
},THREE.CurvePath.prototype.getTransformedSpacedPoints = function (e, t) {
    var n, r, i = this.getSpacedPoints(e);
    for (t || (t = this.bends), n = 0, r = t.length; r > n; n++)i = this.getWrapPoints(i, t[n]);
    return i
},THREE.CurvePath.prototype.getWrapPoints = function (e, t) {
    var n, r, i, a, o, s, l = this.getBoundingBox();
    for (n = 0, r = e.length; r > n; n++) {
        i = e[n], a = i.x, o = i.y, s = a / l.maxX, s = t.getUtoTmapping(s, a);
        var u = t.getPoint(s), h = t.getTangent(s);
        h.set(-h.y, h.x).multiplyScalar(o), i.x = u.x + h.x, i.y = u.y + h.y
    }
    return e
},THREE.Gyroscope = function () {
    THREE.Object3D.call(this)
},THREE.Gyroscope.prototype = Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld = function (e) {
    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || e) && (this.parent ? (this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorld.decompose(this.translationWorld, this.quaternionWorld, this.scaleWorld), this.matrix.decompose(this.translationObject, this.quaternionObject, this.scaleObject), this.matrixWorld.compose(this.translationWorld, this.quaternionObject, this.scaleWorld)) : this.matrixWorld.copy(this.matrix), this.matrixWorldNeedsUpdate = !1, e = !0);
    for (var t = 0, n = this.children.length; n > t; t++)this.children[t].updateMatrixWorld(e)
},THREE.Gyroscope.prototype.translationWorld = new THREE.Vector3,THREE.Gyroscope.prototype.translationObject = new THREE.Vector3,THREE.Gyroscope.prototype.quaternionWorld = new THREE.Quaternion,THREE.Gyroscope.prototype.quaternionObject = new THREE.Quaternion,THREE.Gyroscope.prototype.scaleWorld = new THREE.Vector3,THREE.Gyroscope.prototype.scaleObject = new THREE.Vector3,THREE.Path = function (e) {
    THREE.CurvePath.call(this), this.actions = [], e && this.fromPoints(e)
},THREE.Path.prototype = Object.create(THREE.CurvePath.prototype),THREE.PathActions = {
    MOVE_TO: "moveTo",
    LINE_TO: "lineTo",
    QUADRATIC_CURVE_TO: "quadraticCurveTo",
    BEZIER_CURVE_TO: "bezierCurveTo",
    CSPLINE_THRU: "splineThru",
    ARC: "arc",
    ELLIPSE: "ellipse"
},THREE.Path.prototype.fromPoints = function (e) {
    this.moveTo(e[0].x, e[0].y);
    for (var t = 1, n = e.length; n > t; t++)this.lineTo(e[t].x, e[t].y)
},THREE.Path.prototype.moveTo = function () {
    var e = Array.prototype.slice.call(arguments);
    this.actions.push({action: THREE.PathActions.MOVE_TO, args: e})
},THREE.Path.prototype.lineTo = function (e, t) {
    var n = Array.prototype.slice.call(arguments), r = this.actions[this.actions.length - 1].args, i = r[r.length - 2], a = r[r.length - 1], o = new THREE.LineCurve(new THREE.Vector2(i, a), new THREE.Vector2(e, t));
    this.curves.push(o), this.actions.push({action: THREE.PathActions.LINE_TO, args: n})
},THREE.Path.prototype.quadraticCurveTo = function (e, t, n, r) {
    var i = Array.prototype.slice.call(arguments), a = this.actions[this.actions.length - 1].args, o = a[a.length - 2], s = a[a.length - 1], l = new THREE.QuadraticBezierCurve(new THREE.Vector2(o, s), new THREE.Vector2(e, t), new THREE.Vector2(n, r));
    this.curves.push(l), this.actions.push({action: THREE.PathActions.QUADRATIC_CURVE_TO, args: i})
},THREE.Path.prototype.bezierCurveTo = function (e, t, n, r, i, a) {
    var o = Array.prototype.slice.call(arguments), s = this.actions[this.actions.length - 1].args, l = s[s.length - 2], u = s[s.length - 1], h = new THREE.CubicBezierCurve(new THREE.Vector2(l, u), new THREE.Vector2(e, t), new THREE.Vector2(n, r), new THREE.Vector2(i, a));
    this.curves.push(h), this.actions.push({action: THREE.PathActions.BEZIER_CURVE_TO, args: o})
},THREE.Path.prototype.splineThru = function (e) {
    var t = Array.prototype.slice.call(arguments), n = this.actions[this.actions.length - 1].args, r = n[n.length - 2], i = n[n.length - 1], a = [new THREE.Vector2(r, i)];
    Array.prototype.push.apply(a, e);
    var o = new THREE.SplineCurve(a);
    this.curves.push(o), this.actions.push({action: THREE.PathActions.CSPLINE_THRU, args: t})
},THREE.Path.prototype.arc = function (e, t, n, r, i, a) {
    var o = this.actions[this.actions.length - 1].args, s = o[o.length - 2], l = o[o.length - 1];
    this.absarc(e + s, t + l, n, r, i, a)
},THREE.Path.prototype.absarc = function (e, t, n, r, i, a) {
    this.absellipse(e, t, n, n, r, i, a)
},THREE.Path.prototype.ellipse = function (e, t, n, r, i, a, o) {
    var s = this.actions[this.actions.length - 1].args, l = s[s.length - 2], u = s[s.length - 1];
    this.absellipse(e + l, t + u, n, r, i, a, o)
},THREE.Path.prototype.absellipse = function (e, t, n, r, i, a, o) {
    var s = Array.prototype.slice.call(arguments), l = new THREE.EllipseCurve(e, t, n, r, i, a, o);
    this.curves.push(l);
    var u = l.getPoint(1);
    s.push(u.x), s.push(u.y), this.actions.push({action: THREE.PathActions.ELLIPSE, args: s})
},THREE.Path.prototype.getSpacedPoints = function (e) {
    e || (e = 40);
    for (var t = [], n = 0; e > n; n++)t.push(this.getPoint(n / e));
    return t
},THREE.Path.prototype.getPoints = function (e, t) {
    if (this.useSpacedPoints)return console.log("tata"), this.getSpacedPoints(e, t);
    e = e || 12;
    var n, r, i, a, o, s, l, u, h, c, A, f, d, p, m, g, v, y, E = [];
    for (n = 0, r = this.actions.length; r > n; n++)switch (i = this.actions[n], a = i.action, o = i.args, a) {
        case THREE.PathActions.MOVE_TO:
            E.push(new THREE.Vector2(o[0], o[1]));
            break;
        case THREE.PathActions.LINE_TO:
            E.push(new THREE.Vector2(o[0], o[1]));
            break;
        case THREE.PathActions.QUADRATIC_CURVE_TO:
            for (s = o[2], l = o[3], c = o[0], A = o[1], E.length > 0 ? (p = E[E.length - 1], f = p.x, d = p.y) : (p = this.actions[n - 1].args, f = p[p.length - 2], d = p[p.length - 1]), m = 1; e >= m; m++)g = m / e, v = THREE.Shape.Utils.b2(g, f, c, s), y = THREE.Shape.Utils.b2(g, d, A, l), E.push(new THREE.Vector2(v, y));
            break;
        case THREE.PathActions.BEZIER_CURVE_TO:
            for (s = o[4], l = o[5], c = o[0], A = o[1], u = o[2], h = o[3], E.length > 0 ? (p = E[E.length - 1], f = p.x, d = p.y) : (p = this.actions[n - 1].args, f = p[p.length - 2], d = p[p.length - 1]), m = 1; e >= m; m++)g = m / e, v = THREE.Shape.Utils.b3(g, f, c, u, s), y = THREE.Shape.Utils.b3(g, d, A, h, l), E.push(new THREE.Vector2(v, y));
            break;
        case THREE.PathActions.CSPLINE_THRU:
            p = this.actions[n - 1].args;
            var b = new THREE.Vector2(p[p.length - 2], p[p.length - 1]), x = [b], w = e * o[0].length;
            x = x.concat(o[0]);
            var T = new THREE.SplineCurve(x);
            for (m = 1; w >= m; m++)E.push(T.getPointAt(m / w));
            break;
        case THREE.PathActions.ARC:
            var C, R = o[0], _ = o[1], B = o[2], M = o[3], H = o[4], S = !!o[5], D = H - M, F = 2 * e;
            for (m = 1; F >= m; m++)g = m / F, S || (g = 1 - g), C = M + g * D, v = R + B * Math.cos(C), y = _ + B * Math.sin(C), E.push(new THREE.Vector2(v, y));
            break;
        case THREE.PathActions.ELLIPSE:
            var C, R = o[0], _ = o[1], k = o[2], O = o[3], M = o[4], H = o[5], S = !!o[6], D = H - M, F = 2 * e;
            for (m = 1; F >= m; m++)g = m / F, S || (g = 1 - g), C = M + g * D, v = R + k * Math.cos(C), y = _ + O * Math.sin(C), E.push(new THREE.Vector2(v, y))
    }
    var P = E[E.length - 1], L = 1e-10;
    return Math.abs(P.x - E[0].x) < L && Math.abs(P.y - E[0].y) < L && E.splice(E.length - 1, 1), t && E.push(E[0]), E
},THREE.Path.prototype.toShapes = function (e) {
    function t(e, t) {
        for (var n = 1e-10, r = t.length, i = !1, a = r - 1, o = 0; r > o; a = o++) {
            var s = t[a], l = t[o], u = l.x - s.x, h = l.y - s.y;
            if (Math.abs(h) > n) {
                if (0 > h && (s = t[o], u = -u, l = t[a], h = -h), e.y < s.y || e.y > l.y)continue;
                if (e.y == s.y) {
                    if (e.x == s.x)return !0
                } else {
                    var c = h * (e.x - s.x) - u * (e.y - s.y);
                    if (0 == c)return !0;
                    if (0 > c)continue;
                    i = !i
                }
            } else {
                if (e.y != s.y)continue;
                if (l.x <= e.x && e.x <= s.x || s.x <= e.x && e.x <= l.x)return !0
            }
        }
        return i
    }

    var n, r, i, a, o, s = [], l = new THREE.Path;
    for (n = 0, r = this.actions.length; r > n; n++)i = this.actions[n], o = i.args, a = i.action, a == THREE.PathActions.MOVE_TO && 0 != l.actions.length && (s.push(l), l = new THREE.Path), l[a].apply(l, o);
    if (0 != l.actions.length && s.push(l), 0 == s.length)return [];
    var u, h, c, A = [];
    if (1 == s.length)return h = s[0], c = new THREE.Shape, c.actions = h.actions, c.curves = h.curves, A.push(c), A;
    var f = !THREE.Shape.Utils.isClockWise(s[0].getPoints());
    f = e ? !f : f;
    var d, p = [], m = [], g = [], v = 0;
    for (m[v] = void 0, g[v] = [], n = 0, r = s.length; r > n; n++)h = s[n], d = h.getPoints(), u = THREE.Shape.Utils.isClockWise(d), u = e ? !u : u, u ? (!f && m[v] && v++, m[v] = {
        s: new THREE.Shape,
        p: d
    }, m[v].s.actions = h.actions, m[v].s.curves = h.curves, f && v++, g[v] = []) : g[v].push({h: h, p: d[0]});
    if (m.length > 1) {
        for (var y = !1, E = [], b = 0, x = m.length; x > b; b++)p[b] = [];
        for (var b = 0, x = m.length; x > b; b++)for (var w = (m[b], g[b]), T = 0; T < w.length; T++) {
            for (var C = w[T], R = !0, _ = 0; _ < m.length; _++)t(C.p, m[_].p) && (b != _ && E.push({
                froms: b,
                tos: _,
                hole: T
            }), R ? (R = !1, p[_].push(C)) : y = !0);
            R && p[b].push(C)
        }
        E.length > 0 && (y || (g = p))
    }
    var B, M, H;
    for (n = 0, r = m.length; r > n; n++)for (c = m[n].s, A.push(c), B = g[n], M = 0, H = B.length; H > M; M++)c.holes.push(B[M].h);
    return A
},THREE.Shape = function () {
    THREE.Path.apply(this, arguments), this.holes = []
},THREE.Shape.prototype = Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude = function (e) {
    var t = new THREE.ExtrudeGeometry(this, e);
    return t
},THREE.Shape.prototype.makeGeometry = function (e) {
    var t = new THREE.ShapeGeometry(this, e);
    return t
},THREE.Shape.prototype.getPointsHoles = function (e) {
    var t, n = this.holes.length, r = [];
    for (t = 0; n > t; t++)r[t] = this.holes[t].getTransformedPoints(e, this.bends);
    return r
},THREE.Shape.prototype.getSpacedPointsHoles = function (e) {
    var t, n = this.holes.length, r = [];
    for (t = 0; n > t; t++)r[t] = this.holes[t].getTransformedSpacedPoints(e, this.bends);
    return r
},THREE.Shape.prototype.extractAllPoints = function (e) {
    return {shape: this.getTransformedPoints(e), holes: this.getPointsHoles(e)}
},THREE.Shape.prototype.extractPoints = function (e) {
    return this.useSpacedPoints ? this.extractAllSpacedPoints(e) : this.extractAllPoints(e)
},THREE.Shape.prototype.extractAllSpacedPoints = function (e) {
    return {shape: this.getTransformedSpacedPoints(e), holes: this.getSpacedPointsHoles(e)}
},THREE.Shape.Utils = {
    triangulateShape: function (e, t) {
        function n(e, t, n) {
            return e.x != t.x ? e.x < t.x ? e.x <= n.x && n.x <= t.x : t.x <= n.x && n.x <= e.x : e.y < t.y ? e.y <= n.y && n.y <= t.y : t.y <= n.y && n.y <= e.y
        }

        function r(e, t, r, i, a) {
            var o = 1e-10, s = t.x - e.x, l = t.y - e.y, u = i.x - r.x, h = i.y - r.y, c = e.x - r.x, A = e.y - r.y, f = l * u - s * h, d = l * c - s * A;
            if (Math.abs(f) > o) {
                var p;
                if (f > 0) {
                    if (0 > d || d > f)return [];
                    if (p = h * c - u * A, 0 > p || p > f)return []
                } else {
                    if (d > 0 || f > d)return [];
                    if (p = h * c - u * A, p > 0 || f > p)return []
                }
                if (0 == p)return !a || 0 != d && d != f ? [e] : [];
                if (p == f)return !a || 0 != d && d != f ? [t] : [];
                if (0 == d)return [r];
                if (d == f)return [i];
                var m = p / f;
                return [{x: e.x + m * s, y: e.y + m * l}]
            }
            if (0 != d || h * c != u * A)return [];
            var g = 0 == s && 0 == l, v = 0 == u && 0 == h;
            if (g && v)return e.x != r.x || e.y != r.y ? [] : [e];
            if (g)return n(r, i, e) ? [e] : [];
            if (v)return n(e, t, r) ? [r] : [];
            var y, E, b, x, w, T, C, R;
            return 0 != s ? (e.x < t.x ? (y = e, b = e.x, E = t, x = t.x) : (y = t, b = t.x, E = e, x = e.x), r.x < i.x ? (w = r, C = r.x, T = i, R = i.x) : (w = i, C = i.x, T = r, R = r.x)) : (e.y < t.y ? (y = e, b = e.y, E = t, x = t.y) : (y = t, b = t.y, E = e, x = e.y), r.y < i.y ? (w = r, C = r.y, T = i, R = i.y) : (w = i, C = i.y, T = r, R = r.y)), C >= b ? C > x ? [] : x == C ? a ? [] : [w] : R >= x ? [w, E] : [w, T] : b > R ? [] : b == R ? a ? [] : [y] : R >= x ? [y, E] : [y, T]
        }

        function i(e, t, n, r) {
            var i = 1e-10, a = t.x - e.x, o = t.y - e.y, s = n.x - e.x, l = n.y - e.y, u = r.x - e.x, h = r.y - e.y, c = a * l - o * s, A = a * h - o * u;
            if (Math.abs(c) > i) {
                var f = u * l - h * s;
                return c > 0 ? A >= 0 && f >= 0 : A >= 0 || f >= 0
            }
            return A > 0
        }

        function a(e, t) {
            function n(e, t) {
                var n = v.length - 1, r = e - 1;
                0 > r && (r = n);
                var a = e + 1;
                a > n && (a = 0);
                var o = i(v[e], v[r], v[a], s[t]);
                if (!o)return !1;
                var l = s.length - 1, u = t - 1;
                0 > u && (u = l);
                var h = t + 1;
                return h > l && (h = 0), o = i(s[t], s[u], s[h], v[e]), o ? !0 : !1
            }

            function a(e, t) {
                var n, i, a;
                for (n = 0; n < v.length; n++)if (i = n + 1, i %= v.length, a = r(e, t, v[n], v[i], !0), a.length > 0)return !0;
                return !1
            }

            function o(e, n) {
                var i, a, o, s, l;
                for (i = 0; i < y.length; i++)for (a = t[y[i]], o = 0; o < a.length; o++)if (s = o + 1, s %= a.length, l = r(e, n, a[o], a[s], !0), l.length > 0)return !0;
                return !1
            }

            for (var s, l, u, h, c, A, f, d, p, m, g, v = e.concat(), y = [], E = [], b = 0, x = t.length; x > b; b++)y.push(b);
            for (var w = 2 * y.length; y.length > 0;) {
                if (w--, 0 > w) {
                    console.log("Infinite Loop! Holes left:" + y.length + ", Probably Hole outside Shape!");
                    break
                }
                for (u = 0; u < v.length; u++) {
                    h = v[u], l = -1;
                    for (var b = 0; b < y.length; b++)if (A = y[b], f = h.x + ":" + h.y + ":" + A, void 0 === E[f]) {
                        s = t[A];
                        for (var T = 0; T < s.length; T++)if (c = s[T], n(u, T) && !a(h, c) && !o(h, c)) {
                            l = T, y.splice(b, 1), d = v.slice(0, u + 1), p = v.slice(u), m = s.slice(l), g = s.slice(0, l + 1), v = d.concat(m).concat(g).concat(p);
                            break
                        }
                        if (l >= 0)break;
                        E[f] = !0
                    }
                    if (l >= 0)break
                }
            }
            return v
        }

        for (var o, s, l, u, h, c, A = {}, f = e.concat(), d = 0, p = t.length; p > d; d++)Array.prototype.push.apply(f, t[d]);
        for (o = 0, s = f.length; s > o; o++)h = f[o].x + ":" + f[o].y, void 0 !== A[h] && console.log("Duplicate point", h), A[h] = o;
        var m = a(e, t), g = THREE.FontUtils.Triangulate(m, !1);
        for (o = 0, s = g.length; s > o; o++)for (u = g[o], l = 0; 3 > l; l++)h = u[l].x + ":" + u[l].y, c = A[h], void 0 !== c && (u[l] = c);
        return g.concat()
    }, isClockWise: function (e) {
        return THREE.FontUtils.Triangulate.area(e) < 0
    }, b2p0: function (e, t) {
        var n = 1 - e;
        return n * n * t
    }, b2p1: function (e, t) {
        return 2 * (1 - e) * e * t
    }, b2p2: function (e, t) {
        return e * e * t
    }, b2: function (e, t, n, r) {
        return this.b2p0(e, t) + this.b2p1(e, n) + this.b2p2(e, r)
    }, b3p0: function (e, t) {
        var n = 1 - e;
        return n * n * n * t
    }, b3p1: function (e, t) {
        var n = 1 - e;
        return 3 * n * n * e * t
    }, b3p2: function (e, t) {
        var n = 1 - e;
        return 3 * n * e * e * t
    }, b3p3: function (e, t) {
        return e * e * e * t
    }, b3: function (e, t, n, r, i) {
        return this.b3p0(e, t) + this.b3p1(e, n) + this.b3p2(e, r) + this.b3p3(e, i)
    }
},THREE.LineCurve = function (e, t) {
    this.v1 = e, this.v2 = t
},THREE.LineCurve.prototype = Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint = function (e) {
    var t = this.v2.clone().sub(this.v1);
    return t.multiplyScalar(e).add(this.v1), t
},THREE.LineCurve.prototype.getPointAt = function (e) {
    return this.getPoint(e)
},THREE.LineCurve.prototype.getTangent = function () {
    var e = this.v2.clone().sub(this.v1);
    return e.normalize()
},THREE.QuadraticBezierCurve = function (e, t, n) {
    this.v0 = e, this.v1 = t, this.v2 = n
},THREE.QuadraticBezierCurve.prototype = Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint = function (e) {
    var t, n;
    return t = THREE.Shape.Utils.b2(e, this.v0.x, this.v1.x, this.v2.x), n = THREE.Shape.Utils.b2(e, this.v0.y, this.v1.y, this.v2.y), new THREE.Vector2(t, n)
},THREE.QuadraticBezierCurve.prototype.getTangent = function (e) {
    var t, n;
    t = THREE.Curve.Utils.tangentQuadraticBezier(e, this.v0.x, this.v1.x, this.v2.x), n = THREE.Curve.Utils.tangentQuadraticBezier(e, this.v0.y, this.v1.y, this.v2.y);
    var r = new THREE.Vector2(t, n);
    return r.normalize(), r
},THREE.CubicBezierCurve = function (e, t, n, r) {
    this.v0 = e, this.v1 = t, this.v2 = n, this.v3 = r
},THREE.CubicBezierCurve.prototype = Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint = function (e) {
    var t, n;
    return t = THREE.Shape.Utils.b3(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x), n = THREE.Shape.Utils.b3(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y), new THREE.Vector2(t, n)
},THREE.CubicBezierCurve.prototype.getTangent = function (e) {
    var t, n;
    t = THREE.Curve.Utils.tangentCubicBezier(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x), n = THREE.Curve.Utils.tangentCubicBezier(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y);
    var r = new THREE.Vector2(t, n);
    return r.normalize(), r
},THREE.SplineCurve = function (e) {
    this.points = void 0 == e ? [] : e
},THREE.SplineCurve.prototype = Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint = function (e) {
    var t, n, r, i = new THREE.Vector2, a = [], o = this.points;
    return t = (o.length - 1) * e, n = Math.floor(t), r = t - n, a[0] = 0 == n ? n : n - 1, a[1] = n, a[2] = n > o.length - 2 ? o.length - 1 : n + 1, a[3] = n > o.length - 3 ? o.length - 1 : n + 2, i.x = THREE.Curve.Utils.interpolate(o[a[0]].x, o[a[1]].x, o[a[2]].x, o[a[3]].x, r), i.y = THREE.Curve.Utils.interpolate(o[a[0]].y, o[a[1]].y, o[a[2]].y, o[a[3]].y, r), i
},THREE.EllipseCurve = function (e, t, n, r, i, a, o) {
    this.aX = e, this.aY = t, this.xRadius = n, this.yRadius = r, this.aStartAngle = i, this.aEndAngle = a, this.aClockwise = o
},THREE.EllipseCurve.prototype = Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint = function (e) {
    var t, n = this.aEndAngle - this.aStartAngle;
    0 > n && (n += 2 * Math.PI), n > 2 * Math.PI && (n -= 2 * Math.PI), t = this.aClockwise === !0 ? this.aEndAngle + (1 - e) * (2 * Math.PI - n) : this.aStartAngle + e * n;
    var r = this.aX + this.xRadius * Math.cos(t), i = this.aY + this.yRadius * Math.sin(t);
    return new THREE.Vector2(r, i)
},THREE.ArcCurve = function (e, t, n, r, i, a) {
    THREE.EllipseCurve.call(this, e, t, n, n, r, i, a)
},THREE.ArcCurve.prototype = Object.create(THREE.EllipseCurve.prototype),THREE.LineCurve3 = THREE.Curve.create(function (e, t) {
    this.v1 = e, this.v2 = t
}, function (e) {
    var t = new THREE.Vector3;
    return t.subVectors(this.v2, this.v1), t.multiplyScalar(e), t.add(this.v1), t
}),THREE.QuadraticBezierCurve3 = THREE.Curve.create(function (e, t, n) {
    this.v0 = e, this.v1 = t, this.v2 = n
}, function (e) {
    var t, n, r;
    return t = THREE.Shape.Utils.b2(e, this.v0.x, this.v1.x, this.v2.x), n = THREE.Shape.Utils.b2(e, this.v0.y, this.v1.y, this.v2.y), r = THREE.Shape.Utils.b2(e, this.v0.z, this.v1.z, this.v2.z), new THREE.Vector3(t, n, r)
}),THREE.CubicBezierCurve3 = THREE.Curve.create(function (e, t, n, r) {
    this.v0 = e, this.v1 = t, this.v2 = n, this.v3 = r
}, function (e) {
    var t, n, r;
    return t = THREE.Shape.Utils.b3(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x), n = THREE.Shape.Utils.b3(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y), r = THREE.Shape.Utils.b3(e, this.v0.z, this.v1.z, this.v2.z, this.v3.z), new THREE.Vector3(t, n, r)
}),THREE.SplineCurve3 = THREE.Curve.create(function (e) {
    this.points = void 0 == e ? [] : e
}, function (e) {
    var t, n, r, i = new THREE.Vector3, a = [], o = this.points;
    t = (o.length - 1) * e, n = Math.floor(t), r = t - n, a[0] = 0 == n ? n : n - 1, a[1] = n, a[2] = n > o.length - 2 ? o.length - 1 : n + 1, a[3] = n > o.length - 3 ? o.length - 1 : n + 2;
    var s = o[a[0]], l = o[a[1]], u = o[a[2]], h = o[a[3]];
    return i.x = THREE.Curve.Utils.interpolate(s.x, l.x, u.x, h.x, r), i.y = THREE.Curve.Utils.interpolate(s.y, l.y, u.y, h.y, r), i.z = THREE.Curve.Utils.interpolate(s.z, l.z, u.z, h.z, r), i
}),THREE.ClosedSplineCurve3 = THREE.Curve.create(function (e) {
    this.points = void 0 == e ? [] : e
}, function (e) {
    var t, n, r, i = new THREE.Vector3, a = [], o = this.points;
    return t = (o.length - 0) * e, n = Math.floor(t), r = t - n, n += n > 0 ? 0 : (Math.floor(Math.abs(n) / o.length) + 1) * o.length, a[0] = (n - 1) % o.length, a[1] = n % o.length, a[2] = (n + 1) % o.length, a[3] = (n + 2) % o.length, i.x = THREE.Curve.Utils.interpolate(o[a[0]].x, o[a[1]].x, o[a[2]].x, o[a[3]].x, r), i.y = THREE.Curve.Utils.interpolate(o[a[0]].y, o[a[1]].y, o[a[2]].y, o[a[3]].y, r), i.z = THREE.Curve.Utils.interpolate(o[a[0]].z, o[a[1]].z, o[a[2]].z, o[a[3]].z, r), i
}),THREE.AnimationHandler = function () {
    var e = [], t = {}, n = {};
    n.update = function (t) {
        for (var n = 0; n < e.length; n++)e[n].update(t)
    }, n.addToUpdate = function (t) {
        -1 === e.indexOf(t) && e.push(t)
    }, n.removeFromUpdate = function (t) {
        var n = e.indexOf(t);
        -1 !== n && e.splice(n, 1)
    }, n.add = function (e) {
        void 0 !== t[e.name] && console.log("THREE.AnimationHandler.add: Warning! " + e.name + " already exists in library. Overwriting."), t[e.name] = e, i(e)
    }, n.get = function (e) {
        return "string" == typeof e ? t[e] ? t[e] : (console.log("THREE.AnimationHandler.get: Couldn't find animation " + e), null) : void 0
    }, n.parse = function (e) {
        var t = [];
        if (e instanceof THREE.SkinnedMesh)for (var n = 0; n < e.bones.length; n++)t.push(e.bones[n]); else r(e, t);
        return t
    };
    var r = function (e, t) {
        t.push(e);
        for (var n = 0; n < e.children.length; n++)r(e.children[n], t)
    }, i = function (e) {
        if (e.initialized !== !0) {
            for (var t = 0; t < e.hierarchy.length; t++) {
                for (var n = 0; n < e.hierarchy[t].keys.length; n++)if (e.hierarchy[t].keys[n].time < 0 && (e.hierarchy[t].keys[n].time = 0), void 0 !== e.hierarchy[t].keys[n].rot && !(e.hierarchy[t].keys[n].rot instanceof THREE.Quaternion)) {
                    var r = e.hierarchy[t].keys[n].rot;
                    e.hierarchy[t].keys[n].rot = new THREE.Quaternion(r[0], r[1], r[2], r[3])
                }
                if (e.hierarchy[t].keys.length && void 0 !== e.hierarchy[t].keys[0].morphTargets) {
                    for (var i = {}, n = 0; n < e.hierarchy[t].keys.length; n++)for (var a = 0; a < e.hierarchy[t].keys[n].morphTargets.length; a++) {
                        var o = e.hierarchy[t].keys[n].morphTargets[a];
                        i[o] = -1
                    }
                    e.hierarchy[t].usedMorphTargets = i;
                    for (var n = 0; n < e.hierarchy[t].keys.length; n++) {
                        var s = {};
                        for (var o in i) {
                            for (var a = 0; a < e.hierarchy[t].keys[n].morphTargets.length; a++)if (e.hierarchy[t].keys[n].morphTargets[a] === o) {
                                s[o] = e.hierarchy[t].keys[n].morphTargetsInfluences[a];
                                break
                            }
                            a === e.hierarchy[t].keys[n].morphTargets.length && (s[o] = 0)
                        }
                        e.hierarchy[t].keys[n].morphTargetsInfluences = s
                    }
                }
                for (var n = 1; n < e.hierarchy[t].keys.length; n++)e.hierarchy[t].keys[n].time === e.hierarchy[t].keys[n - 1].time && (e.hierarchy[t].keys.splice(n, 1), n--);
                for (var n = 0; n < e.hierarchy[t].keys.length; n++)e.hierarchy[t].keys[n].index = n
            }
            e.initialized = !0
        }
    };
    return n.LINEAR = 0, n.CATMULLROM = 1, n.CATMULLROM_FORWARD = 2, n
}(),THREE.Animation = function (e, t) {
    this.root = e, this.data = THREE.AnimationHandler.get(t), this.hierarchy = THREE.AnimationHandler.parse(e), this.currentTime = 0, this.timeScale = 1, this.isPlaying = !1, this.isPaused = !0, this.loop = !0, this.interpolationType = THREE.AnimationHandler.LINEAR
},THREE.Animation.prototype.play = function (e) {
    this.currentTime = void 0 !== e ? e : 0, this.isPlaying === !1 && (this.isPlaying = !0, this.reset(), this.update(0)), this.isPaused = !1, THREE.AnimationHandler.addToUpdate(this)
},THREE.Animation.prototype.pause = function () {
    this.isPaused === !0 ? THREE.AnimationHandler.addToUpdate(this) : THREE.AnimationHandler.removeFromUpdate(this), this.isPaused = !this.isPaused
},THREE.Animation.prototype.stop = function () {
    this.isPlaying = !1, this.isPaused = !1, THREE.AnimationHandler.removeFromUpdate(this)
},THREE.Animation.prototype.reset = function () {
    for (var e = 0, t = this.hierarchy.length; t > e; e++) {
        var n = this.hierarchy[e];
        n.matrixAutoUpdate = !0, void 0 === n.animationCache && (n.animationCache = {}, n.animationCache.prevKey = {
            pos: 0,
            rot: 0,
            scl: 0
        }, n.animationCache.nextKey = {
            pos: 0,
            rot: 0,
            scl: 0
        }, n.animationCache.originalMatrix = n instanceof THREE.Bone ? n.skinMatrix : n.matrix);
        var r = n.animationCache.prevKey, i = n.animationCache.nextKey;
        r.pos = this.data.hierarchy[e].keys[0], r.rot = this.data.hierarchy[e].keys[0], r.scl = this.data.hierarchy[e].keys[0], i.pos = this.getNextKeyWith("pos", e, 1), i.rot = this.getNextKeyWith("rot", e, 1), i.scl = this.getNextKeyWith("scl", e, 1)
    }
},THREE.Animation.prototype.update = function () {
    var e = [], t = new THREE.Vector3, n = function (e, t) {
        var n, i, a, o, s, l, u, h, c, A = [], f = [];
        return n = (e.length - 1) * t, i = Math.floor(n), a = n - i, A[0] = 0 === i ? i : i - 1, A[1] = i, A[2] = i > e.length - 2 ? i : i + 1, A[3] = i > e.length - 3 ? i : i + 2, l = e[A[0]], u = e[A[1]], h = e[A[2]], c = e[A[3]], o = a * a, s = a * o, f[0] = r(l[0], u[0], h[0], c[0], a, o, s), f[1] = r(l[1], u[1], h[1], c[1], a, o, s), f[2] = r(l[2], u[2], h[2], c[2], a, o, s), f
    }, r = function (e, t, n, r, i, a, o) {
        var s = .5 * (n - e), l = .5 * (r - t);
        return (2 * (t - n) + s + l) * o + (-3 * (t - n) - 2 * s - l) * a + s * i + t
    };
    return function (r) {
        if (this.isPlaying !== !1) {
            this.currentTime += r * this.timeScale;
            var i, a = ["pos", "rot", "scl"], o = this.data.length;
            if (this.loop === !0 && this.currentTime > o)this.currentTime %= o, this.reset(); else if (this.loop === !1 && this.currentTime > o)return void this.stop();
            this.currentTime = Math.min(this.currentTime, o);
            for (var s = 0, l = this.hierarchy.length; l > s; s++)for (var u = this.hierarchy[s], h = u.animationCache, c = 0; 3 > c; c++) {
                var A = a[c], f = h.prevKey[A], d = h.nextKey[A];
                if (d.time <= this.currentTime) {
                    for (f = this.data.hierarchy[s].keys[0], d = this.getNextKeyWith(A, s, 1); d.time < this.currentTime && d.index > f.index;)f = d, d = this.getNextKeyWith(A, s, d.index + 1);
                    h.prevKey[A] = f, h.nextKey[A] = d
                }
                u.matrixAutoUpdate = !0, u.matrixWorldNeedsUpdate = !0;
                var p = (this.currentTime - f.time) / (d.time - f.time), m = f[A], g = d[A];
                if (0 > p && (p = 0), p > 1 && (p = 1), "pos" === A) {
                    if (i = u.position, this.interpolationType === THREE.AnimationHandler.LINEAR)i.x = m[0] + (g[0] - m[0]) * p, i.y = m[1] + (g[1] - m[1]) * p, i.z = m[2] + (g[2] - m[2]) * p; else if (this.interpolationType === THREE.AnimationHandler.CATMULLROM || this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD) {
                        e[0] = this.getPrevKeyWith("pos", s, f.index - 1).pos, e[1] = m, e[2] = g, e[3] = this.getNextKeyWith("pos", s, d.index + 1).pos, p = .33 * p + .33;
                        var v = n(e, p);
                        if (i.x = v[0], i.y = v[1], i.z = v[2], this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD) {
                            var y = n(e, 1.01 * p);
                            t.set(y[0], y[1], y[2]), t.sub(i), t.y = 0, t.normalize();
                            var E = Math.atan2(t.x, t.z);
                            u.rotation.set(0, E, 0)
                        }
                    }
                } else"rot" === A ? THREE.Quaternion.slerp(m, g, u.quaternion, p) : "scl" === A && (i = u.scale, i.x = m[0] + (g[0] - m[0]) * p, i.y = m[1] + (g[1] - m[1]) * p, i.z = m[2] + (g[2] - m[2]) * p)
            }
        }
    }
}(),THREE.Animation.prototype.getNextKeyWith = function (e, t, n) {
    var r = this.data.hierarchy[t].keys;
    for (this.interpolationType === THREE.AnimationHandler.CATMULLROM || this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ? n = n < r.length - 1 ? n : r.length - 1 : n %= r.length; n < r.length; n++)if (void 0 !== r[n][e])return r[n];
    return this.data.hierarchy[t].keys[0]
},THREE.Animation.prototype.getPrevKeyWith = function (e, t, n) {
    var r = this.data.hierarchy[t].keys;
    for (n = this.interpolationType === THREE.AnimationHandler.CATMULLROM || this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ? n > 0 ? n : 0 : n >= 0 ? n : n + r.length; n >= 0; n--)if (void 0 !== r[n][e])return r[n];
    return this.data.hierarchy[t].keys[r.length - 1]
},THREE.KeyFrameAnimation = function (e, t) {
    this.root = e, this.data = THREE.AnimationHandler.get(t), this.hierarchy = THREE.AnimationHandler.parse(e), this.currentTime = 0, this.timeScale = .001, this.isPlaying = !1, this.isPaused = !0, this.loop = !0;
    for (var n = 0, r = this.hierarchy.length; r > n; n++) {
        var i = this.data.hierarchy[n].keys, a = this.data.hierarchy[n].sids, o = this.hierarchy[n];
        if (i.length && a) {
            for (var s = 0; s < a.length; s++) {
                var l = a[s], u = this.getNextKeyWith(l, n, 0);
                u && u.apply(l)
            }
            o.matrixAutoUpdate = !1, this.data.hierarchy[n].node.updateMatrix(), o.matrixWorldNeedsUpdate = !0
        }
    }
},THREE.KeyFrameAnimation.prototype.play = function (e) {
    if (this.currentTime = void 0 !== e ? e : 0, this.isPlaying === !1) {
        this.isPlaying = !0;
        var t, n, r, i = this.hierarchy.length;
        for (t = 0; i > t; t++) {
            n = this.hierarchy[t], r = this.data.hierarchy[t], void 0 === r.animationCache && (r.animationCache = {}, r.animationCache.prevKey = null, r.animationCache.nextKey = null, r.animationCache.originalMatrix = n instanceof THREE.Bone ? n.skinMatrix : n.matrix);
            var a = this.data.hierarchy[t].keys;
            a.length && (r.animationCache.prevKey = a[0], r.animationCache.nextKey = a[1], this.startTime = Math.min(a[0].time, this.startTime), this.endTime = Math.max(a[a.length - 1].time, this.endTime))
        }
        this.update(0)
    }
    this.isPaused = !1, THREE.AnimationHandler.addToUpdate(this)
},THREE.KeyFrameAnimation.prototype.pause = function () {
    this.isPaused ? THREE.AnimationHandler.addToUpdate(this) : THREE.AnimationHandler.removeFromUpdate(this), this.isPaused = !this.isPaused
},THREE.KeyFrameAnimation.prototype.stop = function () {
    this.isPlaying = !1, this.isPaused = !1, THREE.AnimationHandler.removeFromUpdate(this);
    for (var e = 0; e < this.data.hierarchy.length; e++) {
        var t = this.hierarchy[e], n = this.data.hierarchy[e];
        if (void 0 !== n.animationCache) {
            var r = n.animationCache.originalMatrix;
            t instanceof THREE.Bone ? (r.copy(t.skinMatrix), t.skinMatrix = r) : (r.copy(t.matrix), t.matrix = r), delete n.animationCache
        }
    }
},THREE.KeyFrameAnimation.prototype.update = function (e) {
    if (this.isPlaying !== !1) {
        this.currentTime += e * this.timeScale;
        var t = this.data.length;
        this.loop === !0 && this.currentTime > t && (this.currentTime %= t), this.currentTime = Math.min(this.currentTime, t);
        for (var n = 0, r = this.hierarchy.length; r > n; n++) {
            var i = this.hierarchy[n], a = this.data.hierarchy[n], o = a.keys, s = a.animationCache;
            if (o.length) {
                var l = s.prevKey, u = s.nextKey;
                if (u.time <= this.currentTime) {
                    for (; u.time < this.currentTime && u.index > l.index;)l = u, u = o[l.index + 1];
                    s.prevKey = l, s.nextKey = u
                }
                u.time >= this.currentTime ? l.interpolate(u, this.currentTime) : l.interpolate(u, u.time), this.data.hierarchy[n].node.updateMatrix(), i.matrixWorldNeedsUpdate = !0
            }
        }
    }
},THREE.KeyFrameAnimation.prototype.getNextKeyWith = function (e, t, n) {
    var r = this.data.hierarchy[t].keys;
    for (n %= r.length; n < r.length; n++)if (r[n].hasTarget(e))return r[n];
    return r[0]
},THREE.KeyFrameAnimation.prototype.getPrevKeyWith = function (e, t, n) {
    var r = this.data.hierarchy[t].keys;
    for (n = n >= 0 ? n : n + r.length; n >= 0; n--)if (r[n].hasTarget(e))return r[n];
    return r[r.length - 1]
},THREE.MorphAnimation = function (e) {
    this.mesh = e, this.frames = e.morphTargetInfluences.length, this.currentTime = 0, this.duration = 1e3, this.loop = !0, this.isPlaying = !1
},THREE.MorphAnimation.prototype = {
    play: function () {
        this.isPlaying = !0
    }, pause: function () {
        this.isPlaying = !1
    }, update: function () {
        var e = 0, t = 0;
        return function (n) {
            if (this.isPlaying !== !1) {
                this.currentTime += n, this.loop === !0 && this.currentTime > this.duration && (this.currentTime %= this.duration), this.currentTime = Math.min(this.currentTime, this.duration);
                var r = this.duration / this.frames, i = Math.floor(this.currentTime / r);
                i != t && (this.mesh.morphTargetInfluences[e] = 0, this.mesh.morphTargetInfluences[t] = 1, this.mesh.morphTargetInfluences[i] = 0, e = t, t = i), this.mesh.morphTargetInfluences[i] = this.currentTime % r / r, this.mesh.morphTargetInfluences[e] = 1 - this.mesh.morphTargetInfluences[i]
            }
        }
    }()
},THREE.CubeCamera = function (e, t, n) {
    THREE.Object3D.call(this);
    var r = 90, i = 1, a = new THREE.PerspectiveCamera(r, i, e, t);
    a.up.set(0, -1, 0), a.lookAt(new THREE.Vector3(1, 0, 0)), this.add(a);
    var o = new THREE.PerspectiveCamera(r, i, e, t);
    o.up.set(0, -1, 0), o.lookAt(new THREE.Vector3(-1, 0, 0)), this.add(o);
    var s = new THREE.PerspectiveCamera(r, i, e, t);
    s.up.set(0, 0, 1), s.lookAt(new THREE.Vector3(0, 1, 0)), this.add(s);
    var l = new THREE.PerspectiveCamera(r, i, e, t);
    l.up.set(0, 0, -1), l.lookAt(new THREE.Vector3(0, -1, 0)), this.add(l);
    var u = new THREE.PerspectiveCamera(r, i, e, t);
    u.up.set(0, -1, 0), u.lookAt(new THREE.Vector3(0, 0, 1)), this.add(u);
    var h = new THREE.PerspectiveCamera(r, i, e, t);
    h.up.set(0, -1, 0), h.lookAt(new THREE.Vector3(0, 0, -1)), this.add(h), this.renderTarget = new THREE.WebGLRenderTargetCube(n, n, {
        format: THREE.RGBFormat,
        magFilter: THREE.LinearFilter,
        minFilter: THREE.LinearFilter
    }), this.updateCubeMap = function (e, t) {
        var n = this.renderTarget, r = n.generateMipmaps;
        n.generateMipmaps = !1, n.activeCubeFace = 0, e.render(t, a, n), n.activeCubeFace = 1, e.render(t, o, n), n.activeCubeFace = 2, e.render(t, s, n), n.activeCubeFace = 3, e.render(t, l, n), n.activeCubeFace = 4, e.render(t, u, n), n.generateMipmaps = r, n.activeCubeFace = 5, e.render(t, h, n)
    }
},THREE.CubeCamera.prototype = Object.create(THREE.Object3D.prototype),THREE.CombinedCamera = function (e, t, n, r, i, a, o) {
    THREE.Camera.call(this), this.fov = n, this.left = -e / 2, this.right = e / 2, this.top = t / 2, this.bottom = -t / 2, this.cameraO = new THREE.OrthographicCamera(e / -2, e / 2, t / 2, t / -2, a, o), this.cameraP = new THREE.PerspectiveCamera(n, e / t, r, i), this.zoom = 1, this.toPerspective()
},THREE.CombinedCamera.prototype = Object.create(THREE.Camera.prototype),THREE.CombinedCamera.prototype.toPerspective = function () {
    this.near = this.cameraP.near, this.far = this.cameraP.far, this.cameraP.fov = this.fov / this.zoom, this.cameraP.updateProjectionMatrix(), this.projectionMatrix = this.cameraP.projectionMatrix, this.inPerspectiveMode = !0, this.inOrthographicMode = !1
},THREE.CombinedCamera.prototype.toOrthographic = function () {
    var e = this.fov, t = this.cameraP.aspect, n = this.cameraP.near, r = this.cameraP.far, i = (n + r) / 2, a = Math.tan(e / 2) * i, o = 2 * a, s = o * t, l = s / 2;
    a /= this.zoom, l /= this.zoom, this.cameraO.left = -l, this.cameraO.right = l, this.cameraO.top = a, this.cameraO.bottom = -a, this.cameraO.updateProjectionMatrix(), this.near = this.cameraO.near, this.far = this.cameraO.far, this.projectionMatrix = this.cameraO.projectionMatrix, this.inPerspectiveMode = !1, this.inOrthographicMode = !0
},THREE.CombinedCamera.prototype.setSize = function (e, t) {
    this.cameraP.aspect = e / t, this.left = -e / 2, this.right = e / 2, this.top = t / 2, this.bottom = -t / 2
},THREE.CombinedCamera.prototype.setFov = function (e) {
    this.fov = e, this.inPerspectiveMode ? this.toPerspective() : this.toOrthographic()
},THREE.CombinedCamera.prototype.updateProjectionMatrix = function () {
    this.inPerspectiveMode ? this.toPerspective() : (this.toPerspective(), this.toOrthographic())
},THREE.CombinedCamera.prototype.setLens = function (e, t) {
    void 0 === t && (t = 24);
    var n = 2 * THREE.Math.radToDeg(Math.atan(t / (2 * e)));
    return this.setFov(n), n
},THREE.CombinedCamera.prototype.setZoom = function (e) {
    this.zoom = e, this.inPerspectiveMode ? this.toPerspective() : this.toOrthographic()
},THREE.CombinedCamera.prototype.toFrontView = function () {
    this.rotation.x = 0, this.rotation.y = 0, this.rotation.z = 0, this.rotationAutoUpdate = !1
},THREE.CombinedCamera.prototype.toBackView = function () {
    this.rotation.x = 0, this.rotation.y = Math.PI, this.rotation.z = 0, this.rotationAutoUpdate = !1
},THREE.CombinedCamera.prototype.toLeftView = function () {
    this.rotation.x = 0, this.rotation.y = -Math.PI / 2, this.rotation.z = 0, this.rotationAutoUpdate = !1
},THREE.CombinedCamera.prototype.toRightView = function () {
    this.rotation.x = 0, this.rotation.y = Math.PI / 2, this.rotation.z = 0, this.rotationAutoUpdate = !1
},THREE.CombinedCamera.prototype.toTopView = function () {
    this.rotation.x = -Math.PI / 2, this.rotation.y = 0, this.rotation.z = 0, this.rotationAutoUpdate = !1
},THREE.CombinedCamera.prototype.toBottomView = function () {
    this.rotation.x = Math.PI / 2, this.rotation.y = 0, this.rotation.z = 0, this.rotationAutoUpdate = !1
},THREE.BoxGeometry = function (e, t, n, r, i, a) {
    function o(e, t, n, r, i, a, o, l) {
        var u, h, c, A = s.widthSegments, f = s.heightSegments, d = i / 2, p = a / 2, m = s.vertices.length;
        "x" === e && "y" === t || "y" === e && "x" === t ? u = "z" : "x" === e && "z" === t || "z" === e && "x" === t ? (u = "y", f = s.depthSegments) : ("z" === e && "y" === t || "y" === e && "z" === t) && (u = "x", A = s.depthSegments);
        var g = A + 1, v = f + 1, y = i / A, E = a / f, b = new THREE.Vector3;
        for (b[u] = o > 0 ? 1 : -1, c = 0; v > c; c++)for (h = 0; g > h; h++) {
            var x = new THREE.Vector3;
            x[e] = (h * y - d) * n, x[t] = (c * E - p) * r, x[u] = o, s.vertices.push(x)
        }
        for (c = 0; f > c; c++)for (h = 0; A > h; h++) {
            var w = h + g * c, T = h + g * (c + 1), C = h + 1 + g * (c + 1), R = h + 1 + g * c, _ = new THREE.Vector2(h / A, 1 - c / f), B = new THREE.Vector2(h / A, 1 - (c + 1) / f), M = new THREE.Vector2((h + 1) / A, 1 - (c + 1) / f), H = new THREE.Vector2((h + 1) / A, 1 - c / f), S = new THREE.Face3(w + m, T + m, R + m);
            S.normal.copy(b), S.vertexNormals.push(b.clone(), b.clone(), b.clone()), S.materialIndex = l, s.faces.push(S), s.faceVertexUvs[0].push([_, B, H]), S = new THREE.Face3(T + m, C + m, R + m), S.normal.copy(b), S.vertexNormals.push(b.clone(), b.clone(), b.clone()), S.materialIndex = l, s.faces.push(S), s.faceVertexUvs[0].push([B.clone(), M, H.clone()])
        }
    }

    THREE.Geometry.call(this);
    var s = this;
    this.width = e, this.height = t, this.depth = n, this.widthSegments = r || 1, this.heightSegments = i || 1, this.depthSegments = a || 1;
    var l = this.width / 2, u = this.height / 2, h = this.depth / 2;
    o("z", "y", -1, -1, this.depth, this.height, l, 0), o("z", "y", 1, -1, this.depth, this.height, -l, 1), o("x", "z", 1, 1, this.width, this.depth, u, 2), o("x", "z", 1, -1, this.width, this.depth, -u, 3), o("x", "y", 1, -1, this.width, this.height, h, 4), o("x", "y", -1, -1, this.width, this.height, -h, 5), this.computeCentroids(), this.mergeVertices()
},THREE.BoxGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.CircleGeometry = function (e, t, n, r) {
    THREE.Geometry.call(this), this.radius = e = e || 50, this.segments = t = void 0 !== t ? Math.max(3, t) : 8, this.thetaStart = n = void 0 !== n ? n : 0, this.thetaLength = r = void 0 !== r ? r : 2 * Math.PI;
    var i, a = [], o = new THREE.Vector3, s = new THREE.Vector2(.5, .5);
    for (this.vertices.push(o), a.push(s), i = 0; t >= i; i++) {
        var l = new THREE.Vector3, u = n + i / t * r;
        l.x = e * Math.cos(u), l.y = e * Math.sin(u), this.vertices.push(l), a.push(new THREE.Vector2((l.x / e + 1) / 2, (l.y / e + 1) / 2))
    }
    var h = new THREE.Vector3(0, 0, 1);
    for (i = 1; t >= i; i++) {
        var c = i, A = i + 1, f = 0;
        this.faces.push(new THREE.Face3(c, A, f, [h.clone(), h.clone(), h.clone()])), this.faceVertexUvs[0].push([a[i].clone(), a[i + 1].clone(), s.clone()])
    }
    this.computeCentroids(), this.computeFaceNormals(), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, e)
},THREE.CircleGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.CubeGeometry = THREE.BoxGeometry,THREE.CylinderGeometry = function (e, t, n, r, i, a) {
    THREE.Geometry.call(this), this.radiusTop = e = void 0 !== e ? e : 20, this.radiusBottom = t = void 0 !== t ? t : 20, this.height = n = void 0 !== n ? n : 100, this.radialSegments = r = r || 8, this.heightSegments = i = i || 1, this.openEnded = a = void 0 !== a ? a : !1;
    var o, s, l = n / 2, u = [], h = [];
    for (s = 0; i >= s; s++) {
        var c = [], A = [], f = s / i, d = f * (t - e) + e;
        for (o = 0; r >= o; o++) {
            var p = o / r, m = new THREE.Vector3;
            m.x = d * Math.sin(p * Math.PI * 2), m.y = -f * n + l, m.z = d * Math.cos(p * Math.PI * 2), this.vertices.push(m), c.push(this.vertices.length - 1), A.push(new THREE.Vector2(p, 1 - f))
        }
        u.push(c), h.push(A)
    }
    var g, v, y = (t - e) / n;
    for (o = 0; r > o; o++)for (0 !== e ? (g = this.vertices[u[0][o]].clone(), v = this.vertices[u[0][o + 1]].clone()) : (g = this.vertices[u[1][o]].clone(), v = this.vertices[u[1][o + 1]].clone()), g.setY(Math.sqrt(g.x * g.x + g.z * g.z) * y).normalize(), v.setY(Math.sqrt(v.x * v.x + v.z * v.z) * y).normalize(), s = 0; i > s; s++) {
        var E = u[s][o], b = u[s + 1][o], x = u[s + 1][o + 1], w = u[s][o + 1], T = g.clone(), C = g.clone(), R = v.clone(), _ = v.clone(), B = h[s][o].clone(), M = h[s + 1][o].clone(), H = h[s + 1][o + 1].clone(), S = h[s][o + 1].clone();
        this.faces.push(new THREE.Face3(E, b, w, [T, C, _])), this.faceVertexUvs[0].push([B, M, S]), this.faces.push(new THREE.Face3(b, x, w, [C.clone(), R, _.clone()])), this.faceVertexUvs[0].push([M.clone(), H, S.clone()])
    }
    if (a === !1 && e > 0)for (this.vertices.push(new THREE.Vector3(0, l, 0)), o = 0; r > o; o++) {
        var E = u[0][o], b = u[0][o + 1], x = this.vertices.length - 1, T = new THREE.Vector3(0, 1, 0), C = new THREE.Vector3(0, 1, 0), R = new THREE.Vector3(0, 1, 0), B = h[0][o].clone(), M = h[0][o + 1].clone(), H = new THREE.Vector2(M.x, 0);
        this.faces.push(new THREE.Face3(E, b, x, [T, C, R])), this.faceVertexUvs[0].push([B, M, H])
    }
    if (a === !1 && t > 0)for (this.vertices.push(new THREE.Vector3(0, -l, 0)), o = 0; r > o; o++) {
        var E = u[s][o + 1], b = u[s][o], x = this.vertices.length - 1, T = new THREE.Vector3(0, -1, 0), C = new THREE.Vector3(0, -1, 0), R = new THREE.Vector3(0, -1, 0), B = h[s][o + 1].clone(), M = h[s][o].clone(), H = new THREE.Vector2(M.x, 1);
        this.faces.push(new THREE.Face3(E, b, x, [T, C, R])), this.faceVertexUvs[0].push([B, M, H])
    }
    this.computeCentroids(), this.computeFaceNormals()
},THREE.CylinderGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry = function (e, t) {
    return "undefined" == typeof e ? void(e = []) : (THREE.Geometry.call(this), e = e instanceof Array ? e : [e], this.shapebb = e[e.length - 1].getBoundingBox(), this.addShapeList(e, t), this.computeCentroids(), void this.computeFaceNormals())
},THREE.ExtrudeGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList = function (e, t) {
    for (var n = e.length, r = 0; n > r; r++) {
        var i = e[r];
        this.addShape(i, t)
    }
},THREE.ExtrudeGeometry.prototype.addShape = function (e, t) {
    function n(e, t, n) {
        return t || console.log("die"), t.clone().multiplyScalar(n).add(e)
    }

    function r(e, t, n) {
        var r, i, a = 1e-10, o = THREE.Math.sign, s = 1, l = e.x - t.x, u = e.y - t.y, h = n.x - e.x, c = n.y - e.y, A = l * l + u * u, f = l * c - u * h;
        if (Math.abs(f) > a) {
            var d = Math.sqrt(A), p = Math.sqrt(h * h + c * c), m = t.x - u / d, g = t.y + l / d, v = n.x - c / p, y = n.y + h / p, E = ((v - m) * c - (y - g) * h) / (l * c - u * h);
            r = m + l * E - e.x, i = g + u * E - e.y;
            var b = r * r + i * i;
            if (2 >= b)return new THREE.Vector2(r, i);
            s = Math.sqrt(b / 2)
        } else {
            var x = !1;
            l > a ? h > a && (x = !0) : -a > l ? -a > h && (x = !0) : o(u) == o(c) && (x = !0), x ? (r = -u, i = l, s = Math.sqrt(A)) : (r = l, i = u, s = Math.sqrt(A / 2))
        }
        return new THREE.Vector2(r / s, i / s)
    }

    function i() {
        if (y) {
            var e = 0, t = j * e;
            for (Y = 0; Q > Y; Y++)U = P[Y], l(U[2] + t, U[1] + t, U[0] + t, !0);
            for (e = b + 2 * v, t = j * e, Y = 0; Q > Y; Y++)U = P[Y], l(U[0] + t, U[1] + t, U[2] + t, !1)
        } else {
            for (Y = 0; Q > Y; Y++)U = P[Y], l(U[2], U[1], U[0], !0);
            for (Y = 0; Q > Y; Y++)U = P[Y], l(U[0] + j * b, U[1] + j * b, U[2] + j * b, !1)
        }
    }

    function a() {
        var e = 0;
        for (o(L, e), e += L.length, B = 0, M = k.length; M > B; B++)_ = k[B], o(_, e), e += _.length
    }

    function o(e, t) {
        var n, r;
        for (Y = e.length; --Y >= 0;) {
            n = Y, r = Y - 1, 0 > r && (r = e.length - 1);
            var i = 0, a = b + 2 * v;
            for (i = 0; a > i; i++) {
                var o = j * i, s = j * (i + 1), l = t + n + o, h = t + r + o, c = t + r + s, A = t + n + s;
                u(l, h, c, A, e, i, a, n, r)
            }
        }
    }

    function s(e, t, n) {
        H.vertices.push(new THREE.Vector3(e, t, n))
    }

    function l(n, r, i, a) {
        n += S, r += S, i += S, H.faces.push(new THREE.Face3(n, r, i, null, null, T));
        var o = a ? R.generateBottomUV(H, e, t, n, r, i) : R.generateTopUV(H, e, t, n, r, i);
        H.faceVertexUvs[0].push(o)
    }

    function u(n, r, i, a, o, s, l, u, h) {
        n += S, r += S, i += S, a += S, H.faces.push(new THREE.Face3(n, r, a, null, null, C)), H.faces.push(new THREE.Face3(r, i, a, null, null, C));
        var c = R.generateSideWallUV(H, e, o, t, n, r, i, a, s, l, u, h);
        H.faceVertexUvs[0].push([c[0], c[1], c[3]]), H.faceVertexUvs[0].push([c[1], c[2], c[3]])
    }

    {
        var h, c, A, f, d, p = void 0 !== t.amount ? t.amount : 100, m = void 0 !== t.bevelThickness ? t.bevelThickness : 6, g = void 0 !== t.bevelSize ? t.bevelSize : m - 2, v = void 0 !== t.bevelSegments ? t.bevelSegments : 3, y = void 0 !== t.bevelEnabled ? t.bevelEnabled : !0, E = void 0 !== t.curveSegments ? t.curveSegments : 12, b = void 0 !== t.steps ? t.steps : 1, x = t.extrudePath, w = !1, T = t.material, C = t.extrudeMaterial, R = void 0 !== t.UVGenerator ? t.UVGenerator : THREE.ExtrudeGeometry.WorldUVGenerator;
        this.shapebb
    }
    x && (h = x.getSpacedPoints(b), w = !0, y = !1, c = void 0 !== t.frames ? t.frames : new THREE.TubeGeometry.FrenetFrames(x, b, !1), A = new THREE.Vector3, f = new THREE.Vector3, d = new THREE.Vector3), y || (v = 0, m = 0, g = 0);
    var _, B, M, H = this, S = this.vertices.length, D = e.extractPoints(E), F = D.shape, k = D.holes, O = !THREE.Shape.Utils.isClockWise(F);
    if (O) {
        for (F = F.reverse(), B = 0, M = k.length; M > B; B++)_ = k[B], THREE.Shape.Utils.isClockWise(_) && (k[B] = _.reverse());
        O = !1
    }
    var P = THREE.Shape.Utils.triangulateShape(F, k), L = F;
    for (B = 0, M = k.length; M > B; B++)_ = k[B], F = F.concat(_);
    for (var z, I, G, N, V, U, j = F.length, Q = P.length, W = (L.length, 180 / Math.PI, []), Y = 0, q = L.length, X = q - 1, Z = Y + 1; q > Y; Y++, X++, Z++) {
        X === q && (X = 0), Z === q && (Z = 0);
        {
            L[Y], L[X], L[Z]
        }
        W[Y] = r(L[Y], L[X], L[Z])
    }
    var K, $ = [], J = W.concat();
    for (B = 0, M = k.length; M > B; B++) {
        for (_ = k[B], K = [], Y = 0, q = _.length, X = q - 1, Z = Y + 1; q > Y; Y++, X++, Z++)X === q && (X = 0), Z === q && (Z = 0), K[Y] = r(_[Y], _[X], _[Z]);
        $.push(K), J = J.concat(K)
    }
    for (z = 0; v > z; z++) {
        for (G = z / v, N = m * (1 - G), I = g * Math.sin(G * Math.PI / 2), Y = 0, q = L.length; q > Y; Y++)V = n(L[Y], W[Y], I), s(V.x, V.y, -N);
        for (B = 0, M = k.length; M > B; B++)for (_ = k[B], K = $[B], Y = 0, q = _.length; q > Y; Y++)V = n(_[Y], K[Y], I), s(V.x, V.y, -N)
    }
    for (I = g, Y = 0; j > Y; Y++)V = y ? n(F[Y], J[Y], I) : F[Y], w ? (f.copy(c.normals[0]).multiplyScalar(V.x), A.copy(c.binormals[0]).multiplyScalar(V.y), d.copy(h[0]).add(f).add(A), s(d.x, d.y, d.z)) : s(V.x, V.y, 0);
    var et;
    for (et = 1; b >= et; et++)for (Y = 0; j > Y; Y++)V = y ? n(F[Y], J[Y], I) : F[Y], w ? (f.copy(c.normals[et]).multiplyScalar(V.x), A.copy(c.binormals[et]).multiplyScalar(V.y), d.copy(h[et]).add(f).add(A), s(d.x, d.y, d.z)) : s(V.x, V.y, p / b * et);
    for (z = v - 1; z >= 0; z--) {
        for (G = z / v, N = m * (1 - G), I = g * Math.sin(G * Math.PI / 2), Y = 0, q = L.length; q > Y; Y++)V = n(L[Y], W[Y], I), s(V.x, V.y, p + N);
        for (B = 0, M = k.length; M > B; B++)for (_ = k[B], K = $[B], Y = 0, q = _.length; q > Y; Y++)V = n(_[Y], K[Y], I), w ? s(V.x, V.y + h[b - 1].y, h[b - 1].x + N) : s(V.x, V.y, p + N)
    }
    i(), a()
},THREE.ExtrudeGeometry.WorldUVGenerator = {
    generateTopUV: function (e, t, n, r, i, a) {
        var o = e.vertices[r].x, s = e.vertices[r].y, l = e.vertices[i].x, u = e.vertices[i].y, h = e.vertices[a].x, c = e.vertices[a].y;
        return [new THREE.Vector2(o, s), new THREE.Vector2(l, u), new THREE.Vector2(h, c)]
    }, generateBottomUV: function (e, t, n, r, i, a) {
        return this.generateTopUV(e, t, n, r, i, a)
    }, generateSideWallUV: function (e, t, n, r, i, a, o, s) {
        var l = e.vertices[i].x, u = e.vertices[i].y, h = e.vertices[i].z, c = e.vertices[a].x, A = e.vertices[a].y, f = e.vertices[a].z, d = e.vertices[o].x, p = e.vertices[o].y, m = e.vertices[o].z, g = e.vertices[s].x, v = e.vertices[s].y, y = e.vertices[s].z;
        return Math.abs(u - A) < .01 ? [new THREE.Vector2(l, 1 - h), new THREE.Vector2(c, 1 - f), new THREE.Vector2(d, 1 - m), new THREE.Vector2(g, 1 - y)] : [new THREE.Vector2(u, 1 - h), new THREE.Vector2(A, 1 - f), new THREE.Vector2(p, 1 - m), new THREE.Vector2(v, 1 - y)]
    }
},THREE.ExtrudeGeometry.__v1 = new THREE.Vector2,THREE.ExtrudeGeometry.__v2 = new THREE.Vector2,THREE.ExtrudeGeometry.__v3 = new THREE.Vector2,THREE.ExtrudeGeometry.__v4 = new THREE.Vector2,THREE.ExtrudeGeometry.__v5 = new THREE.Vector2,THREE.ExtrudeGeometry.__v6 = new THREE.Vector2,THREE.ShapeGeometry = function (e, t) {
    THREE.Geometry.call(this), e instanceof Array == !1 && (e = [e]), this.shapebb = e[e.length - 1].getBoundingBox(), this.addShapeList(e, t), this.computeCentroids(), this.computeFaceNormals()
},THREE.ShapeGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList = function (e, t) {
    for (var n = 0, r = e.length; r > n; n++)this.addShape(e[n], t);
    return this
},THREE.ShapeGeometry.prototype.addShape = function (e, t) {
    void 0 === t && (t = {});
    var n, r, i, a = void 0 !== t.curveSegments ? t.curveSegments : 12, o = t.material, s = void 0 === t.UVGenerator ? THREE.ExtrudeGeometry.WorldUVGenerator : t.UVGenerator, l = (this.shapebb, this.vertices.length), u = e.extractPoints(a), h = u.shape, c = u.holes, A = !THREE.Shape.Utils.isClockWise(h);
    if (A) {
        for (h = h.reverse(), n = 0, r = c.length; r > n; n++)i = c[n], THREE.Shape.Utils.isClockWise(i) && (c[n] = i.reverse());
        A = !1
    }
    var f = THREE.Shape.Utils.triangulateShape(h, c), d = h;
    for (n = 0, r = c.length; r > n; n++)i = c[n], h = h.concat(i);
    {
        var p, m, g = h.length, v = f.length;
        d.length
    }
    for (n = 0; g > n; n++)p = h[n], this.vertices.push(new THREE.Vector3(p.x, p.y, 0));
    for (n = 0; v > n; n++) {
        m = f[n];
        var y = m[0] + l, E = m[1] + l, b = m[2] + l;
        this.faces.push(new THREE.Face3(y, E, b, null, null, o)), this.faceVertexUvs[0].push(s.generateBottomUV(this, e, t, y, E, b))
    }
},THREE.LatheGeometry = function (e, t, n, r) {
    THREE.Geometry.call(this), t = t || 12, n = n || 0, r = r || 2 * Math.PI;
    for (var i = 1 / (e.length - 1), a = 1 / t, o = 0, s = t; s >= o; o++)for (var l = n + o * a * r, u = Math.cos(l), h = Math.sin(l), c = 0, A = e.length; A > c; c++) {
        var f = e[c], d = new THREE.Vector3;
        d.x = u * f.x - h * f.y, d.y = h * f.x + u * f.y, d.z = f.z, this.vertices.push(d)
    }
    for (var p = e.length, o = 0, s = t; s > o; o++)for (var c = 0, A = e.length - 1; A > c; c++) {
        var m = c + p * o, g = m, v = m + p, u = m + 1 + p, y = m + 1, E = o * a, b = c * i, x = E + a, w = b + i;
        this.faces.push(new THREE.Face3(g, v, y)), this.faceVertexUvs[0].push([new THREE.Vector2(E, b), new THREE.Vector2(x, b), new THREE.Vector2(E, w)]), this.faces.push(new THREE.Face3(v, u, y)), this.faceVertexUvs[0].push([new THREE.Vector2(x, b), new THREE.Vector2(x, w), new THREE.Vector2(E, w)])
    }
    this.mergeVertices(), this.computeCentroids(), this.computeFaceNormals(), this.computeVertexNormals()
},THREE.LatheGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry = function (e, t, n, r) {
    THREE.Geometry.call(this), this.width = e, this.height = t, this.widthSegments = n || 1, this.heightSegments = r || 1;
    var i, a, o = e / 2, s = t / 2, l = this.widthSegments, u = this.heightSegments, h = l + 1, c = u + 1, A = this.width / l, f = this.height / u, d = new THREE.Vector3(0, 0, 1);
    for (a = 0; c > a; a++)for (i = 0; h > i; i++) {
        var p = i * A - o, m = a * f - s;
        this.vertices.push(new THREE.Vector3(p, -m, 0))
    }
    for (a = 0; u > a; a++)for (i = 0; l > i; i++) {
        var g = i + h * a, v = i + h * (a + 1), y = i + 1 + h * (a + 1), E = i + 1 + h * a, b = new THREE.Vector2(i / l, 1 - a / u), x = new THREE.Vector2(i / l, 1 - (a + 1) / u), w = new THREE.Vector2((i + 1) / l, 1 - (a + 1) / u), T = new THREE.Vector2((i + 1) / l, 1 - a / u), C = new THREE.Face3(g, v, E);
        C.normal.copy(d), C.vertexNormals.push(d.clone(), d.clone(), d.clone()), this.faces.push(C), this.faceVertexUvs[0].push([b, x, T]), C = new THREE.Face3(v, y, E), C.normal.copy(d), C.vertexNormals.push(d.clone(), d.clone(), d.clone()), this.faces.push(C), this.faceVertexUvs[0].push([x.clone(), w, T.clone()])
    }
    this.computeCentroids()
},THREE.PlaneGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.RingGeometry = function (e, t, n, r, i, a) {
    THREE.Geometry.call(this), e = e || 0, t = t || 50, i = void 0 !== i ? i : 0, a = void 0 !== a ? a : 2 * Math.PI, n = void 0 !== n ? Math.max(3, n) : 8, r = void 0 !== r ? Math.max(3, r) : 8;
    var o, s, l = [], u = e, h = (t - e) / r;
    for (o = 0; r >= o; o++) {
        for (s = 0; n >= s; s++) {
            var c = new THREE.Vector3, A = i + s / n * a;
            c.x = u * Math.cos(A), c.y = u * Math.sin(A), this.vertices.push(c), l.push(new THREE.Vector2((c.x / t + 1) / 2, (c.y / t + 1) / 2))
        }
        u += h
    }
    var f = new THREE.Vector3(0, 0, 1);
    for (o = 0; r > o; o++) {
        var d = o * n;
        for (s = 0; n >= s; s++) {
            var A = s + d, p = A + o, m = A + n + o, g = A + n + 1 + o;
            this.faces.push(new THREE.Face3(p, m, g, [f.clone(), f.clone(), f.clone()])), this.faceVertexUvs[0].push([l[p].clone(), l[m].clone(), l[g].clone()]), p = A + o, m = A + n + 1 + o, g = A + 1 + o, this.faces.push(new THREE.Face3(p, m, g, [f.clone(), f.clone(), f.clone()])), this.faceVertexUvs[0].push([l[p].clone(), l[m].clone(), l[g].clone()])
        }
    }
    this.computeCentroids(), this.computeFaceNormals(), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, u)
},THREE.RingGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.SphereGeometry = function (e, t, n, r, i, a, o) {
    THREE.Geometry.call(this), this.radius = e = e || 50, this.widthSegments = t = Math.max(3, Math.floor(t) || 8), this.heightSegments = n = Math.max(2, Math.floor(n) || 6), this.phiStart = r = void 0 !== r ? r : 0, this.phiLength = i = void 0 !== i ? i : 2 * Math.PI, this.thetaStart = a = void 0 !== a ? a : 0, this.thetaLength = o = void 0 !== o ? o : Math.PI;
    var s, l, u = [], h = [];
    for (l = 0; n >= l; l++) {
        var c = [], A = [];
        for (s = 0; t >= s; s++) {
            var f = s / t, d = l / n, p = new THREE.Vector3;
            p.x = -e * Math.cos(r + f * i) * Math.sin(a + d * o), p.y = e * Math.cos(a + d * o), p.z = e * Math.sin(r + f * i) * Math.sin(a + d * o), this.vertices.push(p), c.push(this.vertices.length - 1), A.push(new THREE.Vector2(f, 1 - d))
        }
        u.push(c), h.push(A)
    }
    for (l = 0; l < this.heightSegments; l++)for (s = 0; s < this.widthSegments; s++) {
        var m = u[l][s + 1], g = u[l][s], v = u[l + 1][s], y = u[l + 1][s + 1], E = this.vertices[m].clone().normalize(), b = this.vertices[g].clone().normalize(), x = this.vertices[v].clone().normalize(), w = this.vertices[y].clone().normalize(), T = h[l][s + 1].clone(), C = h[l][s].clone(), R = h[l + 1][s].clone(), _ = h[l + 1][s + 1].clone();
        Math.abs(this.vertices[m].y) === this.radius ? (T.x = (T.x + C.x) / 2, this.faces.push(new THREE.Face3(m, v, y, [E, x, w])), this.faceVertexUvs[0].push([T, R, _])) : Math.abs(this.vertices[v].y) === this.radius ? (R.x = (R.x + _.x) / 2, this.faces.push(new THREE.Face3(m, g, v, [E, b, x])), this.faceVertexUvs[0].push([T, C, R])) : (this.faces.push(new THREE.Face3(m, g, y, [E, b, w])), this.faceVertexUvs[0].push([T, C, _]), this.faces.push(new THREE.Face3(g, v, y, [b.clone(), x, w.clone()])), this.faceVertexUvs[0].push([C.clone(), R, _.clone()]))
    }
    this.computeCentroids(), this.computeFaceNormals(), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, e)
},THREE.SphereGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.TextGeometry = function (e, t) {
    t = t || {};
    var n = THREE.FontUtils.generateShapes(e, t);
    t.amount = void 0 !== t.height ? t.height : 50, void 0 === t.bevelThickness && (t.bevelThickness = 10), void 0 === t.bevelSize && (t.bevelSize = 8), void 0 === t.bevelEnabled && (t.bevelEnabled = !1), THREE.ExtrudeGeometry.call(this, n, t)
},THREE.TextGeometry.prototype = Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry = function (e, t, n, r, i) {
    THREE.Geometry.call(this);
    this.radius = e || 100, this.tube = t || 40, this.radialSegments = n || 8, this.tubularSegments = r || 6, this.arc = i || 2 * Math.PI;
    for (var a = new THREE.Vector3, o = [], s = [], l = 0; l <= this.radialSegments; l++)for (var u = 0; u <= this.tubularSegments; u++) {
        var h = u / this.tubularSegments * this.arc, c = l / this.radialSegments * Math.PI * 2;
        a.x = this.radius * Math.cos(h), a.y = this.radius * Math.sin(h);
        var A = new THREE.Vector3;
        A.x = (this.radius + this.tube * Math.cos(c)) * Math.cos(h), A.y = (this.radius + this.tube * Math.cos(c)) * Math.sin(h), A.z = this.tube * Math.sin(c), this.vertices.push(A), o.push(new THREE.Vector2(u / this.tubularSegments, l / this.radialSegments)), s.push(A.clone().sub(a).normalize())
    }
    for (var l = 1; l <= this.radialSegments; l++)for (var u = 1; u <= this.tubularSegments; u++) {
        var f = (this.tubularSegments + 1) * l + u - 1, d = (this.tubularSegments + 1) * (l - 1) + u - 1, p = (this.tubularSegments + 1) * (l - 1) + u, m = (this.tubularSegments + 1) * l + u, g = new THREE.Face3(f, d, m, [s[f].clone(), s[d].clone(), s[m].clone()]);
        this.faces.push(g), this.faceVertexUvs[0].push([o[f].clone(), o[d].clone(), o[m].clone()]), g = new THREE.Face3(d, p, m, [s[d].clone(), s[p].clone(), s[m].clone()]), this.faces.push(g), this.faceVertexUvs[0].push([o[d].clone(), o[p].clone(), o[m].clone()])
    }
    this.computeCentroids(), this.computeFaceNormals()
},THREE.TorusGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry = function (e, t, n, r, i, a, o) {
    function s(e, t, n, r, i) {
        var a = Math.cos(e), o = Math.sin(e), s = t / n * e, l = Math.cos(s), u = r * (2 + l) * .5 * a, h = r * (2 + l) * o * .5, c = i * r * Math.sin(s) * .5;
        return new THREE.Vector3(u, h, c)
    }

    THREE.Geometry.call(this);
    var l = this;
    this.radius = e || 100, this.tube = t || 40, this.radialSegments = n || 64, this.tubularSegments = r || 8, this.p = i || 2, this.q = a || 3, this.heightScale = o || 1, this.grid = new Array(this.radialSegments);
    for (var u = new THREE.Vector3, h = new THREE.Vector3, c = new THREE.Vector3, A = 0; A < this.radialSegments; ++A) {
        this.grid[A] = new Array(this.tubularSegments);
        var f = A / this.radialSegments * 2 * this.p * Math.PI, d = s(f, this.q, this.p, this.radius, this.heightScale), p = s(f + .01, this.q, this.p, this.radius, this.heightScale);
        u.subVectors(p, d), h.addVectors(p, d), c.crossVectors(u, h), h.crossVectors(c, u), c.normalize(), h.normalize();
        for (var m = 0; m < this.tubularSegments; ++m) {
            var g = m / this.tubularSegments * 2 * Math.PI, v = -this.tube * Math.cos(g), y = this.tube * Math.sin(g), E = new THREE.Vector3;
            E.x = d.x + v * h.x + y * c.x, E.y = d.y + v * h.y + y * c.y, E.z = d.z + v * h.z + y * c.z, this.grid[A][m] = l.vertices.push(E) - 1
        }
    }
    for (var A = 0; A < this.radialSegments; ++A)for (var m = 0; m < this.tubularSegments; ++m) {
        var b = (A + 1) % this.radialSegments, x = (m + 1) % this.tubularSegments, w = this.grid[A][m], T = this.grid[b][m], C = this.grid[b][x], R = this.grid[A][x], _ = new THREE.Vector2(A / this.radialSegments, m / this.tubularSegments), B = new THREE.Vector2((A + 1) / this.radialSegments, m / this.tubularSegments), M = new THREE.Vector2((A + 1) / this.radialSegments, (m + 1) / this.tubularSegments), H = new THREE.Vector2(A / this.radialSegments, (m + 1) / this.tubularSegments);
        this.faces.push(new THREE.Face3(w, T, R)), this.faceVertexUvs[0].push([_, B, H]), this.faces.push(new THREE.Face3(T, C, R)), this.faceVertexUvs[0].push([B.clone(), M, H.clone()])
    }
    this.computeCentroids(), this.computeFaceNormals(), this.computeVertexNormals()
},THREE.TorusKnotGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.TubeGeometry = function (e, t, n, r, i) {
    function a(e, t, n) {
        return R.vertices.push(new THREE.Vector3(e, t, n)) - 1
    }

    THREE.Geometry.call(this), this.path = e, this.segments = t || 64, this.radius = n || 1, this.radialSegments = r || 8, this.closed = i || !1, this.grid = [];
    var o, s, l, u, h, c, A, f, d, p, m, g, v, y, E, b, x, w, T, C, R = this, _ = this.segments + 1, B = new THREE.Vector3, M = new THREE.TubeGeometry.FrenetFrames(this.path, this.segments, this.closed), H = M.tangents, S = M.normals, D = M.binormals;
    for (this.tangents = H, this.normals = S, this.binormals = D, d = 0; _ > d; d++)for (this.grid[d] = [], u = d / (_ - 1), f = e.getPointAt(u), o = H[d], s = S[d], l = D[d], p = 0; p < this.radialSegments; p++)h = p / this.radialSegments * 2 * Math.PI, c = -this.radius * Math.cos(h), A = this.radius * Math.sin(h), B.copy(f), B.x += c * s.x + A * l.x, B.y += c * s.y + A * l.y, B.z += c * s.z + A * l.z, this.grid[d][p] = a(B.x, B.y, B.z);
    for (d = 0; d < this.segments; d++)for (p = 0; p < this.radialSegments; p++)m = this.closed ? (d + 1) % this.segments : d + 1, g = (p + 1) % this.radialSegments, v = this.grid[d][p], y = this.grid[m][p], E = this.grid[m][g], b = this.grid[d][g], x = new THREE.Vector2(d / this.segments, p / this.radialSegments), w = new THREE.Vector2((d + 1) / this.segments, p / this.radialSegments), T = new THREE.Vector2((d + 1) / this.segments, (p + 1) / this.radialSegments), C = new THREE.Vector2(d / this.segments, (p + 1) / this.radialSegments), this.faces.push(new THREE.Face3(v, y, b)), this.faceVertexUvs[0].push([x, w, C]), this.faces.push(new THREE.Face3(y, E, b)), this.faceVertexUvs[0].push([w.clone(), T, C.clone()]);
    this.computeCentroids(), this.computeFaceNormals(), this.computeVertexNormals()
},THREE.TubeGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames = function (e, t, n) {
    function r() {
        f[0] = new THREE.Vector3, d[0] = new THREE.Vector3, a = Number.MAX_VALUE, o = Math.abs(A[0].x), s = Math.abs(A[0].y), l = Math.abs(A[0].z), a >= o && (a = o, c.set(1, 0, 0)), a >= s && (a = s, c.set(0, 1, 0)), a >= l && c.set(0, 0, 1), p.crossVectors(A[0], c).normalize(), f[0].crossVectors(A[0], p), d[0].crossVectors(A[0], f[0])
    }

    var i, a, o, s, l, u, h, c = (new THREE.Vector3, new THREE.Vector3), A = (new THREE.Vector3, []), f = [], d = [], p = new THREE.Vector3, m = new THREE.Matrix4, g = t + 1, v = 1e-4;
    for (this.tangents = A, this.normals = f, this.binormals = d, u = 0; g > u; u++)h = u / (g - 1), A[u] = e.getTangentAt(h), A[u].normalize();
    for (r(), u = 1; g > u; u++)f[u] = f[u - 1].clone(), d[u] = d[u - 1].clone(), p.crossVectors(A[u - 1], A[u]), p.length() > v && (p.normalize(), i = Math.acos(THREE.Math.clamp(A[u - 1].dot(A[u]), -1, 1)), f[u].applyMatrix4(m.makeRotationAxis(p, i))), d[u].crossVectors(A[u], f[u]);
    if (n)for (i = Math.acos(THREE.Math.clamp(f[0].dot(f[g - 1]), -1, 1)), i /= g - 1, A[0].dot(p.crossVectors(f[0], f[g - 1])) > 0 && (i = -i), u = 1; g > u; u++)f[u].applyMatrix4(m.makeRotationAxis(A[u], i * u)), d[u].crossVectors(A[u], f[u])
},THREE.PolyhedronGeometry = function (e, t, n, r) {
    function i(e) {
        var t = e.normalize().clone();
        t.index = h.vertices.push(t) - 1;
        var n = s(e) / 2 / Math.PI + .5, r = l(e) / Math.PI + .5;
        return t.uv = new THREE.Vector2(n, 1 - r), t
    }

    function a(e, t, n) {
        var r = new THREE.Face3(e.index, t.index, n.index, [e.clone(), t.clone(), n.clone()]);
        r.centroid.add(e).add(t).add(n).divideScalar(3), h.faces.push(r);
        var i = s(r.centroid);
        h.faceVertexUvs[0].push([u(e.uv, e, i), u(t.uv, t, i), u(n.uv, n, i)])
    }

    function o(e, t) {
        for (var n = Math.pow(2, t), r = (Math.pow(4, t), i(h.vertices[e.a])), o = i(h.vertices[e.b]), s = i(h.vertices[e.c]), l = [], u = 0; n >= u; u++) {
            l[u] = [];
            for (var c = i(r.clone().lerp(s, u / n)), A = i(o.clone().lerp(s, u / n)), f = n - u, d = 0; f >= d; d++)l[u][d] = 0 == d && u == n ? c : i(c.clone().lerp(A, d / f))
        }
        for (var u = 0; n > u; u++)for (var d = 0; 2 * (n - u) - 1 > d; d++) {
            var p = Math.floor(d / 2);
            d % 2 == 0 ? a(l[u][p + 1], l[u + 1][p], l[u][p]) : a(l[u][p + 1], l[u + 1][p + 1], l[u + 1][p])
        }
    }

    function s(e) {
        return Math.atan2(e.z, -e.x)
    }

    function l(e) {
        return Math.atan2(-e.y, Math.sqrt(e.x * e.x + e.z * e.z))
    }

    function u(e, t, n) {
        return 0 > n && 1 === e.x && (e = new THREE.Vector2(e.x - 1, e.y)), 0 === t.x && 0 === t.z && (e = new THREE.Vector2(n / 2 / Math.PI + .5, e.y)), e.clone()
    }

    THREE.Geometry.call(this), n = n || 1, r = r || 0;
    for (var h = this, c = 0, A = e.length; A > c; c++)i(new THREE.Vector3(e[c][0], e[c][1], e[c][2]));
    for (var f = this.vertices, d = [], c = 0, A = t.length; A > c; c++) {
        var p = f[t[c][0]], m = f[t[c][1]], g = f[t[c][2]];
        d[c] = new THREE.Face3(p.index, m.index, g.index, [p.clone(), m.clone(), g.clone()])
    }
    for (var c = 0, A = d.length; A > c; c++)o(d[c], r);
    for (var c = 0, A = this.faceVertexUvs[0].length; A > c; c++) {
        var v = this.faceVertexUvs[0][c], y = v[0].x, E = v[1].x, b = v[2].x, x = Math.max(y, Math.max(E, b)), w = Math.min(y, Math.min(E, b));
        x > .9 && .1 > w && (.2 > y && (v[0].x += 1), .2 > E && (v[1].x += 1), .2 > b && (v[2].x += 1))
    }
    for (var c = 0, A = this.vertices.length; A > c; c++)this.vertices[c].multiplyScalar(n);
    this.mergeVertices(), this.computeCentroids(), this.computeFaceNormals(), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, n)
},THREE.PolyhedronGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry = function (e, t) {
    this.radius = e, this.detail = t;
    var n = (1 + Math.sqrt(5)) / 2, r = [[-1, n, 0], [1, n, 0], [-1, -n, 0], [1, -n, 0], [0, -1, n], [0, 1, n], [0, -1, -n], [0, 1, -n], [n, 0, -1], [n, 0, 1], [-n, 0, -1], [-n, 0, 1]], i = [[0, 11, 5], [0, 5, 1], [0, 1, 7], [0, 7, 10], [0, 10, 11], [1, 5, 9], [5, 11, 4], [11, 10, 2], [10, 7, 6], [7, 1, 8], [3, 9, 4], [3, 4, 2], [3, 2, 6], [3, 6, 8], [3, 8, 9], [4, 9, 5], [2, 4, 11], [6, 2, 10], [8, 6, 7], [9, 8, 1]];
    THREE.PolyhedronGeometry.call(this, r, i, e, t)
},THREE.IcosahedronGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry = function (e, t) {
    var n = [[1, 0, 0], [-1, 0, 0], [0, 1, 0], [0, -1, 0], [0, 0, 1], [0, 0, -1]], r = [[0, 2, 4], [0, 4, 3], [0, 3, 5], [0, 5, 2], [1, 2, 5], [1, 5, 3], [1, 3, 4], [1, 4, 2]];
    THREE.PolyhedronGeometry.call(this, n, r, e, t)
},THREE.OctahedronGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry = function (e, t) {
    var n = [[1, 1, 1], [-1, -1, 1], [-1, 1, -1], [1, -1, -1]], r = [[2, 1, 0], [0, 3, 2], [1, 3, 0], [2, 3, 1]];
    THREE.PolyhedronGeometry.call(this, n, r, e, t)
},THREE.TetrahedronGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry = function (e, t, n) {
    THREE.Geometry.call(this);
    var r, i, a, o, s, l = this.vertices, u = this.faces, h = this.faceVertexUvs[0], c = t + 1;
    for (r = 0; n >= r; r++)for (s = r / n, i = 0; t >= i; i++)o = i / t, a = e(o, s), l.push(a);
    var A, f, d, p, m, g, v, y;
    for (r = 0; n > r; r++)for (i = 0; t > i; i++)A = r * c + i, f = r * c + i + 1, d = (r + 1) * c + i + 1, p = (r + 1) * c + i, m = new THREE.Vector2(i / t, r / n), g = new THREE.Vector2((i + 1) / t, r / n), v = new THREE.Vector2((i + 1) / t, (r + 1) / n), y = new THREE.Vector2(i / t, (r + 1) / n), u.push(new THREE.Face3(A, f, p)), h.push([m, g, y]), u.push(new THREE.Face3(f, d, p)), h.push([g.clone(), v, y.clone()]);
    this.computeCentroids(), this.computeFaceNormals(), this.computeVertexNormals()
},THREE.ParametricGeometry.prototype = Object.create(THREE.Geometry.prototype),THREE.AxisHelper = function (e) {
    e = e || 1;
    var t = new THREE.Geometry;
    t.vertices.push(new THREE.Vector3, new THREE.Vector3(e, 0, 0), new THREE.Vector3, new THREE.Vector3(0, e, 0), new THREE.Vector3, new THREE.Vector3(0, 0, e)), t.colors.push(new THREE.Color(16711680), new THREE.Color(16755200), new THREE.Color(65280), new THREE.Color(11206400), new THREE.Color(255), new THREE.Color(43775));
    var n = new THREE.LineBasicMaterial({vertexColors: THREE.VertexColors});
    THREE.Line.call(this, t, n, THREE.LinePieces)
},THREE.AxisHelper.prototype = Object.create(THREE.Line.prototype),THREE.ArrowHelper = function (e, t, n, r, i, a) {
    THREE.Object3D.call(this), void 0 === r && (r = 16776960), void 0 === n && (n = 1), void 0 === i && (i = .2 * n), void 0 === a && (a = .2 * i), this.position = t;
    var o = new THREE.Geometry;
    o.vertices.push(new THREE.Vector3(0, 0, 0)), o.vertices.push(new THREE.Vector3(0, 1, 0)), this.line = new THREE.Line(o, new THREE.LineBasicMaterial({color: r})), this.line.matrixAutoUpdate = !1, this.add(this.line);
    var s = new THREE.CylinderGeometry(0, .5, 1, 5, 1);
    s.applyMatrix((new THREE.Matrix4).makeTranslation(0, -.5, 0)), this.cone = new THREE.Mesh(s, new THREE.MeshBasicMaterial({color: r})), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(e), this.setLength(n, i, a)
},THREE.ArrowHelper.prototype = Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection = function () {
    var e, t = new THREE.Vector3;
    return function (n) {
        n.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : n.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (t.set(n.z, 0, -n.x).normalize(), e = Math.acos(n.y), this.quaternion.setFromAxisAngle(t, e))
    }
}(),THREE.ArrowHelper.prototype.setLength = function (e, t, n) {
    void 0 === t && (t = .2 * e), void 0 === n && (n = .2 * t), this.line.scale.set(1, e, 1), this.line.updateMatrix(), this.cone.scale.set(n, t, n), this.cone.position.y = e, this.cone.updateMatrix()
},THREE.ArrowHelper.prototype.setColor = function (e) {
    this.line.material.color.setHex(e), this.cone.material.color.setHex(e)
},THREE.BoxHelper = function (e) {
    var t = [new THREE.Vector3(1, 1, 1), new THREE.Vector3(-1, 1, 1), new THREE.Vector3(-1, -1, 1), new THREE.Vector3(1, -1, 1), new THREE.Vector3(1, 1, -1), new THREE.Vector3(-1, 1, -1), new THREE.Vector3(-1, -1, -1), new THREE.Vector3(1, -1, -1)];
    this.vertices = t;
    var n = new THREE.Geometry;
    n.vertices.push(t[0], t[1], t[1], t[2], t[2], t[3], t[3], t[0], t[4], t[5], t[5], t[6], t[6], t[7], t[7], t[4], t[0], t[4], t[1], t[5], t[2], t[6], t[3], t[7]), THREE.Line.call(this, n, new THREE.LineBasicMaterial({color: 16776960}), THREE.LinePieces), void 0 !== e && this.update(e)
},THREE.BoxHelper.prototype = Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update = function (e) {
    var t = e.geometry;
    null === t.boundingBox && t.computeBoundingBox();
    var n = t.boundingBox.min, r = t.boundingBox.max, i = this.vertices;
    i[0].set(r.x, r.y, r.z), i[1].set(n.x, r.y, r.z), i[2].set(n.x, n.y, r.z), i[3].set(r.x, n.y, r.z), i[4].set(r.x, r.y, n.z), i[5].set(n.x, r.y, n.z), i[6].set(n.x, n.y, n.z), i[7].set(r.x, n.y, n.z), this.geometry.computeBoundingSphere(), this.geometry.verticesNeedUpdate = !0, this.matrixAutoUpdate = !1, this.matrixWorld = e.matrixWorld
},THREE.BoundingBoxHelper = function (e, t) {
    var n = void 0 !== t ? t : 8947848;
    this.object = e, this.box = new THREE.Box3, THREE.Mesh.call(this, new THREE.BoxGeometry(1, 1, 1), new THREE.MeshBasicMaterial({
        color: n,
        wireframe: !0
    }))
},THREE.BoundingBoxHelper.prototype = Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.update = function () {
    this.box.setFromObject(this.object), this.box.size(this.scale), this.box.center(this.position)
},THREE.CameraHelper = function (e) {
    function t(e, t, r) {
        n(e, r), n(t, r)
    }

    function n(e, t) {
        r.vertices.push(new THREE.Vector3), r.colors.push(new THREE.Color(t)), void 0 === a[e] && (a[e] = []), a[e].push(r.vertices.length - 1)
    }

    var r = new THREE.Geometry, i = new THREE.LineBasicMaterial({
        color: 16777215,
        vertexColors: THREE.FaceColors
    }), a = {}, o = 16755200, s = 16711680, l = 43775, u = 16777215, h = 3355443;
    t("n1", "n2", o), t("n2", "n4", o), t("n4", "n3", o), t("n3", "n1", o), t("f1", "f2", o), t("f2", "f4", o), t("f4", "f3", o), t("f3", "f1", o), t("n1", "f1", o), t("n2", "f2", o), t("n3", "f3", o), t("n4", "f4", o), t("p", "n1", s), t("p", "n2", s), t("p", "n3", s), t("p", "n4", s), t("u1", "u2", l), t("u2", "u3", l), t("u3", "u1", l), t("c", "t", u), t("p", "c", h), t("cn1", "cn2", h), t("cn3", "cn4", h), t("cf1", "cf2", h), t("cf3", "cf4", h), THREE.Line.call(this, r, i, THREE.LinePieces), this.camera = e, this.matrixWorld = e.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = a, this.update()
},THREE.CameraHelper.prototype = Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update = function () {
    var e = new THREE.Vector3, t = new THREE.Camera, n = new THREE.Projector;
    return function () {
        function r(r, a, o, s) {
            e.set(a, o, s), n.unprojectVector(e, t);
            var l = i.pointMap[r];
            if (void 0 !== l)for (var u = 0, h = l.length; h > u; u++)i.geometry.vertices[l[u]].copy(e)
        }

        var i = this, a = 1, o = 1;
        t.projectionMatrix.copy(this.camera.projectionMatrix), r("c", 0, 0, -1), r("t", 0, 0, 1), r("n1", -a, -o, -1), r("n2", a, -o, -1), r("n3", -a, o, -1), r("n4", a, o, -1), r("f1", -a, -o, 1), r("f2", a, -o, 1), r("f3", -a, o, 1), r("f4", a, o, 1), r("u1", .7 * a, 1.1 * o, -1), r("u2", .7 * -a, 1.1 * o, -1), r("u3", 0, 2 * o, -1), r("cf1", -a, 0, 1), r("cf2", a, 0, 1), r("cf3", 0, -o, 1), r("cf4", 0, o, 1), r("cn1", -a, 0, -1), r("cn2", a, 0, -1), r("cn3", 0, -o, -1), r("cn4", 0, o, -1), this.geometry.verticesNeedUpdate = !0
    }
}(),THREE.DirectionalLightHelper = function (e, t) {
    THREE.Object3D.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrixWorld = e.matrixWorld, this.matrixAutoUpdate = !1, t = t || 1;
    var n = new THREE.PlaneGeometry(t, t), r = new THREE.MeshBasicMaterial({wireframe: !0, fog: !1});
    r.color.copy(this.light.color).multiplyScalar(this.light.intensity), this.lightPlane = new THREE.Mesh(n, r), this.add(this.lightPlane), n = new THREE.Geometry, n.vertices.push(new THREE.Vector3), n.vertices.push(new THREE.Vector3), r = new THREE.LineBasicMaterial({fog: !1}), r.color.copy(this.light.color).multiplyScalar(this.light.intensity), this.targetLine = new THREE.Line(n, r), this.add(this.targetLine), this.update()
},THREE.DirectionalLightHelper.prototype = Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.dispose = function () {
    this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose()
},THREE.DirectionalLightHelper.prototype.update = function () {
    var e = new THREE.Vector3, t = new THREE.Vector3, n = new THREE.Vector3;
    return function () {
        e.setFromMatrixPosition(this.light.matrixWorld), t.setFromMatrixPosition(this.light.target.matrixWorld), n.subVectors(t, e), this.lightPlane.lookAt(n), this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), this.targetLine.geometry.vertices[1].copy(n), this.targetLine.geometry.verticesNeedUpdate = !0, this.targetLine.material.color.copy(this.lightPlane.material.color)
    }
}(),THREE.EdgesHelper = function (e, t) {
    var n = void 0 !== t ? t : 16777215, r = [0, 0], i = {}, a = function (e, t) {
        return e - t
    }, o = ["a", "b", "c"], s = new THREE.BufferGeometry, l = e.geometry.clone();
    l.mergeVertices(), l.computeFaceNormals();
    for (var u = l.vertices, h = l.faces, c = 0, A = 0, f = h.length; f > A; A++)for (var d = h[A], p = 0; 3 > p; p++) {
        r[0] = d[o[p]], r[1] = d[o[(p + 1) % 3]], r.sort(a);
        var m = r.toString();
        void 0 === i[m] ? (i[m] = {vert1: r[0], vert2: r[1], face1: A, face2: void 0}, c++) : i[m].face2 = A
    }
    s.addAttribute("position", Float32Array, 2 * c, 3);
    var g = s.attributes.position.array, v = 0;
    for (var m in i) {
        var y = i[m];
        if (void 0 === y.face2 || h[y.face1].normal.dot(h[y.face2].normal) < .9999) {
            var E = u[y.vert1];
            g[v++] = E.x, g[v++] = E.y, g[v++] = E.z, E = u[y.vert2], g[v++] = E.x, g[v++] = E.y, g[v++] = E.z
        }
    }
    THREE.Line.call(this, s, new THREE.LineBasicMaterial({color: n}), THREE.LinePieces), this.matrixAutoUpdate = !1, this.matrixWorld = e.matrixWorld
},THREE.EdgesHelper.prototype = Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper = function (e, t, n, r) {
    this.object = e, this.size = void 0 !== t ? t : 1;
    for (var i = void 0 !== n ? n : 16776960, a = void 0 !== r ? r : 1, o = new THREE.Geometry, s = this.object.geometry.faces, l = 0, u = s.length; u > l; l++)o.vertices.push(new THREE.Vector3), o.vertices.push(new THREE.Vector3);
    THREE.Line.call(this, o, new THREE.LineBasicMaterial({
        color: i,
        linewidth: a
    }), THREE.LinePieces), this.matrixAutoUpdate = !1, this.normalMatrix = new THREE.Matrix3, this.update()
},THREE.FaceNormalsHelper.prototype = Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.update = function () {
    var e = new THREE.Vector3;
    return function () {
        this.object.updateMatrixWorld(!0), this.normalMatrix.getNormalMatrix(this.object.matrixWorld);
        for (var t = this.geometry.vertices, n = this.object.geometry.faces, r = this.object.matrixWorld, i = 0, a = n.length; a > i; i++) {
            var o = n[i];
            e.copy(o.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size);
            var s = 2 * i;
            t[s].copy(o.centroid).applyMatrix4(r), t[s + 1].addVectors(t[s], e)
        }
        return this.geometry.verticesNeedUpdate = !0, this
    }
}(),THREE.GridHelper = function (e, t) {
    var n = new THREE.Geometry, r = new THREE.LineBasicMaterial({vertexColors: THREE.VertexColors});
    this.color1 = new THREE.Color(4473924), this.color2 = new THREE.Color(8947848);
    for (var i = -e; e >= i; i += t) {
        n.vertices.push(new THREE.Vector3(-e, 0, i), new THREE.Vector3(e, 0, i), new THREE.Vector3(i, 0, -e), new THREE.Vector3(i, 0, e));
        var a = 0 === i ? this.color1 : this.color2;
        n.colors.push(a, a, a, a)
    }
    THREE.Line.call(this, n, r, THREE.LinePieces)
},THREE.GridHelper.prototype = Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.setColors = function (e, t) {
    this.color1.set(e), this.color2.set(t), this.geometry.colorsNeedUpdate = !0
},THREE.HemisphereLightHelper = function (e, t) {
    THREE.Object3D.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrixWorld = e.matrixWorld, this.matrixAutoUpdate = !1, this.colors = [new THREE.Color, new THREE.Color];
    var n = new THREE.SphereGeometry(t, 4, 2);
    n.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI / 2));
    for (var r = 0, i = 8; i > r; r++)n.faces[r].color = this.colors[4 > r ? 0 : 1];
    var a = new THREE.MeshBasicMaterial({vertexColors: THREE.FaceColors, wireframe: !0});
    this.lightSphere = new THREE.Mesh(n, a), this.add(this.lightSphere), this.update()
},THREE.HemisphereLightHelper.prototype = Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.dispose = function () {
    this.lightSphere.geometry.dispose(), this.lightSphere.material.dispose()
},THREE.HemisphereLightHelper.prototype.update = function () {
    var e = new THREE.Vector3;
    return function () {
        this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity), this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity), this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()), this.lightSphere.geometry.colorsNeedUpdate = !0
    }
}(),THREE.PointLightHelper = function (e, t) {
    this.light = e, this.light.updateMatrixWorld();
    var n = new THREE.SphereGeometry(t, 4, 2), r = new THREE.MeshBasicMaterial({wireframe: !0, fog: !1});
    r.color.copy(this.light.color).multiplyScalar(this.light.intensity), THREE.Mesh.call(this, n, r), this.matrixWorld = this.light.matrixWorld, this.matrixAutoUpdate = !1
},THREE.PointLightHelper.prototype = Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.dispose = function () {
    this.geometry.dispose(), this.material.dispose()
},THREE.PointLightHelper.prototype.update = function () {
    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
},THREE.SpotLightHelper = function (e) {
    THREE.Object3D.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrixWorld = e.matrixWorld, this.matrixAutoUpdate = !1;
    var t = new THREE.CylinderGeometry(0, 1, 1, 8, 1, !0);
    t.applyMatrix((new THREE.Matrix4).makeTranslation(0, -.5, 0)), t.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI / 2));
    var n = new THREE.MeshBasicMaterial({wireframe: !0, fog: !1});
    this.cone = new THREE.Mesh(t, n), this.add(this.cone), this.update()
},THREE.SpotLightHelper.prototype = Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.dispose = function () {
    this.cone.geometry.dispose(), this.cone.material.dispose()
},THREE.SpotLightHelper.prototype.update = function () {
    var e = new THREE.Vector3, t = new THREE.Vector3;
    return function () {
        var n = this.light.distance ? this.light.distance : 1e4, r = n * Math.tan(this.light.angle);
        this.cone.scale.set(r, r, n), e.setFromMatrixPosition(this.light.matrixWorld), t.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(t.sub(e)), this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
    }
}(),THREE.VertexNormalsHelper = function (e, t, n, r) {
    this.object = e, this.size = void 0 !== t ? t : 1;
    for (var i = void 0 !== n ? n : 16711680, a = void 0 !== r ? r : 1, o = new THREE.Geometry, s = (e.geometry.vertices, e.geometry.faces), l = 0, u = s.length; u > l; l++)for (var h = s[l], c = 0, A = h.vertexNormals.length; A > c; c++)o.vertices.push(new THREE.Vector3), o.vertices.push(new THREE.Vector3);
    THREE.Line.call(this, o, new THREE.LineBasicMaterial({
        color: i,
        linewidth: a
    }), THREE.LinePieces), this.matrixAutoUpdate = !1, this.normalMatrix = new THREE.Matrix3, this.update()
},THREE.VertexNormalsHelper.prototype = Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.update = function () {
    var e = new THREE.Vector3;
    return function () {
        var t = ["a", "b", "c", "d"];
        this.object.updateMatrixWorld(!0), this.normalMatrix.getNormalMatrix(this.object.matrixWorld);
        for (var n = this.geometry.vertices, r = this.object.geometry.vertices, i = this.object.geometry.faces, a = this.object.matrixWorld, o = 0, s = 0, l = i.length; l > s; s++)for (var u = i[s], h = 0, c = u.vertexNormals.length; c > h; h++) {
            var A = u[t[h]], f = r[A], d = u.vertexNormals[h];
            n[o].copy(f).applyMatrix4(a), e.copy(d).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size), e.add(n[o]), o += 1, n[o].copy(e), o += 1
        }
        return this.geometry.verticesNeedUpdate = !0, this
    }
}(),THREE.VertexTangentsHelper = function (e, t, n, r) {
    this.object = e, this.size = void 0 !== t ? t : 1;
    for (var i = void 0 !== n ? n : 255, a = void 0 !== r ? r : 1, o = new THREE.Geometry, s = (e.geometry.vertices, e.geometry.faces), l = 0, u = s.length; u > l; l++)for (var h = s[l], c = 0, A = h.vertexTangents.length; A > c; c++)o.vertices.push(new THREE.Vector3), o.vertices.push(new THREE.Vector3);
    THREE.Line.call(this, o, new THREE.LineBasicMaterial({
        color: i,
        linewidth: a
    }), THREE.LinePieces), this.matrixAutoUpdate = !1, this.update()
},THREE.VertexTangentsHelper.prototype = Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.update = function () {
    var e = new THREE.Vector3;
    return function () {
        var t = ["a", "b", "c", "d"];
        this.object.updateMatrixWorld(!0);
        for (var n = this.geometry.vertices, r = this.object.geometry.vertices, i = this.object.geometry.faces, a = this.object.matrixWorld, o = 0, s = 0, l = i.length; l > s; s++)for (var u = i[s], h = 0, c = u.vertexTangents.length; c > h; h++) {
            var A = u[t[h]], f = r[A], d = u.vertexTangents[h];
            n[o].copy(f).applyMatrix4(a), e.copy(d).transformDirection(a).multiplyScalar(this.size), e.add(n[o]), o += 1, n[o].copy(e), o += 1
        }
        return this.geometry.verticesNeedUpdate = !0, this
    }
}(),THREE.WireframeHelper = function (e, t) {
    var n = void 0 !== t ? t : 16777215, r = [0, 0], i = {}, a = function (e, t) {
        return e - t
    }, o = ["a", "b", "c"], s = new THREE.BufferGeometry;
    if (e.geometry instanceof THREE.Geometry) {
        for (var l = e.geometry.vertices, u = e.geometry.faces, h = 0, c = new Uint32Array(6 * u.length), A = 0, f = u.length; f > A; A++)for (var d = u[A], p = 0; 3 > p; p++) {
            r[0] = d[o[p]], r[1] = d[o[(p + 1) % 3]], r.sort(a);
            var m = r.toString();
            void 0 === i[m] && (c[2 * h] = r[0], c[2 * h + 1] = r[1], i[m] = !0, h++)
        }
        s.addAttribute("position", Float32Array, 2 * h, 3);
        for (var g = s.attributes.position.array, A = 0, f = h; f > A; A++)for (var p = 0; 2 > p; p++) {
            var v = l[c[2 * A + p]], y = 6 * A + 3 * p;
            g[y + 0] = v.x, g[y + 1] = v.y, g[y + 2] = v.z
        }
    } else if (e.geometry instanceof THREE.BufferGeometry && void 0 !== e.geometry.attributes.index) {
        for (var l = e.geometry.attributes.position.array, E = e.geometry.attributes.index.array, b = e.geometry.offsets, h = 0, c = new Uint32Array(2 * E.length), x = 0, w = b.length; w > x; ++x)for (var T = b[x].start, C = b[x].count, y = b[x].index, A = T, R = T + C; R > A; A += 3)for (var p = 0; 3 > p; p++) {
            r[0] = y + E[A + p], r[1] = y + E[A + (p + 1) % 3], r.sort(a);
            var m = r.toString();
            void 0 === i[m] && (c[2 * h] = r[0], c[2 * h + 1] = r[1], i[m] = !0, h++)
        }
        s.addAttribute("position", Float32Array, 2 * h, 3);
        for (var g = s.attributes.position.array, A = 0, f = h; f > A; A++)for (var p = 0; 2 > p; p++) {
            var y = 6 * A + 3 * p, _ = 3 * c[2 * A + p];
            g[y + 0] = l[_], g[y + 1] = l[_ + 1], g[y + 2] = l[_ + 2]
        }
    } else if (e.geometry instanceof THREE.BufferGeometry) {
        var l = e.geometry.attributes.position.array, h = l.length / 3, B = h / 3;
        s.addAttribute("position", Float32Array, 2 * h, 3);
        for (var g = s.attributes.position.array, A = 0, f = B; f > A; A++)for (var p = 0; 3 > p; p++) {
            var y = 18 * A + 6 * p, M = 9 * A + 3 * p;
            g[y + 0] = l[M], g[y + 1] = l[M + 1], g[y + 2] = l[M + 2];
            var _ = 9 * A + 3 * ((p + 1) % 3);
            g[y + 3] = l[_], g[y + 4] = l[_ + 1], g[y + 5] = l[_ + 2]
        }
    }
    THREE.Line.call(this, s, new THREE.LineBasicMaterial({color: n}), THREE.LinePieces), this.matrixAutoUpdate = !1, this.matrixWorld = e.matrixWorld
},THREE.WireframeHelper.prototype = Object.create(THREE.Line.prototype),THREE.ImmediateRenderObject = function () {
    THREE.Object3D.call(this), this.render = function () {
    }
},THREE.ImmediateRenderObject.prototype = Object.create(THREE.Object3D.prototype),THREE.LensFlare = function (e, t, n, r, i) {
    THREE.Object3D.call(this), this.lensFlares = [], this.positionScreen = new THREE.Vector3, this.customUpdateCallback = void 0, void 0 !== e && this.add(e, t, n, r, i)
},THREE.LensFlare.prototype = Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add = function (e, t, n, r, i, a) {
    void 0 === t && (t = -1), void 0 === n && (n = 0), void 0 === a && (a = 1), void 0 === i && (i = new THREE.Color(16777215)), void 0 === r && (r = THREE.NormalBlending), n = Math.min(n, Math.max(0, n)), this.lensFlares.push({
        texture: e,
        size: t,
        distance: n,
        x: 0,
        y: 0,
        z: 0,
        scale: 1,
        rotation: 1,
        opacity: a,
        color: i,
        blending: r
    })
},THREE.LensFlare.prototype.updateLensFlares = function () {
    var e, t, n = this.lensFlares.length, r = 2 * -this.positionScreen.x, i = 2 * -this.positionScreen.y;
    for (e = 0; n > e; e++)t = this.lensFlares[e], t.x = this.positionScreen.x + r * t.distance, t.y = this.positionScreen.y + i * t.distance, t.wantedRotation = t.x * Math.PI * .25, t.rotation += .25 * (t.wantedRotation - t.rotation)
},THREE.MorphBlendMesh = function (e, t) {
    THREE.Mesh.call(this, e, t), this.animationsMap = {}, this.animationsList = [];
    var n = this.geometry.morphTargets.length, r = "__default", i = 0, a = n - 1, o = n / 1;
    this.createAnimation(r, i, a, o), this.setAnimationWeight(r, 1)
},THREE.MorphBlendMesh.prototype = Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation = function (e, t, n, r) {
    var i = {
        startFrame: t,
        endFrame: n,
        length: n - t + 1,
        fps: r,
        duration: (n - t) / r,
        lastFrame: 0,
        currentFrame: 0,
        active: !1,
        time: 0,
        direction: 1,
        weight: 1,
        directionBackwards: !1,
        mirroredLoop: !1
    };
    this.animationsMap[e] = i, this.animationsList.push(i)
},THREE.MorphBlendMesh.prototype.autoCreateAnimations = function (e) {
    for (var t, n = /([a-z]+)(\d+)/, r = {}, i = this.geometry, a = 0, o = i.morphTargets.length; o > a; a++) {
        var s = i.morphTargets[a], l = s.name.match(n);
        if (l && l.length > 1) {
            {
                var u = l[1];
                l[2]
            }
            r[u] || (r[u] = {start: 1 / 0, end: -1 / 0});
            var h = r[u];
            a < h.start && (h.start = a), a > h.end && (h.end = a), t || (t = u)
        }
    }
    for (var u in r) {
        var h = r[u];
        this.createAnimation(u, h.start, h.end, e)
    }
    this.firstAnimation = t
},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function (e) {
    var t = this.animationsMap[e];
    t && (t.direction = 1, t.directionBackwards = !1)
},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function (e) {
    var t = this.animationsMap[e];
    t && (t.direction = -1, t.directionBackwards = !0)
},THREE.MorphBlendMesh.prototype.setAnimationFPS = function (e, t) {
    var n = this.animationsMap[e];
    n && (n.fps = t, n.duration = (n.end - n.start) / n.fps)
},THREE.MorphBlendMesh.prototype.setAnimationDuration = function (e, t) {
    var n = this.animationsMap[e];
    n && (n.duration = t, n.fps = (n.end - n.start) / n.duration)
},THREE.MorphBlendMesh.prototype.setAnimationWeight = function (e, t) {
    var n = this.animationsMap[e];
    n && (n.weight = t)
},THREE.MorphBlendMesh.prototype.setAnimationTime = function (e, t) {
    var n = this.animationsMap[e];
    n && (n.time = t)
},THREE.MorphBlendMesh.prototype.getAnimationTime = function (e) {
    var t = 0, n = this.animationsMap[e];
    return n && (t = n.time), t
},THREE.MorphBlendMesh.prototype.getAnimationDuration = function (e) {
    var t = -1, n = this.animationsMap[e];
    return n && (t = n.duration), t
},THREE.MorphBlendMesh.prototype.playAnimation = function (e) {
    var t = this.animationsMap[e];
    t ? (t.time = 0, t.active = !0) : console.warn("animation[" + e + "] undefined")
},THREE.MorphBlendMesh.prototype.stopAnimation = function (e) {
    var t = this.animationsMap[e];
    t && (t.active = !1)
},THREE.MorphBlendMesh.prototype.update = function (e) {
    for (var t = 0, n = this.animationsList.length; n > t; t++) {
        var r = this.animationsList[t];
        if (r.active) {
            var i = r.duration / r.length;
            r.time += r.direction * e, r.mirroredLoop ? (r.time > r.duration || r.time < 0) && (r.direction *= -1, r.time > r.duration && (r.time = r.duration, r.directionBackwards = !0), r.time < 0 && (r.time = 0, r.directionBackwards = !1)) : (r.time = r.time % r.duration, r.time < 0 && (r.time += r.duration));
            var a = r.startFrame + THREE.Math.clamp(Math.floor(r.time / i), 0, r.length - 1), o = r.weight;
            a !== r.currentFrame && (this.morphTargetInfluences[r.lastFrame] = 0, this.morphTargetInfluences[r.currentFrame] = 1 * o, this.morphTargetInfluences[a] = 0, r.lastFrame = r.currentFrame, r.currentFrame = a);
            var s = r.time % i / i;
            r.directionBackwards && (s = 1 - s), this.morphTargetInfluences[r.currentFrame] = s * o, this.morphTargetInfluences[r.lastFrame] = (1 - s) * o
        }
    }
},THREE.LensFlarePlugin = function () {
    function e(e, n) {
        var r = t.createProgram(), i = t.createShader(t.FRAGMENT_SHADER), a = t.createShader(t.VERTEX_SHADER), o = "precision " + n + " float;\n";
        return t.shaderSource(i, o + e.fragmentShader), t.shaderSource(a, o + e.vertexShader), t.compileShader(i), t.compileShader(a), t.attachShader(r, i), t.attachShader(r, a), t.linkProgram(r), r
    }

    var t, n, r, i = {};
    this.init = function (a) {
        t = a.context, n = a, r = a.getPrecision(), i.vertices = new Float32Array(16), i.faces = new Uint16Array(6);
        var o = 0;
        i.vertices[o++] = -1, i.vertices[o++] = -1, i.vertices[o++] = 0, i.vertices[o++] = 0, i.vertices[o++] = 1, i.vertices[o++] = -1, i.vertices[o++] = 1, i.vertices[o++] = 0, i.vertices[o++] = 1, i.vertices[o++] = 1, i.vertices[o++] = 1, i.vertices[o++] = 1, i.vertices[o++] = -1, i.vertices[o++] = 1, i.vertices[o++] = 0, i.vertices[o++] = 1, o = 0, i.faces[o++] = 0, i.faces[o++] = 1, i.faces[o++] = 2, i.faces[o++] = 0, i.faces[o++] = 2, i.faces[o++] = 3, i.vertexBuffer = t.createBuffer(), i.elementBuffer = t.createBuffer(), t.bindBuffer(t.ARRAY_BUFFER, i.vertexBuffer), t.bufferData(t.ARRAY_BUFFER, i.vertices, t.STATIC_DRAW), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, i.elementBuffer), t.bufferData(t.ELEMENT_ARRAY_BUFFER, i.faces, t.STATIC_DRAW), i.tempTexture = t.createTexture(), i.occlusionTexture = t.createTexture(), t.bindTexture(t.TEXTURE_2D, i.tempTexture), t.texImage2D(t.TEXTURE_2D, 0, t.RGB, 16, 16, 0, t.RGB, t.UNSIGNED_BYTE, null), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST), t.bindTexture(t.TEXTURE_2D, i.occlusionTexture), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, 16, 16, 0, t.RGBA, t.UNSIGNED_BYTE, null), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST), t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS) <= 0 ? (i.hasVertexTexture = !1, i.program = e(THREE.ShaderFlares.lensFlare, r)) : (i.hasVertexTexture = !0, i.program = e(THREE.ShaderFlares.lensFlareVertexTexture, r)), i.attributes = {}, i.uniforms = {}, i.attributes.vertex = t.getAttribLocation(i.program, "position"), i.attributes.uv = t.getAttribLocation(i.program, "uv"), i.uniforms.renderType = t.getUniformLocation(i.program, "renderType"), i.uniforms.map = t.getUniformLocation(i.program, "map"), i.uniforms.occlusionMap = t.getUniformLocation(i.program, "occlusionMap"), i.uniforms.opacity = t.getUniformLocation(i.program, "opacity"), i.uniforms.color = t.getUniformLocation(i.program, "color"), i.uniforms.scale = t.getUniformLocation(i.program, "scale"), i.uniforms.rotation = t.getUniformLocation(i.program, "rotation"), i.uniforms.screenPosition = t.getUniformLocation(i.program, "screenPosition")
    }, this.render = function (e, r, a, o) {
        var s = e.__webglFlares, l = s.length;
        if (l) {
            var u = new THREE.Vector3, h = o / a, c = .5 * a, A = .5 * o, f = 16 / o, d = new THREE.Vector2(f * h, f), p = new THREE.Vector3(1, 1, 0), m = new THREE.Vector2(1, 1), g = i.uniforms, v = i.attributes;
            t.useProgram(i.program), t.enableVertexAttribArray(i.attributes.vertex), t.enableVertexAttribArray(i.attributes.uv), t.uniform1i(g.occlusionMap, 0), t.uniform1i(g.map, 1), t.bindBuffer(t.ARRAY_BUFFER, i.vertexBuffer), t.vertexAttribPointer(v.vertex, 2, t.FLOAT, !1, 16, 0), t.vertexAttribPointer(v.uv, 2, t.FLOAT, !1, 16, 8), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, i.elementBuffer), t.disable(t.CULL_FACE), t.depthMask(!1);
            var y, E, b, x, w;
            for (y = 0; l > y; y++)if (f = 16 / o, d.set(f * h, f), x = s[y], u.set(x.matrixWorld.elements[12], x.matrixWorld.elements[13], x.matrixWorld.elements[14]), u.applyMatrix4(r.matrixWorldInverse), u.applyProjection(r.projectionMatrix), p.copy(u), m.x = p.x * c + c, m.y = p.y * A + A, i.hasVertexTexture || m.x > 0 && m.x < a && m.y > 0 && m.y < o)for (t.activeTexture(t.TEXTURE1), t.bindTexture(t.TEXTURE_2D, i.tempTexture), t.copyTexImage2D(t.TEXTURE_2D, 0, t.RGB, m.x - 8, m.y - 8, 16, 16, 0), t.uniform1i(g.renderType, 0), t.uniform2f(g.scale, d.x, d.y), t.uniform3f(g.screenPosition, p.x, p.y, p.z), t.disable(t.BLEND), t.enable(t.DEPTH_TEST), t.drawElements(t.TRIANGLES, 6, t.UNSIGNED_SHORT, 0), t.activeTexture(t.TEXTURE0), t.bindTexture(t.TEXTURE_2D, i.occlusionTexture), t.copyTexImage2D(t.TEXTURE_2D, 0, t.RGBA, m.x - 8, m.y - 8, 16, 16, 0), t.uniform1i(g.renderType, 1), t.disable(t.DEPTH_TEST), t.activeTexture(t.TEXTURE1), t.bindTexture(t.TEXTURE_2D, i.tempTexture), t.drawElements(t.TRIANGLES, 6, t.UNSIGNED_SHORT, 0), x.positionScreen.copy(p), x.customUpdateCallback ? x.customUpdateCallback(x) : x.updateLensFlares(), t.uniform1i(g.renderType, 2), t.enable(t.BLEND), E = 0, b = x.lensFlares.length; b > E; E++)w = x.lensFlares[E], w.opacity > .001 && w.scale > .001 && (p.x = w.x, p.y = w.y, p.z = w.z, f = w.size * w.scale / o, d.x = f * h, d.y = f, t.uniform3f(g.screenPosition, p.x, p.y, p.z), t.uniform2f(g.scale, d.x, d.y), t.uniform1f(g.rotation, w.rotation), t.uniform1f(g.opacity, w.opacity), t.uniform3f(g.color, w.color.r, w.color.g, w.color.b), n.setBlending(w.blending, w.blendEquation, w.blendSrc, w.blendDst), n.setTexture(w.texture, 1), t.drawElements(t.TRIANGLES, 6, t.UNSIGNED_SHORT, 0));
            t.enable(t.CULL_FACE), t.enable(t.DEPTH_TEST), t.depthMask(!0)
        }
    }
},THREE.ShadowMapPlugin = function () {
    function e(e, t) {
        var n = new THREE.DirectionalLight;
        n.isVirtual = !0, n.onlyShadow = !0, n.castShadow = !0, n.shadowCameraNear = e.shadowCameraNear, n.shadowCameraFar = e.shadowCameraFar, n.shadowCameraLeft = e.shadowCameraLeft, n.shadowCameraRight = e.shadowCameraRight, n.shadowCameraBottom = e.shadowCameraBottom, n.shadowCameraTop = e.shadowCameraTop, n.shadowCameraVisible = e.shadowCameraVisible, n.shadowDarkness = e.shadowDarkness, n.shadowBias = e.shadowCascadeBias[t], n.shadowMapWidth = e.shadowCascadeWidth[t], n.shadowMapHeight = e.shadowCascadeHeight[t], n.pointsWorld = [], n.pointsFrustum = [];
        for (var r = n.pointsWorld, i = n.pointsFrustum, a = 0; 8 > a; a++)r[a] = new THREE.Vector3, i[a] = new THREE.Vector3;
        var o = e.shadowCascadeNearZ[t], s = e.shadowCascadeFarZ[t];
        return i[0].set(-1, -1, o), i[1].set(1, -1, o), i[2].set(-1, 1, o), i[3].set(1, 1, o), i[4].set(-1, -1, s), i[5].set(1, -1, s), i[6].set(-1, 1, s), i[7].set(1, 1, s), n
    }

    function t(e, t) {
        var n = e.shadowCascadeArray[t];
        n.position.copy(e.position), n.target.position.copy(e.target.position), n.lookAt(n.target), n.shadowCameraVisible = e.shadowCameraVisible, n.shadowDarkness = e.shadowDarkness, n.shadowBias = e.shadowCascadeBias[t];
        var r = e.shadowCascadeNearZ[t], i = e.shadowCascadeFarZ[t], a = n.pointsFrustum;
        a[0].z = r, a[1].z = r, a[2].z = r, a[3].z = r, a[4].z = i, a[5].z = i, a[6].z = i, a[7].z = i
    }

    function n(e, t) {
        var n = t.shadowCamera, r = t.pointsFrustum, i = t.pointsWorld;
        A.set(1 / 0, 1 / 0, 1 / 0), f.set(-1 / 0, -1 / 0, -1 / 0);
        for (var a = 0; 8 > a; a++) {
            var o = i[a];
            o.copy(r[a]), THREE.ShadowMapPlugin.__projector.unprojectVector(o, e), o.applyMatrix4(n.matrixWorldInverse), o.x < A.x && (A.x = o.x), o.x > f.x && (f.x = o.x), o.y < A.y && (A.y = o.y), o.y > f.y && (f.y = o.y), o.z < A.z && (A.z = o.z), o.z > f.z && (f.z = o.z)
        }
        n.left = A.x, n.right = f.x, n.top = f.y, n.bottom = A.y, n.updateProjectionMatrix()
    }

    function r(e) {
        return e.material instanceof THREE.MeshFaceMaterial ? e.material.materials[0] : e.material
    }

    var i, a, o, s, l, u, h = new THREE.Frustum, c = new THREE.Matrix4, A = new THREE.Vector3, f = new THREE.Vector3, d = new THREE.Vector3;
    this.init = function (e) {
        i = e.context, a = e;
        var t = THREE.ShaderLib.depthRGBA, n = THREE.UniformsUtils.clone(t.uniforms);
        o = new THREE.ShaderMaterial({
            fragmentShader: t.fragmentShader,
            vertexShader: t.vertexShader,
            uniforms: n
        }), s = new THREE.ShaderMaterial({
            fragmentShader: t.fragmentShader,
            vertexShader: t.vertexShader,
            uniforms: n,
            morphTargets: !0
        }), l = new THREE.ShaderMaterial({
            fragmentShader: t.fragmentShader,
            vertexShader: t.vertexShader,
            uniforms: n,
            skinning: !0
        }), u = new THREE.ShaderMaterial({
            fragmentShader: t.fragmentShader,
            vertexShader: t.vertexShader,
            uniforms: n,
            morphTargets: !0,
            skinning: !0
        }), o._shadowPass = !0, s._shadowPass = !0, l._shadowPass = !0, u._shadowPass = !0
    }, this.render = function (e, t) {
        a.shadowMapEnabled && a.shadowMapAutoUpdate && this.update(e, t)
    }, this.update = function (A, f) {
        var p, m, g, v, y, E, b, x, w, T, C, R, _, B, M = [], H = 0, S = null;
        for (i.clearColor(1, 1, 1, 1), i.disable(i.BLEND), i.enable(i.CULL_FACE), i.frontFace(i.CCW), i.cullFace(a.shadowMapCullFace === THREE.CullFaceFront ? i.FRONT : i.BACK), a.setDepthTest(!0), p = 0, m = A.__lights.length; m > p; p++)if (_ = A.__lights[p], _.castShadow)if (_ instanceof THREE.DirectionalLight && _.shadowCascade)for (y = 0; y < _.shadowCascadeCount; y++) {
            var D;
            if (_.shadowCascadeArray[y])D = _.shadowCascadeArray[y]; else {
                D = e(_, y), D.originalCamera = f;
                var F = new THREE.Gyroscope;
                F.position = _.shadowCascadeOffset, F.add(D), F.add(D.target), f.add(F), _.shadowCascadeArray[y] = D, console.log("Created virtualLight", D)
            }
            t(_, y), M[H] = D, H++
        } else M[H] = _, H++;
        for (p = 0, m = M.length; m > p; p++) {
            if (_ = M[p], !_.shadowMap) {
                var k = THREE.LinearFilter;
                a.shadowMapType === THREE.PCFSoftShadowMap && (k = THREE.NearestFilter);
                var O = {minFilter: k, magFilter: k, format: THREE.RGBAFormat};
                _.shadowMap = new THREE.WebGLRenderTarget(_.shadowMapWidth, _.shadowMapHeight, O), _.shadowMapSize = new THREE.Vector2(_.shadowMapWidth, _.shadowMapHeight), _.shadowMatrix = new THREE.Matrix4
            }
            if (!_.shadowCamera) {
                if (_ instanceof THREE.SpotLight)_.shadowCamera = new THREE.PerspectiveCamera(_.shadowCameraFov, _.shadowMapWidth / _.shadowMapHeight, _.shadowCameraNear, _.shadowCameraFar); else {
                    if (!(_ instanceof THREE.DirectionalLight)) {
                        console.error("Unsupported light type for shadow");
                        continue
                    }
                    _.shadowCamera = new THREE.OrthographicCamera(_.shadowCameraLeft, _.shadowCameraRight, _.shadowCameraTop, _.shadowCameraBottom, _.shadowCameraNear, _.shadowCameraFar)
                }
                A.add(_.shadowCamera), A.autoUpdate === !0 && A.updateMatrixWorld()
            }
            for (_.shadowCameraVisible && !_.cameraHelper && (_.cameraHelper = new THREE.CameraHelper(_.shadowCamera), _.shadowCamera.add(_.cameraHelper)), _.isVirtual && D.originalCamera == f && n(f, _), E = _.shadowMap, b = _.shadowMatrix, x = _.shadowCamera, x.position.setFromMatrixPosition(_.matrixWorld), d.setFromMatrixPosition(_.target.matrixWorld), x.lookAt(d), x.updateMatrixWorld(), x.matrixWorldInverse.getInverse(x.matrixWorld), _.cameraHelper && (_.cameraHelper.visible = _.shadowCameraVisible), _.shadowCameraVisible && _.cameraHelper.update(), b.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), b.multiply(x.projectionMatrix), b.multiply(x.matrixWorldInverse), c.multiplyMatrices(x.projectionMatrix, x.matrixWorldInverse), h.setFromMatrix(c), a.setRenderTarget(E), a.clear(), B = A.__webglObjects, g = 0, v = B.length; v > g; g++)C = B[g], R = C.object, C.render = !1, R.visible && R.castShadow && ((R instanceof THREE.Mesh || R instanceof THREE.ParticleSystem) && R.frustumCulled && !h.intersectsObject(R) || (R._modelViewMatrix.multiplyMatrices(x.matrixWorldInverse, R.matrixWorld), C.render = !0));
            var P, L, z;
            for (g = 0, v = B.length; v > g; g++)C = B[g], C.render && (R = C.object, w = C.buffer, P = r(R), L = void 0 !== R.geometry.morphTargets && R.geometry.morphTargets.length > 0 && P.morphTargets, z = R instanceof THREE.SkinnedMesh && P.skinning, T = R.customDepthMaterial ? R.customDepthMaterial : z ? L ? u : l : L ? s : o, w instanceof THREE.BufferGeometry ? a.renderBufferDirect(x, A.__lights, S, T, w, R) : a.renderBuffer(x, A.__lights, S, T, w, R));
            for (B = A.__webglObjectsImmediate, g = 0, v = B.length; v > g; g++)C = B[g], R = C.object, R.visible && R.castShadow && (R._modelViewMatrix.multiplyMatrices(x.matrixWorldInverse, R.matrixWorld), a.renderImmediateObject(x, A.__lights, S, o, R))
        }
        var I = a.getClearColor(), G = a.getClearAlpha();
        i.clearColor(I.r, I.g, I.b, G), i.enable(i.BLEND), a.shadowMapCullFace === THREE.CullFaceFront && i.cullFace(i.BACK)
    }
},THREE.ShadowMapPlugin.__projector = new THREE.Projector,THREE.SpritePlugin = function () {
    function e() {
        var e = n.createProgram(), t = n.createShader(n.VERTEX_SHADER), i = n.createShader(n.FRAGMENT_SHADER);
        return n.shaderSource(t, ["precision " + r.getPrecision() + " float;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform float rotation;", "uniform vec2 scale;", "uniform vec2 uvOffset;", "uniform vec2 uvScale;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uvOffset + uv * uvScale;", "vec2 alignedPosition = position * scale;", "vec2 rotatedPosition;", "rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;", "rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;", "vec4 finalPosition;", "finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );", "finalPosition.xy += rotatedPosition;", "finalPosition = projectionMatrix * finalPosition;", "gl_Position = finalPosition;", "}"].join("\n")), n.shaderSource(i, ["precision " + r.getPrecision() + " float;", "uniform vec3 color;", "uniform sampler2D map;", "uniform float opacity;", "uniform int fogType;", "uniform vec3 fogColor;", "uniform float fogDensity;", "uniform float fogNear;", "uniform float fogFar;", "uniform float alphaTest;", "varying vec2 vUV;", "void main() {", "vec4 texture = texture2D( map, vUV );", "if ( texture.a < alphaTest ) discard;", "gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );", "if ( fogType > 0 ) {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float fogFactor = 0.0;", "if ( fogType == 1 ) {", "fogFactor = smoothstep( fogNear, fogFar, depth );", "} else {", "const float LOG2 = 1.442695;", "float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "}", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "}", "}"].join("\n")), n.compileShader(t), n.compileShader(i), n.attachShader(e, t), n.attachShader(e, i), n.linkProgram(e), e
    }

    function t(e, t) {
        return e.z !== t.z ? t.z - e.z : t.id - e.id
    }

    var n, r, i, a, o, s, l, u, h, c;
    this.init = function (t) {
        n = t.context, r = t, a = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1]), o = new Uint16Array([0, 1, 2, 0, 2, 3]), s = n.createBuffer(), l = n.createBuffer(), n.bindBuffer(n.ARRAY_BUFFER, s), n.bufferData(n.ARRAY_BUFFER, a, n.STATIC_DRAW), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, l), n.bufferData(n.ELEMENT_ARRAY_BUFFER, o, n.STATIC_DRAW), u = e(), h = {
            position: n.getAttribLocation(u, "position"),
            uv: n.getAttribLocation(u, "uv")
        }, c = {
            uvOffset: n.getUniformLocation(u, "uvOffset"),
            uvScale: n.getUniformLocation(u, "uvScale"),
            rotation: n.getUniformLocation(u, "rotation"),
            scale: n.getUniformLocation(u, "scale"),
            color: n.getUniformLocation(u, "color"),
            map: n.getUniformLocation(u, "map"),
            opacity: n.getUniformLocation(u, "opacity"),
            modelViewMatrix: n.getUniformLocation(u, "modelViewMatrix"),
            projectionMatrix: n.getUniformLocation(u, "projectionMatrix"),
            fogType: n.getUniformLocation(u, "fogType"),
            fogDensity: n.getUniformLocation(u, "fogDensity"),
            fogNear: n.getUniformLocation(u, "fogNear"),
            fogFar: n.getUniformLocation(u, "fogFar"),
            fogColor: n.getUniformLocation(u, "fogColor"),
            alphaTest: n.getUniformLocation(u, "alphaTest")
        };
        var A = document.createElement("canvas");
        A.width = 8, A.height = 8;
        var f = A.getContext("2d");
        f.fillStyle = "#ffffff", f.fillRect(0, 0, A.width, A.height), i = new THREE.Texture(A), i.needsUpdate = !0
    }, this.render = function (e, a) {
        var o = e.__webglSprites, A = o.length;
        if (A) {
            n.useProgram(u), n.enableVertexAttribArray(h.position), n.enableVertexAttribArray(h.uv), n.disable(n.CULL_FACE), n.enable(n.BLEND), n.bindBuffer(n.ARRAY_BUFFER, s), n.vertexAttribPointer(h.position, 2, n.FLOAT, !1, 16, 0), n.vertexAttribPointer(h.uv, 2, n.FLOAT, !1, 16, 8), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, l), n.uniformMatrix4fv(c.projectionMatrix, !1, a.projectionMatrix.elements), n.activeTexture(n.TEXTURE0), n.uniform1i(c.map, 0);
            var f = 0, d = 0, p = e.fog;
            p ? (n.uniform3f(c.fogColor, p.color.r, p.color.g, p.color.b), p instanceof THREE.Fog ? (n.uniform1f(c.fogNear, p.near), n.uniform1f(c.fogFar, p.far), n.uniform1i(c.fogType, 1), f = 1, d = 1) : p instanceof THREE.FogExp2 && (n.uniform1f(c.fogDensity, p.density), n.uniform1i(c.fogType, 2), f = 2, d = 2)) : (n.uniform1i(c.fogType, 0), f = 0, d = 0);
            var m, g, v, y, E = [];
            for (m = 0; A > m; m++)g = o[m], v = g.material, g.visible !== !1 && (g._modelViewMatrix.multiplyMatrices(a.matrixWorldInverse, g.matrixWorld), g.z = -g._modelViewMatrix.elements[14]);
            for (o.sort(t), m = 0; A > m; m++)g = o[m], g.visible !== !1 && (v = g.material, n.uniform1f(c.alphaTest, v.alphaTest), n.uniformMatrix4fv(c.modelViewMatrix, !1, g._modelViewMatrix.elements), E[0] = g.scale.x, E[1] = g.scale.y, y = e.fog && v.fog ? d : 0, f !== y && (n.uniform1i(c.fogType, y), f = y), null !== v.map ? (n.uniform2f(c.uvOffset, v.map.offset.x, v.map.offset.y), n.uniform2f(c.uvScale, v.map.repeat.x, v.map.repeat.y)) : (n.uniform2f(c.uvOffset, 0, 0), n.uniform2f(c.uvScale, 1, 1)), n.uniform1f(c.opacity, v.opacity), n.uniform3f(c.color, v.color.r, v.color.g, v.color.b), n.uniform1f(c.rotation, v.rotation), n.uniform2fv(c.scale, E), r.setBlending(v.blending, v.blendEquation, v.blendSrc, v.blendDst), r.setDepthTest(v.depthTest), r.setDepthWrite(v.depthWrite), v.map && v.map.image && v.map.image.width ? r.setTexture(v.map, 0) : r.setTexture(i, 0), n.drawElements(n.TRIANGLES, 6, n.UNSIGNED_SHORT, 0));
            n.enable(n.CULL_FACE)
        }
    }
},THREE.DepthPassPlugin = function () {
    function e(e) {
        return e.material instanceof THREE.MeshFaceMaterial ? e.material.materials[0] : e.material
    }

    this.enabled = !1, this.renderTarget = null;
    var t, n, r, i, a, o, s = new THREE.Frustum, l = new THREE.Matrix4;
    this.init = function (e) {
        t = e.context, n = e;
        var s = THREE.ShaderLib.depthRGBA, l = THREE.UniformsUtils.clone(s.uniforms);
        r = new THREE.ShaderMaterial({
            fragmentShader: s.fragmentShader,
            vertexShader: s.vertexShader,
            uniforms: l
        }), i = new THREE.ShaderMaterial({
            fragmentShader: s.fragmentShader,
            vertexShader: s.vertexShader,
            uniforms: l,
            morphTargets: !0
        }), a = new THREE.ShaderMaterial({
            fragmentShader: s.fragmentShader,
            vertexShader: s.vertexShader,
            uniforms: l,
            skinning: !0
        }), o = new THREE.ShaderMaterial({
            fragmentShader: s.fragmentShader,
            vertexShader: s.vertexShader,
            uniforms: l,
            morphTargets: !0,
            skinning: !0
        }), r._shadowPass = !0, i._shadowPass = !0, a._shadowPass = !0, o._shadowPass = !0
    }, this.render = function (e, t) {
        this.enabled && this.update(e, t)
    }, this.update = function (u, h) {
        var c, A, f, d, p, m, g, v = null;
        for (t.clearColor(1, 1, 1, 1), t.disable(t.BLEND), n.setDepthTest(!0), u.autoUpdate === !0 && u.updateMatrixWorld(), h.matrixWorldInverse.getInverse(h.matrixWorld), l.multiplyMatrices(h.projectionMatrix, h.matrixWorldInverse), s.setFromMatrix(l), n.setRenderTarget(this.renderTarget), n.clear(), g = u.__webglObjects, c = 0, A = g.length; A > c; c++)p = g[c], m = p.object, p.render = !1, m.visible && ((m instanceof THREE.Mesh || m instanceof THREE.ParticleSystem) && m.frustumCulled && !s.intersectsObject(m) || (m._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse, m.matrixWorld), p.render = !0));
        var y, E, b;
        for (c = 0, A = g.length; A > c; c++)if (p = g[c], p.render) {
            if (m = p.object, f = p.buffer, m instanceof THREE.ParticleSystem && !m.customDepthMaterial)continue;
            y = e(m), y && n.setMaterialFaces(m.material), E = m.geometry.morphTargets.length > 0 && y.morphTargets, b = m instanceof THREE.SkinnedMesh && y.skinning, d = m.customDepthMaterial ? m.customDepthMaterial : b ? E ? o : a : E ? i : r, f instanceof THREE.BufferGeometry ? n.renderBufferDirect(h, u.__lights, v, d, f, m) : n.renderBuffer(h, u.__lights, v, d, f, m)
        }
        for (g = u.__webglObjectsImmediate, c = 0, A = g.length; A > c; c++)p = g[c], m = p.object, m.visible && (m._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse, m.matrixWorld), n.renderImmediateObject(h, u.__lights, v, r, m));
        var x = n.getClearColor(), w = n.getClearAlpha();
        t.clearColor(x.r, x.g, x.b, w), t.enable(t.BLEND)
    }
},THREE.ShaderFlares = {
    lensFlareVertexTexture: {
        vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
        fragmentShader: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
    },
    lensFlare: {
        vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if( renderType == 2 ) {", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
        fragmentShader: ["precision mediump float;", "uniform lowp int renderType;", "uniform sampler2D map;", "uniform sampler2D occlusionMap;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "void main() {", "if( renderType == 0 ) {", "gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );", "} else if( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;", "visibility = ( 1.0 - visibility / 4.0 );", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * visibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
    }
},function (e, t, n) {
    "use strict";
    var r = t.CV, i = t.CV = {};
    i.noConflict = function () {
        return t.CV = r, i
    }, i.host = function () {
        for (var e = document.getElementsByTagName("script"), t = 0, r = e.length; r > t; t++) {
            var a, o = e[t];
            a = o.getAttribute.length !== n ? o.src : o.getAttribute("src", -1);
            var s = a.substr(a.lastIndexOf("/") + 1), l = s.indexOf("."), u = s.substring(0, l);
            if ("CV" === u || "CVPlatform" === u || "CVPlatformWithDeps" === u) {
                i.base = u;
                var h = a.lastIndexOf("/platform/");
                return a.substring(0, h + 1)
            }
        }
    }(), i.parseSpecification = function (e) {
        for (var t = e.type.split(/[.]/), n = i, r = 0, a = t.length; a > r; r++)n = n[t[r]];
        return delete e.type, new n(e)
    }, i.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }, i.isString = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, i.isFunction = function (e) {
        return !!(e && e.constructor && e.call && e.apply)
    }, i.getArgumentArray = function (e) {
        return 1 === e.length && i.isArray(e[0]) ? e[0] : Array.prototype.slice.call(e, 0)
    }, i.inheritFrom = function (t, n) {
        return n.constructor === e.Function ? (t.prototype = new n, t.prototype.constructor = t, t.prototype.parent = n.prototype, t) : i.isString(n) ? (n in i || i.load(n), i.inheritFrom(t, i[n])) : (t.prototype = n, t.prototype.constructor = t, t.prototype.parent = n, t)
    }, i.hasParent = function (e) {
        return e.prototype && void 0 !== e.prototype.parent
    }, i.getParent = function (e) {
        return i.hasParent(e) ? e.prototype.parent.constructor : null
    }, i.isDescendant = function (e, t) {
        return i.isFunction(e) && i.isFunction(t) ? e.prototype instanceof t : !1
    }, i.XMLHttpFactories = [function () {
        return new XMLHttpRequest
    }, function () {
        return new ActiveXObject("Msxml2.XMLHTTP")
    }, function () {
        return new ActiveXObject("Msxml3.XMLHTTP")
    }, function () {
        return new ActiveXObject("Microsoft.XMLHTTP")
    }], i.createXMLHTTPObject = function () {
        for (var e = 0, t = i.XMLHttpFactories.length; t > e; e++)try {
            return i.XMLHttpFactories[e]()
        } catch (n) {
        }
        return !1
    }, i.getScript = function (e) {
        var t = i.host;
        0 === e.indexOf("CV") && (t = "/platform/");
        var n = "?nocache=" + (new Date).getTime(), r = i.createXMLHTTPObject();
        r.open("GET", t + e + n, !1), r.send("");
        var a = document.createElement("script");
        a.type = "text/javascript", a.text = r.responseText, a.setAttribute("data-cvurl", e), document.getElementsByTagName("head")[0].appendChild(a)
    }, i.defineDependencies = function (e, n) {
        var r, a, o;
        e.dependencies = [];
        var s = i.getParent(e);
        for (s && (e.dependencies = [].concat(s.dependencies)), r = 0, a = n.length; a > r; r++) {
            if (o = n[r], i.isString(o))if ("_" === o)o = {
                name: "Underscore",
                version: "1.7.0",
                url: "lib/underscore.js",
                test: "_",
                html: "<a href='http://underscorejs.org/'>Underscore.js</a>"
            }; else if ("$" === o)o = {
                name: "jQuery",
                version: "1.11.1",
                url: "lib/jquery-1.11.1.min.js",
                urlDocs: "http://jquery.com/",
                test: "$"
            }; else if ("globalize" === o)o = {
                name: "Globalize",
                version: "1.0.0 alpha 11",
                urls: ["lib/cldrjs-0.3.11/dist/cldr.js", "lib/cldrjs-0.3.11/dist/cldr/event.js", "lib/cldrjs-0.3.11/dist/cldr/supplemental.js", "lib/globalize-1.0.0-alpha.11/dist/globalize.js", "lib/globalize-1.0.0-alpha.11/dist/globalize/date.js", "lib/globalize-1.0.0-alpha.11/dist/globalize/message.js", "lib/globalize-1.0.0-alpha.11/dist/globalize/number.js", "lib/globalize-1.0.0-alpha.11/dist/globalize/plural.js"],
                urlDocs: "https://github.com/jquery/globalize",
                test: "Globalize"
            }; else if ("moment" === o)o = {
                name: "moment.js",
                version: "2.8.3",
                url: "lib/moment.js",
                urlDocs: "http://momentjs.com/",
                test: "moment",
                notes: "Parse, validate, manipulate, and display dates in JavaScript"
            }; else if ("FontLoader" === o)o = {
                name: "FontLoader",
                version: "Unknown",
                url: "lib/FontLoader.js",
                urlDocs: "http://smnh.me/web-font-loading-detection-without-timers/",
                test: "FontLoader",
                notes: "Helps us know when fonts have finished loading"
            }; else if ("jsonpath" === o)o = {
                name: "jsonpath",
                version: "0.8.0",
                url: "lib/jsonpath.js",
                urlDocs: "https://code.google.com/p/jsonpath/",
                test: "jsonPath"
            }; else if ("d3" === o)o = {
                name: "D3.js",
                version: "3.4.13",
                urls: ["lib/colorbrewer.js", "lib/d3.min.js"],
                urlDocs: "http://d3js.org/",
                test: "d3"
            }; else if ("d3-cloud" === o)o = {
                name: "d3-cloud",
                url: "lib/d3-cloud/d3.layout.cloud.js",
                urlDocs: "https://github.com/jasondavies/d3-cloud",
                test: function () {
                    return d3 && d3.layout && d3.layout.cloud
                }
            }; else if ("THREE" === o)o = {
                name: "Three.js",
                urls: ["lib/three.js/build/three.js", "lib/three.js/examples/js/controls/OrbitControls.js"],
                urlDocs: "http://threejs.org/",
                test: "THREE"
            }; else if ("TWEEN" === o)o = {
                name: "tween.js",
                url: "lib/tween.min.js",
                urlDocs: "https://github.com/sole/tween.js/",
                test: "TWEEN"
            }; else if ("dat.GUI" === o)o = {
                name: "dat.GUI",
                url: "lib/dat-gui/dat.gui.js",
                urlDocs: "https://code.google.com/p/dat-gui/",
                test: "dat"
            }; else if ("Blob" === o)o = {
                name: "Blob.js",
                url: "lib/Blob.js",
                urlDocs: "https://github.com/eligrey/Blob.js",
                test: "Blob",
                notes: "Blob.js implements the W3C Blob interface in browsers that do not natively support it."
            }; else if ("canvas-toBlob" === o)o = {
                name: "canvas-toBlob.js",
                url: "lib/canvas-toBlob.js",
                urlDocs: "https://github.com/eligrey/canvas-toBlob.js",
                test: function () {
                    return HTMLCanvasElement && HTMLCanvasElement.prototype && HTMLCanvasElement.prototype.toBlob
                },
                notes: "canvas-toBlob.js implements the standard HTML5 canvas.toBlob() and canvas.toBlobHD() methods in browsers that do not natively support it."
            }; else if ("FileSaver" === o)o = {
                name: "FileSaver.js",
                url: "lib/FileSaver.js",
                urlDocs: "https://github.com/eligrey/FileSaver.js",
                test: "saveAs",
                notes: "FileSaver.js implements the HTML5 W3C saveAs() FileSaver interface in browsers that do not natively support it."
            }; else if ("canvg" === o)o = {
                name: "canvg",
                urls: ["lib/canvg-1.3/rgbcolor.js", "lib/canvg-1.3/StackBlur.js", "lib/canvg-1.3/canvg.js"],
                urlDocs: "https://code.google.com/p/canvg/",
                test: "canvg",
                notes: "canvg is a SVG parser and renderer.  It lets us render an SVG element to a Canvas element."
            }; else {
                if (0 !== o.indexOf("CV"))throw new Error("Don't know how to parse dependency: " + o);
                o = {name: o}
            }
            0 === o.name.indexOf("CV") && (o.url = o.name + ".js", o.urlDocs = o.name + ".html", o.version = ""), o.optional = o.optional || !1, void 0 === o.version && (o.version = "Unspecified"), e.dependencies.push(o)
        }
        for (r = 0, a = e.dependencies.length; a > r; r++)if (o = e.dependencies[r], 0 === o.name.indexOf("CV")) {
            var l = o.name.substring(2);
            l in i || i.load(l)
        } else if ("CV" === i.base) {
            var u = !1;
            if (i.isString(o.test) ? u = !(o.test in t) : i.isFunction(o.test) && (u = !o.test.call()), u)for (var h = o.urls || [o.url], c = 0, A = h.length; A > c; c++)i.getScript(h[c])
        }
    }, i.load = function () {
        for (var t = i.getArgumentArray(arguments), n = 0, r = t.length; r > n; n++) {
            var a = t[n];
            0 === a.indexOf("CV") && (a = a.substring(2)), a in i || i.getScript("CV" + a + ".js")
        }
        return {
            then: function (t) {
                t.call(e)
            }
        }
    }
}(this, window),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {}), n = e.CV.Function = {};
    n.getDescendants = function (e) {
        if (void 0 === e)return [];
        var r = [];
        for (var i in t)t.hasOwnProperty(i) && n.isDescendant(t[i], e) && r.push(i);
        return r
    }, n.makeGlobal = function (e, t, n) {
        return "function" != typeof e.prototype[n] ? (e.prototype[n] = function () {
            return Array.prototype.unshift.call(arguments, this), t[n].apply(this, arguments)
        }, !0) : !1
    }, n.global = function () {
        t.Function.makeGlobal(e.Function, t.Function, "inheritFrom")
    }, n.extend = function (e) {
        for (var t, n, r = 1, i = arguments.length; i > r; r++) {
            t = arguments[r];
            for (n in t)hasOwnProperty.call(t, n) && (e[n] = t[n])
        }
        return e
    }, n.defineParams = function (e, r) {
        var i = t.getParent(e), a = i ? i.params : {};
        e.params = n.extend({}, a, r)
    }, n.parseParams = function (e, n, r) {
        e = e || {}, r = r || {};
        var i, a = "error" in r ? r.error : !0, o = {};
        for (var s in e)if (e.hasOwnProperty(s))if (s in n) {
            i = n[s];
            var l = e[s];
            if (i.type && (i.types = [{type: i.type}], delete i.type), i.types) {
                for (var u = !1, h = 0, c = i.types.length; c > h; h++) {
                    var A = i.types[h], f = t["Type" + A.type];
                    if (void 0 === f)throw new Error("Unknown Type: " + A.type);
                    if (f.test(l)) {
                        if (A.test && !A.test(l))throw new Error('Value "' + l + '" is not a valid value for parameter ' + s + " - failed custom test");
                        u = !0;
                        break
                    }
                }
                if (!u)throw new Error('Value "' + l + '" is not a valid value for parameter ' + s + " - no matching type")
            }
            o[s] = l
        } else if (a)throw new Error('Params object contained key "' + s + '" that is not in spec');
        var d;
        for (d in n)if (n.hasOwnProperty(d)) {
            if (i = n[d], !("description" in i))throw new Error("Param " + d + " should have a description so platform users will know what it does");
            if (!(d in e))if ("defaultValue" in i)o[d] = i.defaultValue; else if (i.required === !0 && a)throw new Error('Params object missing required key "' + s + '"')
        }
        for (d in n)n.hasOwnProperty(d) && (i = n[d], d in e || "defaultFunction" in i && (o[d] = i.defaultFunction(o)));
        return o
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {}), n = e.CV.String = {};
    n.isString = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, n.isEmpty = function (e) {
        return !this.isString(e) || 0 === e.length
    }, n.isNotEmpty = function (e) {
        return !this.isEmpty(e)
    }, n.isWhitespaceChar = function (e, t) {
        return t = t || 0, /\s/.test(e.charAt(t))
    }, n.after = function (e, t) {
        var n = e.indexOf(t);
        return -1 === n ? e : e.substring(n + t.length)
    }, n.before = function (e, t) {
        var n = e.indexOf(t);
        return -1 === n ? e : e.substring(0, n)
    }, n.tail = function (e, t) {
        var n = e.lastIndexOf(t);
        return -1 === n ? e : e.substring(n + t.length)
    }, n.tailAny = function (e, t) {
        var n = this.lastIndexOfAny(e, t);
        return -1 === n ? e : e.substring(n + 1)
    }, n.range = function (e, t, n) {
        void 0 === n && (n = e.length), 0 > t && (t = 0);
        var r = e.length;
        return n > r && (n = r), t > n ? "" : e.substring(t, n)
    }, n.splitCount = function (e, t) {
        var n = [];
        if (1 > t)return n;
        var r = e.length;
        if (0 === r)return n;
        for (var i = Math.ceil(r / t), a = 0; i > a; a++)n.push(this.range(e, a * t, (a + 1) * t));
        return n
    }, n.compressWhitespace = function (e) {
        return e.replace(/\s+/g, " ")
    }, n.truncate = function (e, t, n) {
        if (n = n || "...", e.length < t)return e;
        t -= n.length;
        var r = e.lastIndexOf(" ", t);
        -1 !== r && (t = r);
        var i = e.substring(0, t);
        return i + n
    }, n.containsAny = function (e, t) {
        return -1 !== this.indexOfAny(e, t, 0)
    }, n.indexOfCond = function (e, t, n) {
        n = n || 0;
        for (var r = e.length, i = n; r > i; i++)if (t(e.charAt(i)))return i;
        return -1
    }, n.indexOfAny = function (e, t, n) {
        return n = n || 0, this.indexOfCond(e, function (e) {
            return -1 !== t.indexOf(e)
        }, n)
    }, n.indexOfWhitespace = function (e, t) {
        t = t || 0;
        var n = this;
        return this.indexOfCond(e, function (e) {
            return n.isWhitespaceChar(e)
        }, t)
    }, n.indexOfNonWhitespace = function (e, t) {
        t = t || 0;
        var n = this;
        return this.indexOfCond(e, function (e) {
            return !n.isWhitespaceChar(e)
        }, t)
    }, n.indexOfNone = function (e, t, n) {
        return n = n || 0, this.indexOfCond(e, function (e) {
            return -1 === t.indexOf(e)
        }, n)
    }, n.lastIndexOfCond = function (e, t, n) {
        n = n || e.length - 1;
        for (var r = n; r >= 0; r--)if (t(e.charAt(r)))return r;
        return -1
    }, n.lastIndexOfAny = function (e, t, n) {
        return n = n || e.length - 1, this.lastIndexOfCond(e, function (e) {
            return -1 !== t.indexOf(e)
        }, n)
    }, n.lastIndexOfNone = function (e, t, n) {
        return n = n || e.length - 1, this.lastIndexOfCond(e, function (e) {
            return -1 === t.indexOf(e)
        }, n)
    }, n.indexOf = function (e, t, n, r) {
        r = r || 0;
        for (var i = 0, a = e.length, o = n; a > o; o++) {
            var s = e.charAt(o);
            if (s === t) {
                if (i === r)return o;
                i++
            }
        }
        return -1
    }, n.indexOfNocase = function (e, t, n) {
        n = n || 0;
        var r = e.toLowerCase(), i = t.toLowerCase();
        return r.indexOf(i, n)
    }, n.repeat = function (e, t) {
        for (var n = [], r = 0; t > r; ++r)n.push(e);
        return n.join("")
    }, n.count = function (e, t, n) {
        n = n || 0;
        for (var r = 0, i = n - 1; -1 !== (i = e.indexOf(t, i + 1));)r++;
        return r
    }, n.trimLeftCond = function (e, t) {
        var n = this.indexOfCond(e, t);
        return -1 === n ? "" : e.substring(n)
    }, n.trimRightCond = function (e, t) {
        var n = this.lastIndexOfCond(e, t);
        return -1 === n ? "" : e.substring(0, n + 1)
    }, n.trimCond = function (e, t) {
        return this.trimRightCond(this.trimLeftCond(e, t), t)
    }, n.trimLeftChars = function (e, t) {
        return this.trimLeftCond(e, function (e) {
            return -1 === t.indexOf(e)
        })
    }, n.trimRightChars = function (e, t) {
        return this.trimRightCond(e, function (e) {
            return -1 === t.indexOf(e)
        })
    }, n.trimChars = function (e, t) {
        return this.trimCond(e, function (e) {
            return -1 === t.indexOf(e)
        })
    }, n.trimLeft = function (e) {
        return this.trimLeftChars(e, " \r\n	")
    }, n.trimRight = function (e) {
        return this.trimRightChars(e, " \r\n	")
    }, n.trim = function (e) {
        return this.trimChars(e, " \r\n	")
    }, n.chomp = function (e, t) {
        return t = t || "\n", this.isEmpty(e) ? "" : this.endsWith(e, t) ? e.substring(0, e.length - t.length) : e
    }, n.munch = function (e, t) {
        return this.isEmpty(e) ? "" : this.startsWith(e, t) ? e.substring(t.length) : e
    }, n.getLine = function (e, t) {
        var n = 0;
        if (0 !== t) {
            if (n = this.indexOf(e, "\n", 0, t - 1), -1 === n)return "";
            n++
        }
        var r = e.indexOf("\n", n);
        return -1 === r && (r = e.length), e.substring(n, r)
    }, n.wrap = function (e, t) {
        t = t || 80;
        var n = "", r = 0, i = e.length, a = t;
        do {
            var o = this.indexOfWhitespace(e, r);
            -1 === o && (o = i);
            var s = e.substring(r, o), l = s.length;
            l > a ? (n += "\n", a = t - l) : a -= l + 1, n += s, r += l, n += " ", r++
        } while (i > r);
        return n
    }, n.upperCaseFirst = function (e) {
        return e.substring(0, 1).toUpperCase() + e.substring(1)
    }, n.titleCase = function (e) {
        if (e.length < 2)return e.toUpperCase();
        var t = this.indexOfLetter(e);
        return -1 === t ? e : e.substring(0, t) + e.substring(t, t + 1).toUpperCase() + e.substring(t + 1).toLowerCase()
    }, n.getCaseCharacter = function (e) {
        return e === e.toUpperCase() ? "Upper" : "Lower"
    }, n.getCase = function (e) {
        for (var t = this.getCaseCharacter(e.charAt(0)), n = e.length, r = 1; n > r; r++)if (this.getCaseCharacter(e.charAt(r)) !== t)return "Mixed";
        return t
    }, n.applyCase = function (e, t) {
        switch (t) {
            case"Lower":
                return e.toLowerCase();
            case"Mixed":
                return this.upperCaseFirst(e);
            case"Upper":
                return e.toUpperCase()
        }
        throw new Error("Unknown case in applyCase: " + t)
    }, n.copyCase = function (e, t) {
        return this.applyCase(t, this.getCase(e))
    }, n.emphasize = function (e, t, n, r, i) {
        n = n || "<strong>", r = r || "</strong>", i = void 0 === i ? !0 : i;
        for (var a = "", o = t.length, s = 0; ;) {
            var l = i ? this.indexOfNocase(e, t, s) : e.indexOf(t, s);
            if (-1 === l)break;
            a += e.substring(s, l), a += n, a += e.substring(l, l + o), a += r, s = l + o
        }
        return a += e.substring(s)
    }, n.commify = function (e) {
        e += "";
        for (var t = e.split("."), n = t[0], r = t.length > 1 ? "." + t[1] : "", i = /(\d+)(\d{3})/; i.test(n);)n = n.replace(i, "$1,$2");
        return n + r
    }, n.startsWith = function (e, t) {
        return 0 === e.lastIndexOf(t, 0)
    }, n.endsWith = function (e, t) {
        return -1 !== e.indexOf(t, e.length - t.length)
    }, n.hexDecode = function (e) {
        for (var t = "", n = 0; n < e.length; n += 2)t += unescape("%" + e.substr(n, 2));
        return t
    }, n.hexEncode = function (e) {
        for (var t, n = "", r = 0; r < e.length;) {
            for (t = e.charCodeAt(r++).toString(16); t.length < 2;)t = "0" + t;
            n += t
        }
        return n
    }, n.unCamelCase = function (e) {
        if (this.isEmpty(e))return e;
        for (var t = e.charAt(0).toUpperCase(), n = 1, r = e.length; r > n; n++) {
            var i = e.charAt(n);
            i === i.toUpperCase() && (t += " "), t += i
        }
        return t
    }, n.isUppercase = function (e) {
        for (var t = !1, n = e.length, r = 0; n > r; r++) {
            var i = e.charAt(r);
            if (i === i.toLowerCase())return !1;
            t || i !== i.toUpperCase() || (t = !0)
        }
        return t
    }, n.countMatches = function (e, t) {
        var n = 0, r = 0;
        do n = e.indexOf(t, n), -1 !== n && (r++, n++); while (-1 !== n);
        return r
    }, n.global = function () {
        t.Function.makeGlobal(e.Object, t.String, "isString"), t.Function.makeGlobal(e.Number, t.String, "commify"), t.Function.makeGlobal(e.String, t.String, "isEmpty"), t.Function.makeGlobal(e.String, t.String, "isNotEmpty"), t.Function.makeGlobal(e.String, t.String, "startsWith"), t.Function.makeGlobal(e.String, t.String, "endsWith"), t.Function.makeGlobal(e.String, t.String, "hexDecode"), t.Function.makeGlobal(e.String, t.String, "hexEncode"), t.Function.makeGlobal(e.String, t.String, "unCamelCase")
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Globalize = function () {
    }, t.Globalize.loaded = {}, t.defineDependencies(t.Globalize, ["$", "_", "globalize"]), t.Globalize.locales = [{
        value: "ar",
        label: "Arabic"
    }, {value: "ca", label: "Catalan"}, {value: "zh", label: "Chinese"}, {value: "hr", label: "Croatian"}, {
        value: "cs",
        label: "Czech"
    }, {value: "da", label: "Danish"}, {value: "nl", label: "Dutch"}, {value: "en", label: "English"}, {
        value: "en-AU",
        label: "English - Australia"
    }, {value: "en-CA", label: "English - Canada"}, {value: "en-IN", label: "English - India"}, {
        value: "en-GB",
        label: "English - United Kingdom"
    }, {value: "fi", label: "Finnish"}, {value: "fr", label: "French"}, {value: "de", label: "German"}, {
        value: "el",
        label: "Greek"
    }, {value: "he", label: "Hebrew"}, {value: "hi", label: "Hindi"}, {value: "hu", label: "Hungarian"}, {
        value: "it",
        label: "Italian"
    }, {value: "ja", label: "Japanese"}, {value: "ko", label: "Korean"}, {
        value: "nb",
        label: "Norwegian"
    }, {value: "pl", label: "Polish"}, {value: "pt", label: "Portuguese"}, {
        value: "pt-PT",
        label: "Portuguese - Portugal"
    }, {value: "ro", label: "Romanian"}, {value: "ru", label: "Russian"}, {value: "sr", label: "Serbian"}, {
        value: "sk",
        label: "Slovak"
    }, {value: "sl", label: "Slovenian"}, {value: "es", label: "Spanish"}, {
        value: "sv",
        label: "Swedish"
    }, {value: "th", label: "Thai"}, {value: "tr", label: "Turkish"}, {value: "uk", label: "Ukrainian"}, {
        value: "vi",
        label: "Vietnamese"
    }], t.Globalize.getLocale = function (e) {
        return e.charAt(0) === e.charAt(0).toUpperCase() ? _.findWhere(t.Globalize.locales, {label: e}).value : e
    }, t.Globalize.require = function (e, n, r) { }, t.Globalize.get = function (e) {
        if (_.isUndefined(e))e = t.Globalize.lastLocale; else {
            if (e instanceof Globalize)return e;
            e = t.Globalize.getLocale(e)
        }
        return new Globalize(e)
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {}), n = t.English = {};
    n.vowels = "aeiou", n.customPlurals = {
        cherub: "cherubim",
        foot: "feet",
        formula: "formulae",
        genus: "genera",
        goose: "geese",
        louse: "lice",
        man: "men",
        mouse: "mice",
        mythos: "mythoi",
        ox: "oxen",
        phenomenon: "phenomena",
        phylum: "phyla",
        radius: "radii",
        tooth: "teeth",
        calf: "calves",
        elf: "elves",
        half: "halves",
        hoof: "hooves",
        leaf: "leaves",
        loaf: "loaves",
        scarf: "scarves",
        self: "selves",
        sheaf: "sheaves",
        thief: "thieves",
        wolf: "wolves",
        knife: "knives",
        life: "lives",
        wife: "wives",
        auto: "autos",
        kangaroo: "kangaroos",
        kilo: "kilos",
        memo: "memos",
        photo: "photos",
        piano: "pianos",
        pimento: "pimentos",
        pro: "pros",
        solo: "solos",
        soprano: "sopranos",
        studio: "studios",
        tattoo: "tattoos",
        video: "videos",
        zoo: "zoos",
        cod: "cod",
        deer: "deer",
        electronics: "electronics",
        fish: "fish",
        offspring: "offspring",
        moose: "moose",
        perch: "perch",
        sheep: "sheep",
        trout: "trout",
        species: "species"
    }, n.articles = ["a", "an", "the"], n.conjunctions = ["after", "although", "and", "as", "because", "before", "both", "but", "either", "even if", "even though", "for", "if", "in case", "in case that", "in order that", "neither", "nor", "now that", "only if", "or", "since", "so", "though", "unless", "until", "when", "whereas", "whether", "while", "yet"], n.prepositions = ["aboard", "about", "above", "across", "after", "against", "along", "alongside", "amid", "amidst", "among", "amongst", "around", "as", "aside", "astride", "at", "athwart", "atop", "barring", "before", "behind", "below", "beneath", "beside", "besides", "between", "beyond", "by", "circa", "concerning", "despite", "down", "during", "except", "failing", "following", "for", "from", "given", "in", "inside", "into", "like", "minus", "near", "next", "notwithstanding", "of", "off", "on", "onto", "opposite", "out", "outside", "over", "pace", "past", "per", "plus", "regarding", "round", "save", "since", "than", "through", "throughout", "till", "times", "to", "toward", "towards", "under", "underneath", "unlike", "until", "up", "upon", "versus", "via", "with", "within", "without", "worth", "according to", "ahead of", "as regards", "aside from", "because of", "close to", "due to", "except for", "far from", "in to", "inside of", "instead of", "near to", "next to", "on to", "out from", "out of", "outside of", "owing to", "prior to", "pursuant to", "regardless of", "subsequent to", "that of", "as far as", "as well as", "by means of", "in accordance with", "in addition to", "in case of", "in front of", "in lieu of", "in place of", "in spite of", "on account of", "on behalf of", "on top of", "with regard to", "with respect to"], n.toBes = ["am", "are", "be", "been", "being", "is", "was", "were"], n.greats = ["amazing", "astonishing", "astounding", "awesome", "breathtaking", "excellent", "exceptional", "extraordinary", "fabulous", "fantastic", "glorious", "groovy", "incredible", "magnificent", "marvelous", "outstanding", "phenomenal", "remarkable", "sensational", "smashing", "spectacular", "stupendous", "superb", "terrific", "tremendous", "wonderful"], n.numbersTo19 = ["zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen"], n.untilend = function (e, t) {
        return e.substring(0, e.length + t)
    }, n.list = function (e, t, n, r) {
        t = t || "and", n = n || "", r = r || "";
        var i = e.length;
        switch (i) {
            case 0:
                return "";
            case 1:
                return n + e[0] + r;
            case 2:
                return n + e[0] + r + " " + t + " " + n + e[1] + r
        }
        return n + e.slice(0, i - 1).join(r + ", " + n) + r + ", " + t + " " + n + e[i - 1] + r
    }, n.pluralToBePresent = function (e) {
        return 1 === e ? "is" : "are"
    }, n.pluralItems = function (e, n) {
        return t.String.commify(e) + " " + this.plural(n, e)
    }, n.plural = function (e, n) {
        if (n = n || 2, 1 === n)return e;
        var r = e.toLowerCase();
        if (r in this.customPlurals) {
            var i = this.customPlurals[r];
            return t.String.copyCase(e, i)
        }
        return r.match(/.*[ei]x$/) ? this.untilend(e, -2) + "ices" : r.match(/.*[sc]h$/) ? e + "es" : r.match(/.*[soxz]$/) ? e + "es" : r.match(/.*[bcdfghjklmnprstvwxz]y$/) ? this.untilend(e, -1) + "ies" : r.match(/.*child$/) ? e + "ren" : r.match(/.*eau$/) ? e + "x" : r.match(/.*is$/) ? this.untilend(e, -2) + "es" : r.match(/.*woman$/) ? this.untilend(e, -2) + "en" : r.match(/.*person$/) ? this.untilend(e, -4) + "ople" : e + "s"
    }, n.truncate = function (e, n, r) {
        r = r || " ...";
        var i = e.length;
        if (n >= i)return e;
        for (var a = r.length, o = n - a; o >= 0 && !t.String.isWhitespaceChar(e, o);)o--;
        return -1 === o && (o = n - a), t.String.trimRight(t.String.range(e, 0, o)) + r
    }, n.isArticle = function (e) {
        var t = e.toLowerCase();
        return -1 !== this.articles.indexOf(t)
    }, n.isConjunction = function (e) {
        var t = e.toLowerCase();
        return -1 !== this.conjunctions.indexOf(t)
    }, n.isPreposition = function (e) {
        var t = e.toLowerCase();
        return -1 !== this.prepositions.indexOf(t)
    }, n.isToBe = function (e) {
        var t = e.toLowerCase();
        return -1 !== this.toBes.indexOf(t)
    }, n.toTitleCase = function (e, n) {
        void 0 === n && (n = !0);
        var r = e.split(" ", -1), i = r.length;
        if (1 === i)return t.String.titleCase(r[0]);
        var a = r[0], o = [];
        o.add(t.String.titleCase(a));
        for (var s = a.endsWith(":"), l = 1; i - 1 > l; l++)a = r[l], o.add(n && a.length() > 1 && "Upper" === t.String.getCase(a) ? a : s ? t.String.titleCase(a) : this.isArticle(a) || this.isConjunction(a) || this.isPreposition(a) || this.isToBe(a) ? a.toLowerCase() : t.String.titleCase(a)), s = a.endsWith(":");
        return o.add(t.String.titleCase(r[i - 1])), o.join()
    }, n.parseInteger = function (e) {
        var t = e.trim().toLowerCase(), n = this.numbersTo19.indexOf(t);
        return -1 !== n ? n : parseInt(t)
    }, n.ordinalSuffix = function (e) {
        var t = e % 100, n = e % 10;
        if (t - n === 10)return "th";
        switch (n) {
            case 1:
                return "st";
            case 2:
                return "nd";
            case 3:
                return "rd"
        }
        return "th"
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Type = function () {
    }, t.Type.getMatching = function (e) {
        for (var n = [], r = t.Function.getDescendants(this), i = 0, a = r.length; a > i; i++) {
            var o = r[i];
            console.log(o), t[o].test(e) && n.push(o)
        }
        return n
    }, t.TypeBoolean = function () {
    }, t.inheritFrom(t.TypeBoolean, t.Type), t.TypeBoolean.getName = function () {
        return "Boolean"
    }, t.TypeBoolean.test = function (e) {
        return e === !0 || e === !1 || "[object Boolean]" === Object.prototype.toString.call(e)
    }, t.TypeInteger = function () {
    }, t.inheritFrom(t.TypeInteger, t.Type), t.TypeInteger.getName = function () {
        return "Integer"
    }, t.TypeInteger.test = function (e) {
        return !isNaN(e) && parseInt(Number(e)) == e && !isNaN(parseInt(e, 10))
    }, t.TypeInteger.cast = function (e) {
        return t.TypeInteger.test(e) ? parseInt(Number(e)) : void 0
    }, t.TypeNumber = function () {
    }, t.inheritFrom(t.TypeNumber, t.Type), t.TypeNumber.getName = function () {
        return "Number"
    }, t.TypeNumber.test = function (e) {
        return "[object Number]" === Object.prototype.toString.call(e)
    }, t.TypeNumber.cast = function (e) {
        return t.TypeNumber.test(e) ? e : parseFloat(e)
    }, t.TypeString = function () {
    }, t.inheritFrom(t.TypeString, t.Type), t.TypeString.getName = function () {
        return "String"
    }, t.TypeString.test = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, t.TypeString.cast = function (e) {
        return e.toString()
    }, t.TypeEmail = function () {
    }, t.inheritFrom(t.TypeEmail, t.Type), t.TypeEmail.getName = function () {
        return "Email Address"
    }, t.TypeEmail.test = function (e) {
        return t.TypeString.test(e) && /^[A-Za-z0-9._%+-]+@([A-Za-z0-9-]+\.)+([A-Za-z0-9]{2,4}|museum)$/.test(e)
    }, t.TypeEmailIBM = function () {
    }, t.inheritFrom(t.TypeEmailIBM, t.Type), t.TypeEmailIBM.getName = function () {
        return "IBM Email Address"
    }, t.TypeEmailIBM.test = function (e) {
        return t.TypeEmail.test(e) && t.String.endsWith(e, ".ibm.com")
    }, t.TypeFunction = function () {
    }, t.inheritFrom(t.TypeFunction, t.Type), t.TypeFunction.getName = function () {
        return "Function"
    }, t.TypeFunction.test = function (e) {
        return "[object Function]" === Object.prototype.toString.call(e)
    }, t.TypeObject = function () {
    }, t.inheritFrom(t.TypeObject, t.Type), t.TypeObject.getName = function () {
        return "Object"
    }, t.TypeObject.test = function (e) {
        return "[object Object]" === Object.prototype.toString.call(e)
    }, t.TypeCategorical = function () {
    }, t.inheritFrom(t.TypeCategorical, t.Type), t.TypeCategorical.getName = function () {
        return "Categorical"
    }, t.TypeCategorical.test = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, t.TypeColor = function () {
    }, t.inheritFrom(t.TypeColor, t.Type), t.TypeColor.getName = function () {
        return "Color"
    }, t.TypeColor.test = function (e) {
        return "[object String]" === Object.prototype.toString.call(e) || "[object Number]" === Object.prototype.toString.call(e)
    }, t.TypeFont = function () {
    }, t.inheritFrom(t.TypeFont, "Type"), t.TypeFont.getName = function () {
        return "Font"
    }, t.TypeFont.test = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, t.TypeArray = function () {
    }, t.inheritFrom(t.TypeArray, t.Type), t.TypeArray.getName = function () {
        return "Array"
    }, t.TypeArray.test = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }, t.TypeStringArray = function () {
    }, t.inheritFrom(t.TypeStringArray, t.TypeArray), t.TypeStringArray.getName = function () {
        return "Array of Strings"
    }, t.TypeStringArray.test = function (e) {
        if ("[object Array]" !== Object.prototype.toString.call(e))return !1;
        for (var t = 0, n = e.length; n > t; t++)if ("[object String]" !== Object.prototype.toString.call(e[t]))return !1;
        return !0
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Color = function (e) {
        if (this.r = 0, this.g = 0, this.b = 0, this.a = 1, 4 === arguments.length)this.r = arguments[0], this.g = arguments[1], this.b = arguments[2], this.a = arguments[3]; else if (3 === arguments.length)this.r = arguments[0], this.g = arguments[1], this.b = arguments[2]; else if (e) {
            var n = Object.prototype.toString.call(e);
            if ("[object String]" === n) {
                if (e = t.Color.normalizeName(e), 0 === e.lastIndexOf("0x", 0))return new t.Color(parseInt(e));
                if (0 === e.indexOf("#")) {
                    var r, i, a;
                    return 4 === e.length ? (r = e.charAt(1), i = e.charAt(2), a = e.charAt(3), new t.Color(parseInt("0x" + r + r), parseInt("0x" + i + i), parseInt("0x" + a + a))) : (r = e.substr(1, 2), i = e.substr(3, 2), a = e.substr(5, 2), new t.Color(parseInt("0x" + r), parseInt("0x" + i), parseInt("0x" + a)))
                }
                var o, s = /rgba\((\d+),(\d+),(\d+),([.\d]+)\)/i;
                if (o = s.exec(e))return new t.Color(parseInt(o[1]), parseInt(o[2]), parseInt(o[3]), parseFloat(o[4]));
                var l = /rgb\((\d+),(\d+),(\d+)\)/i;
                if (o = l.exec(e))return new t.Color(parseInt(o[1]), parseInt(o[2]), parseInt(o[3]));
                t.Color.initializeNames();
                var u = t.Color.namedIndex[e];
                if (u)return u.color
            } else"[object Number]" === n ? (this.r = (16711680 & e) >> 16, this.g = (65280 & e) >> 8, this.b = 255 & e) : "[object Array]" === n ? (e.length >= 3 && (this.r = e[0], this.g = e[1], this.b = e[2]), e.length >= 4 && (this.a = e[3])) : ("r" in e && (this.r = e.r), "g" in e && (this.g = e.g), "b" in e && (this.b = e.b), "a" in e && (this.a = e.a))
        }
    }, t.defineDependencies(t.Color, ["d3"]), t.Color.permutate = function (e, t) {
        for (var n = [], r = 0, i = t.length; i > r; r++)n.push(e[t[r]]);
        return n
    }, t.Color.named = [{hex: "#B0BF1A", name: "Acid green"}, {hex: "#7CB9E8", name: "Aero"}, {
        hex: "#C9FFE5",
        name: "Aero blue"
    }, {hex: "#B284BE", name: "African violet"}, {hex: "#5D8AA8", name: "Air Force blue (RAF)"}, {
        hex: "#00308F",
        name: "Air Force blue (USAF)"
    }, {hex: "#72A0C1", name: "Air superiority blue"}, {hex: "#AF002A", name: "Alabama crimson"}, {
        hex: "#F0F8FF",
        name: "Alice blue"
    }, {hex: "#E32636", name: "Alizarin crimson"}, {hex: "#C46210", name: "Alloy orange"}, {
        hex: "#EFDECD",
        name: "Almond"
    }, {hex: "#E52B50", name: "Amaranth"}, {hex: "#AB274F", name: "Amaranth deep purple"}, {
        hex: "#F19CBB",
        name: "Amaranth pink"
    }, {hex: "#AB274F", name: "Amaranth purple"}, {hex: "#D3212D", name: "Amaranth red"}, {
        hex: "#3B7A57",
        name: "Amazon"
    }, {hex: "#FFBF00", name: "Amber"}, {hex: "#FF7E00", name: "Amber (SAE/ECE)"}, {
        hex: "#FF033E",
        name: "American rose"
    }, {hex: "#9966CC", name: "Amethyst"}, {hex: "#A4C639", name: "Android green"}, {
        hex: "#F2F3F4",
        name: "Anti-flash white"
    }, {hex: "#CD9575", name: "Antique brass"}, {hex: "#665D1E", name: "Antique bronze"}, {
        hex: "#915C83",
        name: "Antique fuchsia"
    }, {hex: "#841B2D", name: "Antique ruby"}, {hex: "#FAEBD7", name: "Antique white"}, {
        hex: "#008000",
        name: "Ao (English)"
    }, {hex: "#8DB600", name: "Apple green"}, {hex: "#FBCEB1", name: "Apricot"}, {
        hex: "#00FFFF",
        name: "Aqua"
    }, {hex: "#7FFFD4", name: "Aquamarine"}, {hex: "#4B5320", name: "Army green"}, {
        hex: "#3B444B",
        name: "Arsenic"
    }, {hex: "#8F9779", name: "Artichoke"}, {hex: "#E9D66B", name: "Arylide yellow"}, {
        hex: "#B2BEB5",
        name: "Ash grey"
    }, {hex: "#87A96B", name: "Asparagus"}, {hex: "#FF9966", name: "Atomic tangerine"}, {
        hex: "#A52A2A",
        name: "Auburn"
    }, {hex: "#FDEE00", name: "Aureolin"}, {hex: "#6E7F80", name: "AuroMetalSaurus"}, {
        hex: "#568203",
        name: "Avocado"
    }, {hex: "#007FFF", name: "Azure"}, {hex: "#F0FFFF", name: "Azure (web color)"}, {
        hex: "#F0FFFF",
        name: "Azure mist"
    }, {hex: "#DBE9F4", name: "Azureish white"}, {hex: "#89CFF0", name: "Baby blue"}, {
        hex: "#A1CAF1",
        name: "Baby blue eyes"
    }, {hex: "#F4C2C2", name: "Baby pink"}, {hex: "#FEFEFA", name: "Baby powder"}, {
        hex: "#FF91AF",
        name: "Baker-Miller pink"
    }, {hex: "#21ABCD", name: "Ball blue"}, {hex: "#FAE7B5", name: "Banana Mania"}, {
        hex: "#FFE135",
        name: "Banana yellow"
    }, {hex: "#006A4E", name: "Bangladesh green"}, {hex: "#E0218A", name: "Barbie pink"}, {
        hex: "#7C0A02",
        name: "Barn red"
    }, {hex: "#848482", name: "Battleship grey"}, {hex: "#98777B", name: "Bazaar"}, {
        hex: "#BCD4E6",
        name: "Beau blue"
    }, {hex: "#9F8170", name: "Beaver"}, {hex: "#F5F5DC", name: "Beige"}, {
        hex: "#2E5894",
        name: "B'dazzled blue"
    }, {hex: "#9C2542", name: "Big dip o'ruby"}, {hex: "#FFE4C4", name: "Bisque"}, {
        hex: "#3D2B1F",
        name: "Bistre"
    }, {hex: "#967117", name: "Bistre brown"}, {hex: "#CAE00D", name: "Bitter lemon"}, {
        hex: "#BFFF00",
        name: "Bitter lime"
    }, {hex: "#FE6F5E", name: "Bittersweet"}, {hex: "#BF4F51", name: "Bittersweet shimmer"}, {
        hex: "#000000",
        name: "Black"
    }, {hex: "#3D0C02", name: "Black bean"}, {hex: "#253529", name: "Black leather jacket"}, {
        hex: "#3B3C36",
        name: "Black olive"
    }, {hex: "#FFEBCD", name: "Blanched almond"}, {hex: "#A57164", name: "Blast-off bronze"}, {
        hex: "#318CE7",
        name: "Bleu de France"
    }, {hex: "#ACE5EE", name: "Blizzard Blue"}, {hex: "#FAF0BE", name: "Blond"}, {
        hex: "#0000FF",
        name: "Blue"
    }, {hex: "#1F75FE", name: "Blue (Crayola)"}, {hex: "#0093AF", name: "Blue (Munsell)"}, {
        hex: "#0087BD",
        name: "Blue (NCS)"
    }, {hex: "#0018A8", name: "Blue (Pantone)"}, {hex: "#333399", name: "Blue (pigment)"}, {
        hex: "#0247FE",
        name: "Blue (RYB)"
    }, {hex: "#A2A2D0", name: "Blue Bell"}, {hex: "#6699CC", name: "Blue-gray"}, {
        hex: "#0D98BA",
        name: "Blue-green"
    }, {hex: "#5E93A1", name: "Blue Lagoon"}, {hex: "#553592", name: "Blue-magenta violet"}, {
        hex: "#126180",
        name: "Blue sapphire"
    }, {hex: "#8A2BE2", name: "Blue-violet"}, {hex: "#5072A7", name: "Blue yonder"}, {
        hex: "#4F86F7",
        name: "Blueberry"
    }, {hex: "#1C1CF0", name: "Bluebonnet"}, {hex: "#DE5D83", name: "Blush"}, {
        hex: "#79443B",
        name: "Bole"
    }, {hex: "#0095B6", name: "Bondi blue"}, {hex: "#E3DAC9", name: "Bone"}, {
        hex: "#CC0000",
        name: "Boston University Red"
    }, {hex: "#006A4E", name: "Bottle green"}, {hex: "#873260", name: "Boysenberry"}, {
        hex: "#0070FF",
        name: "Brandeis blue"
    }, {hex: "#B5A642", name: "Brass"}, {hex: "#CB4154", name: "Brick red"}, {
        hex: "#1DACD6",
        name: "Bright cerulean"
    }, {hex: "#66FF00", name: "Bright green"}, {hex: "#BF94E4", name: "Bright lavender"}, {
        hex: "#D891EF",
        name: "Bright lilac"
    }, {hex: "#C32148", name: "Bright maroon"}, {hex: "#1974D2", name: "Bright navy blue"}, {
        hex: "#FF007F",
        name: "Bright pink"
    }, {hex: "#08E8DE", name: "Bright turquoise"}, {hex: "#D19FE8", name: "Bright ube"}, {
        hex: "#3399FF",
        name: "Brilliant azure"
    }, {hex: "#F4BBFF", name: "Brilliant lavender"}, {hex: "#FF55A3", name: "Brilliant rose"}, {
        hex: "#FB607F",
        name: "Brink pink"
    }, {hex: "#004225", name: "British racing green"}, {hex: "#CD7F32", name: "Bronze"}, {
        hex: "#737000",
        name: "Bronze Yellow"
    }, {hex: "#964B00", name: "Brown (traditional)"}, {hex: "#A52A2A", name: "Brown (web)"}, {
        hex: "#6B4423",
        name: "Brown-nose"
    }, {hex: "#cc9966", name: "Brown Yellow"}, {hex: "#1B4D3E", name: "Brunswick green"}, {
        hex: "#FFC1CC",
        name: "Bubble gum"
    }, {hex: "#E7FEFF", name: "Bubbles"}, {hex: "#F0DC82", name: "Buff"}, {
        hex: "#7BB661",
        name: "Bud green"
    }, {hex: "#480607", name: "Bulgarian rose"}, {hex: "#800020", name: "Burgundy"}, {
        hex: "#DEB887",
        name: "Burlywood"
    }, {hex: "#CC5500", name: "Burnt orange"}, {hex: "#E97451", name: "Burnt sienna"}, {
        hex: "#8A3324",
        name: "Burnt umber"
    }, {hex: "#BD33A4", name: "Byzantine"}, {hex: "#702963", name: "Byzantium"}, {
        hex: "#536872",
        name: "Cadet"
    }, {hex: "#5F9EA0", name: "Cadet blue"}, {hex: "#91A3B0", name: "Cadet grey"}, {
        hex: "#006B3C",
        name: "Cadmium green"
    }, {hex: "#ED872D", name: "Cadmium orange"}, {hex: "#E30022", name: "Cadmium red"}, {
        hex: "#FFF600",
        name: "Cadmium yellow"
    }, {hex: "#A67B5B", name: "Caf au lait"}, {hex: "#4B3621", name: "Caf noir"}, {
        hex: "#1E4D2B",
        name: "Cal Poly green"
    }, {hex: "#A3C1AD", name: "Cambridge Blue"}, {hex: "#C19A6B", name: "Camel"}, {
        hex: "#EFBBCC",
        name: "Cameo pink"
    }, {hex: "#78866B", name: "Camouflage green"}, {hex: "#FFEF00", name: "Canary yellow"}, {
        hex: "#FF0800",
        name: "Candy apple red"
    }, {hex: "#E4717A", name: "Candy pink"}, {hex: "#00BFFF", name: "Capri"}, {
        hex: "#592720",
        name: "Caput mortuum"
    }, {hex: "#C41E3A", name: "Cardinal"}, {hex: "#00CC99", name: "Caribbean green"}, {
        hex: "#960018",
        name: "Carmine"
    }, {hex: "#D70040", name: "Carmine (M&P)"}, {hex: "#EB4C42", name: "Carmine pink"}, {
        hex: "#FF0038",
        name: "Carmine red"
    }, {hex: "#FFA6C9", name: "Carnation pink"}, {hex: "#B31B1B", name: "Carnelian"}, {
        hex: "#56A0D3",
        name: "Carolina blue"
    }, {hex: "#ED9121", name: "Carrot orange"}, {hex: "#00563F", name: "Castleton green"}, {
        hex: "#062A78",
        name: "Catalina blue"
    }, {hex: "#703642", name: "Catawba"}, {hex: "#C95A49", name: "Cedar Chest"}, {
        hex: "#92A1CF",
        name: "Ceil"
    }, {hex: "#ACE1AF", name: "Celadon"}, {hex: "#007BA7", name: "Celadon blue"}, {
        hex: "#2F847C",
        name: "Celadon green"
    }, {hex: "#B2FFFF", name: "Celeste"}, {hex: "#4997D0", name: "Celestial blue"}, {
        hex: "#DE3163",
        name: "Cerise"
    }, {hex: "#EC3B83", name: "Cerise pink"}, {hex: "#007BA7", name: "Cerulean"}, {
        hex: "#2A52BE",
        name: "Cerulean blue"
    }, {hex: "#6D9BC3", name: "Cerulean frost"}, {hex: "#007AA5", name: "CG Blue"}, {
        hex: "#E03C31",
        name: "CG Red"
    }, {hex: "#A0785A", name: "Chamoisee"}, {hex: "#F7E7CE", name: "Champagne"}, {
        hex: "#36454F",
        name: "Charcoal"
    }, {hex: "#232B2B", name: "Charleston green"}, {hex: "#E68FAC", name: "Charm pink"}, {
        hex: "#DFFF00",
        name: "Chartreuse (traditional)"
    }, {hex: "#7FFF00", name: "Chartreuse (web)"}, {hex: "#DE3163", name: "Cherry"}, {
        hex: "#FFB7C5",
        name: "Cherry blossom pink"
    }, {hex: "#954535", name: "Chestnut"}, {hex: "#DE6FA1", name: "China pink"}, {
        hex: "#A8516E",
        name: "China rose"
    }, {hex: "#AA381E", name: "Chinese red"}, {hex: "#856088", name: "Chinese violet"}, {
        hex: "#7B3F00",
        name: "Chocolate (traditional)"
    }, {hex: "#D2691E", name: "Chocolate (web)"}, {hex: "#FFA700", name: "Chrome yellow"}, {
        hex: "#98817B",
        name: "Cinereous"
    }, {hex: "#E34234", name: "Cinnabar"}, {hex: "#D2691E", name: "Cinnamon[citation needed]"}, {
        hex: "#E4D00A",
        name: "Citrine"
    }, {hex: "#9FA91F", name: "Citron"}, {hex: "#7F1734", name: "Claret"}, {
        hex: "#FBCCE7",
        name: "Classic rose"
    }, {hex: "#0047AB", name: "Cobalt Blue"}, {hex: "#D2691E", name: "Cocoa brown"}, {
        hex: "#965A3E",
        name: "Coconut"
    }, {hex: "#6F4E37", name: "Coffee"}, {hex: "#C4D8E2", name: "Columbia Blue"}, {
        hex: "#F88379",
        name: "Congo pink"
    }, {hex: "#002E63", name: "Cool Black"}, {hex: "#8C92AC", name: "Cool grey"}, {
        hex: "#B87333",
        name: "Copper"
    }, {hex: "#DA8A67", name: "Copper (Crayola)"}, {hex: "#AD6F69", name: "Copper penny"}, {
        hex: "#CB6D51",
        name: "Copper red"
    }, {hex: "#996666", name: "Copper rose"}, {hex: "#FF3800", name: "Coquelicot"}, {
        hex: "#FF7F50",
        name: "Coral"
    }, {hex: "#F88379", name: "Coral pink"}, {hex: "#FF4040", name: "Coral red"}, {
        hex: "#893F45",
        name: "Cordovan"
    }, {hex: "#FBEC5D", name: "Corn"}, {hex: "#B31B1B", name: "Cornell Red"}, {
        hex: "#6495ED",
        name: "Cornflower blue"
    }, {hex: "#FFF8DC", name: "Cornsilk"}, {hex: "#FFF8E7", name: "Cosmic latte"}, {
        hex: "#81613e",
        name: "Coyote brown"
    }, {hex: "#FFBCD9", name: "Cotton candy"}, {hex: "#FFFDD0", name: "Cream"}, {
        hex: "#DC143C",
        name: "Crimson"
    }, {hex: "#BE0032", name: "Crimson glory"}, {hex: "#990000", name: "Crimson red"}, {
        hex: "#00FFFF",
        name: "Cyan"
    }, {hex: "#4E82b4", name: "Cyan azure"}, {hex: "#4682BF", name: "Cyan-blue azure"}, {
        hex: "#28589C",
        name: "Cyan cobalt blue"
    }, {hex: "#188BC2", name: "Cyan cornflower blue"}, {hex: "#00B7EB", name: "Cyan (process)"}, {
        hex: "#58427C",
        name: "Cyber grape"
    }, {hex: "#FFD300", name: "Cyber yellow"}, {hex: "#FFFF31", name: "Daffodil"}, {
        hex: "#F0E130",
        name: "Dandelion"
    }, {hex: "#00008B", name: "Dark blue"}, {hex: "#666699", name: "Dark blue-gray"}, {
        hex: "#654321",
        name: "Dark brown"
    }, {hex: "#88654E", name: "Dark brown-tangelo"}, {hex: "#5D3954", name: "Dark byzantium"}, {
        hex: "#A40000",
        name: "Dark candy apple red"
    }, {hex: "#08457E", name: "Dark cerulean"}, {hex: "#986960", name: "Dark chestnut"}, {
        hex: "#CD5B45",
        name: "Dark coral"
    }, {hex: "#008B8B", name: "Dark cyan"}, {hex: "#536878", name: "Dark electric blue"}, {
        hex: "#B8860B",
        name: "Dark goldenrod"
    }, {hex: "#A9A9A9", name: "Dark gray (X11)"}, {hex: "#013220", name: "Dark green"}, {
        hex: "#006400",
        name: "Dark green (X11)"
    }, {hex: "#00416A", name: "Dark imperial blue"}, {hex: "#6E6EF9", name: "Dark imperial blue"}, {
        hex: "#1A2421",
        name: "Dark jungle green"
    }, {hex: "#BDB76B", name: "Dark khaki"}, {hex: "#483C32", name: "Dark lava"}, {
        hex: "#734F96",
        name: "Dark lavender"
    }, {hex: "#534B4F", name: "Dark liver"}, {hex: "#543D37", name: "Dark liver (horses)"}, {
        hex: "#8B008B",
        name: "Dark magenta"
    }, {hex: "#A9A9A9", name: "Dark medium gray"}, {hex: "#003366", name: "Dark midnight blue"}, {
        hex: "#4A5D23",
        name: "Dark moss green"
    }, {hex: "#556B2F", name: "Dark olive green"}, {hex: "#FF8C00", name: "Dark orange"}, {
        hex: "#9932CC",
        name: "Dark orchid"
    }, {hex: "#779ECB", name: "Dark pastel blue"}, {hex: "#03C03C", name: "Dark pastel green"}, {
        hex: "#966FD6",
        name: "Dark pastel purple"
    }, {hex: "#C23B22", name: "Dark pastel red"}, {hex: "#E75480", name: "Dark pink"}, {
        hex: "#003399",
        name: "Dark powder blue"
    }, {hex: "#4F3A3C", name: "Dark puce"}, {hex: "#301934", name: "Dark purple"}, {
        hex: "#872657",
        name: "Dark raspberry"
    }, {hex: "#8B0000", name: "Dark red"}, {hex: "#E9967A", name: "Dark salmon"}, {
        hex: "#560319",
        name: "Dark scarlet"
    }, {hex: "#8FBC8F", name: "Dark sea green"}, {hex: "#3C1414", name: "Dark sienna"}, {
        hex: "#8CBED6",
        name: "Dark sky blue"
    }, {hex: "#483D8B", name: "Dark slate blue"}, {hex: "#2F4F4F", name: "Dark slate gray"}, {
        hex: "#177245",
        name: "Dark spring green"
    }, {hex: "#918151", name: "Dark tan"}, {hex: "#FFA812", name: "Dark tangerine"}, {
        hex: "#483C32",
        name: "Dark taupe"
    }, {hex: "#CC4E5C", name: "Dark terra cotta"}, {hex: "#00CED1", name: "Dark turquoise"}, {
        hex: "#D1BEA8",
        name: "Dark vanilla"
    }, {hex: "#9400D3", name: "Dark violet"}, {hex: "#9B870C", name: "Dark yellow"}, {
        hex: "#00703C",
        name: "Dartmouth green"
    }, {hex: "#555555", name: "Davy's grey"}, {hex: "#D70A53", name: "Debian red"}, {
        hex: "#40826D",
        name: "Deep aquamarine"
    }, {hex: "#A9203E", name: "Deep carmine"}, {hex: "#EF3038", name: "Deep carmine pink"}, {
        hex: "#E9692C",
        name: "Deep carrot orange"
    }, {hex: "#DA3287", name: "Deep cerise"}, {hex: "#FAD6A5", name: "Deep champagne"}, {
        hex: "#B94E48",
        name: "Deep chestnut"
    }, {hex: "#704241", name: "Deep coffee"}, {hex: "#C154C1", name: "Deep fuchsia"}, {
        hex: "#056608",
        name: "Deep Green"
    }, {hex: "#0E7C61", name: "Deep green-cyan turquoise"}, {
        hex: "#004B49",
        name: "Deep jungle green"
    }, {hex: "#333366", name: "Deep koamaru"}, {hex: "#F5C71A", name: "Deep lemon"}, {
        hex: "#9955BB",
        name: "Deep lilac"
    }, {hex: "#CC00CC", name: "Deep magenta"}, {hex: "#820000", name: "Deep maroon"}, {
        hex: "#D473D4",
        name: "Deep mauve"
    }, {hex: "#355E3B", name: "Deep moss green"}, {hex: "#FFCBA4", name: "Deep peach"}, {
        hex: "#FF1493",
        name: "Deep pink"
    }, {hex: "#A95C68", name: "Deep puce"}, {hex: "#850101", name: "Deep Red"}, {
        hex: "#843F5B",
        name: "Deep ruby"
    }, {hex: "#FF9933", name: "Deep saffron"}, {hex: "#00BFFF", name: "Deep sky blue"}, {
        hex: "#4A646C",
        name: "Deep Space Sparkle"
    }, {hex: "#556B2F", name: "Deep spring bud"}, {hex: "#7E5E60", name: "Deep Taupe"}, {
        hex: "#66424D",
        name: "Deep Tuscan red"
    }, {hex: "#330066", name: "Deep violet"}, {hex: "#BA8759", name: "Deer"}, {
        hex: "#1560BD",
        name: "Denim"
    }, {hex: "#669999", name: "Desaturated cyan"}, {hex: "#C19A6B", name: "Desert"}, {
        hex: "#EDC9AF",
        name: "Desert sand"
    }, {hex: "#EA3C53", name: "Desire"}, {hex: "#B9F2FF", name: "Diamond"}, {
        hex: "#696969",
        name: "Dim gray"
    }, {hex: "#9B7653", name: "Dirt"}, {hex: "#1E90FF", name: "Dodger blue"}, {
        hex: "#D71868",
        name: "Dogwood rose"
    }, {hex: "#85BB65", name: "Dollar bill"}, {hex: "#664C28", name: "Donkey brown"}, {
        hex: "#967117",
        name: "Drab"
    }, {hex: "#00009C", name: "Duke blue"}, {hex: "#E5CCC9", name: "Dust storm"}, {
        hex: "#EFDFBB",
        name: "Dutch white"
    }, {hex: "#E1A95F", name: "Earth yellow"}, {hex: "#555D50", name: "Ebony"}, {
        hex: "#C2B280",
        name: "Ecru"
    }, {hex: "#1B1B1B", name: "Eerie black"}, {hex: "#614051", name: "Eggplant"}, {
        hex: "#F0EAD6",
        name: "Eggshell"
    }, {hex: "#1034A6", name: "Egyptian blue"}, {hex: "#7DF9FF", name: "Electric blue"}, {
        hex: "#FF003F",
        name: "Electric crimson"
    }, {hex: "#00FFFF", name: "Electric cyan"}, {hex: "#00FF00", name: "Electric green"}, {
        hex: "#6F00FF",
        name: "Electric indigo"
    }, {hex: "#F4BBFF", name: "Electric lavender"}, {hex: "#CCFF00", name: "Electric lime"}, {
        hex: "#BF00FF",
        name: "Electric purple"
    }, {hex: "#3F00FF", name: "Electric ultramarine"}, {hex: "#8F00FF", name: "Electric violet"}, {
        hex: "#FFFF33",
        name: "Electric yellow"
    }, {hex: "#50C878", name: "Emerald"}, {hex: "#6C3082", name: "Eminence"}, {
        hex: "#1B4D3E",
        name: "English green"
    }, {hex: "#B48395", name: "English lavender"}, {hex: "#AB4B52", name: "English red"}, {
        hex: "#563C5C",
        name: "English violet"
    }, {hex: "#96C8A2", name: "Eton blue"}, {hex: "#44D7A8", name: "Eucalyptus"}, {
        hex: "#C19A6B",
        name: "Fallow"
    }, {hex: "#801818", name: "Falu red"}, {hex: "#B53389", name: "Fandango"}, {
        hex: "#DE5285",
        name: "Fandango pink"
    }, {hex: "#F400A1", name: "Fashion fuchsia"}, {hex: "#E5AA70", name: "Fawn"}, {
        hex: "#4D5D53",
        name: "Feldgrau"
    }, {hex: "#FDD5B1", name: "Feldspar"}, {hex: "#4F7942", name: "Fern green"}, {
        hex: "#FF2800",
        name: "Ferrari Red"
    }, {hex: "#6C541E", name: "Field drab"}, {hex: "#B22222", name: "Firebrick"}, {
        hex: "#CE2029",
        name: "Fire engine red"
    }, {hex: "#E25822", name: "Flame"}, {hex: "#FC8EAC", name: "Flamingo pink"}, {
        hex: "#6B4423",
        name: "Flattery"
    }, {hex: "#F7E98E", name: "Flavescent"}, {hex: "#EEDC82", name: "Flax"}, {
        hex: "#A2006D",
        name: "Flirt"
    }, {hex: "#FFFAF0", name: "Floral white"}, {hex: "#FFBF00", name: "Fluorescent orange"}, {
        hex: "#FF1493",
        name: "Fluorescent pink"
    }, {hex: "#CCFF00", name: "Fluorescent yellow"}, {hex: "#FF004F", name: "Folly"}, {
        hex: "#014421",
        name: "Forest green (traditional)"
    }, {hex: "#228B22", name: "Forest green (web)"}, {hex: "#A67B5B", name: "French beige"}, {
        hex: "#856D4D",
        name: "French bistre"
    }, {hex: "#0072BB", name: "French blue"}, {hex: "#FD3F92", name: "French fuchsia"}, {
        hex: "#86608E",
        name: "French lilac"
    }, {hex: "#9EFD38", name: "French lime"}, {hex: "#D473D4", name: "French mauve"}, {
        hex: "#FD6C9E",
        name: "French pink"
    }, {hex: "#811453", name: "French plum"}, {hex: "#4E1609", name: "French puce"}, {
        hex: "#C72C48",
        name: "French raspberry"
    }, {hex: "#F64A8A", name: "French rose"}, {hex: "#77B5FE", name: "French sky blue"}, {
        hex: "#8806CE",
        name: "French violet"
    }, {hex: "#AC1E44", name: "French wine"}, {hex: "#A6E7FF", name: "Fresh Air"}, {
        hex: "#FF00FF",
        name: "Fuchsia"
    }, {hex: "#C154C1", name: "Fuchsia (Crayola)"}, {hex: "#FF77FF", name: "Fuchsia pink"}, {
        hex: "#CC397B",
        name: "Fuchsia purple"
    }, {hex: "#C74375", name: "Fuchsia rose"}, {hex: "#E48400", name: "Fulvous"}, {
        hex: "#CC6666",
        name: "Fuzzy Wuzzy"
    }, {hex: "#DCDCDC", name: "Gainsboro"}, {hex: "#E49B0F", name: "Gamboge"}, {
        hex: "#996600",
        name: "Gamboge orange (brown)"
    }, {hex: "#007F66", name: "Generic viridian"}, {hex: "#F8F8FF", name: "Ghost white"}, {
        hex: "#FE5A1D",
        name: "Giants orange"
    }, {hex: "#B06500", name: "Grussrel"}, {hex: "#6082B6", name: "Glaucous"}, {
        hex: "#E6E8FA",
        name: "Glitter"
    }, {hex: "#00AB66", name: "GO green"}, {hex: "#D4AF37", name: "Gold (metallic)"}, {
        hex: "#FFD700",
        name: "Gold (web) (Golden)"
    }, {hex: "#85754E", name: "Gold Fusion"}, {hex: "#996515", name: "Golden brown"}, {
        hex: "#FCC200",
        name: "Golden poppy"
    }, {hex: "#FFDF00", name: "Golden yellow"}, {hex: "#DAA520", name: "Goldenrod"}, {
        hex: "#A8E4A0",
        name: "Granny Smith Apple"
    }, {hex: "#6F2DA8", name: "Grape"}, {hex: "#808080", name: "Gray"}, {
        hex: "#808080",
        name: "Gray (HTML/CSS gray)"
    }, {hex: "#BEBEBE", name: "Gray (X11 gray)"}, {hex: "#465945", name: "Gray-asparagus"}, {
        hex: "#8C92AC",
        name: "Gray-blue"
    }, {hex: "#00FF00", name: "Green (Color Wheel) (X11 green)"}, {
        hex: "#1CAC78",
        name: "Green (Crayola)"
    }, {hex: "#008000", name: "Green (HTML/CSS color)"}, {hex: "#00A877", name: "Green (Munsell)"}, {
        hex: "#009F6B",
        name: "Green (NCS)"
    }, {hex: "#00AD43", name: "Green (Pantone)"}, {hex: "#00A550", name: "Green (pigment)"}, {
        hex: "#66B032",
        name: "Green (RYB)"
    }, {hex: "#1164B4", name: "Green-blue"}, {hex: "#009966", name: "Green-cyan"}, {
        hex: "#ADFF2F",
        name: "Green-yellow"
    }, {hex: "#885818", name: "Grizzly"}, {hex: "#A99A86", name: "Grullo"}, {
        hex: "#00FF7F",
        name: "Guppie green"
    }, {hex: "#663854", name: "Halay be"}, {hex: "#446CCF", name: "Han blue"}, {
        hex: "#5218FA",
        name: "Han purple"
    }, {hex: "#E9D66B", name: "Hansa yellow"}, {hex: "#3FFF00", name: "Harlequin"}, {
        hex: "#46CB18",
        name: "Harlequin green"
    }, {hex: "#C90016", name: "Harvard crimson"}, {hex: "#DA9100", name: "Harvest gold"}, {
        hex: "#808000",
        name: "Heart Gold"
    }, {hex: "#DF73FF", name: "Heliotrope"}, {hex: "#AA98A9", name: "Heliotrope gray"}, {
        hex: "#AA00BB",
        name: "Heliotrope magenta"
    }, {hex: "#F400A1", name: "Hollywood cerise"}, {hex: "#F0FFF0", name: "Honeydew"}, {
        hex: "#006DB0",
        name: "Honolulu blue"
    }, {hex: "#49796B", name: "Hooker's green"}, {hex: "#FF1DCE", name: "Hot magenta"}, {
        hex: "#FF69B4",
        name: "Hot pink"
    }, {hex: "#355E3B", name: "Hunter green"}, {hex: "#71A6D2", name: "Iceberg"}, {
        hex: "#FCF75E",
        name: "Icterine"
    }, {hex: "#319177", name: "Illuminating Emerald"}, {hex: "#602F6B", name: "Imperial"}, {
        hex: "#002395",
        name: "Imperial blue"
    }, {hex: "#66023C", name: "Imperial purple"}, {hex: "#ED2939", name: "Imperial red"}, {
        hex: "#B2EC5D",
        name: "Inchworm"
    }, {hex: "#4C516D", name: "Independence"}, {hex: "#138808", name: "India green"}, {
        hex: "#CD5C5C",
        name: "Indian red"
    }, {hex: "#E3A857", name: "Indian yellow"}, {hex: "#6F00FF", name: "Indigo"}, {
        hex: "#091F92",
        name: "Indigo dye"
    }, {hex: "#4B0082", name: "Indigo (web)"}, {hex: "#002FA7", name: "International Klein Blue"}, {
        hex: "#FF4F00",
        name: "International orange (aerospace)"
    }, {hex: "#BA160C", name: "International orange (engineering)"}, {
        hex: "#C0362C",
        name: "International orange (Golden Gate Bridge)"
    }, {hex: "#5A4FCF", name: "Iris"}, {hex: "#B3446C", name: "Irresistible"}, {
        hex: "#F4F0EC",
        name: "Isabelline"
    }, {hex: "#009000", name: "Islamic green"}, {hex: "#B2FFFF", name: "Italian sky blue"}, {
        hex: "#FFFFF0",
        name: "Ivory"
    }, {hex: "#00A86B", name: "Jade"}, {hex: "#9D2933", name: "Japanese carmine"}, {
        hex: "#264348",
        name: "Japanese indigo"
    }, {hex: "#5B3256", name: "Japanese violet"}, {hex: "#F8DE7E", name: "Jasmine"}, {
        hex: "#D73B3E",
        name: "Jasper"
    }, {hex: "#A50B5E", name: "Jazzberry jam"}, {hex: "#DA614E", name: "Jelly Bean"}, {
        hex: "#343434",
        name: "Jet"
    }, {hex: "#F4CA16", name: "Jonquil"}, {hex: "#8AB9F1", name: "Jordy blue"}, {
        hex: "#BDDA57",
        name: "June bud"
    }, {hex: "#29AB87", name: "Jungle green"}, {hex: "#4CBB17", name: "Kelly green"}, {
        hex: "#7C1C05",
        name: "Kenyan copper"
    }, {hex: "#3AB09E", name: "Keppel"}, {
        hex: "#C3B091",
        name: "Jawad/Chicken Color (HTML/CSS) (Khaki)"
    }, {hex: "#F0E68C", name: "Khaki (X11) (Light khaki)"}, {hex: "#882D17", name: "Kobe"}, {
        hex: "#E79FC4",
        name: "Kobi"
    }, {hex: "#354230", name: "Kombu green"}, {hex: "#E8000D", name: "KU Crimson"}, {
        hex: "#087830",
        name: "La Salle Green"
    }, {hex: "#D6CADD", name: "Languid lavender"}, {hex: "#26619C", name: "Lapis lazuli"}, {
        hex: "#FFFF66",
        name: "Laser Lemon"
    }, {hex: "#A9BA9D", name: "Laurel green"}, {hex: "#CF1020", name: "Lava"}, {
        hex: "#B57EDC",
        name: "Lavender (floral)"
    }, {hex: "#E6E6FA", name: "Lavender (web)"}, {hex: "#CCCCFF", name: "Lavender blue"}, {
        hex: "#FFF0F5",
        name: "Lavender blush"
    }, {hex: "#C4C3D0", name: "Lavender gray"}, {hex: "#9457EB", name: "Lavender indigo"}, {
        hex: "#EE82EE",
        name: "Lavender magenta"
    }, {hex: "#E6E6FA", name: "Lavender mist"}, {hex: "#FBAED2", name: "Lavender pink"}, {
        hex: "#967BB6",
        name: "Lavender purple"
    }, {hex: "#FBA0E3", name: "Lavender rose"}, {hex: "#7CFC00", name: "Lawn green"}, {
        hex: "#FFF700",
        name: "Lemon"
    }, {hex: "#FFFACD", name: "Lemon chiffon"}, {hex: "#CCA01D", name: "Lemon curry"}, {
        hex: "#FDFF00",
        name: "Lemon glacier"
    }, {hex: "#E3FF00", name: "Lemon lime"}, {hex: "#F6EABE", name: "Lemon meringue"}, {
        hex: "#FFF44F",
        name: "Lemon yellow"
    }, {hex: "#BA93D8", name: "Lenurple"}, {hex: "#1A1110", name: "Licorice"}, {
        hex: "#545AA7",
        name: "Liberty"
    }, {hex: "#FDD5B1", name: "Light apricot"}, {hex: "#ADD8E6", name: "Light blue"}, {
        hex: "#fe2e2e",
        name: "Light brilliant red"
    }, {hex: "#B5651D", name: "Light brown"}, {hex: "#E66771", name: "Light carmine pink"}, {
        hex: "#88ACE0",
        name: "Light cobalt blue"
    }, {hex: "#F08080", name: "Light coral"}, {hex: "#93CCEA", name: "Light cornflower blue"}, {
        hex: "#F56991",
        name: "Light crimson"
    }, {hex: "#E0FFFF", name: "Light cyan"}, {hex: "#FF5CCD", name: "Light deep pink"}, {
        hex: "#C8AD7F",
        name: "Light French beige"
    }, {hex: "#F984EF", name: "Light fuchsia pink"}, {hex: "#FAFAD2", name: "Light goldenrod yellow"}, {
        hex: "#D3D3D3",
        name: "Light gray"
    }, {hex: "#CC99CC", name: "Light grayish magenta"}, {hex: "#90EE90", name: "Light green"}, {
        hex: "#FFB3DE",
        name: "Light hot pink"
    }, {hex: "#F0E68C", name: "Light khaki"}, {hex: "#D39BCB", name: "Light medium orchid"}, {
        hex: "#ADDFAD",
        name: "Light moss green"
    }, {hex: "#E6A8D7", name: "Light orchid"}, {hex: "#B19CD9", name: "Light pastel purple"}, {
        hex: "#FFB6C1",
        name: "Light pink"
    }, {hex: "#E97451", name: "Light red ochre"}, {hex: "#FFA07A", name: "Light salmon"}, {
        hex: "#FF9999",
        name: "Light salmon pink"
    }, {hex: "#20B2AA", name: "Light sea green"}, {hex: "#87CEFA", name: "Light sky blue"}, {
        hex: "#778899",
        name: "Light slate gray"
    }, {hex: "#B0C4DE", name: "Light steel blue"}, {hex: "#B38B6D", name: "Light taupe"}, {
        hex: "#E68FAC",
        name: "Light Thulian pink"
    }, {hex: "#FFFFE0", name: "Light yellow"}, {hex: "#C8A2C8", name: "Lilac"}, {
        hex: "#BFFF00",
        name: "Lime (color wheel)"
    }, {hex: "#00FF00", name: "Lime (web) (X11 green)"}, {hex: "#32CD32", name: "Lime green"}, {
        hex: "#9DC209",
        name: "Limerick"
    }, {hex: "#195905", name: "Lincoln green"}, {hex: "#FAF0E6", name: "Linen"}, {
        hex: "#C19A6B",
        name: "Lion"
    }, {hex: "#DE6FA1", name: "Liseran Purple"}, {hex: "#6CA0DC", name: "Little boy blue"}, {
        hex: "#674C47",
        name: "Liver"
    }, {hex: "#B86D29", name: "Liver (dogs)"}, {hex: "#6C2E1F", name: "Liver (organ)"}, {
        hex: "#987456",
        name: "Liver chestnut"
    }, {hex: "#6699CC", name: "Livid"}, {hex: "#FFE4CD", name: "Lumber"}, {
        hex: "#E62020",
        name: "Lust"
    }, {hex: "#FF00FF", name: "Magenta"}, {hex: "#FF55A3", name: "Magenta (Crayola)"}, {
        hex: "#CA1F7B",
        name: "Magenta (dye)"
    }, {hex: "#D0417E", name: "Magenta (Pantone)"}, {hex: "#FF0090", name: "Magenta (process)"}, {
        hex: "#9F4576",
        name: "Magenta haze"
    }, {hex: "#CC338B", name: "Magenta-pink"}, {hex: "#AAF0D1", name: "Magic mint"}, {
        hex: "#F8F4FF",
        name: "Magnolia"
    }, {hex: "#C04000", name: "Mahogany"}, {hex: "#FBEC5D", name: "Maize"}, {
        hex: "#6050DC",
        name: "Majorelle Blue"
    }, {hex: "#0BDA51", name: "Malachite"}, {hex: "#979AAA", name: "Manatee"}, {
        hex: "#FF8243",
        name: "Mango Tango"
    }, {hex: "#74C365", name: "Mantis"}, {hex: "#880085", name: "Mardi Gras"}, {
        hex: "#EAA221",
        name: "Marigold"
    }, {hex: "#C32148", name: "Maroon (Crayola)"}, {hex: "#800000", name: "Maroon (HTML/CSS)"}, {
        hex: "#B03060",
        name: "Maroon (X11)"
    }, {hex: "#E0B0FF", name: "Mauve"}, {hex: "#915F6D", name: "Mauve taupe"}, {
        hex: "#EF98AA",
        name: "Mauvelous"
    }, {hex: "#4C9141", name: "May green"}, {hex: "#73C2FB", name: "Maya blue"}, {
        hex: "#E5B73B",
        name: "Meat brown"
    }, {hex: "#66DDAA", name: "Medium aquamarine"}, {hex: "#0000CD", name: "Medium blue"}, {
        hex: "#E2062C",
        name: "Medium candy apple red"
    }, {hex: "#AF4035", name: "Medium carmine"}, {hex: "#F3E5AB", name: "Medium champagne"}, {
        hex: "#035096",
        name: "Medium electric blue"
    }, {hex: "#1C352D", name: "Medium jungle green"}, {
        hex: "#DDA0DD",
        name: "Medium lavender magenta"
    }, {hex: "#BA55D3", name: "Medium orchid"}, {hex: "#0067A5", name: "Medium Persian blue"}, {
        hex: "#9370DB",
        name: "Medium purple"
    }, {hex: "#BB3385", name: "Medium red-violet"}, {hex: "#AA4069", name: "Medium ruby"}, {
        hex: "#3CB371",
        name: "Medium sea green"
    }, {hex: "#80DAEB", name: "Medium sky blue"}, {hex: "#7B68EE", name: "Medium slate blue"}, {
        hex: "#C9DC87",
        name: "Medium spring bud"
    }, {hex: "#00FA9A", name: "Medium spring green"}, {hex: "#674C47", name: "Medium taupe"}, {
        hex: "#48D1CC",
        name: "Medium turquoise"
    }, {hex: "#79443B", name: "Medium Tuscan red"}, {hex: "#D9603B", name: "Medium vermilion"}, {
        hex: "#C71585",
        name: "Medium violet-red"
    }, {hex: "#F8B878", name: "Mellow apricot"}, {hex: "#F8DE7E", name: "Mellow yellow"}, {
        hex: "#FDBCB4",
        name: "Melon"
    }, {hex: "#0A7E8C", name: "Metallic Seaweed"}, {hex: "#9C7C38", name: "Metallic Sunburst"}, {
        hex: "#E4007C",
        name: "Mexican pink"
    }, {hex: "#191970", name: "Midnight blue"}, {hex: "#004953", name: "Midnight green (eagle green)"}, {
        hex: "#FFC40C",
        name: "Mikado yellow"
    }, {hex: "#E3F988", name: "Mindaro"}, {hex: "#36747D", name: "Ming"}, {
        hex: "#3EB489",
        name: "Mint"
    }, {hex: "#F5FFFA", name: "Mint cream"}, {hex: "#98FF98", name: "Mint green"}, {
        hex: "#FFE4E1",
        name: "Misty rose"
    }, {hex: "#FAEBD7", name: "Moccasin"}, {hex: "#967117", name: "Mode beige"}, {
        hex: "#73A9C2",
        name: "Moonstone blue"
    }, {hex: "#AE0C00", name: "Mordant red 19"}, {hex: "#8A9A5B", name: "Moss green"}, {
        hex: "#30BA8F",
        name: "Mountain Meadow"
    }, {hex: "#997A8D", name: "Mountbatten pink"}, {hex: "#18453B", name: "MSU Green"}, {
        hex: "#306030",
        name: "Mughal green"
    }, {hex: "#C54B8C", name: "Mulberry"}, {hex: "#FFDB58", name: "Mustard"}, {
        hex: "#317873",
        name: "Myrtle green"
    }, {hex: "#F6ADC6", name: "Nadeshiko pink"}, {hex: "#2A8000", name: "Napier green"}, {
        hex: "#FADA5E",
        name: "Naples yellow"
    }, {hex: "#FFDEAD", name: "Navajo white"}, {hex: "#000080", name: "Navy"}, {
        hex: "#9457EB",
        name: "Navy purple"
    }, {hex: "#FFA343", name: "Neon Carrot"}, {hex: "#FE4164", name: "Neon fuchsia"}, {
        hex: "#39FF14",
        name: "Neon green"
    }, {hex: "#214FC6", name: "New Car"}, {hex: "#D7837F", name: "New York pink"}, {
        hex: "#A4DDED",
        name: "Non-photo blue"
    }, {hex: "#059033", name: "North Texas Green"}, {hex: "#E9FFDB", name: "Nyanza"}, {
        hex: "#0077BE",
        name: "Ocean Boat Blue"
    }, {hex: "#CC7722", name: "Ochre"}, {hex: "#008000", name: "Office green"}, {
        hex: "#43302E",
        name: "Old burgundy"
    }, {hex: "#CFB53B", name: "Old gold"}, {hex: "#563C5C", name: "Old heliotrope"}, {
        hex: "#FDF5E6",
        name: "Old lace"
    }, {hex: "#796878", name: "Old lavender"}, {hex: "#673147", name: "Old mauve"}, {
        hex: "#867E36",
        name: "Old moss green"
    }, {hex: "#C08081", name: "Old rose"}, {hex: "#848482", name: "Old silver"}, {
        hex: "#808000",
        name: "Olive"
    }, {hex: "#6B8E23", name: "Olive Drab (#3)"}, {hex: "#3C341F", name: "Olive Drab #7"}, {
        hex: "#9AB973",
        name: "Olivine"
    }, {hex: "#353839", name: "Onyx"}, {hex: "#B784A7", name: "Opera mauve"}, {
        hex: "#FF7F00",
        name: "Orange (color wheel)"
    }, {hex: "#FF7538", name: "Orange (Crayola)"}, {hex: "#FF5800", name: "Orange (Pantone)"}, {
        hex: "#FB9902",
        name: "Orange (RYB)"
    }, {hex: "#FFA500", name: "Orange (web)"}, {hex: "#FF9F00", name: "Orange peel"}, {
        hex: "#FF4500",
        name: "Orange-red"
    }, {hex: "#F8D568", name: "Orange-yellow"}, {hex: "#DA70D6", name: "Orchid"}, {
        hex: "#F2BDCD",
        name: "Orchid pink"
    }, {hex: "#FB4F14", name: "Orioles orange"}, {hex: "#654321", name: "Otter brown"}, {
        hex: "#414A4C",
        name: "Outer Space"
    }, {hex: "#FF6E4A", name: "Outrageous Orange"}, {hex: "#002147", name: "Oxford Blue"}, {
        hex: "#990000",
        name: "OU Crimson Red"
    }, {hex: "#006600", name: "Pakistan green"}, {hex: "#273BE2", name: "Palatinate blue"}, {
        hex: "#682860",
        name: "Palatinate purple"
    }, {hex: "#BCD4E6", name: "Pale aqua"}, {hex: "#AFEEEE", name: "Pale blue"}, {
        hex: "#987654",
        name: "Pale brown"
    }, {hex: "#AF4035", name: "Pale carmine"}, {hex: "#9BC4E2", name: "Pale cerulean"}, {
        hex: "#DDADAF",
        name: "Pale chestnut"
    }, {hex: "#DA8A67", name: "Pale copper"}, {hex: "#ABCDEF", name: "Pale cornflower blue"}, {
        hex: "#87D3F8",
        name: "Pale cyan"
    }, {hex: "#E6BE8A", name: "Pale gold"}, {hex: "#EEE8AA", name: "Pale goldenrod"}, {
        hex: "#98FB98",
        name: "Pale green"
    }, {hex: "#DCD0FF", name: "Pale lavender"}, {hex: "#F984E5", name: "Pale magenta"}, {
        hex: "#ff99cc",
        name: "Pale magenta-pink"
    }, {hex: "#FADADD", name: "Pale pink"}, {hex: "#DDA0DD", name: "Pale plum"}, {
        hex: "#DB7093",
        name: "Pale red-violet"
    }, {hex: "#96DED1", name: "Pale robin egg blue"}, {hex: "#C9C0BB", name: "Pale silver"}, {
        hex: "#ECEBBD",
        name: "Pale spring bud"
    }, {hex: "#BC987E", name: "Pale taupe"}, {hex: "#AFEEEE", name: "Pale turquoise"}, {
        hex: "#CC99FF",
        name: "Pale violet"
    }, {hex: "#DB7093", name: "Pale violet-red"}, {hex: "#78184A", name: "Pansy purple"}, {
        hex: "#009B7D",
        name: "Paolo Veronese green"
    }, {hex: "#FFEFD5", name: "Papaya whip"}, {hex: "#E63E62", name: "Paradise pink"}, {
        hex: "#50C878",
        name: "Paris Green"
    }, {hex: "#AEC6CF", name: "Pastel blue"}, {hex: "#836953", name: "Pastel brown"}, {
        hex: "#CFCFC4",
        name: "Pastel gray"
    }, {hex: "#77DD77", name: "Pastel green"}, {hex: "#F49AC2", name: "Pastel magenta"}, {
        hex: "#FFB347",
        name: "Pastel orange"
    }, {hex: "#DEA5A4", name: "Pastel pink"}, {hex: "#B39EB5", name: "Pastel purple"}, {
        hex: "#FF6961",
        name: "Pastel red"
    }, {hex: "#CB99C9", name: "Pastel violet"}, {hex: "#FDFD96", name: "Pastel yellow"}, {
        hex: "#800080",
        name: "Patriarch"
    }, {hex: "#536878", name: "Payne's grey"}, {hex: "#FFE5B4", name: "Peach"}, {
        hex: "#FFCBA4",
        name: "Peach"
    }, {hex: "#FFCC99", name: "Peach-orange"}, {hex: "#FFDAB9", name: "Peach puff"}, {
        hex: "#FADFAD",
        name: "Peach-yellow"
    }, {hex: "#D1E231", name: "Pear"}, {hex: "#EAE0C8", name: "Pearl"}, {
        hex: "#88D8C0",
        name: "Pearl Aqua"
    }, {hex: "#B768A2", name: "Pearly purple"}, {hex: "#E6E200", name: "Peridot"}, {
        hex: "#CCCCFF",
        name: "Periwinkle"
    }, {hex: "#1C39BB", name: "Persian blue"}, {hex: "#00A693", name: "Persian green"}, {
        hex: "#32127A",
        name: "Persian indigo"
    }, {hex: "#D99058", name: "Persian orange"}, {hex: "#F77FBE", name: "Persian pink"}, {
        hex: "#701C1C",
        name: "Persian plum"
    }, {hex: "#CC3333", name: "Persian red"}, {hex: "#FE28A2", name: "Persian rose"}, {
        hex: "#EC5800",
        name: "Persimmon"
    }, {hex: "#CD853F", name: "Peru"}, {hex: "#DF00FF", name: "Phlox"}, {
        hex: "#000F89",
        name: "Phthalo blue"
    }, {hex: "#123524", name: "Phthalo green"}, {hex: "#45B1E8", name: "Picton blue"}, {
        hex: "#C30B4E",
        name: "Pictorial carmine"
    }, {hex: "#FDDDE6", name: "Piggy pink"}, {hex: "#01796F", name: "Pine green"}, {
        hex: "#563C5C",
        name: "Pineapple"
    }, {hex: "#FFC0CB", name: "Pink"}, {hex: "#D74894", name: "Pink (Pantone)"}, {
        hex: "#FFDDF4",
        name: "Pink lace"
    }, {hex: "#D8B2D1", name: "Pink lavender"}, {hex: "#FF9966", name: "Pink-orange"}, {
        hex: "#E7ACCF",
        name: "Pink pearl"
    }, {hex: "#980036", name: "Pink raspberry"}, {hex: "#F78FA7", name: "Pink Sherbet"}, {
        hex: "#93C572",
        name: "Pistachio"
    }, {hex: "#E5E4E2", name: "Platinum"}, {hex: "#8E4585", name: "Plum"}, {
        hex: "#DDA0DD",
        name: "Plum (web)"
    }, {hex: "#86608E", name: "Pomp and Power"}, {hex: "#BE4F62", name: "Popstar"}, {
        hex: "#FF5A36",
        name: "Portland Orange"
    }, {hex: "#B0E0E6", name: "Powder blue"}, {hex: "#F58025", name: "Princeton orange"}, {
        hex: "#701C1C",
        name: "Prune"
    }, {hex: "#003153", name: "Prussian blue"}, {hex: "#DF00FF", name: "Psychedelic purple"}, {
        hex: "#CC8899",
        name: "Puce"
    }, {hex: "#722F37", name: "Puce red"}, {hex: "#644117", name: "Pullman Brown (UPS Brown)"}, {
        hex: "#3B331C",
        name: "Pullman Green"
    }, {hex: "#FF7518", name: "Pumpkin"}, {hex: "#800080", name: "Purple (HTML)"}, {
        hex: "#9F00C5",
        name: "Purple (Munsell)"
    }, {hex: "#A020F0", name: "Purple (X11)"}, {hex: "#69359C", name: "Purple Heart"}, {
        hex: "#9678B6",
        name: "Purple mountain majesty"
    }, {hex: "#4E5180", name: "Purple navy"}, {hex: "#FE4EDA", name: "Purple pizzazz"}, {
        hex: "#50404D",
        name: "Purple taupe"
    }, {hex: "#9A4EAE", name: "Purpureus"}, {hex: "#51484F", name: "Quartz"}, {
        hex: "#436B95",
        name: "Queen blue"
    }, {hex: "#E8CCD7", name: "Queen pink"}, {hex: "#8E3A59", name: "Quinacridone magenta"}, {
        hex: "#5D8AA8",
        name: "Rackley"
    }, {hex: "#FF355E", name: "Radical Red"}, {hex: "#FBAB60", name: "Rajah"}, {
        hex: "#E30B5D",
        name: "Raspberry"
    }, {hex: "#915F6D", name: "Raspberry glace"}, {hex: "#E25098", name: "Raspberry pink"}, {
        hex: "#B3446C",
        name: "Raspberry rose"
    }, {hex: "#826644", name: "Raw umber"}, {hex: "#FF33CC", name: "Razzle dazzle rose"}, {
        hex: "#E3256B",
        name: "Razzmatazz"
    }, {hex: "#8D4E85", name: "Razzmic Berry"}, {hex: "#663399", name: "Rebecca Purple"}, {
        hex: "#FF0000",
        name: "Red"
    }, {hex: "#EE204D", name: "Red (Crayola)"}, {hex: "#F2003C", name: "Red (Munsell)"}, {
        hex: "#C40233",
        name: "Red (NCS)"
    }, {hex: "#ED2939", name: "Red (Pantone)"}, {hex: "#ED1C24", name: "Red (pigment)"}, {
        hex: "#FE2712",
        name: "Red (RYB)"
    }, {hex: "#A52A2A", name: "Red-brown"}, {hex: "#860111", name: "Red devil"}, {
        hex: "#FF5349",
        name: "Red-orange"
    }, {hex: "#E40078", name: "Red-purple"}, {hex: "#C71585", name: "Red-violet"}, {
        hex: "#A45A52",
        name: "Redwood"
    }, {hex: "#522D80", name: "Regalia"}, {hex: "#002387", name: "Resolution blue"}, {
        hex: "#777696",
        name: "Rhythm"
    }, {hex: "#004040", name: "Rich black"}, {hex: "#010B13", name: "Rich black (FOGRA29)"}, {
        hex: "#010203",
        name: "Rich black (FOGRA39)"
    }, {hex: "#F1A7FE", name: "Rich brilliant lavender"}, {hex: "#D70040", name: "Rich carmine"}, {
        hex: "#0892D0",
        name: "Rich electric blue"
    }, {hex: "#A76BCF", name: "Rich lavender"}, {hex: "#B666D2", name: "Rich lilac"}, {
        hex: "#B03060",
        name: "Rich maroon"
    }, {hex: "#444C38", name: "Rifle green"}, {hex: "#704241", name: "Roast coffee"}, {
        hex: "#00CCCC",
        name: "Robin egg blue"
    }, {hex: "#8A7F80", name: "Rocket metallic"}, {hex: "#838996", name: "Roman silver"}, {
        hex: "#FF007F",
        name: "Rose"
    }, {hex: "#F9429E", name: "Rose bonbon"}, {hex: "#674846", name: "Rose ebony"}, {
        hex: "#B76E79",
        name: "Rose gold"
    }, {hex: "#E32636", name: "Rose madder"}, {hex: "#FF66CC", name: "Rose pink"}, {
        hex: "#AA98A9",
        name: "Rose quartz"
    }, {hex: "#C21E56", name: "Rose red"}, {hex: "#905D5D", name: "Rose taupe"}, {
        hex: "#AB4E52",
        name: "Rose vale"
    }, {hex: "#65000B", name: "Rosewood"}, {hex: "#D40000", name: "Rosso corsa"}, {
        hex: "#BC8F8F",
        name: "Rosy brown"
    }, {hex: "#0038A8", name: "Royal azure"}, {hex: "#002366", name: "Royal blue"}, {
        hex: "#4169E1",
        name: "Royal blue"
    }, {hex: "#CA2C92", name: "Royal fuchsia"}, {hex: "#7851A9", name: "Royal purple"}, {
        hex: "#FADA5E",
        name: "Royal yellow"
    }, {hex: "#CE4676", name: "Ruber"}, {hex: "#D10056", name: "Rubine red"}, {
        hex: "#E0115F",
        name: "Ruby"
    }, {hex: "#9B111E", name: "Ruby red"}, {hex: "#FF0028", name: "Ruddy"}, {
        hex: "#BB6528",
        name: "Ruddy brown"
    }, {hex: "#E18E96", name: "Ruddy pink"}, {hex: "#A81C07", name: "Rufous"}, {
        hex: "#80461B",
        name: "Russet"
    }, {hex: "#679267", name: "Russian green"}, {hex: "#32174D", name: "Russian violet"}, {
        hex: "#B7410E",
        name: "Rust"
    }, {hex: "#DA2C43", name: "Rusty red"}, {hex: "#00563F", name: "Sacramento State green"}, {
        hex: "#8B4513",
        name: "Saddle brown"
    }, {hex: "#FF7800", name: "Safety orange"}, {hex: "#FF6700", name: "Safety orange (blaze orange)"}, {
        hex: "#EED202",
        name: "Safety yellow"
    }, {hex: "#F4C430", name: "Saffron"}, {hex: "#BCB88A", name: "Sage"}, {
        hex: "#23297A",
        name: "St. Patrick's blue"
    }, {hex: "#FA8072", name: "Salmon"}, {hex: "#FF91A4", name: "Salmon pink"}, {
        hex: "#C2B280",
        name: "Sand"
    }, {hex: "#967117", name: "Sand dune"}, {hex: "#ECD540", name: "Sandstorm"}, {
        hex: "#F4A460",
        name: "Sandy brown"
    }, {hex: "#967117", name: "Sandy taupe"}, {hex: "#92000A", name: "Sangria"}, {
        hex: "#507D2A",
        name: "Sap green"
    }, {hex: "#0F52BA", name: "Sapphire"}, {hex: "#0067A5", name: "Sapphire blue"}, {
        hex: "#CBA135",
        name: "Satin sheen gold"
    }, {hex: "#FF2400", name: "Scarlet"}, {hex: "#FD0E35", name: "Scarlet"}, {
        hex: "#FF91AF",
        name: "Schauss pink"
    }, {hex: "#FFD800", name: "School bus yellow"}, {hex: "#76FF7A", name: "Screamin' Green"}, {
        hex: "#006994",
        name: "Sea blue"
    }, {hex: "#2E8B57", name: "Sea green"}, {hex: "#59260B", name: "Seal brown"}, {
        hex: "#FFF5EE",
        name: "Seashell"
    }, {hex: "#FFBA00", name: "Selective yellow"}, {hex: "#704214", name: "Sepia"}, {
        hex: "#8A795D",
        name: "Shadow"
    }, {hex: "#778BA5", name: "Shadow blue"}, {hex: "#FFCFF1", name: "Shampoo"}, {
        hex: "#009E60",
        name: "Shamrock green"
    }, {hex: "#8FD400", name: "Sheen Green"}, {hex: "#D98695", name: "Shimmering Blush"}, {
        hex: "#FC0FC0",
        name: "Shocking pink"
    }, {hex: "#FF6FFF", name: "Shocking pink (Crayola)"}, {hex: "#882D17", name: "Sienna"}, {
        hex: "#C0C0C0",
        name: "Silver"
    }, {hex: "#ACACAC", name: "Silver chalice"}, {hex: "#5D89BA", name: "Silver Lake blue"}, {
        hex: "#C4AEAD",
        name: "Silver pink"
    }, {hex: "#BFC1C2", name: "Silver sand"}, {hex: "#CB410B", name: "Sinopia"}, {
        hex: "#007474",
        name: "Skobeloff"
    }, {hex: "#87CEEB", name: "Sky blue"}, {hex: "#CF71AF", name: "Sky magenta"}, {
        hex: "#6A5ACD",
        name: "Slate blue"
    }, {hex: "#708090", name: "Slate gray"}, {hex: "#003399", name: "Smalt (Dark powder blue)"}, {
        hex: "#C84186",
        name: "Smitten"
    }, {hex: "#738276", name: "Smoke"}, {hex: "#100C08", name: "Smoky black"}, {
        hex: "#933D41",
        name: "Smoky Topaz"
    }, {hex: "#FFFAFA", name: "Snow"}, {hex: "#CEC8EF", name: "Soap"}, {
        hex: "#893843",
        name: "Solid pink"
    }, {hex: "#757575", name: "Sonic silver"}, {hex: "#9E1316", name: "Spartan Crimson"}, {
        hex: "#1D2951",
        name: "Space cadet"
    }, {hex: "#807532", name: "Spanish bistre"}, {hex: "#0070B8", name: "Spanish blue"}, {
        hex: "#D10047",
        name: "Spanish carmine"
    }, {hex: "#E51A4C", name: "Spanish crimson"}, {hex: "#989898", name: "Spanish gray"}, {
        hex: "#009150",
        name: "Spanish green"
    }, {hex: "#E86100", name: "Spanish orange"}, {hex: "#F7BFBE", name: "Spanish pink"}, {
        hex: "#E60026",
        name: "Spanish red"
    }, {hex: "#00FFFF", name: "Spanish sky blue"}, {hex: "#4C2882", name: "Spanish violet"}, {
        hex: "#007F5C",
        name: "Spanish viridian"
    }, {hex: "#8B5f4D", name: "Spicy mix"}, {hex: "#0FC0FC", name: "Spiro Disco Ball"}, {
        hex: "#A7FC00",
        name: "Spring bud"
    }, {hex: "#00FF7F", name: "Spring green"}, {hex: "#007BB8", name: "Star command blue"}, {
        hex: "#4682B4",
        name: "Steel blue"
    }, {hex: "#CC33CC", name: "Steel pink"}, {hex: "#FADA5E", name: "Stil de grain yellow"}, {
        hex: "#990000",
        name: "Stizza"
    }, {hex: "#4F666A", name: "Stormcloud"}, {hex: "#E4D96F", name: "Straw"}, {
        hex: "#FC5A8D",
        name: "Strawberry"
    }, {hex: "#FFCC33", name: "Sunglow"}, {hex: "#E3AB57", name: "Sunray"}, {
        hex: "#FAD6A5",
        name: "Sunset"
    }, {hex: "#FD5E53", name: "Sunset orange"}, {hex: "#CF6BA9", name: "Super pink"}, {
        hex: "#D2B48C",
        name: "Tan"
    }, {hex: "#F94D00", name: "Tangelo"}, {hex: "#F28500", name: "Tangerine"}, {
        hex: "#FFCC00",
        name: "Tangerine yellow"
    }, {hex: "#E4717A", name: "Tango pink"}, {hex: "#483C32", name: "Taupe"}, {
        hex: "#8B8589",
        name: "Taupe gray"
    }, {hex: "#D0F0C0", name: "Tea green"}, {hex: "#F88379", name: "Tea rose"}, {
        hex: "#F4C2C2",
        name: "Tea rose"
    }, {hex: "#008080", name: "Teal"}, {hex: "#367588", name: "Teal blue"}, {
        hex: "#99E6B3",
        name: "Teal deer"
    }, {hex: "#00827F", name: "Teal green"}, {hex: "#CF3476", name: "Telemagenta"}, {
        hex: "#CD5700",
        name: "Tenn"
    }, {hex: "#E2725B", name: "Terra cotta"}, {hex: "#D8BFD8", name: "Thistle"}, {
        hex: "#DE6FA1",
        name: "Thulian pink"
    }, {hex: "#FC89AC", name: "Tickle Me Pink"}, {hex: "#0ABAB5", name: "Tiffany Blue"}, {
        hex: "#E08D3C",
        name: "Tiger's eye"
    }, {hex: "#DBD7D2", name: "Timberwolf"}, {hex: "#EEE600", name: "Titanium yellow"}, {
        hex: "#FF6347",
        name: "Tomato"
    }, {hex: "#746CC0", name: "Toolbox"}, {hex: "#FFC87C", name: "Topaz"}, {
        hex: "#FD0E35",
        name: "Tractor red"
    }, {hex: "#808080", name: "Trolley Grey"}, {hex: "#00755E", name: "Tropical rain forest"}, {
        hex: "#0073CF",
        name: "True Blue"
    }, {hex: "#417DC1", name: "Tufts Blue"}, {hex: "#FF878D", name: "Tulip"}, {
        hex: "#DEAA88",
        name: "Tumbleweed"
    }, {hex: "#B57281", name: "Turkish rose"}, {hex: "#40E0D0", name: "Turquoise"}, {
        hex: "#00FFEF",
        name: "Turquoise blue"
    }, {hex: "#A0D6B4", name: "Turquoise green"}, {hex: "#FAD6A5", name: "Tuscan"}, {
        hex: "#6F4E37",
        name: "Tuscan brown"
    }, {hex: "#7C4848", name: "Tuscan red"}, {hex: "#A67B5B", name: "Tuscan tan"}, {
        hex: "#C09999",
        name: "Tuscany"
    }, {hex: "#8A496B", name: "Twilight lavender"}, {hex: "#66023C", name: "Tyrian purple"}, {
        hex: "#0033AA",
        name: "UA blue"
    }, {hex: "#D9004C", name: "UA red"}, {hex: "#8878C3", name: "Ube"}, {
        hex: "#536895",
        name: "UCLA Blue"
    }, {hex: "#FFB300", name: "UCLA Gold"}, {hex: "#3CD070", name: "UFO Green"}, {
        hex: "#3F00FF",
        name: "Ultramarine"
    }, {hex: "#4166F5", name: "Ultramarine blue"}, {hex: "#FF6FFF", name: "Ultra pink"}, {
        hex: "#FC6C85",
        name: "Ultra red"
    }, {hex: "#635147", name: "Umber"}, {hex: "#FFDDCA", name: "Unbleached silk"}, {
        hex: "#5B92E5",
        name: "United Nations blue"
    }, {hex: "#B78727", name: "University of California Gold"}, {
        hex: "#FFFF66",
        name: "Unmellow yellow"
    }, {hex: "#014421", name: "UP Forest green"}, {hex: "#7B1113", name: "UP Maroon"}, {
        hex: "#AE2029",
        name: "Upsdell red"
    }, {hex: "#E1AD21", name: "Urobilin"}, {hex: "#004F98", name: "USAFA blue"}, {
        hex: "#990000",
        name: "USC Cardinal"
    }, {hex: "#FFCC00", name: "USC Gold"}, {hex: "#F77F00", name: "University of Tennessee Orange"}, {
        hex: "#D3003F",
        name: "Utah Crimson"
    }, {hex: "#F3E5AB", name: "Vanilla"}, {hex: "#F38FA9", name: "Vanilla ice"}, {
        hex: "#C5B358",
        name: "Vegas gold"
    }, {hex: "#C80815", name: "Venetian red"}, {hex: "#43B3AE", name: "Verdigris"}, {
        hex: "#E34234",
        name: "Vermilion"
    }, {hex: "#D9381E", name: "Vermilion"}, {hex: "#A020F0", name: "Veronica"}, {
        hex: "#74BBFB",
        name: "Very light azure"
    }, {hex: "#6666FF", name: "Very light blue"}, {hex: "#64E986", name: "Very light malachite green"}, {
        hex: "#FFB077",
        name: "Very light tangelo"
    }, {hex: "#FFDFBF", name: "Very pale orange"}, {hex: "#FFFFBF", name: "Very pale yellow"}, {
        hex: "#8F00FF",
        name: "Violet"
    }, {hex: "#7F00FF", name: "Violet (color wheel)"}, {hex: "#8601AF", name: "Violet (RYB)"}, {
        hex: "#EE82EE",
        name: "Violet (web)"
    }, {hex: "#324AB2", name: "Violet-blue"}, {hex: "#F75394", name: "Violet-red"}, {
        hex: "#40826D",
        name: "Viridian"
    }, {hex: "#009698", name: "Viridian green"}, {hex: "#7C9ED9", name: "Vista blue"}, {
        hex: "#cc9900",
        name: "Vivid amber"
    }, {hex: "#922724", name: "Vivid auburn"}, {hex: "#9F1D35", name: "Vivid burgundy"}, {
        hex: "#DA1D81",
        name: "Vivid cerise"
    }, {hex: "#00aaee", name: "Vivid cerulean"}, {hex: "#CC0033", name: "Vivid crimson"}, {
        hex: "#FF9900",
        name: "Vivid gamboge"
    }, {hex: "#a6d608", name: "Vivid lime green"}, {hex: "#00cc33", name: "Vivid malachite"}, {
        hex: "#B80CE3",
        name: "Vivid mulberry"
    }, {hex: "#FF5F00", name: "Vivid orange"}, {hex: "#FFA000", name: "Vivid orange peel"}, {
        hex: "#CC00FF",
        name: "Vivid orchid"
    }, {hex: "#FF006C", name: "Vivid raspberry"}, {hex: "#F70D1A", name: "Vivid red"}, {
        hex: "#DF6124",
        name: "Vivid red-tangelo"
    }, {hex: "#00CCFF", name: "Vivid sky blue"}, {hex: "#F07427", name: "Vivid tangelo"}, {
        hex: "#FFA089",
        name: "Vivid tangerine"
    }, {hex: "#e56024", name: "Vivid vermilion"}, {hex: "#9F00FF", name: "Vivid violet"}, {
        hex: "#FFE302",
        name: "Vivid yellow"
    }, {hex: "#004242", name: "Warm black"}, {hex: "#A4F4F9", name: "Waterspout"}, {
        hex: "#645452",
        name: "Wenge"
    }, {hex: "#F5DEB3", name: "Wheat"}, {hex: "#FFFFFF", name: "White"}, {
        hex: "#F5F5F5",
        name: "White smoke"
    }, {hex: "#A2ADD0", name: "Wild blue yonder"}, {hex: "#D470A2", name: "Wild orchid"}, {
        hex: "#FF43A4",
        name: "Wild Strawberry"
    }, {hex: "#FC6C85", name: "Wild watermelon"}, {hex: "#FD5800", name: "Willpower orange"}, {
        hex: "#A75502",
        name: "Windsor tan"
    }, {hex: "#722F37", name: "Wine"}, {hex: "#673147", name: "Wine dregs"}, {
        hex: "#C9A0DC",
        name: "Wisteria"
    }, {hex: "#C19A6B", name: "Wood brown"}, {hex: "#738678", name: "Xanadu"}, {
        hex: "#0F4D92",
        name: "Yale Blue"
    }, {hex: "#1C2841", name: "Yankees blue"}, {hex: "#FFFF00", name: "Yellow"}, {
        hex: "#FCE883",
        name: "Yellow (Crayola)"
    }, {hex: "#EFCC00", name: "Yellow (Munsell)"}, {hex: "#FFD300", name: "Yellow (NCS)"}, {
        hex: "#FEDF00",
        name: "Yellow (Pantone)"
    }, {hex: "#FFEF00", name: "Yellow (process)"}, {hex: "#FEFE33", name: "Yellow (RYB)"}, {
        hex: "#9ACD32",
        name: "Yellow-green"
    }, {hex: "#FFAE42", name: "Yellow Orange"}, {hex: "#FFF000", name: "Yellow rose"}, {
        hex: "#0014A8",
        name: "Zaffre"
    }, {hex: "#2C1608", name: "Zinnwaldite brown"}, {
        hex: "#39A78E",
        name: "Zomp"
    }], t.Color.black = new t.Color(0, 0, 0), t.Color.white = new t.Color(255, 255, 255), t.Color.oneUIPalette1 = ["#1B6A87", "#39671A", "#A68500", "#82202A", "#4E2C70", "#1F918B", "#CC6110", "#80226E"], t.Color.oneUIPalette2 = ["#1183AD", "#60942C", "#D4A600", "#B2293D", "#6C42A7", "#39B2AC", "#E17E2D", "#A6428B"], t.Color.oneUIPalette3 = ["#53ABCC", "#86B347", "#F0CC00", "#E2515B", "#9169BF", "#6ECFC7", "#E6944A", "#C767AE"], t.Color.oneUIPalette4 = ["#84C7E0", "#B3D66D", "#FFE36A", "#E88686", "#AD95CF", "#9CE3E9", "#FABE79", "#DE92CA"], t.Color.oneUIPalette5 = ["#BFE2EF", "#CFE68A", "#FFF69B", "#F2BCBC", "#D2C6E8", "#C0F5F0", "#FDD6B0", "#F9BCF3"], t.Color.oneUIDark = t.Color.oneUIPalette2.concat(t.Color.oneUIPalette4), t.Color.oneUILight = t.Color.oneUIPalette1.concat(t.Color.oneUIPalette3);
    var n;
    for (t.Color.sodaCapPalette1 = ["#A31630", "#C7471C", "#BF830C", "#30732C", "#1C877F", "#175394", "#77237D", "#703F34"], t.Color.sodaCapPalette2 = ["#C73544", "#E06C2D", "#DEA10A", "#50923D", "#42B09C", "#3373AB", "#973D99", "#855A4E"], t.Color.sodaCapPalette3 = ["#E0636B", "#EB8E42", "#F0C521", "#82BA56", "#7AD1B4", "#61A2C6", "#B265B8", "#A8836F"], t.Color.sodaCapPalette4 = ["#F29699", "#FAB56C", "#F9E149", "#AFD972", "#A7E8C4", "#94C9DA", "#D096D6", "#C4A888"], t.Color.sodaCapPalette5 = ["#FFC7C7", "#FCD8A4", "#FCF577", "#D6F291", "#CEFADC", "#BFEAEF", "#EDBFF5", "#E8D5AA"], t.Color.sodaCapPalette6 = ["#850A2B", "#A63722", "#AB6C0A", "#235920", "#186B65", "#0A3F6E", "#5A1C5C", "#663129"], t.Color.sodaCapPaletteCategoricalContrasting = [], t.Color.sodaCapPaletteCategoricalNonContrasting = [], n = 1; 5 >= n; n++)t.Color.sodaCapPaletteCategoricalContrasting = t.Color.sodaCapPaletteCategoricalContrasting.concat(t.Color.permutate(t.Color["sodaCapPalette" + n], [5, 1, 4, 6, 3, 2, 0, 7])), t.Color.sodaCapPaletteCategoricalNonContrasting = t.Color.sodaCapPaletteCategoricalNonContrasting.concat(t.Color.permutate(t.Color["sodaCapPalette" + n], [5, 4, 3, 2, 1, 0, 7, 6]));
    for (t.Color.smarterPlanetPalette1 = ["#D93D9C", "#B01611", "#D9631F", "#CC8F00", "#007527", "#009987", "#005D99", "#742299"], t.Color.smarterPlanetPalette2 = ["#F562BC", "#D13838", "#EB7D2A", "#EBB300", "#0E9425", "#00B8A4", "#1483C7", "#9A34C7"], t.Color.smarterPlanetPalette3 = ["#FF8CD3", "#EA5E5E", "#F79F4A", "#F5D118", "#4FBD4F", "#5FD4C5", "#38B1F2", "#C462F5"], t.Color.smarterPlanetPalette4 = ["#FFADDF", "#FF8C8C", "#FFBD7A", "#FCED65", "#A7D8CD", "#8DEBE1", "#73D0FF", "#DC99FF"], t.Color.smarterPlanetPalette5 = ["#FFCCEB", "#FFBFBF", "#FFD7AD", "#FFFC99", "#C3F7A8", "#BFFFF9", "#B3E5FF", "#EBC7FF"], t.Color.smarterPlanetPalette6 = ["#B3327F", "#9B0F0F", "#B34719", "#B37400", "#005B1E", "#007B6D", "#004B7B", "#5D1B7A"], t.Color.smarterPlanetPaletteCategoricalContrasting = [], t.Color.smarterPlanetPaletteCategoricalNonContrasting = [], n = 1; 5 >= n; n++)t.Color.smarterPlanetPaletteCategoricalContrasting = t.Color.smarterPlanetPaletteCategoricalContrasting.concat(t.Color.permutate(t.Color["smarterPlanetPalette" + n], [5, 2, 7, 4, 0, 6, 3, 1])), t.Color.smarterPlanetPaletteCategoricalNonContrasting = t.Color.smarterPlanetPaletteCategoricalNonContrasting.concat(t.Color.permutate(t.Color["smarterPlanetPalette" + n], [6, 5, 4, 3, 2, 1, 0, 7]));
    t.Color.thinkLabPalette = ["#001934", "#61bbb8", "#f04e37", "#d7df23", "#00443d", "#7e2322", "#697206"], t.Color.manyEyes = ["#9c9cdb", "#7474b5", "#4d5585", "#cbdb9c", "#b4cc6a", "#8ba353", "#64783a", "#e3cb94", "#e3ba54", "#bd9d3c", "#8c6d34", "#e3949b", "#d4636b", "#ab4b4b", "#853c3c", "#db9cd4", "#cc6cbc", "#a35393", "#7d4374"], t.Color.colorbrewerSequentialSingle = ["Blues", "Greens", "Grays", "Oranges", "Purples", "Reds"], t.Color.colorbrewerSequentialMulti = ["BuGn", "BuPu", "GnBu", "OrRd", "PuBu", "PuBuGn", "PuRd", "RdPu", "YlGn", "YlGnBu", "YlOrBr", "YlOrRd"], t.Color.colorbrewerSequential = t.Color.colorbrewerSequentialSingle.concat(t.Color.colorbrewerSequentialMulti), t.Color.pad16 = function (e) {
        var t = e.toString(16);
        return t.length < 2 ? "0" + t : t
    }, t.Color.contrastOK = function (e, n) {
        return t.Color.differenceBrightness(e, n) > 125 && t.Color.differenceColor(e, n) > 500
    }, t.Color.differenceBrightness = function (e, t) {
        return Math.abs(e.brightness() - t.brightness())
    }, t.Color.differenceColor = function (e, t) {
        return Math.abs(e.r - t.r) + Math.abs(e.g - t.g) + Math.abs(e.b - t.b)
    }, t.Color.normalizeName = function (e) {
        return e.replace(/\s/g, "").toLowerCase()
    }, t.Color.initializeNames = function (e) {
        if (e || !t.Color.initializedNames) {
            t.Color.namedIndex = {};
            for (var n = 0, r = t.Color.named.length; r > n; n++) {
                var i = t.Color.named[n], a = t.Color.normalizeName(i.name);
                i.color = new t.Color(i.hex), t.Color.namedIndex[a] = i
            }
            t.Color.initializedNames = !0
        }
    }, t.Color.sortHue = function (e, t) {
        var n = e.color.toD3().hsl(), r = t.color.toD3().hsl(), i = n.h, a = r.h;
        return i - a
    }, t.Color.distance = function (e, t) {
        var n = (e.r + t.r) / 2, r = e.r - t.r, i = e.g - t.g, a = e.b - t.b, o = 2 + n / 256, s = 4, l = 2 + (255 - n) / 256;
        return Math.sqrt(o * r * r + s * i * i + l * a * a)
    }, t.Color.prototype.closestNamed = function () {
        t.Color.initializeNames();
        for (var e = !1, n = null, r = Number.POSITIVE_INFINITY, i = 0, a = t.Color.named.length; a > i; i++) {
            var o = t.Color.named[i], s = t.Color.distance(this, o.color);
            if (0 === s) {
                n = o, e = !0;
                break
            }
            r > s && (n = o, r = s)
        }
        return {color: n, exact: e}
    }, t.Color.prototype.getName = function () {
        var e = this.closestNamed(), t = e.color.name;
        return e.exact || (t += " (approx.)"), t
    }, t.Color.prototype.contrastOK = function (e) {
        return t.Color.contrastOK(this, e)
    }, t.Color.prototype.getReadableTextColor = function () {
        return this.brightness() >= 128 ? t.Color.black : t.Color.white
    }, t.Color.prototype.brightness = function () {
        return (299 * this.r + 587 * this.g + 114 * this.b) / 1e3
    }, t.Color.prototype.toStringRGB = function () {
        return "rgb(" + this.r + "," + this.g + "," + this.b + ")"
    }, t.Color.prototype.toStringRGBA = function () {
        return "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a + ")"
    }, t.Color.prototype.toStringHex = function () {
        return "0x" + t.Color.pad16(this.r) + t.Color.pad16(this.g) + t.Color.pad16(this.b)
    }, t.Color.prototype.toStringHTML = function () {
        var e = "#" + t.Color.pad16(this.r) + t.Color.pad16(this.g) + t.Color.pad16(this.b);
        return e.toUpperCase()
    }, t.Color.prototype.toString = t.Color.prototype.toStringHTML, t.Color.prototype.toD3 = function () {
        return new d3.rgb(this.r, this.g, this.b)
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {}), n = e.CV.Font = {};
    t.defineDependencies(t.Font, ["FontLoader"]), n.known = ["Arial", "Arial Black", "Arial Narrow", "Arial Rounded MT Bold", "Bookman Old Style", "Bradley Hand ITC", "Century", "Century Gothic", "Comic Sans MS", "Courier", "Courier New", "Georgia", "Gentium", "Impact", "King", "Lucida Console", "Lalit", "Modena", "Monotype Corsiva", "Papyrus", "Tahoma", "TeX", "Times", "Times New Roman", "Trebuchet MS", "Verdana", "Verona", "cursive", "default", "fantasy", "monospace", "sans-serif", "serif"], n.google = ["ABeeZee", "Abel", "Abril Fatface", "Aclonica", "Acme", "Actor", "Adamina", "Advent Pro", "Aguafina Script", "Akronim", "Aladin", "Aldrich", "Alef", "Alegreya", "Alegreya SC", "Alegreya Sans", "Alegreya Sans SC", "Alex Brush", "Alfa Slab One", "Alice", "Alike", "Alike Angular", "Allan", "Allerta", "Allerta Stencil", "Allura", "Almendra", "Almendra Display", "Almendra SC", "Amarante", "Amaranth", "Amatic SC", "Amethysta", "Anaheim", "Andada", "Andika", "Angkor", "Annie Use Your Telescope", "Anonymous Pro", "Antic", "Antic Didone", "Antic Slab", "Anton", "Arapey", "Arbutus", "Arbutus Slab", "Architects Daughter", "Archivo Black", "Archivo Narrow", "Arimo", "Arizonia", "Armata", "Artifika", "Arvo", "Asap", "Asset", "Astloch", "Asul", "Atomic Age", "Aubrey", "Audiowide", "Autour One", "Average", "Average Sans", "Averia Gruesa Libre", "Averia Libre", "Averia Sans Libre", "Averia Serif Libre", "Bad Script", "Balthazar", "Bangers", "Basic", "Battambang", "Baumans", "Bayon", "Belgrano", "Belleza", "BenchNine", "Bentham", "Berkshire Swash", "Bevan", "Bigelow Rules", "Bigshot One", "Bilbo", "Bilbo Swash Caps", "Bitter", "Black Ops One", "Bokor", "Bonbon", "Boogaloo", "Bowlby One", "Bowlby One SC", "Brawler", "Bree Serif", "Bubblegum Sans", "Bubbler One", "Buda", "Buenard", "Butcherman", "Butterfly Kids", "Cabin", "Cabin Condensed", "Cabin Sketch", "Caesar Dressing", "Cagliostro", "Calligraffitti", "Cambo", "Candal", "Cantarell", "Cantata One", "Cantora One", "Capriola", "Cardo", "Carme", "Carrois Gothic", "Carrois Gothic SC", "Carter One", "Caudex", "Cedarville Cursive", "Ceviche One", "Changa One", "Chango", "Chau Philomene One", "Chela One", "Chelsea Market", "Chenla", "Cherry Cream Soda", "Cherry Swash", "Chewy", "Chicle", "Chivo", "Cinzel", "Cinzel Decorative", "Clicker Script", "Coda", "Coda Caption", "Codystar", "Combo", "Comfortaa", "Coming Soon", "Concert One", "Condiment", "Content", "Contrail One", "Convergence", "Cookie", "Copse", "Corben", "Courgette", "Cousine", "Coustard", "Covered By Your Grace", "Crafty Girls", "Creepster", "Crete Round", "Crimson Text", "Croissant One", "Crushed", "Cuprum", "Cutive", "Cutive Mono", "Damion", "Dancing Script", "Dangrek", "Dawning of a New Day", "Days One", "Delius", "Delius Swash Caps", "Delius Unicase", "Della Respira", "Denk One", "Devonshire", "Didact Gothic", "Diplomata", "Diplomata SC", "Domine", "Donegal One", "Doppio One", "Dorsa", "Dosis", "Dr Sugiyama", "Droid Sans", "Droid Sans Mono", "Droid Serif", "Duru Sans", "Dynalight", "EB Garamond", "Eagle Lake", "Eater", "Economica", "Ek Mukta", "Electrolize", "Elsie", "Elsie Swash Caps", "Emblema One", "Emilys Candy", "Engagement", "Englebert", "Enriqueta", "Erica One", "Esteban", "Euphoria Script", "Ewert", "Exo", "Exo 2", "Expletus Sans", "Fanwood Text", "Fascinate", "Fascinate Inline", "Faster One", "Fasthand", "Fauna One", "Federant", "Federo", "Felipa", "Fenix", "Finger Paint", "Fira Mono", "Fira Sans", "Fjalla One", "Fjord One", "Flamenco", "Flavors", "Fondamento", "Fontdiner Swanky", "Forum", "Francois One", "Freckle Face", "Fredericka the Great", "Fredoka One", "Freehand", "Fresca", "Frijole", "Fruktur", "Fugaz One", "GFS Didot", "GFS Neohellenic", "Gabriela", "Gafata", "Galdeano", "Galindo", "Gentium Basic", "Gentium Book Basic", "Geo", "Geostar", "Geostar Fill", "Germania One", "Gilda Display", "Give You Glory", "Glass Antiqua", "Glegoo", "Gloria Hallelujah", "Goblin One", "Gochi Hand", "Gorditas", "Goudy Bookletter 1911", "Graduate", "Grand Hotel", "Gravitas One", "Great Vibes", "Griffy", "Gruppo", "Gudea", "Habibi", "Halant", "Hammersmith One", "Hanalei", "Hanalei Fill", "Handlee", "Hanuman", "Happy Monkey", "Headland One", "Henny Penny", "Herr Von Muellerhoff", "Hind", "Holtwood One SC", "Homemade Apple", "Homenaje", "IM Fell DW Pica", "IM Fell DW Pica SC", "IM Fell Double Pica", "IM Fell Double Pica SC", "IM Fell English", "IM Fell English SC", "IM Fell French Canon", "IM Fell French Canon SC", "IM Fell Great Primer", "IM Fell Great Primer SC", "Iceberg", "Iceland", "Imprima", "Inconsolata", "Inder", "Indie Flower", "Inika", "Irish Grover", "Istok Web", "Italiana", "Italianno", "Jacques Francois", "Jacques Francois Shadow", "Jim Nightshade", "Jockey One", "Jolly Lodger", "Josefin Sans", "Josefin Slab", "Joti One", "Judson", "Julee", "Julius Sans One", "Junge", "Jura", "Just Another Hand", "Just Me Again Down Here", "Kalam", "Kameron", "Kantumruy", "Karla", "Karma", "Kaushan Script", "Kavoon", "Kdam Thmor", "Keania One", "Kelly Slab", "Kenia", "Khand", "Khmer", "Kite One", "Knewave", "Kotta One", "Koulen", "Kranky", "Kreon", "Kristi", "Krona One", "La Belle Aurore", "Laila", "Lancelot", "Lato", "League Script", "Leckerli One", "Ledger", "Lekton", "Lemon", "Libre Baskerville", "Life Savers", "Lilita One", "Lily Script One", "Limelight", "Linden Hill", "Lobster", "Lobster Two", "Londrina Outline", "Londrina Shadow", "Londrina Sketch", "Londrina Solid", "Lora", "Love Ya Like A Sister", "Loved by the King", "Lovers Quarrel", "Luckiest Guy", "Lusitana", "Lustria", "Macondo", "Macondo Swash Caps", "Magra", "Maiden Orange", "Mako", "Marcellus", "Marcellus SC", "Marck Script", "Margarine", "Marko One", "Marmelad", "Marvel", "Mate", "Mate SC", "Maven Pro", "McLaren", "Meddon", "MedievalSharp", "Medula One", "Megrim", "Meie Script", "Merienda", "Merienda One", "Merriweather", "Merriweather Sans", "Metal", "Metal Mania", "Metamorphous", "Metrophobic", "Michroma", "Milonga", "Miltonian", "Miltonian Tattoo", "Miniver", "Miss Fajardose", "Modern Antiqua", "Molengo", "Molle", "Monda", "Monofett", "Monoton", "Monsieur La Doulaise", "Montaga", "Montez", "Montserrat", "Montserrat Alternates", "Montserrat Subrayada", "Moul", "Moulpali", "Mountains of Christmas", "Mouse Memoirs", "Mr Bedfort", "Mr Dafoe", "Mr De Haviland", "Mrs Saint Delafield", "Mrs Sheppards", "Muli", "Mystery Quest", "Neucha", "Neuton", "New Rocker", "News Cycle", "Niconne", "Nixie One", "Nobile", "Nokora", "Norican", "Nosifer", "Nothing You Could Do", "Noticia Text", "Noto Sans", "Noto Serif", "Nova Cut", "Nova Flat", "Nova Mono", "Nova Oval", "Nova Round", "Nova Script", "Nova Slim", "Nova Square", "Numans", "Nunito", "Odor Mean Chey", "Offside", "Old Standard TT", "Oldenburg", "Oleo Script", "Oleo Script Swash Caps", "Open Sans", "Open Sans Condensed", "Oranienbaum", "Orbitron", "Oregano", "Orienta", "Original Surfer", "Oswald", "Over the Rainbow", "Overlock", "Overlock SC", "Ovo", "Oxygen", "Oxygen Mono", "PT Mono", "PT Sans", "PT Sans Caption", "PT Sans Narrow", "PT Serif", "PT Serif Caption", "Pacifico", "Paprika", "Parisienne", "Passero One", "Passion One", "Pathway Gothic One", "Patrick Hand", "Patrick Hand SC", "Patua One", "Paytone One", "Peralta", "Permanent Marker", "Petit Formal Script", "Petrona", "Philosopher", "Piedra", "Pinyon Script", "Pirata One", "Plaster", "Play", "Playball", "Playfair Display", "Playfair Display SC", "Podkova", "Poiret One", "Poller One", "Poly", "Pompiere", "Pontano Sans", "Port Lligat Sans", "Port Lligat Slab", "Prata", "Preahvihear", "Press Start 2P", "Princess Sofia", "Prociono", "Prosto One", "Puritan", "Purple Purse", "Quando", "Quantico", "Quattrocento", "Quattrocento Sans", "Questrial", "Quicksand", "Quintessential", "Qwigley", "Racing Sans One", "Radley", "Rajdhani", "Raleway", "Raleway Dots", "Rambla", "Rammetto One", "Ranchers", "Rancho", "Rationale", "Redressed", "Reenie Beanie", "Revalia", "Ribeye", "Ribeye Marrow", "Righteous", "Risque", "Roboto", "Roboto Condensed", "Roboto Slab", "Rochester", "Rock Salt", "Rokkitt", "Romanesco", "Ropa Sans", "Rosario", "Rosarivo", "Rouge Script", "Rozha One", "Rubik Mono One", "Rubik One", "Ruda", "Rufina", "Ruge Boogie", "Ruluko", "Rum Raisin", "Ruslan Display", "Russo One", "Ruthie", "Rye", "Sacramento", "Sail", "Salsa", "Sanchez", "Sancreek", "Sansita One", "Sarina", "Sarpanch", "Satisfy", "Scada", "Schoolbell", "Seaweed Script", "Sevillana", "Seymour One", "Shadows Into Light", "Shadows Into Light Two", "Shanti", "Share", "Share Tech", "Share Tech Mono", "Shojumaru", "Short Stack", "Siemreap", "Sigmar One", "Signika", "Signika Negative", "Simonetta", "Sintony", "Sirin Stencil", "Six Caps", "Skranji", "Slabo 13px", "Slabo 27px", "Slackey", "Smokum", "Smythe", "Sniglet", "Snippet", "Snowburst One", "Sofadi One", "Sofia", "Sonsie One", "Sorts Mill Goudy", "Source Code Pro", "Source Sans Pro", "Source Serif Pro", "Special Elite", "Spicy Rice", "Spinnaker", "Spirax", "Squada One", "Stalemate", "Stalinist One", "Stardos Stencil", "Stint Ultra Condensed", "Stint Ultra Expanded", "Stoke", "Strait", "Sue Ellen Francisco", "Sunshiney", "Supermercado One", "Suwannaphum", "Swanky and Moo Moo", "Syncopate", "Tangerine", "Taprom", "Tauri", "Teko", "Telex", "Tenor Sans", "Text Me One", "The Girl Next Door", "Tienne", "Tinos", "Titan One", "Titillium Web", "Trade Winds", "Trocchi", "Trochut", "Trykker", "Tulpen One", "Ubuntu", "Ubuntu Condensed", "Ubuntu Mono", "Ultra", "Uncial Antiqua", "Underdog", "Unica One", "UnifrakturCook", "UnifrakturMaguntia", "Unkempt", "Unlock", "Unna", "VT323", "Vampiro One", "Varela", "Varela Round", "Vast Shadow", "Vesper Libre", "Vibur", "Vidaloka", "Viga", "Voces", "Volkhov", "Vollkorn", "Voltaire", "Waiting for the Sunrise", "Wallpoet", "Walter Turncoat", "Warnes", "Wellfleet", "Wendy One", "Wire One", "Yanone Kaffeesatz", "Yellowtail", "Yeseva One", "Yesteryear", "Zeyada"], n.loaded = {}, n.require = function (e, t, r) {
        "[object Array]" !== Object.prototype.toString.call(e) && (e = [e]), r = r || 1e4;
        var i, a, o = [], s = [];
        for (i = 0, a = e.length; a > i; i++) {
            var l = e[i];
            l in n.loaded || (o.push(l), s.push(encodeURIComponent(l)))
        }
        if (o.length > 0) {
            var u = "http://fonts.googleapis.com/css?family=" + s.join("|"), h = document.createElement("link");
            h.setAttribute("rel", "stylesheet"), h.setAttribute("type", "text/css"), h.setAttribute("href", u), document.body.appendChild(h);
            var c = new FontLoader(o, {
                fontsLoaded: function (e) {
                    null !== e ? (console.log(e.message), console.log(e.notLoadedFontFamilies)) : t && t.call()
                }, fontLoaded: function (e) {
                    n.loaded[e] = !0
                }
            }, r);
            c.loadFonts()
        } else t && t.call()
    }, n.test = function () {
        var e = t.getArgumentArray(arguments);
        n.load(e);
        for (var r = "Grumpy wizards make toxic brew for the evil Queen and Jack.", i = 0, a = e.length; a > i; i++) {
            var o = document.createElement("div");
            o.style.fontFamily = "'" + e[i] + "'", o.textContent = r, document.body.appendChild(o)
        }
    }, n.isAvailable = function (e, t) {
        if (e in n.loaded)return !0;
        t = t || new r;
        var i = t.detect(e);
        return i && (n.loaded[e] = !0), i
    }, n.getAvailable = function (e) {
        void 0 === e && (e = !0);
        var t, i, a = [], o = new r;
        for (t = 0, i = n.known.length; i > t; t++) {
            var s = n.known[t];
            n.isAvailable(s, o) && a.push(s)
        }
        return e && (a = a.concat(n.google)), a
    };
    var r = function () {
        function e(e) {
            var n = !1;
            for (var r in t) {
                a.style.fontFamily = e + "," + t[r], i.appendChild(a);
                var l = a.offsetWidth != o[t[r]] || a.offsetHeight != s[t[r]];
                i.removeChild(a), n = n || l
            }
            return n
        }

        var t = ["monospace", "sans-serif", "serif"], n = "mmmmmmmmmmlli", r = "72px", i = document.getElementsByTagName("body")[0], a = document.createElement("span");
        a.style.fontSize = r, a.innerHTML = n;
        var o = {}, s = {};
        for (var l in t)a.style.fontFamily = t[l], i.appendChild(a), o[t[l]] = a.offsetWidth, s[t[l]] = a.offsetHeight, i.removeChild(a);
        this.detect = e
    };
    t.Font.weights = ["normal", "bold", "bolder", "lighter", "100", "200", "300", "400", "500", "600", "700", "800", "900"]
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Accessibility = function (e) {
        e = this.params = t.Function.parseParams(e, t.Accessibility.params), this.params.textMagnification >= 100 && (this.params.textMagnification /= 100), (this.params.background || this.params.fontColor) && (this.params.background ? this.params.fontColor || (this.params.fontColor = new t.Color(this.params.background).getReadableTextColor()) : this.params.background = new t.Color(this.params.fontColor).getReadableTextColor())
    }, t.defineDependencies(t.Accessibility, ["CVFunction", "CVColor", "CVFont"]), t.Function.defineParams(t.Accessibility, {
        background: {
            description: "Override color to use for the background",
            types: [{type: "Color", description: "A CSS color string"}]
        },
        fontColor: {
            description: "Override color to use for text",
            types: [{type: "Color", description: "A CSS color string"}]
        },
        fontWeight: {
            description: "Override font weight for all text",
            defaultValue: null,
            types: [{
                type: "Categorical", values: t.Font.weights, test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        textMagnification: {
            description: "Magnify all text according to this factor",
            defaultValue: 1,
            types: [{type: "Number", min: 1, max: 2}, {type: "Integer", min: 100, max: 200}]
        }
    }), t.Accessibility.get = function (e) {
        return e instanceof t.Accessibility ? e : new t.Accessibility(e)
    }, t.Accessibility.prototype.getTextMagnification = function () {
        return this.getValue("textMagnification")
    }, t.Accessibility.prototype.getFontWeight = function (e) {
        var t = this.getValue("fontWeight");
        return null !== t ? t : e
    }, t.Accessibility.prototype.getValue = function (e) {
        return e in this.params ? this.params[e] : (t.accessibility, console.log("getValue, not specified in params " + e), void console.log(this.params))
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Theme = function () {
    }, t.defineDependencies(t.Theme, ["d3", "CVColor", "CVFont"]), t.Theme.themes = {}, t.Theme.getColorsCategorical = function (e, t) {
        for (var n = t.length, r = [], i = 0; e > i; i++)r.push(t[i % n]);
        return r
    }, t.Theme.getColorScaleCategorical = function (e, n) {
        var r = t.Theme.getColorsCategorical(e, n);
        return d3.scale.ordinal().range(r)
    }, t.Theme.prototype.getColorsCategorical = function (e) {
        return t.Theme.getColorsCategorical(e, this.colorsCategorical)
    }, t.Theme.prototype.getColorScaleCategorical = function (e) {
        return t.Theme.getColorScaleCategorical(e, this.colorsCategorical)
    }, t.Theme.getNames = function () {
        var e = [];
        for (var n in t.Theme.themes)t.Theme.themes.hasOwnProperty(n) && e.push(n);
        return e
    }, t.Theme.get = function (e) {
        return new t.Theme.themes[e]
    }, t.ThemeManyEyes = function () {
        this.name = "Many Eyes", this.backgroundColor = "#FFFFFF", this.backgroundColorAccentuated = "rgb(230, 240, 255)", this.backgroundColorSelected = "rgba(120, 180, 255, 0.4)", this.colorsCategorical = t.Color.manyEyes
    }, t.inheritFrom(t.ThemeManyEyes, t.Theme), t.Theme.themes["Many Eyes"] = t.ThemeManyEyes, t.ThemeOneUILight = function () {
        this.name = "OneUI Light", this.backgroundColor = "#FFFFFF", this.backgroundColorAccentuated = "rgb(230, 240, 255)", this.backgroundColorSelected = "rgba(120, 180, 255, 0.4)", this.colorsCategorical = t.Color.oneUILight
    }, t.inheritFrom(t.ThemeOneUILight, t.Theme), t.Theme.themes["OneUI Light"] = t.ThemeOneUILight, t.ThemeOneUIDark = function () {
        this.name = "OneUI Dark", this.backgroundColor = "#333333", this.backgroundColorAccentuated = "rgb(230, 240, 255)", this.backgroundColorSelected = "rgba(120, 180, 255, 0.4)", this.colorsCategorical = t.Color.oneUIDark
    }, t.inheritFrom(t.ThemeOneUIDark, t.Theme), t.Theme.themes["OneUI Dark"] = t.ThemeOneUIDark, t.ThemeSodaCap = function () {
        this.name = "SodaCap", this.backgroundColor = "#FFFFFF", this.backgroundColorAccentuated = "rgb(230, 240, 255)", this.backgroundColorSelected = "rgba(120, 180, 255, 0.4)", this.colorsCategorical = t.Color.sodaCapPaletteCategoricalContrasting
    }, t.inheritFrom(t.ThemeSodaCap, t.Theme), t.Theme.themes.SodaCap = t.ThemeSodaCap, t.ThemeSmarterPlanet = function () {
        this.name = "Smarter Planet", this.backgroundColor = "#FFFFFF", this.backgroundColorAccentuated = "rgb(230, 240, 255)", this.backgroundColorSelected = "rgba(120, 180, 255, 0.4)", this.colorsCategorical = t.Color.smarterPlanetPaletteCategoricalContrasting
    }, t.inheritFrom(t.ThemeSmarterPlanet, t.Theme), t.Theme.themes["Smarter Planet"] = t.ThemeSmarterPlanet, t.ThemeTHINKLab = function () {
        this.name = "THINK Lab", this.backgroundColor = "#FFFFFF", this.backgroundColorAccentuated = "rgb(230, 240, 255)", this.backgroundColorSelected = "rgba(120, 180, 255, 0.4)", this.colorsCategorical = t.Color.thinkLabPalette
    }, t.inheritFrom(t.ThemeTHINKLab, t.Theme), t.Theme.themes["THINK Lab"] = t.ThemeTHINKLab, t.ThemePaintItBlack = function () {
        this.name = "Paint It Black", this.backgroundColor = "#000000", this.backgroundColorAccentuated = "#111111", this.backgroundColorSelected = "#222222", this.colorsCategorical = ["#BBBBBB", "#999999", "#777777", "#555555", "#333333"]
    }, t.inheritFrom(t.ThemePaintItBlack, t.Theme), t.Theme.themes["Paint It Black"] = t.ThemePaintItBlack
}(this),function (e) {
    "use strict";
    {
        var t = e.CV || (e.CV = {});
        e.CV.Geometry = {}
    }
    t.defineDependencies(t.Geometry, ["$"]), t.Point = function (e, t) {
        this.x = e || 0, this.y = t || 0
    }, t.Point.prototype.plusX = function (e) {
        return this.withX(this.x + e)
    }, t.Point.prototype.plusY = function (e) {
        return this.withY(this.y + e)
    }, t.Point.prototype.withX = function (e) {
        return new t.Point(e, this.y)
    }, t.Point.prototype.withY = function (e) {
        return new t.Point(this.x, e)
    }, t.Point.prototype.getDistanceTaxicab = function (e) {
        return Math.abs(this.x - e.x) + Math.abs(this.y - e.y)
    }, t.Point.prototype.getDistance = function (e) {
        return Math.sqrt(Math.pow(this.x - e.x, 2) + Math.pow(this.y - e.y, 2))
    }, t.Point.prototype.getDistanceFromOrigin = function () {
        return this.getDistance(new t.Point)
    }, t.LineSegment = function (e, t) {
        this.pt1 = e, this.pt2 = t
    }, t.LineSegment.prototype.getSlope = function () {
        return (this.pt2.y - this.pt1.y) / (this.pt2.x - this.pt1.x)
    }, t.LineSegment.prototype.getLength = function () {
        return Math.sqrt(Math.pow(this.pt2.x - this.pt1.x, 2) + Math.pow(this.pt2.y - this.pt1.y))
    }, t.LineSegment.prototype.getCenter = function () {
        var e = (this.pt1.x + this.pt2.x) / 2, n = (this.pt1.y + this.pt2.y) / 2;
        return new t.Point(e, n)
    }, t.Rect = function (e, t, n, r) {
        if (window === e)this.x = 0, this.y = 0, this.width = $(window).width(), this.height = $(window).height(); else if (e && 1 === e.nodeType) {
            var i = e.getBoundingClientRect();
            this.x = i.left, this.y = i.top, this.width = i.width, this.height = i.height
        } else this.x = e || 0, this.y = t || 0, this.width = n || 0, this.height = r || 0
    }, t.Rect.prototype.inflate = function (e, n) {
        return void 0 === n && (n = e), new t.Rect(this.x - e, this.y + n, this.width + 2 * e, this.height + 2 * n)
    }, t.Rect.prototype.deflate = function (e, t) {
        return void 0 === t && (t = e), this.inflate(-e, -t)
    }, t.Rect.prototype.getRight = function () {
        return this.x + this.width
    }, t.Rect.prototype.getBottom = function () {
        return this.y + this.height
    }, t.Rect.prototype.getTopLeft = function () {
        return new t.Point(this.x, this.y)
    }, t.Rect.prototype.getTopCenter = function () {
        return new t.Point(this.x + this.width / 2, this.y)
    }, t.Rect.prototype.getTopRight = function () {
        return new t.Point(this.x + this.width, this.y)
    }, t.Rect.prototype.getCenterLeft = function () {
        return new t.Point(this.x, this.y + this.height / 2)
    }, t.Rect.prototype.getCenter = function () {
        return new t.Point(this.x + this.width / 2, this.y + this.height / 2)
    }, t.Rect.prototype.getCenterRight = function () {
        return new t.Point(this.x + this.width, this.y + this.height / 2)
    }, t.Rect.prototype.getBottomLeft = function () {
        return new t.Point(this.x, this.y + this.height)
    }, t.Rect.prototype.getBottomCenter = function () {
        return new t.Point(this.x + this.width / 2, this.y + this.height)
    }, t.Rect.prototype.getBottomRight = function () {
        return new t.Point(this.x + this.width, this.y + this.height)
    }, t.Rect.prototype.getPoint = function (e) {
        switch (e = e.replace(/\s/g, "").toLowerCase()) {
            case"topleft":
                return this.getTopLeft();
            case"topcenter":
                return this.getTopCenter();
            case"topright":
                return this.getTopRight();
            case"centerleft":
                return this.getCenterLeft();
            case"center":
                return this.getCenter();
            case"centerright":
                return this.getCenterRight();
            case"bottomleft":
                return this.getBottomLeft();
            case"bottomcenter":
                return this.getBottomCenter();
            case"bottomright":
                return this.getBottomRight()
        }
        throw"Unhandled relative position: " + e
    }, t.Rect.prototype.containsPoint = function (e) {
        var t = this.x + this.width, n = this.y + this.height;
        return this.x <= e.x && e.x <= t && this.y <= e.y && e.y <= n
    }, t.Rect.prototype.containsRect = function (e) {
        return this.containsPoint(e.getTopLeft()) && this.containsPoint(e.getTopRight()) && this.containsPoint(e.getBottomLeft()) && this.containsPoint(e.getBottomRight())
    }, t.Rect.prototype.getCell = function (e, n, r) {
        var i = this.width / r, a = this.height / n, o = e % r, s = Math.floor(e / r), l = o * i, u = s * a;
        return new t.Rect(l, u, i, a)
    }, t.Rect.prototype.getPerimeter = function () {
        return 2 * this.width + 2 * this.height
    }, t.Rect.prototype.getArea = function () {
        return this.width * this.height
    }, t.Rect.prototype.getAspectRatio = function () {
        return this.width / this.height
    }, t.Rect.prototype.getSize = function () {
        return {width: this.width, height: this.height}
    }, t.Rect.prototype.align = function (e, n) {
        switch (n = n.replace(/\s/g, "").toLowerCase()) {
            case"top":
                return new t.Rect(this.x, e.y, this.width, this.height);
            case"left":
                return new t.Rect(e.x, this.y, this.width, this.height);
            case"right":
                return new t.Rect(e.x + e.width - this.width, this.y, this.width, this.height);
            case"bottom":
                return new t.Rect(this.x, e.y + e.height - this.height, this.width, this.height);
            case"topleft":
                return new t.Rect(e.x, e.y, this.width, this.height);
            case"topcenter":
                return new t.Rect(e.x + e.width / 2 - this.width / 2, e.y, this.width, this.height);
            case"topright":
                return new t.Rect(e.x + e.width - this.width, e.y, this.width, this.height);
            case"centerleft":
                return new t.Rect(e.x, e.y + e.height / 2 - this.height / 2, this.width, this.height);
            case"center":
                return new t.Rect(e.x + e.width / 2 - this.width / 2, e.y + e.height / 2 - this.height / 2, this.width, this.height);
            case"centerright":
                return new t.Rect(e.x + e.width - this.width, e.y + e.height / 2 - this.height / 2, this.width, this.height);
            case"bottomleft":
                return new t.Rect(e.x, e.y + e.height - this.height, this.width, this.height);
            case"bottomcenter":
                return new t.Rect(e.x + e.width / 2 - this.width / 2, e.y + e.height - this.height, this.width, this.height);
            case"bottomright":
                return new t.Rect(e.x + e.width - this.width, e.y + e.height - this.height, this.width, this.height)
        }
        throw"Unhandled relative position: " + n
    }, t.Rect.prototype.fit = function (e, n, r) {
        void 0 === r && (r = !0);
        var i = e.width / this.width, a = e.height / this.height, o = Math.min(i, a);
        o > 1 && !r && (o = 1);
        var s = ~~(this.width * o), l = ~~(this.height * o), u = new t.Rect(this.x, this.y, s, l);
        return n ? u.align(e, n) : u
    }, t.Rect.prototype.fitOver = function (e, n) {
        var r = e.width / this.width, i = e.height / this.height, a = Math.max(r, i), o = ~~(this.width * a), s = ~~(this.height * a), l = new t.Rect(this.x, this.y, o, s);
        return n ? l.align(e, n) : l
    }, t.Rect.prototype.subRect = function (e, n) {
        switch (e = e.replace(/\s/g, "").toLowerCase()) {
            case"top":
                return new t.Rect(this.x, this.y, this.width, n);
            case"left":
                return new t.Rect(this.x, this.y, n, this.height);
            case"right":
                return new t.Rect(this.x + this.width - n, this.y, n, this.height);
            case"bottom":
                return new t.Rect(this.x, this.y + this.height - n, this.width, n)
        }
        throw"Unhandled relative position: " + e
    }, t.Rect.prototype.offset = function (e, t) {
        return this.offsetX(e).offsetY(t)
    }, t.Rect.prototype.offsetX = function (e) {
        return new t.Rect(this.x + e, this.y, this.width, this.height)
    }, t.Rect.prototype.offsetY = function (e) {
        return new t.Rect(this.x, this.y + e, this.width, this.height)
    }, t.RectList = function () {
        this.rs = []
    }, t.RectList.prototype.add = function (e) {
        this.rs.push(e)
    }, t.RectList.prototype.get = function (e) {
        return this.rs[e]
    }, t.RectList.prototype.size = function () {
        return this.rs.length
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Range = function (e, t) {
        this.offset = e, this.length = _.isUndefined(t) ? -1 : t, this.eIDs = Array.prototype.slice.call(arguments, 2)
    }, t.Range.prototype.lastIndex = function () {
        return this.offset + this.length - 1
    }, t.Range.prototype.setEnd = function (e) {
        this.length = e - this.offset + 1
    }, t.Range.prototype.addIDs = function (e) {
        var t = this;
        _.each(e, function (e, n) {
            -1 == t.eIDs.indexOf(n) && t.eIDs.push(n)
        })
    }, t.Range.prototype.overlaps = function (e) {
        return !(e.offset > this.lastIndex() || this.offset > e.lastIndex())
    }, t.Range.prototype.equals = function (e) {
        if (this.offset !== e.offset)return !1;
        if (this.length !== e.length)return !1;
        if (this.eIDs.length != e.eIDs.length)return !1;
        for (var t = this.eIDs.length - 1; t >= 0; t--)if (this.eIDs[t] !== e.eIDs[t])return !1;
        return !0
    }, t.RangeList = function () {
        this.arr = []
    }, t.RangeList.prototype.add = function (e) {
        this.arr.push(e)
    }, t.RangeList.prototype.addAll = function (e) {
        this.arr = this.arr.concat(e.arr)
    }, t.RangeList.prototype.removeAll = function (e) {
        var t = this;
        _.each(e.arr, function (e) {
            for (var n = t.arr.length - 1; n >= 0; n--) {
                var r = t.arr[n];
                r.equals(e) && t.arr.splice(n, 1)
            }
        })
    }, t.RangeList.prototype.size = function () {
        return this.arr.length
    }, t.RangeList.prototype.print = function () {
        _.each(this.arr, function (e) {
            console.log(e)
        })
    }, t.RangeList.prototype.sort = function () {
        return this.arr.sort(function (e, t) {
            return e.offset < t.offset ? -1 : t.offset < e.offset ? 1 : e.length < t.length ? -1 : t.length < e.length ? 1 : 0
        }), this
    }, t.RangeList.prototype.getStartingAt = function (e) {
        for (var n = new t.RangeList, r = 0, i = this.arr.length; i > r; r++) {
            var a = this.arr[r];
            if (a.offset > e)break;
            a.offset == e && n.add(a)
        }
        return n
    }, t.RangeList.prototype.getEndingAt = function (e) {
        for (var n = new t.RangeList, r = 0, i = this.arr.length; i > r; r++) {
            var a = this.arr[r];
            a.lastIndex() == e && n.add(a)
        }
        return n
    }, t.RangeList.prototype.getIds = function () {
        for (var e = {}, t = 0, n = this.arr.length; n > t; t++) {
            var r = this.arr[t];
            _.each(r.eIDs, function (t) {
                e[t] = null
            })
        }
        return e
    }, t.RangeList.prototype.getOverlaps = function (e) {
        for (var n = new t.RangeList, r = 0, i = this.arr.length; i > r; r++) {
            var a = this.arr[r];
            e.overlaps(a) && n.add(a)
        }
        return n
    }, t.RangeList.prototype.getFirstOffset = function (e) {
        e = e || this;
        for (var t = Number.MAX_VALUE, n = 0, r = e.arr.length; r > n; n++) {
            var i = e.arr[n];
            i.offset < t && (t = i.offset)
        }
        return t
    }, t.RangeList.prototype.getLastIndex = function (e) {
        e = e || this;
        for (var t = Number.MIN_VALUE, n = 0, r = e.arr.length; r > n; n++) {
            var i = e.arr[n];
            i.lastIndex() > t && (t = i.lastIndex())
        }
        return t
    }, t.RangeList.prototype.makeDisjoint = function (e) {
        e = e || this;
        for (var n = new t.RangeList, r = this.getFirstOffset(e), i = this.getLastIndex(e), a = {}, o = null, s = r; i + 1 >= s; s++) {
            var l = e.getStartingAt(s), u = e.getEndingAt(s - 1), h = l.size() > 0 || u.size() > 0;
            h && (null != o && (o.setEnd(s - 1), o.addIDs(a), n.add(o)), o = new t.Range(s)), _.each(l.getIds(), function (e, t) {
                a[t] = null
            }), _.each(u.getIds(), function (e, t) {
                delete a[t]
            })
        }
        return n
    }, t.RangeList.prototype.getDisjointRanges = function () {
        var e = this.arr.length;
        if (1 >= e)return this;
        var n = new t.RangeList;
        return this.sort(), _.each(this.arr, function (e) {
            var t = n.getOverlaps(e);
            0 == t.size() ? n.add(e) : (n.removeAll(t), t.add(e), n.addAll(t.makeDisjoint()))
        }), n
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.CacheProviderObject = function () {
        this.type = "Object", this.cache = {}
    }, t.CacheProviderObject.prototype.put = function (e, t) {
        this.cache[e] = t
    }, t.CacheProviderObject.prototype.get = function (e) {
        return this.cache[e]
    }, t.CacheProviderObject.prototype.remove = function (e) {
        delete this.cache[e]
    }, t.CacheProviderObject.prototype.purge = function () {
        return this.cache = {}, !0
    }, t.CacheProviderNone = function () {
        this.type = "None"
    }, t.CacheProviderNone.prototype.put = function () {
    }, t.CacheProviderNone.prototype.get = function () {
    }, t.CacheProviderNone.prototype.remove = function () {
    }, t.CacheProviderNone.prototype.purge = function () {
        return !0
    }, t.CacheProviderDOMStorage = function (e, t) {
        this.type = t, this.cacheId = e, t in window && null !== window[t] ? this.storage = window[t] : (console.error("Your browser does not support " + t + ", cache " + e + " disabled"), this.storage = null)
    }, t.CacheProviderDOMStorage.prototype.put = function (e, t) {
        this.storage && (this.storage[this.cacheId + "_" + e] = JSON.stringify(t))
    }, t.CacheProviderDOMStorage.prototype.get = function (e) {
        if (this.storage) {
            var t = this.storage[this.cacheId + "_" + e];
            if (t)return JSON.parse(t)
        }
    }, t.CacheProviderDOMStorage.prototype.remove = function (e) {
        this.storage && this.storage.removeItem(this.cacheId + "_" + e)
    }, t.CacheProviderDOMStorage.prototype.purge = function () {
        return this.storage && this.storage.clear(), !0
    }, t.CacheEvictionFIFO = function () {
    }, t.CacheEvictionLRU = function (e) {
        this.cache = e
    }, t.CacheEvictionLRU.prototype.accessed = function (e) {
        var t = this.cache.keys.indexOf(e);
        this.cache.keys.splice(t, 1), this.cache.keys.push(e)
    }, t.Cache = function (e) {
        this.params = e = e || {}, this.id = e.id || t.Cache.uniqueId("CV.Cache_"), this.instances[this.id] = this, this.size = 0, this.count = 0, this.keys = [], this.resetStats(), this.provider = e.provider ? "LocalStorage" === e.provider ? new t.CacheProviderDOMStorage(this.id, "localStorage") : "SessionStorage" === e.provider ? new t.CacheProviderDOMStorage(this.id, "sessionStorage") : t.Cache.isString(e.provider) ? new window.CV["CacheProvider" + e.provider](this.id) : e.provider : new t.CacheProviderObject, e.eviction ? this.evictor = new window.CV["CacheEviction" + e.eviction](this) : (e.maxCount || e.maxSize) && (this.evictor = new t.CacheEvictionLRU(this))
    }, t.defineDependencies(t.Cache, ["moment"]), t.Cache.prototype.instances = {}, t.Cache.idCounter = 0, t.Cache.uniqueId = function (e) {
        var n = ++t.Cache.idCounter + "";
        return e ? e + n : n
    }, t.Cache.isDate = function (e) {
        return "[object Date]" === Object.prototype.toString.call(e)
    }, t.Cache.isString = function (e) {
        return "[object String]" === toString.call(e)
    }, t.Cache.sizeof = function (e) {
        for (var t = [e], n = 0, r = 0; r < t.length; r++)switch (typeof t[r]) {
            case"boolean":
                n += 4;
                break;
            case"number":
                n += 8;
                break;
            case"string":
                n += 2 * t[r].length;
                break;
            case"object":
                if ("[object Array]" != Object.prototype.toString.call(t[r]))for (var i in t[r])n += 2 * i.length;
                for (var i in t[r]) {
                    for (var a = !1, o = 0; o < t.length; o++)if (t[o] === t[r][i]) {
                        a = !0;
                        break
                    }
                    a || t.push(t[r][i])
                }
        }
        return n
    }, t.Cache.getDuration = function (e) {
        if (t.Cache.isString(e)) {
            var n = parseInt(e), r = e.substring(e.indexOf(" ") + 1);
            return moment.duration(n, r)
        }
        return e
    }, t.Cache.prototype.put = function (e, n, r) {
        this.remove(e);
        var i = {t: new Date, value: n};
        if (r && (i.opts = r), i.size = t.Cache.sizeof(i) + 16, this.params.maxSize) {
            if (i.size > this.params.maxSize)return;
            for (; this.count > 0 && this.size + i.size > this.params.maxSize;)this.evict()
        }
        this.params.maxCount && this.count === this.params.maxCount && this.evict(), this.provider.put(e, i, r), this.size += i.size, this.count++, this.keys.push(e)
    }, t.Cache.prototype.putAll = function (e, t) {
        for (var n in e)e.hasOwnProperty(n) && this.put(n, e[n], t)
    }, t.Cache.prototype.get = function (e) {
        var t = this.provider.get(e);
        if (t) {
            if (!this.isExpired(t))return this.stats.hits++, this.evictor && this.evictor.accessed && this.evictor.accessed(e), t.value;
            this.remove(e)
        }
        this.stats.misses++
    }, t.Cache.prototype.has = function (e) {
        return void 0 !== this.get(e)
    }, t.Cache.prototype.remove = function (e) {
        var t = this.provider.get(e);
        if (t) {
            this.count--, this.size -= t.size;
            var n = this.keys.indexOf(e);
            this.keys.splice(n, 1), this.provider.remove(e)
        }
        return t
    }, t.Cache.prototype.evict = function () {
        this.evictor || console.error("No eviction strategy configured for cache " + this.cacheId);
        var e = null;
        return this.evictor.next ? e = this.evictor.next(this) : this.keys.length > 0 && (e = this.keys[0]), e ? this.remove(e) : void 0
    }, t.Cache.prototype.purge = function () {
        if (this.provider.purge())this.count = 0, this.size = 0, this.keys = []; else for (; this.keys.length > 0;) {
            var e = this.keys.shift();
            this.remove(e)
        }
    }, t.Cache.prototype.isExpired = function (e) {
        var n = e.opts && e.opts.expire || this.params.expire;
        if (n) {
            var r = moment(), i = t.Cache.isDate(n) ? n : moment(e.t).add(t.Cache.getDuration(n));
            return r.isAfter(i)
        }
        return !1
    }, t.Cache.prototype.resetStats = function () {
        this.stats = {hits: 0, misses: 0}
    }, t.Cache.prototype.destroy = function () {
        this.instances[this.id].purge(), delete this.instances[this.id]
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Http = function (e) {
        this.params = e = e || {}, this.cache = e.cache === !0 ? new t.Cache : e.cache
    }, t.Http.prototype.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }, t.Http.prototype.isString = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, t.Http.prototype.getOptions = function (e, t) {
        if (t) {
            var n = t;
            return n.url = e, n
        }
        return this.isString(e) ? {url: e} : e
    }, t.Http.prototype.getJSON = function (e, t) {
        var n = this.getOptions(e, t);
        return n.dataType = "json", this.get(n)
    }, t.Http.prototype.get = function (e, t) {
        var n = this, r = this.getOptions(e, t), i = r.url;
        if (this.cache && this.cache.has(i)) {
            var a = this.cache.get(i);
            return void(r.success && r.success(a.data, a.textStatus, null))
        }
        var o = $.extend(!0, {}, r), s = o.retry || this.params.retry, l = o.sleep || this.params.sleep, u = (o.invalid || this.params.invalid, o.allerror || this.params.allerror), h = o.allcomplete || this.params.allcomplete;
        delete o.retry, delete o.sleep, delete o.isValid, delete o.invalid, delete o.allerror, delete o.allcomplete;
        var c = 0, A = 0, f = o.beforeSend, d = o.success, p = o.error, m = o.complete, g = n.params.onSend;
        g && (o.beforeSend = function (e, t) {
            n.isArray(g) || (g = [g]);
            for (var r = 0, i = g.length; i > r; r++)g[r](e, t);
            f && f(e, t)
        });
        var v = n.params.onComplete;
        o.complete = function (e, t) {
            if (c++, v) {
                n.isArray(v) || (v = [v]);
                for (var r = 0, i = v.length; i > r; r++)v[r](e, t)
            }
            m && m(e, t), c === s && h && h(e, t)
        }, s && (o.error = function (e, t, n) {
            A++, p && p(e, t, n), A === s && u && u(e, t, n)
        }), o.success = function (e, t, a) {
            return r.isValid && !r.isValid(e) ? (r.invalid ? r.invalid(a) : r.error && r.error(a, "invalid", "invalid"), void(u && u(a, t, "invalid"))) : (n.cache && n.cache.put(i, {
                data: e,
                textStatus: t
            }), void(d && d(e, t, a)))
        };
        var y = $.ajax(o);
        if (s) {
            var E = {times: s};
            l && (E.timeout = l), y.retry(E)
        }
        return y
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Events = function (e) {
        if (this.params = e = e || {}, this.delimiter = this.params.delimiter || ".", this.context = this.params.context || null, this.root = {
                parent: null,
                children: {}
            }, this.params.allowed)for (var t = 0, n = this.params.allowed.length; n > t; t++)this.getNode(this.params.allowed[t], !0);
        this.params.debug && this.debug()
    }, t.Events.prototype.log = function (e) {
        console.log(e)
    }, t.Events.prototype.error = function (e) {
        console.error(e)
    }, t.Events.prototype.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }, t.Events.prototype.debug = function () {
        var e = this;
        this.subscribe(null, function () {
            e.log(arguments)
        })
    }, t.Events.prototype.getNode = function (e, t) {
        void 0 === t && (t = !this.isArray(this.params.allowed));
        for (var n = e ? e.split(this.delimiter) : [], r = this.root, i = 0, a = n.length; a > i; i++) {
            var o = n[i];
            o in r.children || (t ? r.children[o] = {
                parent: r,
                children: {}
            } : this.error(e + " is not an allowed topic")), r = r.children[o]
        }
        return r
    }, t.Events.prototype.triggerNode = function (e, t) {
        if (e.subscribed)for (var n = 0, r = e.subscribed.length; r > n; n++) {
            var i = e.subscribed[n], a = this.context;
            i.apply(a, t)
        }
    }, t.Events.prototype.subscribe = function (e, t) {
        for (var n = this.isArray(e) ? e : [e], r = 0, i = n.length; i > r; r++) {
            var a = n[r], o = this.getNode(a);
            o.subscribed ? o.subscribed.push(t) : o.subscribed = [t]
        }
    }, t.Events.prototype.unsubscribe = function (e, t) {
        for (var n = this.isArray(e) ? e : [e], r = 0, i = n.length; i > r; r++) {
            var a = n[r], o = this.getNode(a), s = o.subscribed.indexOf(t);
            s >= 0 && o.subscribed.splice(s, 1)
        }
    }, t.Events.prototype.publish = function () {
        for (var e = Array.prototype.slice.apply(arguments), t = e[0], n = this.getNode(t); null !== n;)this.triggerNode(n, e), n = n.parent
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.CommandManager = function (e) {
        var t = this;
        this.params = e = e || {}, this.definitions = {}, this.clearHistory(), this.events = e.events || null, this.params.keyUndo = this.parseKeySpec(this.params.keyUndo), this.params.keyRedo = this.parseKeySpec(this.params.keyRedo), this.params.keyUndo && $(document).keyup(function (e) {
            t.isUndoEvent(e) && t.undo()
        }), this.params.keyRedo && $(document).keyup(function (e) {
            t.isRedoEvent(e) && t.redo()
        }), this.params.global && this.listenStateChange()
    }, t.CommandManager.prototype.log = function (e) {
        console.log(e)
    }, t.CommandManager.prototype.error = function (e) {
        console.error(e)
    }, t.CommandManager.prototype.publish = function (e, t) {
        this.events && this.events.publish(e, t)
    }, t.CommandManager.prototype.register = function (e) {
        this.definitions[e.id] = e
    }, t.CommandManager.prototype.isUndoEvent = function (e) {
        return this.matchesKeySpec(e, this.params.keyUndo)
    }, t.CommandManager.prototype.isRedoEvent = function (e) {
        return this.matchesKeySpec(e, this.params.keyRedo)
    }, t.CommandManager.prototype.matchesKeySpec = function (e, t) {
        return e.keyCode === t.keyCode && e.ctrlKey === t.ctrlKey && e.altKey === t.altKey && e.shiftKey === t.shiftKey
    }, t.CommandManager.prototype.parseKeySpec = function (e) {
        if (!e)return null;
        for (var t = !1, n = !1, r = !1, i = -1, a = e.split(/\+/), o = 0, s = a.length; s > o; o++) {
            var l = a[o], u = l.toLowerCase();
            "ctrl" === u ? t = !0 : "alt" === u ? n = !0 : "shift" === u ? r = !0 : i = l.charCodeAt()
        }
        return {ctrlKey: t, altKey: n, shiftKey: r, keyCode: i}
    }, t.CommandManager.prototype.clearHistory = function () {
        this.index = {}, this.count = 0, this.root = [], this.last_run = null
    }, t.CommandManager.prototype.getLastRun = function () {
        return this.index[this.last_run]
    }, t.CommandManager.prototype.execute = function () {
        var e = Array.prototype.slice.apply(arguments), t = e.shift(), n = this.definitions[t];
        if (!n)return this.error("Command not registered: " + t);
        var r = n.context || {}, i = this.count, a = Date.now(), o = {
            id: i,
            command: t,
            args: e,
            start: a,
            previous: null !== this.last_run ? this.getLastRun().id : null,
            next: [],
            status: "start",
            context: r
        };
        try {
            var s = n.execute.apply(r, e)
        } catch (l) {
            if ("CV.CommandManager.cancel" !== l.message)throw l;
            return
        }
        return this.index[i] = o, this.count++, n.async || (o.stop = Date.now(), o.status = "done"), null !== o.previous ? this.index[o.previous].next.unshift(i) : this.root.unshift(i), this.last_run = i, this.params.global && this.pushState(o, null, null), this.publish("CV.CommandManager.start", o), s
    }, t.CommandManager.prototype.canUndo = function () {
        return null !== this.last_run && "undone" !== this.getLastRun().status
    }, t.CommandManager.prototype.canRedo = function () {
        return null === this.last_run ? !1 : "undone" === this.getLastRun().status
    }, t.CommandManager.prototype.undo = function () {
        var e = null;
        if (!this.canUndo())return e;
        var t = this.getLastRun();
        if (t) {
            this.publish("CV.CommandManager.undo", t), t.status = "undoing";
            var n = this.definitions[t.command];
            e = n.undo.apply(t.context, t.args), t.status = "undone", null !== t.previous && (this.last_run = t.previous)
        }
        return e
    }, t.CommandManager.prototype.redo = function () {
        var e = null;
        if (!this.canRedo())return e;
        var t = this.getLastRun();
        null === t && (t = this.index[this.root[0]]);
        var n = this.definitions[t.command];
        return e = n.execute.apply(t.context, t.args), t.status = "done", t.next.length > 0 && (this.last_run = t.next[0]), this.publish("CV.CommandManager.redo", t), e
    }, t.CommandManager.prototype.goTo = function (e) {
        var t = this.getLastRun().id, n = this.getPathFromRoot(e), r = this.getPathFromRoot(t);
        return console.dir(n), void console.dir(r)
    }, t.CommandManager.prototype.getPathFromRoot = function (e) {
        for (var t = this.index[e], n = []; t && t.previous;)n.unshift(t.id), t = t.previous ? this.index[t.previous] : null;
        return n
    }, t.CommandManager.prototype.pushState = function (e) {
        e = JSON.stringify(e), history.pushState(e, "", "")
    }, t.CommandManager.prototype.listenStateChange = function () {
        var e = this;
        window.addEventListener("popstate", function (t) {
            e.onStateChange(t.state)
        })
    }, t.CommandManager.prototype.onStateChange = function () {
    }, t.CommandManager.prototype.getLabel = function (e) {
        var t = this.definitions[e.command];
        return t.label ? "function" == typeof t.label ? t.label.apply(e.context, e.args) : t.label : t.id
    }, t.CommandManager.prototype.print = function () {
        for (var e = [], t = 0; t < this.count; t++) {
            var n = this.index[t], r = this.getLabel(n);
            e.push(t + 1 + ": " + r)
        }
        this.log(e.join("\n"))
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Layout = function () {
    }, t.defineDependencies(t.Layout, ["$", "_", "CVGeometry"]), t.Layout.prototype.initialize = function (e) {
        this.params = e = e || {}, this.bounds = e.bounds, _.isUndefined(e.container) && (e.container = $("<div>")), _.isUndefined(this.bounds) && (window === e.container ? (e.container = $(window), this.bounds = new t.Rect(window)) : (e.container.jquery || (e.container = $(e.container)), this.bounds = new t.Rect(e.container[0]))), e.width && (e.container.css("width", e.width), this.bounds.width = e.width), e.height && (e.container.css("height", e.height), this.bounds.height = e.height), e.animate === !0 && (e.animate = 400), e.children && this.setChildren(e.children);
        var n = this, r = function () {
            this.bounds = new t.Rect(e.container[0]), n.layout(this.bounds, e.animate)
        };
        e.animate && (r = _.throttle(r, e.animate)), e.container.on("resize", r), _.isUndefined(e.layoutImmediately) && (e.layoutImmediately = !0), e.layoutImmediately && n.layout()
    }, t.Layout.prototype.appendElement = function (e) {
        var n = this.params.container;
        return n && (window === n[0] && (n = $("body")), n.append(e.$element ? e.$element : e instanceof t.Layout ? e.params.container : e)), e
    }, t.Layout.prototype.parseChild = function (e) {
        if (_.isString(e))e = $("<div>").css({
            position: "absolute",
            backgroundColor: e
        }); else if (_.isElement(e))e = $(e); else if (e instanceof t.Layout || e instanceof jQuery); else if (e.$element || e.onPosition); else {
            if (!_.isObject(e))throw"Error: CV.Layout doesn't know how to parse child " + e;
            if (e.type)return t.parseSpecification(e);
            var n = e.id, r = e.text;
            delete e.id, delete e.text, e.position = e.position || "absolute", e.textAlign = e.textAlign || "center", e = $("<div>").css(e), n && e.attr("id", n), r && e.text(r)
        }
        return e
    }, t.Layout.prototype.parseChildren = function (e) {
        for (var t = [], n = 0, r = e.length; r > n; n++)t.push(this.parseChild(e[n]));
        return t
    }, t.Layout.prototype.positionChild = function (e, n, r) {
        if (e.onPosition)e.onPosition(n, r); else {
            if (e.$element)return this.positionChild(e.$element, n, r);
            e instanceof t.Layout ? (this.positionChild(e.params.container, n, r), e.layout(new t.Rect(0, 0, n.width, n.height), r)) : r ? e.animate({
                top: n.y,
                left: n.x,
                width: n.width,
                height: n.height,
                opacity: 1,
                display: "block"
            }, r) : e.css({
                top: n.y,
                left: n.x,
                width: n.width,
                height: n.height,
                position: "absolute",
                opacity: 1,
                display: "block"
            })
        }
    }, t.Layout.prototype.hideChild = function (e, n) {
        if (e.onPosition); else {
            if (e.$element)return this.hideChild(e.$element, n);
            e instanceof t.Layout || (n ? e.animate({opacity: 0, display: "none"}, n) : e.css({
                opacity: 0,
                display: "none"
            }))
        }
    }, t.Layout.prototype.getChildWidth = function (e) {
        if (e.width)return _.isFunction(e.width) ? e.width() : e.width;
        if (e.$element)return e.$element.width();
        throw new Error("Layout.getChildWidth doesn't know how to get width of " + e)
    }, t.Layout.prototype.getChildHeight = function (e) {
        if (e.height)return _.isFunction(e.height) ? e.height() : e.height;
        if (e.$element)return e.$element.height();
        throw new Error("Layout.getChildHeight doesn't know how to get height of " + e)
    }, t.Layout.prototype.removeChildren = function () {
        this.params.container && _.each(this.children, function (e) {
            e instanceof t.Layout ? e.removeChildren() : e.remove && e.remove()
        }), this.children = []
    }, t.Layout.prototype.setChildren = function (e, n) {
        if (this.removeChildren(), this.children = this.parseChildren(e), this.params.container)for (var r = 0, i = this.children.length; i > r; r++) {
            var a = this.children[r];
            a instanceof t.Layout ? this.params.container.append(a.params.container) : this.appendElement(a)
        }
        this.bounds && this.layout(this.bounds, n)
    }, t.LayoutBorder = function (e) {
        this.params = e = e || {}, e.vgap = e.vgap || 0, e.hgap = e.hgap || 0, this.visible = {
            north: !0,
            south: !0,
            east: !0,
            west: !0,
            center: !0
        }, this.initialize(e)
    }, t.inheritFrom(t.LayoutBorder, t.Layout), t.LayoutBorder.prototype.setVisible = function (e, t) {
        var n = e;
        _.isUndefined(t) && (t = !0), _.isString(e) && (n = {}, n[e] = t);
        var r = !1, i = this;
        return _.each(n, function (e, t) {
            i.visible[t] !== e && (i.visible[t] = e, r = !0)
        }), r
    }, t.LayoutBorder.prototype.setChildren = function (e) {
        this.children = {}, e.north && (this.children.north = this.appendElement(this.parseChild(e.north))), e.west && (this.children.west = this.appendElement(this.parseChild(e.west))), e.center && (this.children.center = this.appendElement(this.parseChild(e.center))), e.east && (this.children.east = this.appendElement(this.parseChild(e.east))), e.south && (this.children.south = this.appendElement(this.parseChild(e.south)))
    }, t.LayoutBorder.prototype.layout = function (e, n) {
        _.isUndefined(e) && (e = this.bounds), _.isUndefined(n) && (n = this.params.animate), this.params.beforeLayout && this.params.beforeLayout(e);
        var r, i = e.height, a = e.width, o = 0, s = 0, l = 0, u = 0;
        this.children.north && (this.visible.north ? (o = this.getChildHeight(this.children.north), 0 === o && (o = .2 * i), r = new t.Rect(0, 0, a, o), this.positionChild(this.children.north, r, n), o += this.params.vgap) : this.hideChild(this.children.north, n)), this.children.south && (this.visible.south ? (s = this.getChildHeight(this.children.south), 0 === s && (s = .2 * i), r = new t.Rect(0, i - s, a, s), this.positionChild(this.children.south, r, n), s += this.params.vgap) : this.hideChild(this.children.south, n)), this.children.west && (this.visible.west ? (l = this.getChildWidth(this.children.west), 0 === l && (l = .2 * a), r = new t.Rect(0, o, l, i - o - s), this.positionChild(this.children.west, r, n), l += this.params.hgap) : this.hideChild(this.children.west, n)), this.children.east && (this.visible.east ? (u = this.getChildWidth(this.children.east), 0 === u && (u = .2 * a), r = new t.Rect(a - u, o, u, i - o - s), this.positionChild(this.children.east, r, n), u += this.params.hgap) : this.hideChild(this.children.east, n)), this.children.center && (this.visible.center ? (r = new t.Rect(l, o, a - l - u, i - o - s), this.positionChild(this.children.center, r, n)) : this.hideChild(this.children.center, n))
    }, t.LayoutCard = function (e) {
        this.params = e = e || {}, e.layoutImmediately = !1, this.initialize(e), this.order = e.order || _.keys(e.children), this.current = 0, this.first()
    }, t.inheritFrom(t.LayoutCard, t.Layout), t.LayoutCard.prototype.setChildren = function (e) {
        var t = this;
        this.children = {}, _.each(e, function (e, n) {
            t.children[n] = t.appendElement(t.parseChild(e))
        })
    }, t.LayoutCard.prototype.first = function (e) {
        this.show(0, e)
    }, t.LayoutCard.prototype.last = function (e) {
        this.show(this.order.length - 1, e)
    }, t.LayoutCard.prototype.next = function (e) {
        var t = (this.current + 1) % this.order.length;
        this.show(t, e)
    }, t.LayoutCard.prototype.previous = function (e) {
        var t = 0 === this.current ? this.order.length - 1 : this.current - 1;
        this.show(t, e)
    }, t.LayoutCard.prototype.show = function (e) {
        if (_.isString(e) && (e = this.order.indexOf(e)), 0 > e || e > this.order.length - 1)throw new Error("CV.LayoutCard.show: Invalid index " + e);
        this.current = e, this.layout()
    }, t.LayoutCard.prototype.layout = function (e, t) {
        console.log("LayoutCard.layout"), console.log(e), console.log(this.bounds);
        var n = this;
        _.isUndefined(e) ? e = this.bounds : this.bounds = e, _.isUndefined(t) && (t = this.params.animate), _.each(this.order, function (r, i) {
            var a = n.children[r];
            n.current === i ? n.positionChild(a, e, t) : n.hideChild(a, t)
        })
    }, t.LayoutGrid = function (e) {
        this.ratio = e.cellWidthHeightRatio || 1, this.initialize(e)
    }, t.inheritFrom(t.LayoutGrid, t.Layout), t.LayoutGrid.prototype.addChild = function (e, n) {
        e = this.parseChild(e), this.children.push(e), this.params.container && (e instanceof t.Layout ? this.params.container.append(e.params.container) : this.appendElement(e)), this.layout(this.bounds, n)
    }, t.LayoutGrid.prototype.layout = function (e, t) {
        _.isUndefined(e) ? e = this.bounds : this.bounds = e;
        for (var n = this.calculateCells(e, this.ratio), r = 0, i = n.size(); i > r; r++) {
            var a = n.get(r), o = this.children[r];
            this.positionChild(o, a, t)
        }
    }, t.LayoutGrid.prototype.calculateCells = function (e, n) {
        var r = new t.RectList, i = this.children.length;
        if (0 === i)return r;
        var a = this.getGridDim(i, n, e.getSize());
        this.nRows = a.rows, this.nCols = a.cols;
        for (var o = 0; i > o; o++)r.add(e.getCell(o, this.nRows, this.nCols));
        return r
    }, t.LayoutGrid.prototype.getGridDim = function (e, t, n) {
        for (var r = Number.MAX_VALUE, i = 0, a = n.width, o = n.height, s = 1; e >= s; s++) {
            var l = Math.ceil(e / s), u = a / l, h = o / s, c = u / h, A = Math.abs(c - t);
            r > A && (r = A, i = s)
        }
        var l = Math.ceil(e / i);
        return {rows: i, cols: l}
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Tooltip = function (e) {
        this.params = e = e || {}, e.theme = e.theme || "jquery", e.position = e.position || {}, e.position.adjust = e.position.adjust || {
                x: 0,
                y: 0
            }, e.position.viewport = e.position.viewport || !1, e.position.viewport === !0 ? e.position.viewport = e.parent : e.position.viewport === window && (e.position.viewport = $(window)), e.maxWidth = void 0 === e.maxWidth ? 300 : e.maxWidth;
        var t = null;
        t = e.template ? e.template : "jquery" == e.theme ? "<div><div class='cvtooltip_title ui-dialog-titlebar ui-widget-header'></div><div class='cvtooltip_body ui-dialog-content ui-widget-content'></div></div>" : "<div><div class='cvtooltip_title'></div><div class='cvtooltip_body'></div></div>", this.template = this.buildTemplate(t)
    }, t.Tooltip.isString = function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, t.Tooltip.prototype.buildTemplate = function (e) {
        var t = $(e).addClass(".cvtooltip").addClass(this.id).css({position: "absolute", "pointer-events": "none"});
        return this.params.maxWidth && t.css("maxWidth", this.params.maxWidth), t
    }, t.Tooltip.prototype.setTitle = function (e) {
        this.title = e
    }, t.Tooltip.prototype.setBody = function (e) {
        this.body = e
    }, t.Tooltip.prototype.show = function (e) {
        var n = this;
        e = e || {}, e.title && this.setTitle(e.title), e.body && this.setBody(e.body);
        var r = e.x || 0, i = e.y || 0;
        this.selector = this.template.clone();
        var a = this.selector.find(".cvtooltip_title");
        this.title ? t.Tooltip.isString(this.title) ? a.text(this.title) : a.html(this.title) : a.remove();
        var o = this.selector.find(".cvtooltip_body");
        this.body ? t.Tooltip.isString(this.body) ? o.text(this.body) : o.html(this.body) : o.remove(), this.selector.on("mouseenter", function () {
            n.hide()
        }), this.selector.appendTo("body"), this.update(r, i), this.selector.show(), this.scheduleAutohide()
    }, t.Tooltip.prototype.update = function (e, t) {
        if (this.selector) {
            var n = {top: 0, left: 0};
            this.params.parent && (n = this.params.parent.offset()), e -= n.left, t -= n.top;
            var r = this.params.position.adjust.x, i = this.params.position.adjust.y;
            e += r, t += i;
            var a = this.params.position.viewport;
            if (a) {
                var o = this.selector.width(), s = this.selector.height(), l = a.width(), u = a.height();
                if (t + s > u) {
                    var h = t - 2 * i - s;
                    t = h > 0 ? h : u - s
                }
                if (e + o > l) {
                    var c = e - 2 * r - o;
                    e = c > 0 ? c : l - o
                }
            }
            var A = {top: t, left: e};
            this.selector.css(A), this.scheduleAutohide()
        }
    }, t.Tooltip.prototype.hide = function () {
        this.selector && (this.selector.remove(), this.selector = null)
    }, t.Tooltip.prototype.scheduleAutohide = function () {
        if (this.params.autohide) {
            var e = this;
            this.autohide_timer && (clearTimeout(this.autohide_timer), this.autohide_timer = null), this.autohide_timer = setTimeout(function () {
                e.hide()
            }, this.params.autohide)
        }
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {}), n = t.Params = {};
    t.defineDependencies(t.Params, ["$", "dat.GUI", "CVString", "CVFunction"]), n.dependencies = function (e) {
        var t = $("<div>").addClass("cvdependencies"), n = $("<table>").appendTo(t), r = $("<thead>").appendTo(n), i = $("<tr>").appendTo(r);
        $("<th>").text("Name").appendTo(i), $("<th>").text("Version").appendTo(i), $("<th>").text("Notes").appendTo(i);
        for (var a = $("<tbody>").appendTo(n), o = e.dependencies, s = 0, l = o.length; l > s; s++) {
            var u = o[s];
            i = $("<tr>").appendTo(a);
            var h = u.name;
            u.html ? h = u.html : u.urlDocs && (h = $("<a>").text(u.name).attr("href", u.urlDocs));
            var c = $("<td>").css("white-space", "nowrap").append(h).appendTo(i);
            u.optional && c.append(" (optional)"), $("<td>").text(u.version).appendTo(i), $("<td>").text(u.notes).appendTo(i)
        }
        return t
    }, n.documentation = function (e) {
        var n = $("<div>").addClass("cvparams");
        $("<h2>").text("Parameters").appendTo(n);
        var r = $("<table>").appendTo(n), i = $("<thead>").appendTo(r), a = $("<tr>").appendTo(i);
        $("<th>").text("Name").appendTo(a), $("<th>").text("Object Key").appendTo(a), $("<th>").text("Description").appendTo(a), $("<th>").text("Valid Values").appendTo(a), $("<th>").text("Default Value").appendTo(a);
        var o = $("<tbody>").appendTo(r), s = e.params;
        for (var l in s)if (s.hasOwnProperty(l)) {
            var u = s[l];
            a = $("<tr>").appendTo(o);
            var h = u.label || t.String.unCamelCase(l);
            $("<td>").text(h).css("white-space", "nowrap").appendTo(a), $("<td>").text(l).appendTo(a), $("<td>").text(u.description).appendTo(a);
            var c = $("<td>").appendTo(a);
            if (u.type)c.text(u.type); else if (u.types)for (var A = $("<table>").appendTo(c), f = 0, d = u.types.length; d > f; f++) {
                var p = u.types[f], m = $("<tr>").appendTo(A);
                $("<td>").text(p.type).appendTo(m), p.description && $("<td>").text(p.description).appendTo(m)
            }
            var g = "defaultValue" in u ? u.defaultValue : "";
            "defaultFunction" in u && (g = "(computed)"), $("<td>").text(g).appendTo(a)
        }
        return n
    }, n.gui = function (e, n) {
        var r = e.params, i = e.constructor.params;
        n = n || {};
        var a = new dat.GUI(n);
        for (var o in i)if (i.hasOwnProperty(o)) {
            var s = null, l = i[o], u = l.types;
            if (l.type && (u = [{type: l.type}]), u && u.length > 0) {
                var h = u[0];
                if (o in r)for (var c = typeof r[o], A = 0, f = u.length; f > A; A++)if (u[A].type.toLowerCase() === c) {
                    h = u[A];
                    break
                }
                var d = h.type;
                if ("Categorical" === d) {
                    var p = l.types[0].values;
                    p[0].label && (p = _.pluck(p, "label")), o in r || (r[o] = p[0]), s = a.add(r, o, p)
                } else"Color" === d ? (o in r || (r[o] = "#FFF"), s = a.addColor(r, o)) : "Integer" === d || "Number" === d ? (s = a.add(r, o), "Integer" === d ? s.step(1) : "step" in h && s.step(h.step), "min" in h && s.min(h.min), "max" in h && s.max(h.max)) : "Boolean" === d ? s = a.add(r, o) : "String" === d && (o in r || (r[o] = ""), s = a.add(r, o))
            } else if (o in r) {
                var m = typeof r[o];
                ("boolean" === m || "number" === m) && (s = a.add(r, o))
            }
            if (s) {
                s.name(l.label || t.String.unCamelCase(o)), l.listen && s.listen();
                var g = function (t, n) {
                    return function () {
                        t.onChange(function (t) {
                            e.params[n] = t, e.onParamChange && e.onParamChange(e.params)
                        })
                    }
                };
                g(s, o)()
            }
        }
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Three = function () {
        this.measureText = $("<div id='cv_measureText'>").css({
            position: "absolute",
            width: "auto",
            height: "auto",
            visibility: "hidden",
            top: 0
        }).appendTo("body")
    }, t.defineDependencies(t.Three, ["$", "_", "THREE"]), t.Three.prototype.getLookingAt = function (e) {
        var t = new THREE.Vector3(0, 0, -1);
        return t.applyMatrix4(e.matrixWorld), t.z = 0, t
    }, t.Three.prototype.bbox = function (e) {
        if (_.isArray(e)) {
            for (var t = this.bbox_one(e[0]), n = 1, r = e.length; r > n; n++)t = t.union(this.bbox_one(e[n]));
            return t
        }
        return this.bbox_one(e)
    }, t.Three.prototype.bbox_one = function (e) {
        if (e instanceof THREE.Box3)return e;
        if (THREE.CSS3DObject && e instanceof THREE.CSS3DObject) {
            var t = new THREE.Box3, n = e.element, r = new THREE.Vector3(n.offsetWidth * e.scale.x, n.offsetHeight * e.scale.y, 0);
            return t.setFromCenterAndSize(e.position, r), t
        }
        return (new THREE.Box3).setFromObject(e)
    }, t.Three.prototype.getHFOV = function (e, t) {
        var n = e * Math.PI / 180, r = 2 * Math.atan(Math.tan(n / 2) * t);
        return 180 * r / Math.PI
    }, t.Three.prototype.zoomTo = function (e) {
        var t = e.camera, n = e.target, r = e.duration || 500, i = e.easing || TWEEN.Easing.Quadratic.InOut, a = e.inflate || 0, o = e.fit || "both", s = void 0 !== e.lookAtTarget ? e.lookAtTarget : !0, l = e.aspectRatio || window.innerWidth / window.innerHeight, u = this.bbox(n), h = u.max.x - u.min.x, c = u.max.y - u.min.y, A = u.max.z - u.min.z;
        if (!isFinite(h))return void console.log("CV.Three.zoomTo - infinite bbox width");
        if (!isFinite(c))return void console.log("CV.Three.zoomTo - infinite bbox height");
        if (!isFinite(A))return void console.log("CV.Three.zoomTo - infinite bbox depth");
        for (var f = TWEEN.getAll(), d = f.length - 1; d >= 0; d--) {
            var p = f[d];
            "camera" === p.type && p.stop()
        }
        var m = u.min.x + h / 2, g = u.min.y + c / 2, v = u.min.z + A / 2, y = t.fov;
        if (_.isNumber(a))h += 2 * a, c += 2 * a; else if (-1 !== a.indexOf("%", a.length - 1)) {
            var E = 1 + parseInt(a) / 50;
            h *= E, c *= E
        }
        var b, x;
        if ("width" === o)x = this.getHFOV(y, l), b = h / 2 / Math.tan(Math.PI * x / 360); else if ("height" === o)b = c / 2 / Math.tan(Math.PI * y / 360); else {
            x = this.getHFOV(y, l);
            var w = h / 2 / Math.tan(Math.PI * x / 360), T = c / 2 / Math.tan(Math.PI * y / 360);
            b = Math.max(w, T)
        }
        var C = {x: m, y: g, z: v + b}, R = {
            x: m,
            y: g,
            z: v
        }, B = t.target ? t.target : R, M = new TWEEN.Tween(t.position).to(C, r).easing(i).onUpdate(function () {
        }).onComplete(function () {
            s && t.lookAt(B)
        }).start();
        M.type = "camera", s && (M = new TWEEN.Tween(B).to(R, r).easing(i).onUpdate(function () {
        }).onComplete(function () {
            t.target = B, window.controls && window.controls.target.copy(t.target)
        }).start(), M.type = "camera")
    }, t.Three.prototype.wrapText = function (e, t, n) {
        for (var r = [], i = t.split("\n"), a = 0; a < i.length; a++) {
            for (var o = i[a], s = o.split(" "), l = "", u = 0, h = 0; h < s.length; h++) {
                var c = "" === l ? s[h] : l + " " + s[h], A = e.measureText(c), f = A.width;
                f > n ? (l && r.push({text: l, width: u}), l = s[h], u = e.measureText(s[h]).width) : (l = c, u = f)
            }
            r.push({text: l, width: u})
        }
        return r
    }, t.Three.prototype.measureTextRaw = function (e, t, n, r) {
        var i = this.measureText.text(e);
        t && i.css("fontSize", t), n && i.css("fontFamily", n), r && i.css("maxWidth", r);
        var a = i.get(0);
        return {width: a.clientWidth, height: a.clientHeight}
    }, t.Three.prototype.measureTextPowerOfTwo = function (e, t, n, r) {
        var i = this.measureTextRaw(e, t, n, r);
        return this.sizeToPowerOfTwo(i)
    }, t.Three.prototype.sizeToPowerOfTwo = function (e) {
        for (var t = Math.max(e.width, e.height), n = 1; t > n;)n *= 2;
        return {width: n, height: n}
    }, t.Three.prototype.getTextTexture = function (e, t) {
        var n = t.fontStyle || "", r = t.size || "18px", i = t.lineHeight || parseInt(r), a = t.family, o = t.fillStyle || "rgb(255, 255, 255)", s = t.strokeStyle, l = t.lineWidth;
        void 0 === l && s && (l = 1);
        var u = t.textalign || "center", h = t.valign || "top", c = t.width || 512, A = t.height || 512, f = $("<canvas>").css("display", "none").text(e).appendTo("body"), d = f.get(0), p = d.getContext("2d");
        d.width = c, d.height = A, p.clearRect(0, 0, d.width, d.height), p.fillStyle = o, l && (p.lineWidth = l), p.font = n + " " + r + " " + a, t.shadowColor && (p.shadowColor = this.normalizeColor(t.shadowColor), p.shadowOffsetX = t.shadowOffsetX || 0, p.shadowOffsetY = t.shadowOffsetY || 0, p.shadowBlur = t.shadowBlur || 10);
        var m = this.wrapText(p, e, c), g = 0, v = "top";
        "middle" === h ? (v = "middle", g = (A - (m.length - 1) * i) / 2) : "bottom" === h && (v = "bottom", g = A - (m.length - 1) * i), p.textBaseline = v;
        for (var y = 0, E = m.length; E > y; y++) {
            var b = m[y], x = 0;
            "center" === u ? x = (c - b.width) / 2 : "right" === u && (x = c - b.width), p.fillText(b.text, x, g), s && p.strokeText(b.text, x, g), g += i
        }
        var w = new THREE.Texture(d);
        return w.needsUpdate = !0, f.remove(), w
    }, t.Three.prototype.getTextMaterial = function (e, t) {
        var n = t.depthWrite || !1, r = t.depthTest || !1, i = t.color || 16777215, a = t.opacity || 1, o = this.getTextTexture(e, t), s = new THREE.MeshBasicMaterial({
            map: o,
            side: THREE.DoubleSide,
            depthWrite: n,
            depthTest: r,
            color: i,
            opacity: a,
            transparent: !0
        });
        return s
    }, t.Three.prototype.getGlowTexture = function (e) {
        var t = e.width || 128, n = e.height || 128, r = e.radius || 12, i = e.color || "rgba(0, 255, 255, 0.5)", a = $("<canvas>").css("display", "none").appendTo("body"), o = a.get(0);
        o.width = t, o.height = n;
        var s, l = o.getContext("2d");
        s = l.createLinearGradient(0, 0, r, 0), s.addColorStop(0, "rgba(0, 0, 0, 0)"), s.addColorStop(1, i), l.fillStyle = s, l.fillRect(0, r, r, n - 2 * r), s = l.createLinearGradient(t - r, 0, t, 0), s.addColorStop(0, i), s.addColorStop(1, "rgba(0, 0, 0, 0)"), l.fillStyle = s, l.fillRect(t - r, r, t, n - 2 * r), s = l.createLinearGradient(0, 0, 0, r), s.addColorStop(0, "rgba(0, 0, 0, 0)"), s.addColorStop(1, i), l.fillStyle = s, l.fillRect(r, 0, t - 2 * r, r), s = l.createLinearGradient(0, n - r, 0, n), s.addColorStop(0, i), s.addColorStop(1, "rgba(0, 0, 0, 0)"), l.fillStyle = s, l.fillRect(r, n - r, t - 2 * r, n), s = l.createRadialGradient(r, r, 0, r, r, r), s.addColorStop(0, i), s.addColorStop(1, "rgba(0, 0, 0, 0)"), l.fillStyle = s, l.fillRect(0, 0, r, r), s = l.createRadialGradient(t - r, r, 0, t - r, r, r), s.addColorStop(0, i), s.addColorStop(1, "rgba(0, 0, 0, 0)"), l.fillStyle = s, l.fillRect(t - r, 0, r, r), s = l.createRadialGradient(r, n - r, 0, r, n - r, r), s.addColorStop(0, i), s.addColorStop(1, "rgba(0, 0, 0, 0)"), l.fillStyle = s, l.fillRect(0, n - r, r, n), s = l.createRadialGradient(t - r, n - r, 0, t - r, n - r, r), s.addColorStop(0, i), s.addColorStop(1, "rgba(0, 0, 0, 0)"), l.fillStyle = s, l.fillRect(t - r, n - r, r, r);
        var u = new THREE.Texture(o);
        return u.needsUpdate = !0, a.remove(), u
    }, t.Three.prototype.getGlowMaterial = function (e) {
        var t = this.getGlowTexture(e), n = new THREE.MeshBasicMaterial({
            map: t,
            side: THREE.DoubleSide,
            transparent: !0,
            depthWrite: !1,
            depthTest: !1
        });
        return n
    }, t.Three.prototype.buildAxes = function (e) {
        var t = new THREE.Object3D;
        return t.add(this.buildAxis(new THREE.Vector3(0, 0, 0), new THREE.Vector3(e, 0, 0), 16711680, !1)), t.add(this.buildAxis(new THREE.Vector3(0, 0, 0), new THREE.Vector3(-e, 0, 0), 16711680, !0)), t.add(this.buildAxis(new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, e, 0), 65280, !1)), t.add(this.buildAxis(new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, -e, 0), 65280, !0)), t.add(this.buildAxis(new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 0, e), 255, !1)), t.add(this.buildAxis(new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 0, -e), 255, !0)), t
    }, t.Three.prototype.buildAxis = function (e, t, n, r) {
        var i, a = new THREE.Geometry;
        i = r ? new THREE.LineDashedMaterial({
            linewidth: 3,
            color: n,
            dashSize: 3,
            gapSize: 3
        }) : new THREE.LineBasicMaterial({
            linewidth: 3,
            color: n
        }), a.vertices.push(e.clone()), a.vertices.push(t.clone()), a.computeLineDistances();
        var o = new THREE.Line(a, i, THREE.LinePieces);
        return o
    }, t.Three.prototype.intToRGB = function (e) {
        var t = e >> 16 & 255, n = e >> 8 & 255, r = 255 & e;
        return [t, n, r]
    }, t.Three.prototype.hexToRGB = function (e) {
        var t = parseInt(e, 16);
        return this.intToRGB(t)
    }, t.Three.prototype.arrToRGBstr = function (e) {
        return "rgb(" + e[0] + "," + e[1] + "," + e[2] + ")"
    }, t.Three.prototype.arrToRGBAstr = function (e) {
        return "rgba(" + e[0] + "," + e[1] + "," + e[2] + "," + e[3] + ")"
    }, t.Three.prototype.normalizeColor = function (e) {
        return _.isNumber(e) ? this.arrToRGBstr(this.intToRGB(e)) : e
    }, t.Three.prototype.toImg = function (e, t) {
        var n = e.toDataURL("image/png"), r = new Image;
        return r.onload = function () {
            t && t()
        }, r.src = n, r
    }, t.Three.prototype.resampleHermite = function (e, t, n, r, i) {
        for (var a = e.getContext("2d").getImageData(0, 0, t, n), o = e.getContext("2d").getImageData(0, 0, r, i), s = a.data, l = o.data, u = t / r, h = n / i, c = Math.ceil(u / 2), A = Math.ceil(h / 2), f = 0; i > f; f++)for (var d = 0; r > d; d++) {
            for (var p = 4 * (d + f * r), m = 0, g = 0, v = 0, y = gx_g = gx_b = gx_a = 0, E = (f + .5) * h, b = Math.floor(f * h); (f + 1) * h > b; b++)for (var x = Math.abs(E - (b + .5)) / A, w = (d + .5) * u, T = x * x, C = Math.floor(d * u); (d + 1) * u > C; C++) {
                var R = Math.abs(w - (C + .5)) / c, _ = Math.sqrt(T + R * R);
                _ >= -1 && 1 >= _ && (m = 2 * _ * _ * _ - 3 * _ * _ + 1, m > 0 && (R = 4 * (C + b * t), gx_a += m * s[R + 3], v += m, s[R + 3] < 255 && (m = m * s[R + 3] / 250), y += m * s[R], gx_g += m * s[R + 1], gx_b += m * s[R + 2], g += m))
            }
            l[p] = y / g, l[p + 1] = gx_g / g, l[p + 2] = gx_b / g, l[p + 3] = gx_a / v
        }
        e.getContext("2d").clearRect(0, 0, Math.max(t, r), Math.max(n, i)), e.width = r, e.height = i, e.getContext("2d").putImageData(o, 0, 0)
    }, t.Three.prototype.thumbnail = function (e) {
        var t = this, n = e.source, r = e.maxSide || 200, i = e.callback, a = e.method || "hermite", o = n.width, s = n.height, l = r / Math.max(o, s), u = Math.floor(l * o), h = Math.floor(l * s), c = this.toImg(n, function () {
            if ("fake" === a)c.width = u, c.height = h, i && i(c); else if ("hermite" === a) {
                var e = document.createElement("canvas");
                e.width = o, e.height = s;
                var n = e.getContext("2d");
                n.drawImage(c, 0, 0, o, s), t.resampleHermite(e, o, s, u, h);
                var r = t.toImg(e, function () {
                    i && i(r)
                })
            } else {
                var e = document.createElement("canvas");
                e.width = u, e.height = h;
                var n = e.getContext("2d");
                n.drawImage(c, 0, 0, u, h);
                var r = t.toImg(e, function () {
                    i && i(r)
                })
            }
        })
    }, THREE.LayeredObject = function () {
        THREE.Object3D.call(this), this.layers = {}
    }, THREE.LayeredObject.prototype = Object.create(THREE.Object3D.prototype), THREE.LayeredObject.prototype.addLayer = function (e, t) {
        this.add(t), this.layers[e] = t
    }, THREE.LayeredObject.prototype.setOpacity = function (e) {
        this.traverse(function (t) {
            t.material && (t.material.opacity = e)
        })
    }, t.Three.instance = new t.Three
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {}), n = t.Save = {};
    t.defineDependencies(t.Save, ["Blob", "canvas-toBlob", "FileSaver", "canvg"]), n.getDefaultFilename = function (e, t) {
        var n = new Date, r = t ? t + "_" : "";
        return r + n.getFullYear() + (n.getMonth() + 1) + n.getDate() + "_" + n.getHours() + n.getMinutes() + "." + e
    }, n.stringToFile = function (e, t) {
        t = t || this.getDefaultFilename("txt", "temp");
        var n = new Blob([e], {type: "text/plain;charset=utf-8"});
        saveAs(n, t)
    }, n.svgToString = function (e) {
        var t = e.jquery ? e[0] : e, n = new XMLSerializer;
        return n.serializeToString(t)
    }, n.svgToCanvas = function (e) {
        var t = this.svgToString(e), n = document.createElement("canvas");
        return canvg(n, t), n
    }, n.svgToFile = function (e, t) {
        t = t || this.getDefaultFilename("svg", "svg");
        var n = /(?:\.([^.]+))?$/, r = n.exec(t);
        if (r = r ? r[1].toLowerCase() : null, "svg" === r)this.stringToFile(this.svgToString(e), t); else {
            if ("png" !== r)throw new Error("Don't know how to save SVG as file type " + r);
            this.canvasToFile(this.svgToCanvas(e), t)
        }
    }, n.canvasToFile = function (e, t) {
        t = t || this.getDefaultFilename("png", "canvas"), e.toBlob(function (e) {
            saveAs(e, t)
        })
    }, n.toFile = function (e, t) {
        if (void 0 === e)e = document.querySelectorAll("canvas,svg")[0]; else if (e.toCanvas && (e = e.toCanvas(), !e))throw new Error("Error creating custom canvas in CV.Save.toFile");
        var n = e.jquery ? e[0] : e, r = n.tagName.toLowerCase();
        "svg" === r ? this.svgToFile(n, t) : "canvas" === r ? this.canvasToFile(n, t) : this.stringToFile(n.outerHTML, t || this.getDefaultFilename("html", "element"))
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.TabularProviderHTMLTable = function (e, t) {
        this.type = "HTMLTable", this.supportsSync = !0, this.tabular = e, this.source = t, t.find("tr").each(function (t, n) {
            var r = $(n);
            if (0 === t)r.find("td, th").each(function (t, n) {
                var r = $(n);
                e.colnames.push(r.text());
                var i = r.data("cvtype") || "String";
                e.coltypes.push(i ? i : "String")
            }); else {
                var i = [];
                r.find("td, th").each(function (e, t) {
                    i.push($(t).text())
                }), e.rows.push(i)
            }
        })
    }, t.TabularProviderHTMLTable.prototype.insertColumn = function (e) {
        var t = this;
        this.source.find("tr").each(function (n, r) {
            var i = $(0 === n ? "<th>" : "<td>");
            if (0 === n && i.text(e.name), e.index === t.tabular.colnames.length - 1)i.appendTo(r); else {
                var a = null;
                $(r).children().each(function (t, n) {
                    return t === e.index ? (a = n, !1) : void 0
                }), i.insertBefore(a)
            }
        })
    }, t.TabularProviderHTMLTable.prototype.removeColumn = function (e) {
        this.source.find("tr").each(function (t, n) {
            var r = $(n).children().get(e);
            $(r).remove()
        })
    }, t.TabularProviderHTMLTable.prototype.addRow = function (e) {
        var t = $("<tr>").appendTo(this.source);
        _.each(e, function (e) {
            $("<td>").text(e).appendTo(t)
        })
    }, t.TabularProviderHTMLTable.prototype.removeRow = function (e) {
        this.source.find("tr").eq(e + 1).remove()
    }, t.Tabular = function (e) {
        var n = this;
        e = this.params = e || {}, _.isString(e) && (e = {source: e}), this.events = e.events || null, this.colnames = [], this.coltypes = [], this.rows = [];
        var r = e.source;
        if (r) {
            if ((_.isString(r) || _.isElement(r)) && (r = $(r)), r.jquery) {
                var i = r.prop("tagName");
                if ("SCRIPT" === i) {
                    var a = r.attr("type");
                    if ("text/tab-separated-values" === a)r = d3.tsv.parseRows(r.text().trim()); else {
                        if ("text/csv" !== a)throw new Error("Don't know how to parse script element with type " + a + " into a table");
                        r = d3.csv.parseRows(r.text().trim())
                    }
                } else {
                    if ("TABLE" !== i)throw new Error("Don't know how to parse element " + i + " into a table");
                    this.provider = new t.TabularProviderHTMLTable(this, r)
                }
            }
            if (_.isArray(r) && r.length > 0) {
                var o = r[0];
                if (_.isArray(o)) {
                    _.each(o, function (e) {
                        n.addColumn(e)
                    });
                    for (var s = 1, l = r.length; l > s; s++)n.addRow.apply(n, r[s])
                } else {
                    var u = e.columns;
                    _.isUndefined(u) && (u = [], _.each(_.keys(o), function (e) {
                        u.push({jsonpath: e})
                    })), _.each(u, function (e) {
                        var t = e.name || e.jsonpath, i = e.jsonpath;
                        "$" !== i.charAt(0) && (i = "$[*]." + i);
                        var a = jsonPath.eval(r, i);
                        n.addColumnData(t, a)
                    })
                }
            }
        }
    }, t.defineDependencies(t.Tabular, ["$", "_", "jsonpath", "d3", "CVType", "CVEvents"]), t.Tabular.prototype.publish = function (e, t) {
        this.events && this.events.publish(e, t)
    }, t.Tabular.prototype.addColumns = function () {
        var e = this;
        _.each(arguments, function (t) {
            e.addColumn(t)
        })
    }, t.Tabular.prototype.addColumn = function (e, t) {
        var n = this.colnames.length;
        this.insertColumn(n, e, t)
    }, t.Tabular.prototype.insertColumn = function (e, t, n) {
        n = n || null, this.colnames.splice(e, 0, t), this.coltypes.splice(e, 0, n);
        for (var r = this.getRowCount(), i = 0; r > i; i++)this.rows[i].splice(e, 0, null);
        var a = {name: t, type: n, index: e};
        this.publish("CV.Tabular.insertColumn", a), this.params.sync && this.provider && this.provider.supportsSync && this.provider.insertColumn(a)
    }, t.Tabular.prototype.addColumnData = function (e, t, n) {
        var r = this.colnames.length;
        this.addColumn(e, n);
        for (var i = t.length, a = 0; i > a; a++)this.setValueAt(a, r, t[a])
    }, t.Tabular.prototype.removeColumn = function (e) {
        if (_.isString(e))this.removeColumns(e); else {
            this.colnames.splice(e, 1), this.coltypes.splice(e, 1);
            for (var t = 0, n = this.rows.length; n > t; t++)this.rows[t].splice(e, 1);
            this.publish("CV.Tabular.removeColumn", e), this.params.sync && this.provider && this.provider.supportsSync && this.provider.removeColumn(e)
        }
    }, t.Tabular.prototype.removeColumns = function () {
        for (var e = 0, t = arguments.length; t > e; e++) {
            var n = arguments[e], r = this.getColumnIndex(n);
            this.removeColumn(r)
        }
    }, t.Tabular.prototype.setColumnName = function (e, t) {
        this.colnames[e] = t
    }, t.Tabular.prototype.setColumnNames = function (e) {
        this.colnames = e
    }, t.Tabular.prototype.addRow = function () {
        for (var e = Array.prototype.slice.call(arguments, 0); e.length < this.colnames.length;)e.push(null);
        this.rows.push(e), this.publish("CV.Tabular.addRow", e), this.params.sync && this.provider && this.provider.supportsSync && this.provider.addRow(e)
    }, t.Tabular.prototype.addNullRow = function () {
        for (var e = [], t = 0, n = this.colnames.length; n > t; t++)e.push(null);
        this.rows.push(e)
    }, t.Tabular.prototype.removeRow = function (e) {
        this.rows.splice(e, 1), this.publish("CV.Tabular.removeRow", e), this.params.sync && this.provider && this.provider.supportsSync && this.provider.removeRow(e)
    }, t.Tabular.prototype.removeRows = function () {
        var e = Array.prototype.slice.call(arguments, 0);
        e.sort();
        for (var t = e.length; t >= 0; t--) {
            var n = e[t];
            this.removeRow(n)
        }
    }, t.Tabular.prototype.mapColumn = function (e, t) {
        _.isString(e) && (e = this.getColumnIndex(e));
        for (var n = 0, r = this.rows.length; r > n; n++) {
            var i = this.getValueAt(n, e);
            this.setValueAt(n, e, t(i))
        }
    }, t.Tabular.prototype.getColumnCount = function () {
        return this.colnames.length
    }, t.Tabular.prototype.getRowCount = function () {
        return this.rows.length
    }, t.Tabular.prototype.getColumnName = function (e) {
        return this.colnames[e]
    }, t.Tabular.prototype.getColumnType = function (e) {
        return _.isString(e) && (e = this.getColumnIndex(e)), this.coltypes[e]
    }, t.Tabular.prototype.getColumnIndex = function (e, t) {
        if (_.isUndefined(t) && (t = !0), t)return _.indexOf(this.colnames, e);
        for (var n = e.toLocaleLowerCase(), r = 0, i = this.colnames.length; i > r; r++) {
            var a = this.colnames[r].toLocaleLowerCase();
            if (n === a)return r
        }
        return -1
    }, t.Tabular.prototype.getColumnValues = function (e) {
        _.isString(e) && (e = this.getColumnIndex(e));
        for (var t = [], n = 0, r = this.rows.length; r > n; n++) {
            var i = this.getValueAt(n, e);
            t.push(i)
        }
        return t
    }, t.Tabular.prototype.getColumnValuesString = function (e) {
        return this.getColumnValues(e).join("\n")
    }, t.Tabular.prototype.getValueAt = function (e, n) {
        _.isString(n) && (n = this.getColumnIndex(n));
        var r = this.rows[e];
        if (n >= r.length)return null;
        var i = this.coltypes[n];
        return i ? (i = t["Type" + this.coltypes[n]], i.cast(r[n])) : r[n]
    }, t.Tabular.prototype.setValueAt = function (e, t, n) {
        _.isString(t) && (t = this.getColumnIndex(t));
        var r;
        for (r = this.rows.length - 1; e > r; r++)this.addNullRow();
        var i = this.rows[e], a = i.length;
        if (a > t)i[t] = n; else {
            for (r = a; t > r; r++)i.push(null);
            i.push(n)
        }
    }, t.Tabular.prototype.toArrayOfArrays = function () {
        var e = [this.colnames];
        return _.each(this.rows, function (t) {
            e.push(t)
        }), e
    }, t.Tabular.prototype.toArrayOfObjects = function () {
        for (var e = [], t = 0, n = this.rows.length; n > t; t++) {
            for (var r = {}, i = 0, a = this.colnames.length; a > i; i++) {
                var o = this.colnames[i];
                r[o] = this.getValueAt(t, i)
            }
            e.push(r)
        }
        return e
    }, t.Tabular.prototype.toCSV = function () {
        return d3.csv.formatRows(this.toArrayOfArrays())
    }, t.Tabular.prototype.toTSV = function () {
        return d3.tsv.formatRows(this.toArrayOfArrays())
    }, t.Tabular.prototype.toHTMLTable = function () {
        var e, t, n, r = $("<table>"), i = $("<thead>").appendTo(r), a = $("<tbody>").appendTo(r), o = this.colnames.length, s = this.rows.length;
        for (e = $("<tr>").appendTo(i), n = 0, o; o > n; n++) {
            var l = $("<th>").text(this.colnames[n]).appendTo(e), u = this.coltypes[n];
            u && l.data("cvtype", u)
        }
        for (t = 0, s = this.rows.length; s > t; t++)for (e = $("<tr>").appendTo(a), n = 0, o; o > n; n++)$("<td>").text(this.getValueAt(t, n)).appendTo(e);
        return r
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Text = function (e) {
        this.text = "", e = this.params = e || {}, _.isElement(e) && (e = $(e)), _.isString(e) && (this.text = e, e = {}), e.jquery && (this.text = e.text(), e = {}), this.events = e.events || null
    }, t.defineDependencies(t.Text, ["$", "_", "CVEvents"]), t.Text.prototype.publish = function (e, t) {
        this.events && this.events.publish(e, t)
    }, t.Text.prototype.length = function () {
        return this.text.length
    }, t.Text.prototype.getWordCounts = function (e) {
        e = e || {};
        var t = (e.sort || "data", e.sortDir || "asc"), n = e.regex || /[A-Za-z']+/g, r = this.text.match(n), i = {};
        _.each(r, function (e) {
            e in i || (i[e] = 0), i[e]++
        });
        var a = {}, o = [];
        return _.each(r, function (e) {
            e in a || (a[e] = !0, o.push({text: e, count: i[e]}))
        }), i = o, "desc" === t && i.reverse(), i
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Graph = function (e) {
        e = e || {}, this.events = e.events || new t.Events
    }, t.defineDependencies(t.Graph, ["_", "CVEvents"]), t.Graph.prototype.addVertex = function () {
        var e = new t.Vertex(t.getArgumentArray(arguments));
        return e
    }, t.Graph.prototype.getVertex = function () {
    }, t.Graph.prototype.removeVertex = function () {
    }, t.Graph.prototype.addEdge = function () {
    }, t.Graph.prototype.getEdge = function () {
    }, t.Graph.prototype.removeEdge = function () {
    }, t.Element = function () {
    }, t.Vertex = function () {
        console.log("vertex constructor")
    }, t.inheritFrom(t.Vertex, "Element"), t.Vertex.prototype.addEdge = function () {
    }, t.Edge = function () {
    }, t.inheritFrom(t.Edge, "Element")
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Selection = function (e) {
        this.selected = {}, e = this.params = t.Function.parseParams(e, t.Selection.params), this.events = this.params.events || new t.Events, this.params.values && this.setValues(this.params.values), this.params.selected && this.set(this.params.selected)
    }, t.Function.defineParams(t.Selection, {
        events: {description: "Events instance to broadcast on"},
        values: {description: "Valid values for selection"},
        selected: {description: "Values to immediately select"}
    }), t.Selection.prototype.setValues = function (e) {
        var t = this;
        this.values = {}, _.each(e, function (e) {
            t.values[e] = null
        })
    }, t.Selection.prototype.get = function () {
        return _.keys(this.selected)
    }, t.Selection.prototype.getFirst = function () {
        var e = this.get();
        return e.length > 0 ? e[0] : null
    }, t.Selection.prototype.count = function () {
        return _.size(this.selected)
    }, t.Selection.prototype.contains = function (e) {
        return e in this.selected
    }, t.Selection.prototype.includes = t.Selection.prototype.contains, t.Selection.prototype.add = function (e) {
        e in this.selected || (this.selected[e] = null, this.events.publish("selection.add", e), this.events.publish("selection.change"))
    }, t.Selection.prototype.remove = function (e) {
        e in this.selected && (delete this.selected[e], this.events.publish("selection.remove", e), this.events.publish("selection.change"))
    }, t.Selection.prototype.set = function (e) {
        _.isArray(e) || (e = [e]);
        var t, n, r, i = _.keys(this.selected), a = _.difference(i, e), o = _.difference(e, i), s = a.length > 0 || o.length > 0;
        for (t = 0, n = a.length; n > t; t++)r = a[t], delete this.selected[r], this.events.publish("selection.remove", r);
        for (t = 0, n = o.length; n > t; t++)r = o[t], this.selected[r] = null, this.events.publish("selection.add", r);
        s && this.events.publish("selection.change")
    }, t.Selection.prototype.clear = function () {
        this.set([])
    }, t.Selection.prototype.selectAll = function () {
        if (!this.params.values)throw new Error("CVSelection can only selectAll if the set of possible selections has been supplied");
        this.set(this.params.values)
    }, t.Selection.prototype.invert = function () {
        if (!this.params.values)throw new Error("CVSelection can only invert if the set of possible selections has been supplied");
        var e = this, t = [];
        _.each(this.values, function (n, r) {
            e.contains(r) || t.push(r)
        }), this.set(t)
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Slot = function (e) {
        e = e || {}, this.id = e.id, this.name = e.name || this.id, this.type = e.type || t.Type.String, this.required = "required" in e ? e.required : !0, this.multiple = "multiple" in e ? e.multiple : !1
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Legend = function () {
    }, t.defineDependencies(t.Legend, ["$", "d3", "CVGlobalize", "CVEvents", "CVSelection"]), t.Legend.prototype.remove = function () {
        this.$element && this.$element.remove()
    }, t.LegendCategorical = function (e) {
        var n = this;
        this.params = e || {}, this.events = e.events || new t.Events, this.selected = e.selection || new t.Selection, this.bgAccentuated = "rgb(230, 240, 255)", this.bgSelected = "rgba(120, 180, 255, 0.4)", e.theme && (this.bgAccentuated = e.theme.backgroundColorAccentuated, this.bgSelected = e.theme.backgroundColorSelected), this.events.subscribe("accentuate", function (e, t) {
            var r = d3.select(t.elementLegend);
            r.select(".bg").style("fill", n.bgAccentuated)
        }), this.events.subscribe("deaccentuate", function (e, t) {
            var r = n.selected.includes(t.label), i = d3.select(t.elementLegend);
            i.select(".bg").style("fill", r ? n.bgSelected : "transparent")
        }), this.events.subscribe("highlight", function (e, t) {
            var r = d3.select(t.elementLegend);
            r.select(".bg").style("fill", n.bgSelected)
        }), this.events.subscribe("selection.add", function (e, t) {
            var r = d3.select(t.elementLegend);
            r.select(".bg").style("fill", n.bgAccentuated)
        }), this.events.subscribe("selection.remove", function (e, t) {
            var n = d3.select(t.elementLegend);
            n.select(".bg").style("fill", "transparent")
        }), this.$element && this.$element.remove();
        this.$element = $("<div>").css({
            position: "absolute",
            overflowY: "auto",
            overflowX: "hidden",
            userSelect: "none"
        }).addClass("cvlegendcategorical")
    }, t.inheritFrom(t.LegendCategorical, t.Legend), t.Function.defineParams(t.LegendCategorical, {
        data: {description: "Data source for the legend"},
        events: {description: "Event manager for the legend"},
        selection: {description: "Selection manager for the legend"},
        scale: {description: "Categorical scale to use for the legend"},
        accessibility: {description: "Accessibility Overrides", defaultValue: null},
        globalize: {
            description: "Locale for the visualization",
            defaultValue: "English",
            types: [{type: "Categorical", values: t.Globalize.locales}, {type: "Object"}]
        },
        theme: {
            description: "Theme to set visual appearance",
            required: !1,
            types: [{
                type: "Categorical", values: t.Theme.getNames(), test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }, {type: "Object"}]
        },
        font: {
            description: "The font to use",
            defaultValue: "Arial",
            types: [{
                type: "Categorical", values: t.Font.getAvailable(), test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        fontSize: {description: "Font size for legend labels", defaultValue: 14, types: [{type: "Integer", min: 0}]},
        fontWeight: {
            description: "Font weight for legend labels",
            defaultValue: "normal",
            types: [{
                type: "Categorical", values: t.Font.weights, test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        }
    }), t.Legend.prototype.onParamChange = function (e) {
        var n = this;
        e = e || this.params, e = this.params = t.Function.parseParams(e, t.LegendCategorical.params), t.Font.require(e.font, function () {
            n.initialize(e)
        })
    }, t.LegendCategorical.prototype.initialize = function () {
        var e = this;
        this.accessibility = t.Accessibility.get(this.params.accessibility), this.globalize = t.Globalize.get(), this.numberFormatter = this.globalize.numberFormatter();
        var n = this.params.fontSize * this.accessibility.getTextMagnification(), r = n + 4, i = d3.select(this.$element[0]).append("svg").attr("height", r * this.params.data.length).style({position: "absolute"}), a = i.selectAll(".row").data(this.params.data).enter().append("g").style("cursor", "pointer").attr("transform", function (e, t) {
            return "translate(0, " + t * r + ")"
        }).each(function (e) {
            e.elementLegend = this
        });
        a.append("rect").classed("bg", !0).attr("fill", function (t) {
            return e.selected.includes(t.label) ? e.bgSelected : "transparent"
        }).attr("x", 0).attr("y", 0).attr("height", r).attr("width", "100%"), a.on("mouseenter", function (t) {
            e.events.publish("accentuate", t)
        }).on("mouseleave", function (t) {
            e.events.publish("deaccentuate", t)
        }).on("mousedown", function (t) {
            e.events.publish("highlight", t)
        }).on("click", function (t) {
            d3.event.shiftKey ? console.log("Mouse+Shift pressed") : d3.event.ctrlKey ? e.selected.includes(t.label) ? e.selected.remove(t.label) : e.selected.add(t.label) : e.selected.includes(t.label) ? e.selected.clear() : e.selected.set(t.label)
        });
        var o = 1;
        a.append("svg:rect").attr("fill", function (t, n) {
            return e.params.scale(n)
        }).attr("x", o).attr("y", o).attr("height", r - 2 * o).attr("width", r - 2 * o).on("click", function () {
            console.log("Clicked square, maybe open color chooser")
        });
        var s = 0;
        a.append("text").classed("label", !0).attr("x", r + 2 * o).attr("dy", "1em").attr("font-size", n).style("font-family", this.params.font + ",sans-serif").text(function (e) {
            return e.label
        }).each(function () {
            s = Math.max(this.getBBox().width, s)
        });
        var l = s + r + 8, u = 0, h = a.append("text").classed("value", !0).attr("dy", "1em").attr("font-size", n).style("font-family", this.params.font + ",sans-serif").attr("text-anchor", "end").text(function (t) {
            return e.numberFormatter(t.value)
        }).each(function () {
            u = Math.max(this.getBBox().width, u)
        });
        l += u, h.attr("x", l), l += 30, i.attr("width", l), this.width = l
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.Visualization = function () {
        this.mode = "large"
    }, t.defineDependencies(t.Visualization, ["$", "_", "CVAccessibility", "CVGlobalize", "CVFunction", "CVTabular"]), t.Function.defineParams(t.Visualization, {
        container: {description: "Target for visualization"},
        data: {description: "Data source for the visualization"},
        events: {description: "Event manager for the visualization"},
        width: {
            description: "Width of the visualization",
            defaultValue: 500,
            types: [{type: "Integer", min: 0}],
            listen: !0
        },
        height: {
            description: "Height of the visualization",
            defaultValue: 500,
            types: [{type: "Integer", min: 0}],
            listen: !0
        },
        accessibility: {description: "Accessibility Overrides", defaultValue: null},
        globalize: {
            description: "Locale for the visualization",
            defaultValue: "English",
            types: [{type: "Categorical", values: t.Globalize.locales}]
        }
    }), t.Visualization.prototype.onParamChange = function () {
    }, t.Visualization.prototype.change = function (e, t) {
        var n = e;
        _.isUndefined(t) || (n = {}, n[e] = t), _.extend(this.params, n), this.initialize(this.params)
    }, t.Visualization.prototype.getAccessibility = function () {
    }, t.Visualization.prototype.updateMode = function (e) {
        var t = "large";
        e.width < 200 || e.height < 200 ? t = "small" : (e.width < 300 || e.height < 300) && (t = "medium"), t !== this.mode && (this.mode = t, this.onModeChanged && this.onModeChanged(t))
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.VisualizationGlobe = function (e) {
        this.onParamChange(e)
    }, t.inheritFrom(t.VisualizationGlobe, "Visualization"), t.defineDependencies(t.VisualizationGlobe, ["d3", "THREE", "TWEEN", "CVString", "CVEvents", "CVTheme", "CVLayout", "CVThree", {
        name: "CVTooltip",
        optional: !0,
        notes: "Required if you use the tooltips parameter"
    }, "CVVisualization"]), t.Function.defineParams(t.VisualizationGlobe, {
        autoRotation: {
            description: "Whether globe should spin",
            defaultValue: 1,
            types: [{type: "Integer", description: "", min: 0}, {type: "Boolean", description: ""}]
        },
        earthTexture: {
            description: "What image to use for water and land",
            defaultValue: "light",
            types: [{
                type: "Categorical",
                values: ["light", "bluemarble", "bluemarble_bathymetry", "lights", "dark", "bathymetry"],
                test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        bumpMap: {
            description: "Whether to use a bump map for elevation",
            defaultValue: .005,
            types: [{type: "Number", min: 0, step: .001}, {type: "Boolean"}]
        },
        clouds: {description: "Whether to overlay cloud image", defaultValue: !1, type: "Boolean"},
        sun: {
            description: "Whether to show a directional light representing the sun",
            defaultValue: !1,
            type: "Boolean"
        },
        background: {
            description: "Color to use for the background",
            defaultValue: 0,
            types: [{type: "Color", description: "A Three.js color value"}]
        },
        stars: {description: "Whether to show stars in the background", defaultValue: !1, type: "Boolean"},
        sphereSegments: {
            description: "The number of segments to use when approximating the earth sphere with triangles.",
            defaultValue: 64,
            type: "Integer",
            min: 3
        },
        colorScale: {
            description: "Color scale to use for bars",
            defaultValue: "Oranges",
            types: [{
                type: "Categorical", values: t.Color.colorbrewerSequential, test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        colorBins: {
            description: "How many bins to use for color scale",
            defaultValue: 9,
            types: [{type: "Integer", min: 3, max: 9}]
        }
    }), t.VisualizationGlobe.dataNeeds = [{
        slots: [{
            id: "label",
            name: "Label",
            type: t.TypeString,
            required: !1
        }, {id: "size", name: "Size", type: t.Number, required: !1}]
    }], t.VisualizationGlobe.renderers = function () {
        return ["WebGL"]
    }, t.VisualizationGlobe.prototype.onParamChange = function (e) {
        var n = this;
        e = e || this.params, e = this.params = t.Function.parseParams(e, t.VisualizationGlobe.params), n.initialize(e)
    }, t.VisualizationGlobe.prototype.initialize = function (e) {
        var n = this;
        this.maxFPS = 24, this.events = e.events || new t.Events, this.data = this.getData(e.data);
        var r;
        r = this.$element = e.container ? e.container : $("<div>"), r.css({
            width: e.width,
            height: e.height,
            position: "absolute"
        }), this.$element.find("canvas").remove(), this.tooltip = null, e.tooltips && (this.tooltip = new t.Tooltip({
            parent: e.container,
            autohide: 8e3,
            position: {adjust: {x: 20, y: 20}, viewport: window}
        }));
        var i = this.params.width, a = this.params.height, o = 45, s = i / a, l = .01, u = 1e3, h = this.$element, c = this.renderer = new THREE.WebGLRenderer({
            antialias: !0,
            preserveDrawingBuffer: !0,
            alpha: !0
        }), A = this.camera = new THREE.PerspectiveCamera(o, s, l, u);
        A.position.z = 1.5;
        var f = this.scene = new THREE.Scene;
        f.add(A), c.setSize(i, a), h.append(c.domElement);
        var d = h.get(0);
        if (this.controls = new THREE.OrbitControls(this.camera, d), this.params.autoRotation && (this.controls.autoRotate = !0, _.isNumber(this.params.autoRotation) && (this.controls.autoRotateSpeed = this.params.autoRotation)), this.projector = new THREE.Projector, this.mouseVector = new THREE.Vector3, this.canvas = $(c.domElement), this.params.bumpMap && (this.params.sun = !0), this.params.sun) {
            f.add(new THREE.AmbientLight(13421772));
            var p = new THREE.DirectionalLight(16777215, 1);
            p.position.set(5, 3, 5), f.add(p)
        } else f.add(new THREE.AmbientLight(16777215));
        var m = .5, g = this.params.sphereSegments, v = 6;
        if (this.sphere = this.createEarth(m, g), this.sphere.rotation.y = v, f.add(this.sphere), this.params.clouds && (this.clouds = this.createClouds(m, g), this.clouds.rotation.y = v, f.add(this.clouds)), c.setClearColor(this.params.background), this.params.stars) {
            var y = this.createStars(90, 64);
            f.add(y)
        }
        var E, b = (new THREE.Geometry, _.min(this.data, function (e) {
            return e.value
        }).value), x = _.max(this.data, function (e) {
            return e.value
        }).value, w = this.params.colorScale, T = this.params.colorBins, C = [];
        for (E = 0; T > E; E++)C.push(E);
        var R = window.quant = d3.scale.quantize().domain([b, x]).range(C), B = [];
        for (E = 0; T > E; E++) {
            var M = colorbrewer[w][T][E];
            B.push(new THREE.MeshBasicMaterial({color: M, opacity: .8, transparent: !0}))
        }
        for (E = 0; E < this.data.length; E++) {
            var H = this.data[E], S = H.lng, D = H.lat, F = H.value, k = R(F), O = B[k], P = this.latLongToVector3(D, S, m, 0), L = new THREE.Mesh(new THREE.CubeGeometry(.002, .002, F, 1, 1, 1), O);
            L.position = P, L.lookAt(new THREE.Vector3(0, 0, 0)), f.add(L)
        }
        n.animate = _.bind(n.animate, n), n.animationstart = new Date, n.animate()
    }, t.VisualizationGlobe.prototype.getData = function (e) {
        var t = [];
        if (_.isUndefined(e))return t;
        for (var n = 0, r = e.length; r > n; n += 3) {
            var i = e[n], a = e[n + 1] - 16.5, o = e[n + 2];
            t.push({lat: i, lng: a, value: o})
        }
        return t
    }, t.VisualizationGlobe.prototype.createEarth = function (e, t) {
        var n = "/platform/images/2_no_clouds_4k.jpg";
        switch (this.params.earthTexture) {
            case"bluemarble":
                n = "/platform/images/globe_bluemarble.jpg";
                break;
            case"bluemarble_bathymetry":
                n = "/platform/images/globe_bluemarble_bathymetry.jpg";
                break;
            case"lights":
                n = "/platform/images/globe_lights.jpg";
                break;
            case"dark":
                n = "/platform/images/globe_dark.jpg";
                break;
            case"bathymetry":
                n = "/platform/images/globe_bathymetry.jpg"
        }
        var r = {map: THREE.ImageUtils.loadTexture(n)};
        return this.params.sun && (r.specularMap = THREE.ImageUtils.loadTexture("/platform/images/water_4k.png"), r.specular = new THREE.Color("grey")), this.params.bumpMap && (r.bumpMap = THREE.ImageUtils.loadTexture("/platform/images/elev_bump_4k.jpg"), r.bumpScale = .005, _.isNumber(this.params.bumpMap) && (r.bumpScale = this.params.bumpMap)), new THREE.Mesh(new THREE.SphereGeometry(e, t, t), new THREE.MeshPhongMaterial(r))
    }, t.VisualizationGlobe.prototype.createClouds = function (e, t) {
        return new THREE.Mesh(new THREE.SphereGeometry(e + .003, t, t), new THREE.MeshPhongMaterial({
            map: THREE.ImageUtils.loadTexture("/platform/images/fair_clouds_4k.png"),
            transparent: !0
        }))
    }, t.VisualizationGlobe.prototype.createStars = function (e, t) {
        return new THREE.Mesh(new THREE.SphereGeometry(e, t, t), new THREE.MeshBasicMaterial({
            map: THREE.ImageUtils.loadTexture("/platform/images/galaxy_starfield.png"),
            side: THREE.BackSide
        }))
    }, t.VisualizationGlobe.prototype.latLongToVector3 = function (e, t, n, r) {
        var i = e * Math.PI / 180, a = (t - 180) * Math.PI / 180, o = -(n + r) * Math.cos(i) * Math.cos(a), s = (n + r) * Math.sin(i), l = (n + r) * Math.cos(i) * Math.sin(a);
        return new THREE.Vector3(o, s, l)
    }, t.VisualizationGlobe.prototype.render = function () {
        e.TWEEN.update(), this.controls.update(), this.renderer.render(this.scene, this.camera)
    }, t.VisualizationGlobe.prototype.animate = function () {
        var e = this;
        this.render(), setTimeout(function () {
            window.requestAnimationFrame(e.animate)
        }, 1e3 / this.maxFPS)
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.VisualizationPie = function (e) {
        this.toCleanup = [], this.onParamChange(e)
    }, t.inheritFrom(t.VisualizationPie, "Visualization"), t.defineDependencies(t.VisualizationPie, ["d3", "CVString", "CVEvents", "CVSelection", "CVTheme", "CVLegend", "CVLayout", {
        name: "CVTooltip",
        optional: !0,
        notes: "Required if you use the tooltips parameter"
    }, "CVVisualization"]), t.Function.defineParams(t.VisualizationPie, {
        theme: {
            description: "Theme to set visual appearance",
            required: !1,
            types: [{
                type: "Categorical", values: t.Theme.getNames(), test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        background: {
            description: "Color to use for the background",
            types: [{type: "Color", description: "A CSS color string"}]
        },
        colors: {
            description: "Colors to use for each pie slice, overrides theme.  If you specify fewer colors than data points they will repeat cyclically.",
            required: !1
        },
        labels: {
            description: "Text to show on each pie slice",
            defaultValue: "**\n##: %%",
            types: [{
                type: "String",
                description: "A label template, where ** is the label, ## is the localized number, and %% is the localized percent."
            }, {
                type: "Function",
                description: "A function that takes the slice data object and returns a label template."
            }]
        },
        font: {
            description: "The font to use",
            defaultValue: "Arial",
            types: [{
                type: "Categorical", values: t.Font.getAvailable(), test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        fontColor: {
            description: "Color to use for the slice labels",
            defaultValue: "auto",
            types: [{
                type: "Categorical",
                values: ["auto"],
                test: function (e) {
                    return -1 !== this.values.indexOf(e)
                },
                description: "If auto, slice label will be colored white or black to maximize readability against slice background"
            }, {type: "Color", description: "A CSS color string"}]
        },
        fontSize: {description: "Font size for slice labels", defaultValue: 14, types: [{type: "Integer", min: 0}]},
        fontWeight: {
            description: "Font weight for slice labels",
            defaultValue: "normal",
            types: [{
                type: "Categorical", values: t.Font.weights, test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        startAngle: {
            description: "The overall start angle of the pie layout in radians.",
            defaultValue: 0,
            types: [{type: "Number", min: 0}]
        },
        endAngle: {
            description: "The overall end angle of the pie layout in radians.", defaultFunction: function (e) {
                return 2 * Math.PI + e.startAngle
            }, types: [{type: "Number", min: 0}]
        },
        clockwise: {
            description: "Whether to go clockwise or counter-clockwise around the pie in data order",
            defaultValue: !0,
            type: "Boolean"
        },
        donutRadius: {
            description: "The inner radius for a donut chart",
            defaultValue: 0,
            types: [{
                type: "Number",
                description: "If negative, will be that many pixels closer to center than outer radius.  If greater than one will be that many pixels.  If between 0 and 1 will be a percentage of outer radius."
            }, {
                type: "String", description: 'Can be a percentage string like "50%"', test: function (e) {
                    return t.String.endsWith(e, "%")
                }
            }]
        },
        donutFilling: {
            description: "Something to put in the middle of the chart",
            required: !1,
            types: [{type: "String", description: "A label template, where ## is the total number."}, {
                type: "Function",
                description: "A function that takes the slice data object and returns a label template."
            }]
        },
        selected: {
            description: "Labels of slices that start out selected",
            defaultValue: [],
            types: [{type: "StringArray", description: "An array with the labels of slices to select"}, {
                type: "String",
                description: "The label of a single slice to select"
            }]
        },
        interactiveSelection: {
            description: "Whether clicking on a slice selects it",
            defaultValue: 30,
            types: [{
                type: "Boolean",
                description: "If true, interactive selection will be enabled with default movement, if false, interactive selection is disabled"
            }, {
                type: "Integer", test: function (e) {
                    return e > 0
                }, description: "Interactive selection will be enabled with the specified movement in pixels"
            }]
        },
        tooltips: {
            description: "Whether to show tooltips",
            defaultValue: !1,
            types: [{
                type: "Boolean",
                description: "If true, will show label and value in tooltip, if false, no tooltips"
            }, {
                type: "Object",
                description: "User can specify functions that take entity data and provide HTML for the title and tooltip"
            }]
        },
        legend: {
            description: "Whether to show a legend (assuming legend module is loaded)",
            defaultValue: "auto",
            types: [{
                type: "Categorical", values: ["auto"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }, description: "If auto, legend will automatically show if the visualization size is large enough"
            }, {
                type: "Boolean",
                description: "If true, will always show a legend with the default functionality and position, if false, no legend will be shown"
            }, {type: "Object", description: "User can customize legend behavior"}]
        },
        legendPosition: {
            description: "Which side to show the legend on, if legend is being shown",
            defaultValue: "west",
            types: [{
                type: "Categorical", values: ["west", "east"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }, description: "west or east"
            }]
        },
        sort: {
            description: "The order the pie slices are shown in",
            defaultValue: "data",
            types: [{
                type: "Categorical",
                test: function (e) {
                    return -1 !== this.values.indexOf(e)
                },
                values: ["data", "label", "value"],
                description: "data = data order, label = by label, value = by value"
            }]
        },
        sortDirection: {
            description: "The order the pie slices are shown in",
            defaultValue: "asc",
            types: [{
                type: "Categorical", test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }, values: ["asc", "desc"], description: "asc or desc"
            }]
        }
    }), t.VisualizationPie.dataNeeds = [{
        slots: [{
            id: "label",
            name: "Label",
            type: t.TypeString,
            required: !1
        }, {id: "value", name: "Slice Size", type: t.Number, required: !1}]
    }], t.VisualizationPie.renderers = function () {
        return ["svg"]
    }, t.VisualizationPie.prototype.onParamChange = function (e) {
        var n = this;
        e = e || this.params, e = this.params = t.Function.parseParams(e, t.VisualizationPie.params), t.Globalize.require(e.globalize, ["", "", ""], function () {
            t.Font.require(e.font, function () {
                n.initialize(e)
            })
        })
    }, t.VisualizationPie.prototype.initialize = function (e) {
        _.each(this.toCleanup, function (e) {
            e.call()
        }), this.toCleanup = [], this.accessibility = t.Accessibility.get(e.accessibility), this.globalize = t.Globalize.get(), this.numberFormatter = this.globalize.numberFormatter(), this.percentFormatter = this.globalize.numberFormatter({
            style: "percent",
            minimumFractionDigits: 1,
            maximumFractionDigits: 1
        });
        var n = this;
        this.total = 0, this.events = e.events || new t.Events, this.data = this.getData(e.data), this.selected = new t.Selection({events: this.events});
        var r = this.params.theme ? t.Theme.get(this.params.theme) : null;
        if (this.accessibility.params.background ? this.backgroundColor = this.accessibility.params.background : this.params.background ? this.backgroundColor = this.params.background : r && (this.backgroundColor = r.backgroundColor), this.scaleColor = this.params.colors ? _.isArray(this.params.colors) ? t.Theme.getColorScaleCategorical(this.data.length, this.params.colors) : this.params.colors : r ? r.getColorScaleCategorical(this.data.length) : d3.scale.ordinal().range(t.Color.manyEyes), this.params.interactiveSelection === !0 && (this.params.interactiveSelection = 30), this.params.legend)if (t.LegendCategorical) {
            var i = {
                events: this.events,
                scale: this.scaleColor,
                data: this.data,
                selection: this.selected,
                accessibility: this.accessibility,
                globalize: this.globalize,
                font: this.params.font,
                fontSize: this.params.fontSize,
                fontWeight: this.params.fontWeight
            };
            r && (i.theme = r), _.isObject(this.params.legend) && $.extend(i, this.params.legend), this.legend = new t.LegendCategorical(i)
        } else console.error("Error: legend requested but CVLegend library not loaded.");
        this.layout && this.layout.removeChildren();
        var a;
        a = this.$element = e.container ? e.container : $("<div>"), a.css({
            width: e.width,
            height: e.height,
            position: "absolute"
        }), this.tooltip = null, e.tooltips && (this.tooltip = new t.Tooltip({
            parent: e.container,
            autohide: 8e3,
            position: {adjust: {x: 20, y: 20}, viewport: window}
        }));
        var o = {
            center: {
                onPosition: function (e) {
                    n.draw(e)
                }
            }
        };
        this.params.legend && (o[this.params.legendPosition] = this.legend), this.layout = new t.LayoutBorder({
            container: this.$element,
            children: o,
            layoutImmediately: !1,
            beforeLayout: function (e) {
                n.params.width = e.width, n.params.height = e.height, n.updateMode(e)
            }
        }), this.events.subscribe("accentuate", function (e, t) {
            d3.select(t.element).selectAll(".cvvisualizationpie_pop").attr("transform", "translate(-2, -2)")
        }), this.events.subscribe("deaccentuate", function (e, t) {
            d3.select(t.element).selectAll(".cvvisualizationpie_pop").attr("transform", "translate(0, 0)")
        }), this.events.subscribe("selection.add", function (e, t) {
            var r = _.find(n.datapie, function (e) {
                return e.data.label === t
            }), i = n.arc.centroid(r), a = i[0], o = i[1], s = Math.atan2(o, a), l = n.params.interactiveSelection * Math.cos(s), u = n.params.interactiveSelection * Math.sin(s), h = d3.select(r.data.element);
            h.transition().duration(1e3).attr("transform", "translate(" + l + ", " + u + ")")
        }), this.events.subscribe("selection.remove", function (e, t) {
            var r = _.find(n.datapie, function (e) {
                return e.data.label === t
            }), i = d3.select(r.data.element);
            i.transition().duration(1e3).attr("transform", "translate(0, 0)")
        }), this.legend && this.legend.onParamChange(), this.layout.layout(), this.params.selected && n.selected.set(this.params.selected)
    }, t.VisualizationPie.prototype.reinitialize = function (e) {
        console.log(e), this.initialize()
    }, t.VisualizationPie.prototype.getData = function (e) {
        var n, r = this;
        if (this.total = 0, _.isNumber(e) && e >= 0 && 1 >= e) {
            this.total = 1;
            var i = 1 - e;
            n = [{value: e, label: this.percentFormatter(e)}, {
                value: i,
                label: this.percentFormatter(i),
                hidden: !0
            }], this.params.interactiveSelection = !1
        } else if (_.isArray(e))n = _.map(e, function (e) {
            return _.isNumber(e) ? (r.total += e, {label: r.numberFormatter(e), value: e}) : (r.total += e.value, e)
        }); else {
            if (!_.isObject(e))throw new Error("Don't know how to parse data");
            n = [];
            var a, o, s;
            if (e instanceof t.Tabular ? (a = e, s = a.getColumnType(0), o = 0) : (a = e.source, s = a.getColumnType(e.value), o = e.value), a.events) {
                var l = _.bind(this.reinitialize, this);
                a.events.subscribe("CV.Tabular", l), this.toCleanup.push(function () {
                    a.events.unsubscribe("CV.Tabular", l)
                })
            }
            if ("Number" === s || "Integer" === s)for (var u = 0, h = a.getRowCount(); h > u; u++) {
                var c = a.getValueAt(u, o);
                r.total += c, n.push({label: a.getValueAt(u, e.label), value: c})
            } else {
                var A = _.countBy(a.getColumnValues(o));
                _.each(A, function (e, t) {
                    r.total += e, n.push({label: t, value: e})
                })
            }
        }
        return "data" !== this.params.sort && (n = _.sortBy(n, this.params.sort)), "desc" === this.params.sortDirection && n.reverse(), n
    }, t.VisualizationPie.prototype.pointInsideArc = function (e, t) {
        var n = e.getDistanceFromOrigin();
        if (n < this.inner || n > this.outer)return !1;
        var r = t.startAngle, i = t.endAngle, a = Math.atan2(-1 * e.y, e.x);
        return a = Math.PI / 2 < a && a <= Math.PI ? 2.5 * Math.PI - a : Math.PI / 2 - a, r > a || a > i ? !1 : !0
    }, t.VisualizationPie.prototype.rectInsideArc = function (e, t) {
        return this.pointInsideArc(e.getTopLeft(), t) && this.pointInsideArc(e.getTopRight(), t) && this.pointInsideArc(e.getBottomRight(), t) && this.pointInsideArc(e.getBottomLeft(), t)
    }, t.VisualizationPie.prototype.getLabel = function (e, t, n) {
        var r = e.label, i = this.percentFormatter(e.value / this.total), a = this.numberFormatter(e.value), o = $("<div>");
        return _.isFunction(t) && (t = t(d)), t = t.replace(/[*][*]/g, r), t = t.replace(/[#][#]/g, a), t = t.replace(/[%][%]/g, i), _.each(t.split("\n"), function (e, t) {
            var r = $("<tspan>").text(e).attr("x", 0).appendTo(o);
            0 !== t && r.attr("dy", n)
        }), o.html()
    }, t.VisualizationPie.prototype.draw = function (e) {
        var n = this;
        void 0 === e && (e = new t.Rect(0, 0, this.params.width, this.params.height)), this.$element.find("svg.cvvisualizationpie").remove();
        var r = e.width, i = e.height, a = Math.min(r, i) / 2, o = d3.select(this.$element[0]).append("svg").classed("cvvisualizationpie", !0).attr("width", r).attr("height", i).style({
            top: e.y,
            left: e.x,
            position: "absolute",
            "-moz-user-select": "none",
            "-khtml-user-select": "none",
            "-webkit-user-select": "none",
            "-ms-user-select": "none",
            "user-select": "none"
        }).on("click", function () {
            n.selected.clear()
        });
        n.backgroundColor && "transparent" !== n.backgroundColor && this.$element.find(".cvvisualizationpie").css("backgroundColor", n.backgroundColor);
        var s = o.append("g").attr("transform", "translate(" + r / 2 + "," + i / 2 + ")"), l = this.params.donutFilling, u = 0;
        if (l) {
            var h = this.accessibility.params.fontColor;
            h || (h = new t.Color(this.backgroundColor).getReadableTextColor().toStringHTML());
            var c = 2 * this.params.fontSize * this.accessibility.getTextMagnification(), A = this.accessibility.getFontWeight(this.params.fontWeight);
            s.append("text").style("text-anchor", "middle").style("font-family", this.params.font + ",sans-serif").style("font-size", c).style("font-weight", A).style("fill", h).html(function () {
                return n.getLabel({value: n.total}, l, c)
            }).each(function () {
                var e = this.getBoundingClientRect();
                u = Math.sqrt(Math.pow(e.width / 2, 2) + Math.pow(e.height / 2, 2))
            })
        }
        var f = 0;
        f += 2, this.params.interactiveSelection && (f += this.params.interactiveSelection);
        var d = this.outer = Math.max(f, a - f), p = 0, m = this.params.donutRadius;
        m ? p = _.isString(m) && t.String.endsWith(m, "%") ? .01 * parseInt(m) * d : 0 > m ? Math.max(0, d + m) : 1 > m ? m * d : Math.min(d, m) : this.params.donutFilling && (p = 1.5 * u), this.inner = p;
        var g = this.arc = d3.svg.arc().outerRadius(d).innerRadius(p), v = d3.layout.pie().sort(null).startAngle(this.params.startAngle).endAngle(this.params.endAngle).value(function (e) {
            return e.value
        }), y = this.data;
        "clockwise" in this.params && !this.params.clockwise && y.reverse(), this.datapie = v(y), s = s.selectAll(".arc").data(this.datapie).enter().append("g").attr("class", "arc").style("cursor", "pointer").style("opacity", function (e) {
            return e.data.hidden === !0 ? 0 : 1
        }).each(function (e, t) {
            e.data.index = t, e.data.element = this
        }), s.append("path").attr("d", g).classed("cvvisualizationpie_shadow", !0).style("fill", function () {
            return "#808080"
        });
        var E = s.append("g").classed("cvvisualizationpie_pop", !0);
        E.append("path").attr("d", g).style("fill", function (e, t) {
            return n.scaleColor(t)
        });
        var h = this.accessibility.params.fontColor || this.params.fontColor;
        h && "auto" !== h || (h = function (e) {
            var n = $(e.data.element).find(".cvvisualizationpie_pop path").css("fill"), r = new t.Color(n).getReadableTextColor();
            return r.toStringHTML()
        });
        var c = this.params.fontSize * this.accessibility.getTextMagnification(), A = this.accessibility.getFontWeight(this.params.fontWeight);
        E.append("text").attr("id", function (e) {
            return e.data.label
        }).attr("transform", function (e) {
            return "translate(" + g.centroid(e) + ")"
        }).style("text-anchor", "middle").style("fill", h).style("font-family", this.params.font + ",sans-serif").style("font-size", c).style("font-weight", A).style("opacity", 0).classed("cvvisualizationpie_label", !0).html(function (e) {
            return n.getLabel(e.data, n.params.labels, c)
        }).each(function (e) {
            var r = this.getBoundingClientRect(), i = g.centroid(e), a = i[0] - r.width / 2, o = i[1] - r.height / 2;
            m = new t.Rect(a, o, r.width, r.height), n.rectInsideArc(m, e) && $(this).css("opacity", 1)
        }), E.on("mouseenter", function (e) {
            n.events.publish("accentuate", e.data), n.tooltip && n.tooltip.show({
                x: d3.event.pageX,
                y: d3.event.pageY,
                title: e.data.label,
                body: n.numberFormatter(e.data.value) + ": " + n.percentFormatter(e.data.value / n.total)
            })
        }).on("mousemove", function () {
            n.tooltip && n.tooltip.update(d3.event.pageX, d3.event.pageY)
        }).on("mouseleave", function (e) {
            n.events.publish("deaccentuate", e.data), n.tooltip && n.tooltip.hide()
        }).on("click", function (e) {
            d3.event.stopPropagation(), d3.event.ctrlKey ? n.selected.includes(e.data.label) ? n.selected.remove(e.data.label) : n.selected.add(e.data.label) : n.selected.includes(e.data.label) ? n.selected.clear() : n.selected.set(e.data.label)
        })
    }, t.VisualizationPie.prototype.onModeChanged = function (e) {
        var t = {};
        t[this.params.legendPosition] = "small" !== e, t.south = "large" === e, this.layout.setVisible(t)
    }, t.VisualizationPie.prototype.toCanvas = function () {
        var e, n = this.$element.find(".cvvisualizationpie"), r = t.Save.svgToString(n), i = n.width(), a = n.height(), o = 0, s = i, l = this.legend && this.legend.$element.css("opacity") > 0;
        if (l) {
            e = this.legend.$element.find("svg");
            var u = e.width(), h = e.height();
            i += u, a = Math.max(a, h), "west" === this.params.legendPosition && (s = 0, o = u)
        }
        var c = $("<canvas>").attr("width", i).attr("height", a);
        if (canvg(c[0], r, {ignoreDimensions: !0, offsetX: o}), l) {
            var A = t.Save.svgToString(e);
            canvg(c[0], A, {ignoreDimensions: !0, ignoreClear: !0, offsetX: s})
        }
        return c
    }
}(this),function (e) {
    "use strict";
    var t = e.CV || (e.CV = {});
    t.VisualizationWordCloud = function (e) {
        this.ruler = document.createElement("canvas").getContext("2d"), this.onParamChange(e)
    }, t.inheritFrom(t.VisualizationWordCloud, "Visualization"), t.defineDependencies(t.VisualizationWordCloud, ["d3", "d3-cloud", "CVString", "CVEvents", "CVSelection", "CVTheme", "CVLegend", "CVLayout", "CVText", {
        name: "CVTooltip",
        optional: !0,
        notes: "Required if you use the tooltips parameter"
    }, "CVVisualization"]), t.VisualizationWordCloud.stopwords = {
        arabic: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "6", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        czech: ["akoli", "ahoj", "ale", "anebo", "ano", "asi", "aspo", "bhem", "bez", "beze", "blzko", "bohuel", "brzo", "bude", "budeme", "bude", "budete", "budou", "budu", "byl", "byla", "byli", "bylo", "byly", "bys", "au", "chce", "chceme", "chce", "chcete", "chci", "chtj", "chtt", "chut'", "chuti", "co", "trnct", "tyi", "dl", "dle", "daleko", "dkovat", "dkujeme", "dkuji", "den", "deset", "devatenct", "devt", "do", "dobr", "docela", "dva", "dvacet", "dvanct", "dv", "hodn", "j", "jak", "jde", "je", "jeden", "jedenct", "jedna", "jedno", "jednou", "jedou", "jeho", "jej", "jejich", "jemu", "jen", "jenom", "jet", "jestli", "jestlie", "j", "jich", "jm", "jimi", "jinak", "jsem", "jsi", "jsme", "jsou", "jste", "kam", "kde", "kdo", "kdy", "kdy", "ke", "kolik", "krom", "kter", "kter", "kte", "kter", "kvli", "m", "maj", "mlo", "mm", "mme", "m", "mte", "m", "m", "mezi", "m", "mt", "mn", "mnou", "moc", "mohl", "mohou", "moje", "moji", "mon", "mj", "mus", "me", "my", "na", "nad", "nade", "nm", "nmi", "naproti", "ns", "n", "nae", "nai", "ne", "n", "nebo", "nebyl", "nebyla", "nebyli", "nebyly", "nco", "nedl", "nedlaj", "nedlm", "nedlme", "nedl", "nedlte", "njak", "nejsi", "nkde", "nkdo", "nemaj", "nemme", "nemte", "neml", "nmu", "nen", "nesta", "nevad", "ne", "nic", "nich", "nm", "nimi", "nula", "od", "ode", "on", "ona", "oni", "ono", "ony", "osm", "osmnct", "pak", "patnct", "pt", "po", "pod", "potom", "pozd", "ped", "pes", "pese", "pro", "pro", "prosm", "prost", "proti", "protoe", "rovn", "se", "sedm", "sedmnct", "est", "estnct", "skoro", "smj", "sm", "snad", "spolu", "sta", "st", "sto", "ta", "tady", "tak", "takhle", "taky", "tam", "tamhle", "tamhleto", "tamto", "t", "tebe", "tebou", "ted'", "tedy", "ten", "ti", "tisc", "tisce", "to", "tob", "tohle", "toto", "teba", "ti", "tinct", "troku", "tv", "tv", "tvoje", "tvj", "ty", "urit", "u", "vm", "vmi", "vs", "v", "vae", "vai", "ve", "veer", "vedle", "vlastn", "vechno", "vichni", "vbec", "vy", "vdy", "za", "za", "zatmco", "ze", "e"],
        danish: ["og", "i", "jeg", "det", "at", "en", "den", "til", "er", "som", "p", "de", "med", "han", "af", "for", "ikke", "der", "var", "mig", "sig", "men", "et", "har", "om", "vi", "min", "havde", "ham", "hun", "nu", "over", "da", "fra", "du", "ud", "sin", "dem", "os", "op", "man", "hans", "hvor", "eller", "hvad", "skal", "selv", "her", "alle", "vil", "blev", "kunne", "ind", "nr", "vre", "dog", "noget", "ville", "jo", "deres", "efter", "ned", "skulle", "denne", "end", "dette", "mit", "ogs", "under", "have", "dig", "anden", "hende", "mine", "alt", "meget", "sit", "sine", "vor", "mod", "disse", "hvis", "din", "nogle", "hos", "blive", "mange", "ad", "bliver", "hendes", "vret", "thi", "jer", "sdan"],
        dutch: ["de", "en", "van", "ik", "te", "dat", "die", "in", "een", "hij", "het", "niet", "zijn", "is", "was", "op", "aan", "met", "als", "voor", "had", "er", "maar", "om", "hem", "dan", "zou", "of", "wat", "mijn", "men", "dit", "zo", "door", "over", "ze", "zich", "bij", "ook", "tot", "je", "mij", "uit", "der", "daar", "haar", "naar", "heb", "hoe", "heeft", "hebben", "deze", "u", "want", "nog", "zal", "me", "zij", "nu", "ge", "geen", "omdat", "iets", "worden", "toch", "al", "waren", "veel", "meer", "doen", "toen", "moet", "ben", "zonder", "kan", "hun", "dus", "alles", "onder", "ja", "eens", "hier", "wie", "werd", "altijd", "doch", "wordt", "wezen", "kunnen", "ons", "zelf", "tegen", "na", "reeds", "wil", "kon", "niets", "uw", "iemand", "geweest", "andere", "wij", "we", "zn", "z'n", "zon", "zo'n"],
        english: ["i", "me", "my", "myself", "we", "us", "our", "ours", "ourselves", "you", "your", "yours", "yourself", "yourselves", "he", "him", "his", "himself", "she", "her", "hers", "herself", "it", "its", "itself", "they", "them", "their", "theirs", "themselves", "what", "which", "who", "whom", "this", "that", "these", "those", "am", "is", "are", "was", "were", "be", "been", "being", "have", "has", "had", "having", "do", "does", "did", "doing", "will", "would", "should", "can", "could", "ought", "i'm", "you're", "he's", "she's", "it's", "we're", "they're", "i've", "you've", "we've", "they've", "i'd", "you'd", "he'd", "she'd", "we'd", "they'd", "i'll", "you'll", "he'll", "she'll", "we'll", "they'll", "isn't", "aren't", "wasn't", "weren't", "hasn't", "haven't", "hadn't", "doesn't", "don't", "didn't", "won't", "wouldn't", "shan't", "shouldn't", "can't", "cannot", "couldn't", "mustn't", "let's", "that's", "who's", "what's", "here's", "there's", "when's", "where's", "why's", "how's", "a", "an", "the", "and", "but", "if", "or", "because", "as", "until", "while", "of", "at", "by", "for", "with", "about", "against", "between", "into", "through", "during", "before", "after", "above", "below", "to", "from", "up", "down", "in", "out", "on", "off", "over", "under", "again", "further", "then", "once", "here", "there", "when", "where", "why", "how", "all", "any", "both", "each", "few", "more", "most", "other", "some", "such", "no", "nor", "not", "only", "own", "same", "so", "than", "too", "very", "say", "says", "said"],
        esperanto: ["mi", "ni", "ci", "vi", "li", "i", "i", "si", "oni", "ili", "min", "nin", "cin", "vin", "lin", "in", "in", "sin", "onin", "ilin", "mia", "nia", "cia", "via", "lia", "ia", "ia", "sia", "onia", "ilia", "mian", "nian", "cian", "vian", "lian", "sian", "ian", "sian", "onian", "ilian", "estas", "estis", "estos", "kaj", "a", "sed", "plus", "minus", "nek", "se", "ke", "u", "kvaza", "do", "ha", "he", "ho", "hu", "nu", "ve", "ankora", "jam", "ne", "nun", "us", "tuj", "pli", "plej", "plu", "da", "de", "en", "je", "anta", "post", "dum", "tio", "kio", "tiu", "kiu", "neniu", "nenio", "iu", "io", "iu", "io", "tion", "kion", "tiun", "kiun", "tiujn", "kiujn", "neniun", "nenion", "iujn", "ajn", "iun", "ion", "iun", "iujn", "ion", "for", "nur", "e", "mem", "ja", "jes", "i", "u", "estus", "estu", "havas", "havis", "havos", "havus", "havu", "unu", "du", "tri", "kvar", "kvin", "ses", "sep", "ok", "na", "dek", "unua", "dua", "tria", "kvara", "kvina", "sesa", "sepa", "oka", "naa", "deka", "sur", "sub", "super", "tra", "preter", "inter", "supren", "post", "anta", "malanta", "jes", "ne", "eble", "verajne", "nepre", "tute", "male", "bv", "bonvolu", "bonvole", "sed", "tamen", "kvankam", "malgra", "ekzemple", "ekz", "k", "sinjoro", "sinjor'", "s-ro", "sinjorino", "s-no", "fralino", "f-no", "doktoro", "doktor'", "d-ro", "is", "bonan", "felian", "adia", "la", "al", "por"],
        farsi: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        finnish: ["olla", "olen", "olet", "on", "olemme", "olette", "ovat", "ole", "oli", "olisi", "olisit", "olisin", "olisimme", "olisitte", "olisivat", "olit", "olin", "olimme", "olitte", "olivat", "ollut", "olleet", "en", "et", "ei", "emme", "ette", "eivt", "minminunminutminuaminussaminustaminuunminullaminultaminulle", "sinsinunsinutsinuasinussasinustasinuunsinullasinultasinulle", "hnhnenhnethnthnesshnesthneenhnellhnelthnelle", "memeidnmeidtmeitmeissmeistmeihinmeillmeiltmeille", "teteidnteidtteitteissteistteihinteillteiltteille", "heheidnheidtheitheissheistheihinheillheiltheille", "tmtmntttsststthntalltlttlletntksi", "tuotuontuottuossatuostatuohontuollatuoltatuolletuonatuoksi", "sesensitsiinsiitsiihensillsiltsillesinsiksi", "nmnidennitnissnistnihinnillniltnilleninniksi", "nuonoidennoitanoissanoistanoihinnoillanoiltanoillenoinanoiksi", "neniidenniitniissniistniihinniillniiltniilleniinniiksi", "kukakenenkenetketkenesskenestkeneenkenellkeneltkenellekenenkeneksi", "ketkkeidenketkkeitkeisskeistkeihinkeillkeiltkeillekeinkeiksi", "mikminkminkmitmissmistmihinmillmiltmilleminmiksi", "mitk", "jokajonkajotajossajostajohonjollajoltajollejonajoksi", "jotkajoidenjoitajoissajoistajoihinjoillajoiltajoillejoinajoiksi", "ett", "ja", "jos", "koska", "kuin", "mutta", "niin", "sek", "sill", "tai", "vaan", "vai", "vaikka", "kanssa", "mukaan", "noin", "poikki", "yli", "kun", "niin", "nyt", "itse"],
        french: ["au", "aux", "avec", "ce", "ces", "dans", "de", "des", "du", "elle", "en", "et", "eux", "il", "je", "la", "le", "les", "leur", "lui", "ma", "mais", "me", "mme", "mes", "moi", "mon", "ne", "nos", "notre", "nous", "on", "ou", "par", "pas", "pour", "qu", "que", "qui", "sa", "se", "ses", "son", "sur", "ta", "te", "tes", "toi", "ton", "tu", "un", "une", "vos", "votre", "vous", "c", "d", "j", "l", "", "m", "n", "s", "t", "y", "t", "te", "tes", "ts", "tant", "tante", "tants", "tantes", "suis", "es", "est", "sommes", "tes", "sont", "serai", "seras", "sera", "serons", "serez", "seront", "serais", "serait", "serions", "seriez", "seraient", "tais", "tait", "tions", "tiez", "taient", "fus", "fut", "fmes", "ftes", "furent", "sois", "soit", "soyons", "soyez", "soient", "fusse", "fusses", "ft", "fussions", "fussiez", "fussent", "ayant", "ayante", "ayantes", "ayants", "eu", "eue", "eues", "eus", "ai", "as", "avons", "avez", "ont", "aurai", "auras", "aura", "aurons", "aurez", "auront", "aurais", "aurait", "aurions", "auriez", "auraient", "avais", "avait", "avions", "aviez", "avaient", "eut", "emes", "etes", "eurent", "aie", "aies", "ait", "ayons", "ayez", "aient", "eusse", "eusses", "et", "eussions", "eussiez", "eussent"],
        german: ["aber", "alle", "allem", "allen", "aller", "alles", "als", "also", "am", "an", "ander", "andere", "anderem", "anderen", "anderer", "anderes", "anderm", "andern", "anderr", "anders", "auch", "auf", "aus", "bei", "bin", "bis", "bist", "da", "damit", "dann", "der", "den", "des", "dem", "die", "das", "dass", "da", "derselbe", "derselben", "denselben", "desselben", "demselben", "dieselbe", "dieselben", "dasselbe", "dazu", "dein", "deine", "deinem", "deinen", "deiner", "deines", "denn", "derer", "dessen", "dich", "dir", "du", "dies", "diese", "diesem", "diesen", "dieser", "dieses", "doch", "dort", "durch", "ein", "eine", "einem", "einen", "einer", "eines", "einig", "einige", "einigem", "einigen", "einiger", "einiges", "einmal", "er", "ihn", "ihm", "es", "etwas", "euer", "eure", "eurem", "euren", "eurer", "eures", "fr", "gegen", "gewesen", "hab", "habe", "haben", "hat", "hatte", "hatten", "hier", "hin", "hinter", "ich", "mich", "mir", "ihr", "ihre", "ihrem", "ihren", "ihrer", "ihres", "euch", "im", "in", "indem", "ins", "ist", "jede", "jedem", "jeden", "jeder", "jedes", "jene", "jenem", "jenen", "jener", "jenes", "jetzt", "kann", "kein", "keine", "keinem", "keinen", "keiner", "keines", "knnen", "knnte", "machen", "man", "manche", "manchem", "manchen", "mancher", "manches", "mein", "meine", "meinem", "meinen", "meiner", "meines", "mit", "muss", "musste", "nach", "nicht", "nichts", "noch", "nun", "nur", "ob", "oder", "ohne", "sehr", "sein", "seine", "seinem", "seinen", "seiner", "seines", "selbst", "sich", "sie", "ihnen", "sind", "so", "solche", "solchem", "solchen", "solcher", "solches", "soll", "sollte", "sondern", "sonst", "ber", "um", "und", "uns", "unse", "unsem", "unsen", "unser", "unses", "unter", "viel", "vom", "von", "vor", "whrend", "war", "waren", "warst", "was", "weg", "weil", "weiter", "welche", "welchem", "welchen", "welcher", "welches", "wenn", "werde", "werden", "wie", "wieder", "will", "wir", "wird", "wirst", "wo", "wollen", "wollte", "wrde", "wrden", "zu", "zum", "zur", "zwar", "zwischen"],
        greek: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ",", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        hebrew: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        hindi: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
        hungarian: ["a", "ahogy", "ahol", "aki", "akik", "akkor", "alatt", "ltal", "ltalban", "amely", "amelyek", "amelyekben", "amelyeket", "amelyet", "amelynek", "ami", "amit", "amolyan", "amg", "amikor", "t", "abban", "ahhoz", "annak", "arra", "arrl", "az", "azok", "azon", "azt", "azzal", "azrt", "aztn", "azutn", "azonban", "br", "be", "bell", "benne", "cikk", "cikkek", "cikkeket", "csak", "de", "e", "eddig", "egsz", "egy", "egyes", "egyetlen", "egyb", "egyik", "egyre", "ekkor", "el", "elg", "ellen", "el", "elszr", "eltt", "els", "n", "ppen", "ebben", "ehhez", "emilyen", "ennek", "erre", "ez", "ezt", "ezek", "ezen", "ezzel", "ezrt", "s", "fel", "fel", "hanem", "hiszen", "hogy", "hogyan", "igen", "gy", "illetve", "ill.", "ill", "ilyen", "ilyenkor", "is", "ison", "ismt", "itt", "j", "jl", "jobban", "kell", "kellett", "keresztl", "keressnk", "ki", "kvl", "kztt", "kzl", "legalbb", "lehet", "lehetett", "legyen", "lenne", "lenni", "lesz", "lett", "maga", "magt", "majd", "majd", "mr", "ms", "msik", "meg", "mg", "mellett", "mert", "mely", "melyek", "mi", "mit", "mg", "mirt", "milyen", "mikor", "minden", "mindent", "mindenki", "mindig", "mint", "mintha", "mivel", "most", "nagy", "nagyobb", "nagyon", "ne", "nha", "nekem", "neki", "nem", "nhny", "nlkl", "nincs", "olyan", "ott", "ssze", "", "k", "ket", "pedig", "persze", "r", "s", "sajt", "sem", "semmi", "sok", "sokat", "sokkal", "szmra", "szemben", "szerint", "szinte", "taln", "teht", "teljes", "tovbb", "tovbb", "tbb", "gy", "ugyanis", "j", "jabb", "jra", "utn", "utna", "utols", "vagy", "vagyis", "valaki", "valami", "valamint", "val", "vagyok", "van", "vannak", "volt", "voltam", "voltak", "voltunk", "vissza", "vele", "viszont", "volna"],
        italian: ["ad", "al", "allo", "ai", "agli", "all", "agl", "alla", "alle", "con", "col", "coi", "da", "dal", "dallo", "dai", "dagli", "dall", "dagl", "dalla", "dalle", "di", "del", "dello", "dei", "degli", "dell", "degl", "della", "delle", "in", "nel", "nello", "nei", "negli", "nell", "negl", "nella", "nelle", "su", "sul", "sullo", "sui", "sugli", "sull", "sugl", "sulla", "sulle", "per", "tra", "contro", "io", "tu", "lui", "lei", "noi", "voi", "loro", "mio", "mia", "miei", "mie", "tuo", "tua", "tuoi", "tue", "suo", "sua", "suoi", "sue", "nostro", "nostra", "nostri", "nostre", "vostro", "vostra", "vostri", "vostre", "mi", "ti", "ci", "vi", "lo", "la", "li", "le", "gli", "ne", "il", "un", "uno", "una", "ma", "ed", "se", "perch", "anche", "come", "dov", "dove", "che", "chi", "cui", "non", "pi", "quale", "quanto", "quanti", "quanta", "quante", "quello", "quelli", "quella", "quelle", "questo", "questi", "questa", "queste", "si", "tutto", "tutti", "a", "c", "e", "i", "l", "o", "ho", "hai", "ha", "abbiamo", "avete", "hanno", "abbia", "abbiate", "abbiano", "avr", "avrai", "avr", "avremo", "avrete", "avranno", "avrei", "avresti", "avrebbe", "avremmo", "avreste", "avrebbero", "avevo", "avevi", "aveva", "avevamo", "avevate", "avevano", "ebbi", "avesti", "ebbe", "avemmo", "aveste", "ebbero", "avessi", "avesse", "avessimo", "avessero", "avendo", "avuto", "avuta", "avuti", "avute", "sono", "sei", "", "siamo", "siete", "sia", "siate", "siano", "sar", "sarai", "sar", "saremo", "sarete", "saranno", "sarei", "saresti", "sarebbe", "saremmo", "sareste", "sarebbero", "ero", "eri", "era", "eravamo", "eravate", "erano", "fui", "fosti", "fu", "fummo", "foste", "furono", "fossi", "fosse", "fossimo", "fossero", "essendo", "faccio", "fai", "facciamo", "fanno", "faccia", "facciate", "facciano", "far", "farai", "far", "faremo", "farete", "faranno", "farei", "faresti", "farebbe", "faremmo", "fareste", "farebbero", "facevo", "facevi", "faceva", "facevamo", "facevate", "facevano", "feci", "facesti", "fece", "facemmo", "faceste", "fecero", "facessi", "facesse", "facessimo", "facessero", "facendo", "sto", "stai", "sta", "stiamo", "stanno", "stia", "stiate", "stiano", "star", "starai", "star", "staremo", "starete", "staranno", "starei", "staresti", "starebbe", "staremmo", "stareste", "starebbero", "stavo", "stavi", "stava", "stavamo", "stavate", "stavano", "stetti", "stesti", "stette", "stemmo", "steste", "stettero", "stessi", "stesse", "stessimo", "stessero", "stando"],
        norwegian: ["og", "i", "jeg", "det", "at", "en", "et", "den", "til", "er", "som", "p", "de", "med", "han", "av", "ikke", "ikkje", "der", "s", "var", "meg", "seg", "men", "ett", "har", "om", "vi", "min", "mitt", "ha", "hadde", "hun", "n", "over", "da", "ved", "fra", "du", "ut", "sin", "dem", "oss", "opp", "man", "kan", "hans", "hvor", "eller", "hva", "skal", "selv", "sjl", "her", "alle", "vil", "bli", "ble", "blei", "blitt", "kunne", "inn", "nr", "vre", "kom", "noen", "noe", "ville", "dere", "som", "deres", "kun", "ja", "etter", "ned", "skulle", "denne", "for", "deg", "si", "sine", "sitt", "mot", "", "meget", "hvorfor", "dette", "disse", "uten", "hvordan", "ingen", "din", "ditt", "blir", "samme", "hvilken", "hvilke", "snn", "inni", "mellom", "vr", "hver", "hvem", "vors", "hvis", "bde", "bare", "enn", "fordi", "fr", "mange", "ogs", "slik", "vrt", "vre", "be", "begge", "siden", "dykk", "dykkar", "dei", "deira", "deires", "deim", "di", "d", "eg", "ein", "eit", "eitt", "elles", "honom", "hj", "ho", "hoe", "henne", "hennar", "hennes", "hoss", "hossen", "ikkje", "ingi", "inkje", "korleis", "korso", "kva", "kvar", "kvarhelst", "kven", "kvi", "kvifor", "me", "medan", "mi", "mine", "mykje", "no", "nokon", "noka", "nokor", "noko", "nokre", "si", "sia", "sidan", "so", "somt", "somme", "um", "upp", "vere", "vore", "verte", "vort", "varte", "vart"],
        polish: ["ach", "aj", "albo", "bardzo", "bez", "bo", "by", "ci", "ci", "ciebie", "co", "czy", "daleko", "dla", "dlaczego", "dlatego", "do", "dobrze", "dokd", "do", "duo", "dwa", "dwaj", "dwie", "dwoje", "dzi", "dzisiaj", "gdyby", "gdzie", "go", "ich", "ile", "im", "inny", "ja", "j", "jak", "jakby", "jaki", "je", "jeden", "jedna", "jedno", "jego", "jej", "jemu", "jeli", "jest", "jestem", "jeeli", "ju", "kady", "kiedy", "kierunku", "kto", "ku", "lub", "ma", "maj", "mam", "mi", "mn", "mnie", "moi", "mj", "moja", "moje", "moe", "mu", "my", "na", "nam", "nami", "nas", "nasi", "nasz", "nasza", "nasze", "natychmiast", "ni", "nic", "nich", "nie", "niego", "niej", "niemu", "nigdy", "nim", "nimi", "ni", "obok", "od", "okoo", "on", "ona", "one", "oni", "ono", "owszem", "po", "pod", "poniewa", "przed", "przedtem", "s", "sam", "sama", "si", "skd", "tak", "taki", "tam", "ten", "to", "tob", "tobie", "tu", "tutaj", "twoi", "twj", "twoja", "twoje", "ty", "wam", "wami", "was", "wasi", "wasz", "wasza", "wasze", "we", "wic", "wszystko", "wtedy", "wy", "aden", "zawsze", "e"],
        portuguese: ["de", "a", "o", "que", "e", "do", "da", "em", "um", "para", "com", "no", "uma", "os", "no", "se", "na", "por", "mais", "as", "dos", "como", "mas", "ao", "ele", "das", "", "seu", "sua", "ou", "quando", "muito", "nos", "j", "eu", "tambm", "s", "pelo", "pela", "at", "isso", "ela", "entre", "depois", "sem", "mesmo", "aos", "seus", "quem", "nas", "me", "esse", "eles", "voc", "essa", "num", "nem", "suas", "meu", "s", "minha", "numa", "pelos", "elas", "qual", "ns", "lhe", "deles", "essas", "esses", "pelas", "este", "dele", "tu", "te", "vocs", "vos", "lhes", "meus", "minhas", "teu", "tua", "teus", "tuas", "nosso", "nossa", "nossos", "nossas", "dela", "delas", "esta", "estes", "estas", "aquele", "aquela", "aqueles", "aquelas", "isto", "aquilo", "estou", "est", "estamos", "esto", "estive", "esteve", "estivemos", "estiveram", "estava", "estvamos", "estavam", "estivera", "estivramos", "esteja", "estejamos", "estejam", "estivesse", "estivssemos", "estivessem", "estiver", "estivermos", "estiverem", "hei", "h", "havemos", "ho", "houve", "houvemos", "houveram", "houvera", "houvramos", "haja", "hajamos", "hajam", "houvesse", "houvssemos", "houvessem", "houver", "houvermos", "houverem", "houverei", "houver", "houveremos", "houvero", "houveria", "houveramos", "houveriam", "sou", "somos", "so", "era", "ramos", "eram", "fui", "foi", "fomos", "foram", "fora", "framos", "seja", "sejamos", "sejam", "fosse", "fssemos", "fossem", "for", "formos", "forem", "serei", "ser", "seremos", "sero", "seria", "seramos", "seriam", "tenho", "tem", "temos", "tm", "tinha", "tnhamos", "tinham", "tive", "teve", "tivemos", "tiveram", "tivera", "tivramos", "tenha", "tenhamos", "tenham", "tivesse", "tivssemos", "tivessem", "tiver", "tivermos", "tiverem", "terei", "ter", "teremos", "tero", "teria", "teramos", "teriam"],
        romanian: ["acea", "aceasta", "aceast", "aceea", "acei", "aceia", "acel", "acela", "acele", "acelea", "acest", "acesta", "aceste", "acestea", "aceti", "acetia", "acolo", "acord", "acum", "ai", "aia", "aib", "aici", "al", "la", "ale", "alea", "lea", "altceva", "altcineva", "am", "ar", "are", "a", "aadar", "asemenea", "asta", "sta", "astzi", "astea", "stea", "tia", "asupra", "ai", "au", "avea", "avem", "avei", "azi", "bine", "bucur", "bun", "ca", "c", "cci", "cnd", "care", "crei", "cror", "crui", "ct", "cte", "ci", "ctre", "ctva", "caut", "ce", "cel", "ceva", "chiar", "cinci", "cnd", "cine", "cineva", "ct", "cte", "ci", "ctva", "contra", "cu", "cum", "cumva", "curnd", "curnd", "da", "d", "dac", "dar", "dat", "datorit", "dau", "de", "deci", "deja", "deoarece", "departe", "dei", "din", "dinaintea", "dintr-", "dintre", "doi", "doilea", "dou", "drept", "dup", "ea", "ei", "el", "ele", "eram", "este", "eti", "eu", "face", "fr", "fata", "fi", "fie", "fiecare", "fii", "fim", "fii", "fiu", "frumos", "graie", "halb", "iar", "ieri", "i", "l", "mi", "mpotriva", "n", "nainte", "naintea", "nct", "nct", "ncotro", "ntre", "ntruct", "ntruct", "i", "la", "lng", "le", "li", "lng", "lor", "lui", "m", "mai", "mine", "mea", "mei", "mele", "mereu", "meu", "mi", "mie", "mine", "mine", "mult", "mult", "muli", "mulumesc", "ne", "nevoie", "nicieri", "nici", "nimeni", "nimeri", "nimic", "nite", "noastr", "noastre", "noi", "noroc", "notri", "nostru", "nou", "nu", "opt", "ori", "oricnd", "oricare", "orict", "orice", "oricnd", "oricine", "orict", "oricum", "oriunde", "pn", "patra", "patru", "patrulea", "pe", "pentru", "peste", "pic", "pn", "poate", "pot", "prea", "prima", "primul", "prin", "printr-", "puin", "puina", "puin", "rog", "sa", "s", "si", "sale", "apte", "ase", "sau", "su", "se", "i", "snt", "sntem", "sntei", "spate", "spre", "tiu", "sub", "sunt", "suntem", "suntei", "sut", "ta", "ti", "tale", "tu", "te", "i", "ie", "timp", "tine", "toat", "toate", "tot", "toi", "totui", "trei", "treia", "treilea", "tu", "un", "una", "unde", "undeva", "unei", "uneia", "unele", "uneori", "unii", "unor", "unora", "unu", "unui", "unuia", "unul", "v", "vi", "voastr", "voastre", "voi", "votri", "vostru", "vou", "vreme", "vreo", "vreun", "zece", "zero", "zi", "zice"],
        russian: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "--", "-", "..", "..", "..", "..", ".."],
        slovenian: ["a", "ali", "april", "avgust", "b", "bi", "bil", "bila", "bile", "bili", "bilo", "biti", "blizu", "bo", "bodo", "bojo", "bolj", "bom", "bomo", "boste", "bo", "bova", "brez", "c", "cel", "cela", "celi", "celo", "", "e", "esto", "etrta", "etrtek", "etrti", "etrto", "ez", "igav", "d", "da", "dale", "dan", "danes", "datum", "december", "deset", "deseta", "deseti", "deseto", "devet", "deveta", "deveti", "deveto", "do", "dober", "dobra", "dobri", "dobro", "dokler", "dol", "dolg", "dolga", "dolgi", "dovolj", "drug", "druga", "drugi", "drugo", "dva", "dve", "e", "eden", "en", "ena", "ene", "eni", "enkrat", "eno", "etc.", "f", "februar", "g", "g.", "ga", "ga.", "gor", "gospa", "gospod", "h", "halo", "i", "idr.", "ii", "iii", "in", "iv", "ix", "iz", "j", "januar", "jaz", "je", "ji", "jih", "jim", "jo", "julij", "junij", "jutri", "k", "kadarkoli", "kaj", "kajti", "kako", "kakor", "kamor", "kamorkoli", "kar", "karkoli", "katerikoli", "kdaj", "kdo", "kdorkoli", "ker", "ki", "kje", "kjer", "kjerkoli", "ko", "koder", "koderkoli", "koga", "komu", "kot", "kratek", "kratka", "kratke", "kratki", "l", "lahka", "lahke", "lahki", "lahko", "le", "lep", "lepa", "lepe", "lepi", "lepo", "leto", "m", "maj", "majhen", "majhna", "majhni", "malce", "malo", "manj", "marec", "me", "med", "medtem", "mene", "mesec", "me", "mi", "midva", "midve", "mnogo", "moj", "moja", "moje", "mora", "morajo", "moram", "moramo", "mora", "morate", "morem", "mu", "n", "na", "nad", "naj", "najina", "najino", "najmanj", "naju", "najve", "nam", "narobe", "nas", "na", "naa", "nae", "nato", "nazaj", "ne", "nedavno", "nedelja", "nek", "neka", "nekaj", "nekatere", "nekateri", "nekatero", "nekdo", "neke", "nekega", "neki", "nekje", "neko", "neko", "nekoga", "ni", "ni", "nikamor", "nikdar", "nikjer", "nikoli", "nje", "njega", "njegov", "njegova", "njegovo", "njej", "njemu", "njen", "njena", "njeno", "nji", "njih", "njihov", "njihova", "njihovo", "njiju", "njim", "njo", "njo", "njun", "njuna", "njuno", "no", "nocoj", "november", "npr.", "o", "ob", "oba", "obe", "oboje", "od", "odprt", "odprta", "odprti", "okoli", "oktober", "on", "onadva", "one", "oni", "onidve", "osem", "osma", "osmi", "osmo", "oz.", "p", "pa", "pet", "peta", "petek", "peti", "peto", "po", "pod", "pogosto", "poleg", "poln", "polna", "polni", "polno", "ponavadi", "ponedeljek", "ponovno", "potem", "povsod", "pozdravljen", "pozdravljeni", "prav", "prava", "prave", "pravi", "pravo", "prazen", "prazna", "prazno", "prbl.", "pribl.", "precej", "pred", "prej", "preko", "pri", "priblino", "primer", "pripravljen", "pripravljena", "pripravljeni", "proti", "prva", "prvi", "prvo", "r", "ravno", "re", "redko", "res", "s", "saj", "sam", "sama", "same", "sami", "samo", "se", "sebe", "sebi", "sedaj", "sedem", "sedma", "sedmi", "sedmo", "sem", "september", "seveda", "si", "sicer", "skoraj", "skozi", "slab", "smo", "so", "sobota", "spet", "sreda", "srednja", "srednji", "sta", "ste", "stran", "stvar", "sva", "", "est", "esta", "esti", "esto", "tiri", "t", "ta", "tak", "taka", "take", "taki", "tako", "takoj", "tam", "te", "tebe", "tebi", "tega", "teak", "teka", "teki", "teko", "ti", "tista", "tiste", "tisti", "tisto", "tj.", "tja", "to", "toda", "torek", "tretja", "tretje", "tretji", "tri", "tu", "tudi", "tukaj", "tvoj", "tvoja", "tvoje", "u", "v", "vaju", "vam", "vas", "va", "vaa", "vae", "vasih", "veraj", "ve", "ve", "vedno", "velik", "velika", "veliki", "veliko", "vendar", "ves", "vi", "vidva", "vii", "viii", "visok", "visoka", "visoke", "visoki", "vsa", "vsaj", "vsak", "vsake", "vsaka", "vsakdo", "vsaki", "vsakomur", "vse", "vsega", "vsi", "vso", "x", "z", "za", "zadaj", "zadnji", "zakaj", "zaprta", "zaprti", "zaprto", "zdaj", "zelo", "zunaj", "", "e"],
        spanish: ["de", "la", "que", "el", "en", "y", "a", "los", "del", "se", "las", "por", "un", "para", "con", "no", "una", "su", "al", "lo", "como", "ms", "pero", "sus", "le", "ya", "o", "este", "s", "porque", "esta", "entre", "cuando", "muy", "sin", "sobre", "tambin", "me", "hasta", "hay", "donde", "quien", "desde", "todo", "nos", "durante", "todos", "uno", "les", "ni", "contra", "otros", "ese", "eso", "ante", "ellos", "e", "esto", "m", "antes", "algunos", "qu", "unos", "yo", "otro", "otras", "otra", "l", "tanto", "esa", "estos", "mucho", "quienes", "nada", "muchos", "cual", "poco", "ella", "estar", "estas", "algunas", "algo", "nosotros", "mi", "mis", "t", "te", "ti", "tu", "tus", "ellas", "nosotras", "vosotros", "vosotras", "os", "mo", "ma", "mos", "mas", "tuyo", "tuya", "tuyos", "tuyas", "suyo", "suya", "suyos", "suyas", "nuestro", "nuestra", "nuestros", "nuestras", "vuestro", "vuestra", "vuestros", "vuestras", "esos", "esas", "estoy", "ests", "est", "estamos", "estis", "estn", "est", "ests", "estemos", "estis", "estn", "estar", "estars", "estar", "estaremos", "estaris", "estarn", "estara", "estaras", "estaramos", "estarais", "estaran", "estaba", "estabas", "estbamos", "estabais", "estaban", "estuve", "estuviste", "estuvo", "estuvimos", "estuvisteis", "estuvieron", "estuviera", "estuvieras", "estuviramos", "estuvierais", "estuvieran", "estuviese", "estuvieses", "estuvisemos", "estuvieseis", "estuviesen", "estando", "estado", "estada", "estados", "estadas", "estad", "he", "has", "ha", "hemos", "habis", "han", "haya", "hayas", "hayamos", "hayis", "hayan", "habr", "habrs", "habr", "habremos", "habris", "habrn", "habra", "habras", "habramos", "habrais", "habran", "haba", "habas", "habamos", "habais", "haban", "hube", "hubiste", "hubo", "hubimos", "hubisteis", "hubieron", "hubiera", "hubieras", "hubiramos", "hubierais", "hubieran", "hubiese", "hubieses", "hubisemos", "hubieseis", "hubiesen", "habiendo", "habido", "habida", "habidos", "habidas", "soy", "eres", "es", "somos", "sois", "son", "sea", "seas", "seamos", "seis", "sean", "ser", "sers", "ser", "seremos", "seris", "sern", "sera", "seras", "seramos", "serais", "seran", "era", "eras", "ramos", "erais", "eran", "fui", "fuiste", "fue", "fuimos", "fuisteis", "fueron", "fuera", "fueras", "furamos", "fuerais", "fueran", "fuese", "fueses", "fusemos", "fueseis", "fuesen", "siendo", "sido", "tengo", "tienes", "tiene", "tenemos", "tenis", "tienen", "tenga", "tengas", "tengamos", "tengis", "tengan", "tendr", "tendrs", "tendr", "tendremos", "tendris", "tendrn", "tendra", "tendras", "tendramos", "tendrais", "tendran", "tena", "tenas", "tenamos", "tenais", "tenan", "tuve", "tuviste", "tuvo", "tuvimos", "tuvisteis", "tuvieron", "tuviera", "tuvieras", "tuviramos", "tuvierais", "tuvieran", "tuviese", "tuvieses", "tuvisemos", "tuvieseis", "tuviesen", "teniendo", "tenido", "tenida", "tenidos", "tenidas", "tened"],
        swedish: ["och", "det", "att", "i", "en", "jag", "hon", "som", "han", "p", "den", "med", "var", "sig", "fr", "s", "till", "r", "men", "ett", "om", "hade", "de", "av", "icke", "mig", "du", "henne", "d", "sin", "nu", "har", "inte", "hans", "honom", "skulle", "hennes", "dr", "min", "man", "ej", "vid", "kunde", "ngot", "frn", "ut", "nr", "efter", "upp", "vi", "dem", "vara", "vad", "ver", "n", "dig", "kan", "sina", "hr", "ha", "mot", "alla", "under", "ngon", "eller", "allt", "mycket", "sedan", "ju", "denna", "sjlv", "detta", "t", "utan", "varit", "hur", "ingen", "mitt", "ni", "bli", "blev", "oss", "din", "dessa", "ngra", "deras", "blir", "mina", "samma", "vilken", "er", "sdan", "vr", "blivit", "dess", "inom", "mellan", "sdant", "varfr", "varje", "vilka", "ditt", "vem", "vilket", "sitta", "sdana", "vart", "dina", "vars", "vrt", "vra", "ert", "era", "vilkas"],
        turkish: ["u", "o", "bi", "ve", "ama", "de", "da", "bir", "m", "mi", "bu", "ise", "gibi", "ile", "dier"]
    }, t.Function.defineParams(t.VisualizationWordCloud, {
        theme: {
            description: "Theme to set visual appearance", required: !1, types: [{
                type: "Categorical", values: t.Theme.getNames(), test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        background: {
            description: "Color to use for the background",
            types: [{type: "Color", description: "A CSS color string"}]
        },
        colors: {description: "Colors to use for each word, overrides theme", required: !1},
        opacity: {description: "default opacity to apply to the words", type: "Number", defaultValue: 1},
        font: {
            description: "The font to use",
            defaultValue: "Arial",
            types: [{
                type: "Categorical", values: t.Font.getAvailable(), test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        fontWeight: {
            description: "Font weight to use",
            defaultValue: "normal",
            types: [{
                type: "Categorical", values: t.Font.weights, test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        scale: {
            description: "How counts are scaled to sizes",
            defaultValue: "linear",
            types: [{
                type: "Categorical", values: ["linear", "sqrt", "log"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        orientation: {
            description: "Rotation of the words",
            defaultValue: "Horizontal",
            types: [{
                type: "Categorical",
                values: ["Horizontal", "Mostly Horizontal", "Half and Half", "Mostly Vertical", "Vertical", "Any Which Way"],
                test: function (e) {
                    return -1 !== this.values.indexOf(e)
                },
                description: "Some predefined directions"
            }, {
                type: "Number",
                min: 0,
                max: 360,
                step: 1,
                description: "Angle, in degrees, for an arrow pointing from the bottom to the top of the letters"
            }, {type: "Object", description: "Include 'count', 'from', and 'to' fields"}, {type: "Function"}]
        },
        spiral: {
            description: "Type of spiral to use during word layout",
            defaultValue: "archimedean",
            types: [{
                type: "Categorical", values: ["archimedean", "rectangular"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        timeInterval: {
            description: "Default (timeInterval Infinity) is to run the layout algorithm synchronously (i.e. to completion), but since that can take a long time when the number of words is large, this parameter, specified in ms, can be used to prevent the event loop blocking.",
            defaultValue: 1 / 0,
            types: [{
                type: "Categorical", values: [1 / 0], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }, {type: "Integer", min: 0}]
        },
        maxLabels: {
            description: "The maximum number of labels to show",
            defaultValue: 200,
            types: [{type: "Integer", min: 0}]
        },
        textPadding: {description: "Space around text", defaultValue: 1, types: [{type: "Integer", min: 0}]},
        textSizeMin: {description: "Minimum font size", defaultValue: 10, types: [{type: "Integer", min: 0}]},
        textSizeMax: {description: "Maximum font size", defaultValue: 100, types: [{type: "Integer", min: 0}]},
        removeCommon: {
            description: "Ignore common words in the specified language",
            defaultValue: "none",
            types: [{
                type: "Categorical",
                values: ["none"].concat(_.keys(t.VisualizationWordCloud.stopwords)),
                test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }
            }]
        },
        bannedText: {
            description: "Text that should be excluded.  Should match the textCase parameter.",
            defaultValue: [],
            type: "StringArray"
        },
        textCase: {
            description: "Whether to uppercase or lowercase words",
            defaultValue: "input",
            types: [{
                type: "Categorical", values: ["input", "upper", "lower"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }, description: "upper or lower, default is to leave as input"
            }]
        },
        tooltips: {
            description: "Whether to show tooltips",
            defaultValue: !1,
            types: [{
                type: "Boolean",
                description: "If true, will show label and value in tooltip, if false, no tooltips"
            }, {
                type: "Object",
                description: "User can specify functions that take entity data and provide HTML for the title and tooltip"
            }]
        },
        legend: {
            description: "Whether to show a legend (assuming legend module is loaded)",
            defaultValue: !1,
            types: [{
                type: "Categorical", values: ["auto"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }, description: "If auto, legend will automatically show if the visualization size is large enough"
            }, {
                type: "Boolean",
                description: "If true, will always show a legend with the default functionality and position, if false, no legend will be shown"
            }, {type: "Object", description: "User can customize legend behavior"}]
        },
        legendPosition: {
            description: "Which side to show the legend on, if legend is being shown",
            defaultValue: "east",
            types: [{
                type: "Categorical", values: ["west", "east"], test: function (e) {
                    return -1 !== this.values.indexOf(e)
                }, description: "west or east"
            }]
        }
    }), t.VisualizationWordCloud.dataNeeds = [{
        slots: [{
            id: "label",
            name: "Label",
            type: t.TypeString,
            required: !1
        }, {id: "size", name: "Size", type: t.Number, required: !1}]
    }], t.VisualizationWordCloud.renderers = function () {
        return ["svg"]
    }, t.VisualizationWordCloud.prototype.onParamChange = function (e) {
        var n = this;
        e = e || this.params, e = this.params = t.Function.parseParams(e, t.VisualizationWordCloud.params), this.events = e.events || new t.Events, this.data = this.getData(e.data), this.selected = new t.Selection({events: this.events}), t.Globalize.require(e.globalize, ["", "", ""], function () {
            t.Font.require(e.font, function () {
                n.initialize(e)
            })
        })
    }, t.VisualizationWordCloud.prototype.initialize = function (e) {
        this.total = 0, this.accessibility = t.Accessibility.get(this.params.accessibility);
        var n = this.params.theme ? t.Theme.get(this.params.theme) : null;
        if (this.accessibility.params.background ? this.backgroundColor = this.accessibility.params.background : this.params.background ? this.backgroundColor = this.params.background : n && (this.backgroundColor = n.backgroundColor), this.scaleColor = this.accessibility.params.fontColor ? d3.scale.ordinal().range([this.accessibility.params.fontColor]) : this.params.colors ? _.isArray(this.params.colors) ? t.Theme.getColorScaleCategorical(this.data.length, this.params.colors) : this.params.colors : n ? n.getColorScaleCategorical(this.data.length) : d3.scale.ordinal().range(t.Color.manyEyes), this.params.legend)if (_.isObject(this.params.legend)); else if (t.LegendCategorical) {
            var r = _.map(this.data, function (e) {
                return {label: e.text, value: e.count}
            });
            this.legend = new t.LegendCategorical({
                events: this.events,
                scale: this.scaleColor,
                data: r,
                theme: n,
                selection: this.selected
            })
        } else console.error("Error: legend requested but CVLegend library not loaded.");
        this.layout && this.layout.removeChildren(), this.width = e.width, this.height = e.height;
        var i;
        e.container ? (i = this.$element = e.container, this.width = this.width || i.width(), this.height = this.height || i.height()) : (i = this.$element = $("<div>"), i.css({
            width: e.width,
            height: e.height
        })), this.tooltip = null, e.tooltips && (this.tooltip = new t.Tooltip({
            parent: e.container,
            autohide: 8e3,
            position: {adjust: {x: 20, y: 20}, viewport: window}
        }));
        var a = 0, o = this.params.orientation;
        if (_.isNumber(o) || _.isFunction(o))a = o; else if (_.isString(o))switch (o.toLowerCase()) {
            case"mostly horizontal":
                a = function () {
                    return Math.random() < .75 ? 0 : 270
                };
                break;
            case"half and half":
                a = function () {
                    return Math.random() < .5 ? 0 : 270
                };
                break;
            case"mostly vertical":
                a = function () {
                    return Math.random() < .75 ? 270 : 0
                };
                break;
            case"vertical":
                a = 270;
                break;
            case"any which way":
                a = function () {
                    return 360 * Math.random()
                }
        } else {
            var s = d3.scale.linear().domain([0, o.count - 1]).range([o.from, o.to]);
            a = function () {
                return s(~~(Math.random() * o.count))
            }
        }
        var l = this.accessibility.getFontWeight(this.params.fontWeight);
        this.layoutCloud && this.layoutCloud.stop(), this.layoutCloud = d3.layout.cloud().size([this.width / this.scale, this.height / this.scale]).words(this.data).timeInterval(this.params.timeInterval).padding(this.params.textPadding).rotate(a).font(e.font).fontSize(function (e) {
            return e.size
        }).fontWeight(l).spiral(this.params.spiral).on("word", _.bind(this.word, this)), this.initCanvas(), this.layoutCloud.start()
    }, t.VisualizationWordCloud.prototype.compact = function (e, t) {
        var n = {}, r = [];
        _.each(e, function (e) {
            var i = t(e.text);
            null !== i && (i in n || (r.push(i), n[i] = 0), n[i] += e.value)
        });
        var i = [];
        return _.each(r, function (e) {
            i.push({text: e, value: n[e]})
        }), i
    }, t.VisualizationWordCloud.prototype.getData = function (e) {
        var n, r, i = [];
        if (_.isString(e)) {
            var a = new t.Text(e), o = a.getWordCounts();
            i = _.map(o, function (e) {
                return {text: e.text, value: e.count}
            })
        } else if (_.isObject(e))if (e.source && e.source instanceof t.Tabular) {
            var s = e.source.getColumnValues(e.text), l = e.source.getColumnValues(e.size);
            for (n = 0, r = s.length; r > n; n++)i.push({text: s[n], value: l[n]})
        } else {
            if (!(e.source && e.source instanceof Array))throw new Error("Don't know how to parse data");
            var u = e.source, a = e.text, h = e.size;
            for (n = 0, r = e.source.length; n < e.source.length; n++)i.push({text: u[n][a], value: u[n][h]})
        }
        if ("none" !== this.params.removeCommon) {
            var c = {};
            _.each(t.VisualizationWordCloud.stopwords[this.params.removeCommon], function (e) {
                c[e] = !0
            }), i = this.compact(i, function (e) {
                return e.toLowerCase() in c ? null : e
            })
        }
        if ("upper" === this.params.textCase ? i = this.compact(i, function (e) {
                return e.toUpperCase()
            }) : "lower" === this.params.textCase && (i = this.compact(i, function (e) {
                return e.toLowerCase()
            })), this.params.bannedText.length > 0) {
            var A = {};
            _.each(this.params.bannedText, function (e) {
                A[e] = !0
            }), i = _.filter(i, function (e) {
                return !(e.text in A)
            })
        }
        var f = _.min(i, function (e) {
            return e.value
        }).value, d = _.max(i, function (e) {
            return e.value
        }).value, p = [this.params.textSizeMin, this.params.textSizeMax].sort(function (e, t) {
            return e - t
        }), m = d3.scale[this.params.scale]().domain([f, d]).range(p), g = 0;
        for (n = 0, r = i.length; r > n; n++) {
            var v = i[n];
            if (v.size = m(v.value), v.size > this.params.textSizeMin) {
                var y = this.measure(v);
                y > g && y <= 2 * this.params.width && (g = y)
            }
        }
        if (this.scale = g > this.params.width ? this.params.width / (g + 1) : 1, this.params.maxLabels > 0) {
            var E = Math.min(this.params.maxLabels, i.length);
            i = i.slice(0, E)
        }
        return i
    }, t.VisualizationWordCloud.prototype.initCanvas = function () {
        var e = this, n = new t.Rect(0, 0, this.width / this.scale, this.height / this.scale);
        this.$element.find("svg.cvvisualizationwordcloud").remove();
        this.svg = d3.select(this.$element[0]).append("svg").classed("cvvisualizationwordcloud", !0).attr("width", n.width).attr("height", n.height).style({
            top: n.y,
            left: n.x,
            position: "absolute",
            "-moz-user-select": "none",
            "-khtml-user-select": "none",
            "-webkit-user-select": "none",
            "-ms-user-select": "none",
            "user-select": "none"
        }).on("click", function () {
            e.layoutCloud.isRunning() || (e.selected.clear(), e.events.publish("clickedOnBackground"))
        }).append("g").attr("transform", "scale(" + this.scale + "," + this.scale + ")");
        e.backgroundColor && "transparent" !== e.backgroundColor && this.$element.find(".cvvisualizationwordcloud").css("backgroundColor", e.backgroundColor), this.wordIndex = 0, this.fontWeight = this.accessibility.getFontWeight(this.params.fontWeight)
    }, t.VisualizationWordCloud.prototype.measure = function (e) {
        var t = this.ruler;
        t.font = e.size + 1 + "px " + this.params.font;
        var n = t.measureText(e.text + "m").width;
        return n = n + 31 >> 5 << 5
    }, t.VisualizationWordCloud.prototype.word = function (e) {
        var n = this, r = this.svg.append("text").datum(e).style("font-size", e.size + "px").style("font-family", this.params.font).style("font-weight", this.fontWeight).style("cursor", "pointer").style("fill", this.scaleColor(this.wordIndex++)).style("opacity", this.params.opacity).attr("text-anchor", "middle").attr("transform", "translate(" + e.x + "," + e.y + ")rotate(" + e.rotate + ")").text(e.text);
        r.on("mouseenter", function (e) {
            n.events.publish("accentuate", e), n.tooltip && n.tooltip.show({
                x: d3.event.pageX,
                y: d3.event.pageY,
                title: e.text,
                body: "Value: " + t.String.commify(e.value)
            })
        }).on("mousemove", function () {
            n.tooltip && n.tooltip.update(d3.event.pageX, d3.event.pageY)
        }).on("mouseleave", function (e) {
            n.events.publish("deaccentuate", e), n.tooltip && n.tooltip.hide()
        }).on("mousedown", function (e) {
            n.events.publish("highlight", e)
        }).on("click", function (e) {
            n.layoutCloud.isRunning() || (d3.event.stopPropagation(), d3.event.ctrlKey ? n.selected.includes(e.text) ? n.selected.remove(e.text) : n.selected.add(e.text) : n.selected.includes(e.text) ? n.selected.clear() : n.selected.set(e.text))
        })
    }
}(this),function (e) {
    "use strict";
    function t(e) {
        return e.hasOwnProperty("offsetX") && void 0 != e.offsetX || ("undefined" != typeof TouchEvent && e.originalEvent instanceof TouchEvent ? (e.offsetX = e.originalEvent.changedTouches[0].clientX, e.offsetY = e.originalEvent.changedTouches[0].clientY) : (e.offsetX = e.clientX - $(e.target).offset().left + window.pageXOffset, e.offsetY = e.clientY - $(e.target).offset().top + window.pageYOffset)), e
    }

    var n = e.CV || (e.CV = {});
    n.Scene = function (e) {
        this.initialize(e)
    }, n.inheritFrom(n.Scene, "Visualization"), n.defineDependencies(n.Scene, ["THREE", "TWEEN", "CVThree", "CVVisualization"]), n.Function.defineParams(n.Scene, {}), n.Scene.prototype.initialize = function (e) {
        e = e || this.params, e = this.params = n.Function.parseParams(e, n.Scene.params);
        var t = this;
        this.width = e.width, this.height = e.height, this.max_fps = 20, this.cameraZ = 100, this.planeZ = new THREE.Plane(new THREE.Vector3(0, 0, 1), 0), this.cvthree = n.Three.instance, this.container = $(e.container), this.shapes = [], this.selectedShape = null, this.initCanvas(), this.animate = _.bind(t.animate, t), this.animate(), this.removeShape = _.bind(t.removeShape, t), this.events = new n.Events
    }, n.Scene.prototype.initCanvas = function () {
        var e = this.width, t = this.height, n = 45, r = e / t, i = .1, a = 1e6, o = this.container, s = this.renderer = new THREE.WebGLRenderer({
            antialias: !0,
            preserveDrawingBuffer: !0,
            alpha: !0
        }), l = this.camera = new THREE.PerspectiveCamera(n, r, i, a), u = this.scene = new THREE.Scene;
        u.add(l), l.position.z = this.cameraZ;
        var h = new THREE.DirectionalLight(16777215);
        h.position.set(0, 0, 1), u.add(h);
        var c = new THREE.DirectionalLight(16777215);
        c.position.set(0, 0, -1), u.add(c), s.setSize(e, t), o.append(s.domElement);
        var A = o.get(0);
        this.controls = new THREE.OrbitControls(this.camera, A), this.controls.twoDimensional = !0, this.projector = new THREE.Projector, this.mouseVector = new THREE.Vector3, this.canvas = $(s.domElement).bind("touchstart mousedown", _.bind(this.onMouseDown, this)).bind("mousemove touchmove", _.bind(this.onMouseMove, this)).bind("mouseleave", _.bind(this.onMouseLeave, this)).bind("touchend mouseup click", _.bind(this.onClick, this))
    }, n.Scene.prototype.resize = function (e, t) {
        this.width = e, this.height = t, this.camera.aspect = e / t, this.camera.updateProjectionMatrix(), this.renderer.setSize(e, t)
    }, n.Scene.prototype.moveCamera = function (e, t, n, r) {
        var i = this;
        e = e || 0, t = t || 0, n = n || 0, r = r || 0, new TWEEN.Tween(this.camera.position).to({
            x: e,
            y: t,
            z: n
        }, r).easing(TWEEN.Easing.Linear.None).start();
        var a = new THREE.Vector3(e, t, 0);
        i.controls.target.copy(a)
    }, n.Scene.prototype.moveCameraToVantagePoint = function (e, t, n, r) {
        "number" == typeof e && (t = e), "object" != typeof e && (e = this.shapes), n = n || 0, r = r || 0;
        for (var i = this, a = Number.POSITIVE_INFINITY, o = Number.NEGATIVE_INFINITY, s = Number.POSITIVE_INFINITY, l = Number.NEGATIVE_INFINITY, u = 0; u < e.length; u++) {
            var h = e[u];
            a = Math.min(a, h.minX()), o = Math.max(o, h.maxX()), s = Math.min(s, h.minY()), l = Math.max(l, h.maxY())
        }
        var c = (o + a) / 2, A = (l + s) / 2, f = (o - a) / this.camera.aspect, d = l - s, p = Math.max(f, d), m = Math.tan(Math.PI / 8), g = Math.max(p / (2 * m), n) + r;
        new TWEEN.Tween(this.camera.position).to({x: c, y: A, z: g}, t).easing(TWEEN.Easing.Linear.None).start();
        var v = new THREE.Vector3(c, A, 0);
        i.controls.target.copy(v)
    }, n.Scene.prototype.addShape = function () {
        var e = arguments;
        1 == arguments.length && arguments[0] instanceof Array && (e = arguments[0]);
        for (var t = 0; t < e.length; t++) {
            var r = e[t];
            r instanceof n.Shape || (r = this.createShape(r)), this.scene.add(r), this.shapes.push(r), r.added(this), r.position.set(r.params.x, r.params.y, r.params.z)
        }
    }, n.Scene.prototype.removeShape = function () {
        var e = arguments;
        1 == arguments.length && arguments[0] instanceof Array && (e = arguments[0]);
        for (var t = 0; t < e.length; t++) {
            var n = e[t];
            this.scene.__removeObject(n), this.shapes = _.without(this.shapes, n)
        }
    }, n.Scene.prototype.clearScene = function () {
        for (var e = 0; e < this.shapes.length; e++)this.scene.__removeObject(this.shapes[e]);
        this.shapes = []
    }, n.Scene.prototype.render = function () {
        window.TWEEN.update(), this.renderer.render(this.scene, this.camera)
    }, n.Scene.prototype.animate = function () {
        var e = this;
        this.render(), setTimeout(function () {
            window.requestAnimationFrame(e.animate)
        }, 1e3 / this.max_fps)
    }, n.Scene.prototype.onMouseDown = function (e) {
        e = t(e), window.mouseDown = !0, this.lastMouseDown = e;
        var n = this.shapeAt(e.offsetX, e.offsetY);
        if (null != n) {
            if (n.locked = !0, n.params.highlightable) {
                if (null != this.highlightedShape) {
                    var r = this.highlightedShape;
                    this.highlightedShape = null, this.accentedShape = null, this.setState(r, "normal")
                }
                this.highlightedShape = n, this.accentedShape = null, this.setState(n, "highlighted")
            }
            return !1
        }
        if (null != this.highlightedShape) {
            var n = this.highlightedShape;
            this.highlightedShape = null, this.accentedShape = null, this.setState(n, "normal")
        }
    }, n.Scene.prototype.onMouseMove = function (e) {
        window.mouseDown && 0 == e.which && 0 == e.button && (window.mouseDown = !1), e = t(e);
        var n = this.shapeAt(e.offsetX, e.offsetY);
        if (window.mouseDown) {
            if (null != this.highlightedShape) {
                if (this.highlightedShape.params.draggable)return this.moveShapeToScreenCoordinates(this.highlightedShape, e.offsetX, e.offsetY), !1;
                if (null == n) {
                    var n = this.highlightedShape;
                    this.highlightedShape = null, this.accentedShape = null, this.setState(n, "normal"), this.canvas.css("cursor", "auto")
                }
                return !0
            }
        } else if (null != n) {
            if (this.canvas.css("cursor", "pointer"), null != this.accentedShape && this.accentedShape != n) {
                var r = this.accentedShape;
                this.accentedShape = null, this.setState(r, "normal")
            }
            this.selectedShape != n && n.params.accentuable && this.accentedShape != n && (this.accentedShape = n, this.highlightedShape = null, this.setState(n, "accented"))
        } else if (this.canvas.css("cursor", "auto"), null != this.accentedShape) {
            var r = this.accentedShape;
            this.accentedShape = null, this.highlightedShape = null, this.selectedShape != r && this.setState(r, "normal")
        }
    }, n.Scene.prototype.onMouseEnter = function () {
    }, n.Scene.prototype.onMouseLeave = function () {
        if (null != this.highlightedShape) {
            var e = this.highlightedShape;
            this.highlightedShape = null, this.setState(e, "normal")
        }
        if (null != this.accentedShape) {
            var e = this.accentedShape;
            this.accentedShape = null, this.setState(e, "normal")
        }
    };
    var r = 0;
    n.Scene.prototype.onClick = function (e) {
        if (console.log("click at " + e.timeStamp + " last click at " + r), e.timeStamp - r < 500)return void console.log("ignoring rapid fire click");
        r = e.timeStamp, e = t(e), window.mouseDown = !1, e.preventDefault();
        var n = this.shapeAt(e.offsetX, e.offsetY);
        if (void 0 != this.lastMouseDown && e.timeStamp - this.lastMouseDown.timeStamp > 1e3)return null != n && this.selectedShape == n ? (this.highlightedShape = null, this.accentedShape = null, this.setState(n, "selected")) : null != this.highlightedShape && (this.highlightedShape == this.accentedShape ? this.setState(this.accentedShape, "accented") : this.setState(this.highlightedShape, "normal"), this.highlightedShape = null), void("touchend" != e.type && this.onMouseMove(e));
        if (Math.abs(e.clientX - this.lastMouseDown.clientX) > 3 || Math.abs(e.clientY - this.lastMouseDown.clientY) > 3)return void this.onMouseMove(e);
        if (null != n) {
            if (n.params.selectable) {
                if (null != this.selectedShape) {
                    var i = this.selectedShape;
                    this.selectedShape = null, this.setState(i, "normal")
                }
                this.selectedShape = n, this.highlightedShape = null, this.accentedShape = null, this.setState(n, "selected")
            }
        } else {
            if (null != this.selectedShape) {
                var i = this.selectedShape;
                this.selectedShape = null, this.highlightedShape = null, this.accentedShape = null, this.setState(i, "normal")
            }
            this.events.publish("clickedOnBackground", {x: e.offsetX, y: e.offsetY})
        }
        this.onMouseMove(e)
    }, n.Scene.prototype.setState = function (e, t) {
        e.setState(t), this.events.publish("stateChanged", e, t)
    }, n.Scene.prototype.shapeAt = function (e, t) {
        var n = new THREE.Vector3(e / this.width * 2 - 1, 2 * -(t / this.height) + 1, .5), r = null, i = this.projector.pickingRay(n.clone(), this.camera), a = i.intersectObjects(this.shapes, !0);
        if (a.length > 0) {
            var o = a[0].point;
            a = _.filter(a, function (e) {
                {
                    var t = e.object.parent;
                    t.params.radius, t.position.x, t.position.y
                }
                return t.containsPoint(o.x, o.y, o.z) ? !0 : !1
            });
            for (var s = Number.MAX_VALUE, l = 0; l < a.length; l++) {
                var u = a[l].object.parent, h = o.x - u.position.x, c = o.y - u.position.y, A = h * h + c * c;
                s > A && (s = A, r = u)
            }
        }
        return r
    }, n.Scene.prototype.screenToSceneCoordinates = function (e, t) {
        var n = new THREE.Vector3(e / this.width * 2 - 1, 2 * -(t / this.height) + 1, .5), r = this.projector.pickingRay(n, this.camera), i = r.ray.intersectPlane(this.planeZ);
        return i
    }, n.Scene.prototype.moveShapeToScreenCoordinates = function (e, t, n, r) {
        r = r || 0;
        var i = this.screenToSceneCoordinates(t, n);
        e.params.x = i.x, e.params.y = i.y - 2 * e.params.radius, this.moveShape(e, i.x, i.y, e.params.z, r)
    }, n.Scene.prototype.moveShape = function (e, t, n, r, i) {
        i = i || 0, e.params.x = t, e.params.y = n, e.params.z = r, new TWEEN.Tween(e.position).to({
            x: t,
            y: n,
            z: r
        }, i).easing(TWEEN.Easing.Linear.None).start(), e.moved(t, n, r);
        for (var a = e.attachments, o = 0; o < a.length; o++)a[o].connectionMoved(this, e, t, n, r, i)
    }, n.Scene.prototype.createShape = function (e) {
        var t = e.shape;
        if (null != t) {
            if (null != n.Shape[t])return new n.Shape[t](e);
            console.error(t + " is not a known shape type")
        } else console.error("shape not specified in call to createShape")
    };
    var i = 1;
    n.Shape = function (e) {
        THREE.Object3D.call(this), this.initialize(e), this.params.id = this.params.id || "shape" + i++, this.attachments = []
    }, n.inheritFrom(n.Shape, THREE.Object3D), n.Function.defineParams(n.Shape, {
        id: {
            description: "unique id",
            type: "String"
        },
        shape: {description: "the shape type of this shape object", type: "String"},
        label: {description: "name associated with this particular shape object", defaultValue: "", type: "String"},
        type: {description: "application specific object that this represents", defaultValue: "shape", type: "String"},
        selectable: {
            description: "is this shape selectable by the user via click or tap?",
            defaultValue: !0,
            type: "Boolean"
        },
        accentuable: {description: "will this shape be accented on hover?", defaultValue: !0, type: "Boolean"},
        highlightable: {
            description: "will this shape be highlighted on mouse down or touch",
            defaultValue: !0,
            type: "Boolean"
        },
        draggable: {description: "is this object shape by the user?", defaultValue: !0, type: "Boolean"},
        backgroundColor: {
            description: "background color of the shape",
            defaultValue: "darkgray",
            types: [{type: "Number", description: "color can be represented by an RGB number value"}, {
                type: "String",
                description: "color can be represented by a string color name"
            }]
        },
        opacity: {description: "opacity of the shape", defaultValue: 1, type: "Number"},
        scale: {description: "scale of the shape", defaultValue: 1, type: "Number"},
        x: {description: "x coordinate of the shape", defaultValue: 0, type: "Number"},
        y: {description: "x coordinate of the shape", defaultValue: 0, type: "Number"},
        z: {description: "z coordinate of the shape", defaultValue: 0, type: "Number"},
        showText: {description: "show the label as text", defaultValue: !0, type: "Boolean"},
        fontFamily: {description: "family of text", defaultValue: "sans-serif", type: "String"},
        fontStyle: {description: "style of text", defaultValue: "normal", type: "String"},
        fontSize: {
            description: "size of the text",
            defaultValue: "32px",
            types: [{type: "Number", description: "textSize numbers are interpreted as px"}, {
                type: "String",
                description: "textSize can be represented as a string, e.g. '32px' or '3.5em'"
            }]
        },
        fontColor: {
            description: "text color",
            defaultValue: "lightgray",
            types: [{type: "Number", description: "color can be represented by an RGB number value"}, {
                type: "String",
                description: "color can be represented by a string color name"
            }]
        },
        fontScale: {description: "scale of text", type: "Number"}
    }), n.Shape.prototype.initialize = function (e) {
        e = e || this.params || {}, e = this.params = n.Function.parseParams(e, n.Shape.params)
    }, n.Shape.prototype.setState = function (e) {
        if (e != this.params.state) {
            var t = .75;
            switch (this.params.state = e, e) {
                case"accented":
                    t = .25;
                    break;
                case"highlighted":
                    t = .5;
                    break;
                case"selected":
                    t = .75;
                    break;
                case"normal":
                default:
                    t = 0
            }
            this.highlight(t)
        }
    }, n.Shape.prototype.getState = function () {
        return this.params.state
    }, n.Shape.prototype.setColor = function (e) {
        for (var t = 0; 2 > t; t++) {
            var n = this.children[t];
            n.material.color.setHex(e)
        }
    }, n.Shape.prototype.containsPoint = function (e, t, n) {
        return Math.abs(this.params.x - e) < 10 && Math.abs(this.params.y - t) < 10 && Math.abs(this.params.z - n) < 10
    }, n.Shape.prototype.highlight = function (e) {
        for (var t = 0; t < this.children.length; t++) {
            var n = this.children[t].material;
            n.glow && (n.opacity = e)
        }
    }, n.Shape.prototype.dissolve = function (e, t) {
        t = t || 0;
        for (var n = 0; n < this.children.length; n++) {
            var r = this.children[n].material;
            r.glow && 0 != e || new TWEEN.Tween(r).to({opacity: e}, t).easing(TWEEN.Easing.Linear.None).start()
        }
        return this
    }, n.Shape.prototype.changeScale = function (e, t) {
        return t = t || 0, this.params.scale = e, new TWEEN.Tween(this.scale).to({
            x: e,
            y: e,
            z: e
        }, t).easing(TWEEN.Easing.Linear.None).start(), this
    }, n.Shape.prototype.added = function () {
    }, n.Shape.prototype.moved = function (e, t, n, r, i) {
        for (var a = 0; a < this.attachments; a++)link = this.attachments[a], link.connectionMoved(e, this, t, n, r, i)
    }, n.Shape.prototype.connectionMoved = function () {
    }, n.Shape.prototype.minX = function () {
        return this.params.x
    }, n.Shape.prototype.minY = function () {
        return this.params.y
    }, n.Shape.prototype.minZ = function () {
        return this.params.z
    }, n.Shape.prototype.maxX = function () {
        return this.params.x
    }, n.Shape.prototype.maxY = function () {
        return this.params.y
    }, n.Shape.prototype.maxZ = function () {
        return this.params.z
    }, n.Shape.Circle = function (e) {
        n.Shape.call(this, e)
    }, n.inheritFrom(n.Shape.Circle, n.Shape), n.Function.defineParams(n.Shape.Circle, {
        shape: {
            description: "the shape type of this shape object",
            defaultValue: "Circle",
            type: "String"
        },
        radius: {description: "radius of the circle", defaultValue: 50, type: "Number"},
        numSegments: {
            description: "number of segments used to represent the circle",
            defaultValue: 32,
            type: "Integer"
        },
        image: {description: "image to be displayed within the circle", type: "String"}
    }), n.Shape.Circle.prototype.initialize = function (e) {
        e = this.params = n.Function.parseParams(e, n.Shape.Circle.params);
        var t = e.backgroundColor, r = new THREE.CircleGeometry(e.radius, e.numSegments), i = {
            wireframe: !1,
            color: t,
            side: THREE.DoubleSide,
            transparent: !0,
            depthWrite: !1,
            depthTest: !1,
            opacity: e.opacity
        }, a = new THREE.MeshLambertMaterial(i), o = new THREE.Mesh(r, a);
        if (this.add(o), this.params.accentuable || this.params.highlightable || this.params.selectable) {
            var s = 1.2, l = a.clone();
            l.glow = !0, l.opacity = .001;
            var u = new THREE.Mesh(r, l);
            u.scale.set(s, s, 1), this.add(u)
        }
        if (null != e.image) {
            var h = THREE.ImageUtils.loadTexture(e.image), c = new THREE.MeshLambertMaterial({
                map: h,
                transparent: !0,
                depthWrite: !1,
                depthTest: !1,
                opacity: e.opacity
            }), A = new THREE.PlaneGeometry(20, 20), f = new THREE.Mesh(A, c);
            f.position.z = 1, f.scale.set(e.radius / 15, e.radius / 15, 1), this.add(f)
        }
        if (e.showText) {
            var d = "rgb(160, 160, 160)", p = e.label, m = n.Three.instance.getTextMaterial(p, {
                size: e.fontSize,
                family: e.fontFamily,
                fontStyle: e.fontStyle,
                fillStyle: d,
                color: e.fontColor,
                width: 200,
                height: 200,
                valign: "middle",
                depthWrite: !1,
                depthTest: !1,
                transparent: !0,
                scale: 2,
                opacity: e.opacity
            }), g = new THREE.PlaneGeometry(50, 50), v = new THREE.Mesh(g, m);
            v.position.y = -40, v.position.z = 1;
            var y = e.fontScale || e.radius / 30;
            v.scale.set(y, y, 1), this.add(v), this.scale = new THREE.Vector3(e.scale, e.scale, e.scale)
        }
    }, n.Shape.Circle.prototype.containsPoint = function (e, t, n) {
        var r = this.params.radius;
        return Math.abs(this.params.x - e) <= r && Math.abs(this.params.y - t) <= r && Math.abs(this.params.z - n) < 10
    }, n.Shape.Circle.prototype.minX = function () {
        return this.params.x - this.params.radius
    }, n.Shape.Circle.prototype.minY = function () {
        return this.params.y - this.params.radius
    }, n.Shape.Circle.prototype.maxX = function () {
        return this.params.x + this.params.radius
    }, n.Shape.Circle.prototype.maxY = function () {
        return this.params.y + this.params.radius
    }, n.Shape.Rectangle = function (e) {
        n.Shape.call(this, e)
    }, n.inheritFrom(n.Shape.Rectangle, n.Shape), n.Function.defineParams(n.Shape.Rectangle, {
        shape: {
            description: "the shape type of this shape object",
            defaultValue: "Rectangle",
            type: "String"
        },
        height: {description: "height of the rectangle", defaultValue: 100, type: "Number"},
        width: {description: "width of the rectangle", defaultValue: 100, type: "Number"},
        image: {description: "image to be displayed within this rectangle", defaultValue: null, type: "String"}
    }), n.Shape.Rectangle.prototype.initialize = function (e) {
        e = this.params = n.Function.parseParams(e, n.Shape.Rectangle.params);
        var t = e.backgroundColor, r = new THREE.PlaneGeometry(e.width, e.height), i = {
            wireframe: !1,
            color: t,
            side: THREE.DoubleSide,
            transparent: !0,
            depthWrite: !1,
            depthTest: !1,
            opacity: e.opacity
        }, a = new THREE.MeshLambertMaterial(i), o = new THREE.Mesh(r, a);
        if (this.add(o), this.params.accentuable || this.params.highlightable || this.params.selectable) {
            var s = 1.2, l = a.clone();
            l.glow = !0, l.opacity = .001;
            var u = new THREE.Mesh(r, l);
            u.scale.set(s, s, 1), this.add(u)
        }
        if (null != e.image) {
            var h = THREE.ImageUtils.loadTexture(e.image), c = new THREE.MeshLambertMaterial({
                map: h,
                transparent: !0,
                depthWrite: !1,
                depthTest: !1,
                opacity: e.opacity
            }), A = new THREE.PlaneGeometry(20, 20), f = new THREE.Mesh(A, c);
            f.position.z = 1, f.scale.set(e.height / 30, e.height / 30, 1), this.add(f)
        }
        if (e.showText) {
            var d = "rgb(160, 160, 160)", p = e.label, m = n.Three.instance.getTextMaterial(p, {
                size: "32px",
                family: e.fontFamily,
                fontStyle: e.fontStyle,
                fillStyle: d,
                color: e.fontColor,
                width: e.width,
                height: e.height,
                valign: "middle",
                depthWrite: !1,
                depthTest: !1,
                transparent: !0,
                scale: y,
                opacity: e.opacity
            }), g = new THREE.PlaneGeometry(50, 50), v = new THREE.Mesh(g, m);
            v.position.y = -40, v.position.z = 1;
            var y = e.fontScale || e.height / 50;
            v.scale.set(y, y, 1), this.add(v), this.scale = new THREE.Vector3(e.scale, e.scale, e.scale)
        }
    }, n.Shape.Rectangle.prototype.containsPoint = function (e, t, n) {
        this.params.radius;
        return Math.abs(this.params.x - e) <= this.params.width / 2 && Math.abs(this.params.y - t) <= this.params.height / 2 && Math.abs(this.params.z - n) < 10
    }, n.Shape.Rectangle.prototype.minX = function () {
        return this.params.x - this.params.width / 2
    }, n.Shape.Rectangle.prototype.minY = function () {
        return this.params.y - this.params.height / 2
    }, n.Shape.Rectangle.prototype.maxX = function () {
        return this.params.x + this.params.width / 2
    }, n.Shape.Rectangle.prototype.maxY = function () {
        return this.params.y + this.params.width / 2
    };
    var a = new THREE.Vector3(0, 0, 1);
    n.Shape.Line = function (e) {
        n.Shape.call(this, e)
    }, n.inheritFrom(n.Shape.Line, n.Shape), n.Function.defineParams(n.Shape.Line, {
        shape: {
            description: "the shape type of this shape object",
            defaultValue: "Line",
            type: "String"
        },
        lineWidth: {description: "width of line", defaultValue: 1, type: "Number"},
        source: {
            description: "start point of line - can either be an Vector3, a shape id string, or a shape object",
            defaultValue: {x: 0, y: 0, z: 0}
        },
        destination: {
            description: "end point of line - can either be an x,y,z string, a shape id string, or a shape object",
            defaultValue: {x: 10, y: 10, z: 0}
        }
    }), n.Shape.Line.prototype.initialize = function (e) {
        e = this.params = n.Function.parseParams(e, n.Shape.Line.params);
        var t = this.vectorize(this.params.source), r = this.vectorize(this.params.destination), i = new THREE.LineBasicMaterial({
            color: this.params.backgroundColor,
            opacity: this.params.opacity,
            linewidth: this.params.lineWidth,
            transparent: !0
        }), a = new THREE.Geometry;
        a.vertices.push(t), a.vertices.push(r);
        var o = new THREE.Line(a, i);
        if (this.add(o), this.params.accentuable || this.params.highlightable || this.params.selectable) {
            var s = new THREE.LineBasicMaterial({
                color: this.params.backgroundColor,
                opacity: .001,
                linewidth: 5 * this.params.lineWidth,
                transparent: !0
            });
            s.glow = !0;
            var l = new THREE.Line(a, s);
            this.add(l)
        }
        if (e.showText) {
            var u = "rgb(160, 160, 160)", h = (e.label, n.Three.instance.getTextMaterial(e.label, {
                size: e.fontSize,
                family: e.fontFamily,
                fontStyle: e.fontStyle,
                fillStyle: u,
                color: e.fontColor,
                width: 200,
                height: 200,
                valign: "middle",
                depthWrite: !1,
                depthTest: !1,
                transparent: !0,
                scale: e.scale,
                opacity: e.opacity
            })), c = new THREE.PlaneGeometry(50, 50), A = new THREE.Mesh(c, h);
            A.scale.set(2 * e.scale, 2 * e.scale, 1);
            var f = n.Three.instance.measureTextRaw(e.label, e.fontSize, e.fontFamily, 200);
            e.width = f.width * e.scale * 2, e.height = f.height * e.scale * 2, this.add(A)
        }
    }, n.Shape.Line.prototype.containsPoint = function () {
        this.children[0].geometry.vertices[0], this.children[0].geometry.vertices[1];
        return !0
    }, n.Shape.Line.prototype.vectorize = function (e) {
        return e instanceof String || "string" == typeof e ? new THREE.Vector3(0, 0, 0) : new THREE.Vector3(e.x || 0, e.y || 0, e.z || 0)
    }, n.Shape.Line.prototype.added = function (e) {
        var t = null;
        if (this.params.source instanceof String || "string" == typeof this.params.source ? t = this.params.source : this.params.source instanceof n.Shape && (t = this.params.source.params.id), null != t) {
            var r = _.find(e.shapes, function (e) {
                return e.params.id == t
            });
            null != r ? (r.attachments.push(this), this.children[0].geometry.vertices[0].set(r.params.x, r.params.y, r.params.z)) : console.log(this.params.id + " can't find " + t)
        }
        if (t = null, this.params.destination instanceof String || "string" == typeof this.params.destination ? t = this.params.destination : this.params.destination instanceof n.Shape && (t = this.params.destination.params.id), null != t) {
            var i = _.find(e.shapes, function (e) {
                return e.params.id == t
            });
            null != i ? (i.attachments.push(this), this.children[0].geometry.vertices[1].set(i.params.x, i.params.y, i.params.z)) : console.log(this.params.id + " can't find " + t)
        }
        var r = this.children[0].geometry.vertices[0], i = this.children[0].geometry.vertices[1];
        if (this.params.x = (r.x + i.x) / 2, this.params.y = (r.y + i.y) / 2, this.params.z = (r.z + i.z) / 2, r.x -= this.params.x, i.x -= this.params.x, r.y -= this.params.y, i.y -= this.params.y, r.z -= this.params.z, i.z -= this.params.z, this.children[0].geometry.verticesNeedUpdate = !0, this.params.showText) {
            var o = Math.atan2(i.y - r.y, i.x - r.x);
            this.params.angle = o;
            var s = this.children.length - 1;
            this.children[s].rotateOnAxis(a, o), this.children[s].position.x = -this.params.height / 8 * Math.sin(o), this.children[s].position.y = this.params.height / 8 * Math.cos(o)
        }
    }, n.Shape.Line.prototype.connectionMoved = function (e) {
        var t = this.getPosition(this.params.source, e), n = this.getPosition(this.params.destination, e);
        if (this.children[0].geometry.vertices[0].set(t.x, t.y, t.z), this.children[0].geometry.vertices[1].set(n.x, n.y, n.z), this.params.x = (t.x + n.x) / 2, this.params.y = (t.y + n.y) / 2, this.params.z = (t.z + n.z) / 2, this.position.set(this.params.x, this.params.y, this.params.z), t = this.children[0].geometry.vertices[0], n = this.children[0].geometry.vertices[1], t.x -= this.params.x, n.x -= this.params.x, t.y -= this.params.y, n.y -= this.params.y, t.z -= this.params.z, n.z -= this.params.z, this.children[0].geometry.verticesNeedUpdate = !0, this.params.showText) {
            var r = this.children.length - 1, i = Math.atan2(n.y - t.y, n.x - t.x);
            this.children[r].rotateOnAxis(a, i - this.params.angle), this.params.angle = i, this.children[r].position.x = -this.params.height / 8 * Math.sin(i), this.children[r].position.y = this.params.height / 8 * Math.cos(i)
        }
    }, n.Shape.Line.prototype.getPosition = function (e) {
        var t = null, r = null;
        if (e instanceof n.Shape)r = e; else if (!e instanceof String && "string" != typeof e)t = e; else var r = _.find(scene.shapes, function (t) {
            return t.params.id == e
        });
        if (null != r) {
            var t = new THREE.Vector3;
            t.x = r.params.x, t.y = r.params.y, t.z = r.params.z
        }
        return t
    }, n.Shape.Line.prototype.minX = function () {
        var e = this.children[0].geometry.vertices[0], t = this.children[0].geometry.vertices[1];
        return Math.min(e.x, t.x)
    }, n.Shape.Line.prototype.minY = function () {
        var e = this.children[0].geometry.vertices[0], t = this.children[0].geometry.vertices[1];
        return Math.min(e.x, t.x)
    }, n.Shape.Line.prototype.maxX = function () {
        var e = this.children[0].geometry.vertices[0], t = this.children[0].geometry.vertices[1];
        return Math.max(e.x, t.x)
    }, n.Shape.Line.prototype.maxY = function () {
        var e = this.children[0].geometry.vertices[0], t = this.children[0].geometry.vertices[1];
        return Math.max(e.x, t.x)
    }, n.Shape.Text = function (e) {
        n.Shape.call(this, e)
    }, n.inheritFrom(n.Shape.Text, n.Shape), n.Function.defineParams(n.Shape.Text, {
        shape: {
            description: "the shape type of this shape object",
            defaultValue: "Text",
            type: "String"
        }, scale: {description: "scale of the shape", defaultValue: 2, type: "Number"}
    }), n.Shape.Text.prototype.initialize = function (e) {
        if (e = this.params = n.Function.parseParams(e, n.Shape.Text.params), e.showText) {
            var t = "rgb(160, 160, 160)", r = (e.label, n.Three.instance.getTextMaterial(e.label, {
                size: e.fontSize,
                family: e.fontFamily,
                fontStyle: e.fontStyle,
                fillStyle: t,
                color: e.fontColor,
                width: 400,
                height: 400,
                valign: "middle",
                depthWrite: !1,
                depthTest: !1,
                transparent: !0,
                scale: e.scale,
                opacity: e.opacity
            })), i = new THREE.PlaneGeometry(100, 100), a = new THREE.Mesh(i, r);
            if (a.position.y = 0, a.position.z = 0, a.scale.set(e.scale, e.scale, 1), this.add(a), this.params.accentuable || this.params.highlightable || this.params.selectable) {
                var r = n.Three.instance.getTextMaterial(e.label, {
                    size: e.fontSize,
                    family: e.fontFamily,
                    fontStyle: e.fontStyle,
                    fillStyle: t,
                    color: e.fontColor,
                    width: 400,
                    height: 400,
                    valign: "middle",
                    depthWrite: !1,
                    depthTest: !1,
                    transparent: !0,
                    scale: e.scale,
                    shadowColor: "rgb(160, 160, 160)",
                    shadowBlur: 6,
                    shadowOffsetX: 6,
                    shadowOffsetY: 6,
                    opacity: .001
                });
                r.glow = !0, i = new THREE.PlaneGeometry(100, 100), a = new THREE.Mesh(i, r), a.scale.set(e.scale, e.scale, 1), a.position.z = 0, this.add(a)
            }
            var o = n.Three.instance.measureTextRaw(e.label, e.fontSize, e.fontFamily, 400);
            e.width = o.width, e.height = o.height
        }
    }, n.Shape.Text.prototype.containsPoint = function (e, t, n) {
        return Math.abs(this.params.x - e) <= this.params.width / 2 && Math.abs(this.params.y - t) <= this.params.height / 2 && Math.abs(this.params.z - n) < 10
    }, n.Shape.Text.prototype.minX = function () {
        return this.params.x - this.params.width / 2
    }, n.Shape.Text.prototype.minY = function () {
        return this.params.y - this.params.height / 2
    }, n.Shape.Text.prototype.maxX = function () {
        return this.params.x + this.params.width / 2
    }, n.Shape.Text.prototype.maxY = function () {
        return this.params.y + this.params.width / 2
    }
}(this);